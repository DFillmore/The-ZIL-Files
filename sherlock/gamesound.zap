	.NEW 5

	.BYTE 5
	.BYTE FLAGS
	.WORD RELEASEID
	.WORD ENDLOD
	.WORD START
	.WORD VOCAB
	.WORD OBJECT
	.WORD GLOBAL
	.WORD IMPURE
	.WORD FLAGS2
	.BYTE 0,0,0,0,0,0
	.WORD WORDS
	.WORD 0,0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD TCHARS
	.WORD 0
	.WORD 0
	.WORD CHRSET
	.WORD EXTAB
	.WORD 0
	.WORD 0
	.WORD 0
	.WORD 0
	.INSERT "gamesound_freq"
	.INSERT "gamesound_data"

	.DEBUG-ROUTINE 0,0,0,"RT-COPY-TIME","TBL1","TBL2"
	.FUNCT RT-COPY-TIME,TBL1,TBL2
	.DEBUG-LINE 1,96,1
	COPYT TBL1,TBL2,K-A-TWDTH
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NORM-TIME","TIME-TABLE","TEMP","M-LEN","?TMP"
	.FUNCT RT-NORM-TIME,TIME-TABLE,TEMP,M-LEN,?TMP
	.DEBUG-LINE 1,102,1
	GETB TIME-TABLE,K-SEC >TEMP
	.DEBUG-LINE 1,103,1
	MOD TEMP,60 >STACK
	PUTB TIME-TABLE,K-SEC,STACK
	.DEBUG-LINE 1,105,1
	DIV TEMP,60 >STACK
	GETB TIME-TABLE,K-MIN >STACK
	ADD STACK,STACK >TEMP
	.DEBUG-LINE 1,107,1
	MOD TEMP,60 >STACK
	PUTB TIME-TABLE,K-MIN,STACK
	.DEBUG-LINE 1,108,1
	DIV TEMP,60 >STACK
	GETB TIME-TABLE,K-HRS >STACK
	ADD STACK,STACK >TEMP
	.DEBUG-LINE 1,110,1
	MOD TEMP,24 >STACK
	PUTB TIME-TABLE,K-HRS,STACK
	.DEBUG-LINE 1,112,1
	GETB TIME-TABLE,K-DAY >?TMP
	DIV TEMP,24 >TEMP
	ADD ?TMP,TEMP >STACK
	PUTB TIME-TABLE,K-DAY,STACK
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DO-CLOCK-SET","TBL","HRS","MIN","SEC","DAY"
	.FUNCT RT-DO-CLOCK-SET,TBL,HRS,MIN,SEC,DAY
	ASSIGNED? 'DAY /?L1
	SET 'DAY,0
	.DEBUG-LINE 1,142,1
?L1:	PUTB TBL,K-SEC,SEC
	.DEBUG-LINE 1,143,1
	PUTB TBL,K-MIN,MIN
	.DEBUG-LINE 1,144,1
	PUTB TBL,K-HRS,HRS
	.DEBUG-LINE 1,145,1
	PUTB TBL,K-DAY,DAY
	.DEBUG-LINE 1,146,1
	RETURN TBL
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLOCK-INC","N"
	.FUNCT RT-CLOCK-INC,N
	.DEBUG-LINE 1,155,1
	ZERO? GL-CLOCK-WAIT /?L1
	.DEBUG-LINE 1,156,1
	SET 'GL-CLOCK-WAIT,0
	.DEBUG-LINE 1,157,1
	RFALSE
	.DEBUG-LINE 1,158,1
?L1:	ZERO? GL-CLOCK-STOP \FALSE
	.DEBUG-LINE 1,161,1
	SET 'N,0
	.DEBUG-LINE 1,162,1
?L5:	GETB GL-TIME-UPDT-INC,N >STACK
	GETB GL-TIME,N >STACK
	ADD STACK,STACK >STACK
	PUTB GL-TIME,N,STACK
	.DEBUG-LINE 1,165,1
	IGRTR? 'N,3 \?L5
	.DEBUG-LINE 1,168,1
	COPYT GL-TIME-UPDT-DEF,GL-TIME-UPDT-INC,K-A-TWDTH
	.DEBUG-LINE 1,170,1
	CALL2 RT-NORM-TIME,GL-TIME >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLOCK-CMP","HRS","MIN","SEC","DAY","TMP"
	.FUNCT RT-CLOCK-CMP,HRS,MIN,SEC,DAY,TMP
	ASSIGNED? 'DAY /?L14
	SET 'DAY,0
	.DEBUG-LINE 1,181,1
?L14:	ZERO? DAY /?L4
	.DEBUG-LINE 1,183,1
	GETB GL-TIME,K-DAY >TMP
	GRTR? DAY,TMP /TRUE
	.DEBUG-LINE 1,185,1
	LESS? DAY,TMP \?L4
	.DEBUG-LINE 1,186,1
	RETURN -1
	.DEBUG-LINE 1,187,1
?L4:	GETB GL-TIME,K-HRS >TMP
	GRTR? HRS,TMP /TRUE
	.DEBUG-LINE 1,189,1
	LESS? HRS,TMP \?L8
	.DEBUG-LINE 1,190,1
	RETURN -1
	.DEBUG-LINE 1,191,1
?L8:	GETB GL-TIME,K-MIN >TMP
	GRTR? MIN,TMP /TRUE
	.DEBUG-LINE 1,193,1
	LESS? MIN,TMP \?L10
	.DEBUG-LINE 1,194,1
	RETURN -1
	.DEBUG-LINE 1,195,1
?L10:	GETB GL-TIME,K-SEC >TMP
	GRTR? SEC,TMP /TRUE
	.DEBUG-LINE 1,197,1
	LESS? SEC,TMP \FALSE
	.DEBUG-LINE 1,198,1
	RETURN -1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLOCK-JMP","HRS","MIN","SEC","DAY"
	.FUNCT RT-CLOCK-JMP,HRS,MIN,SEC,DAY
	ASSIGNED? 'DAY /?L4
	SET 'DAY,0
	.DEBUG-LINE 1,205,1
?L4:	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,HRS,MIN,SEC,DAY
	.DEBUG-LINE 1,206,1
	ICALL1 RT-CLOCK-INC
	.DEBUG-LINE 1,208,1
	EQUAL? GL-PRSA,V?WAIT,V?WAIT-FOR \?L1
	PUSH 2
	JUMP ?L3
?L1:	PUSH 1
?L3:	ICALL2 RT-ALARM-CHK,STACK
	.DEBUG-LINE 1,211,1
	SET 'GL-CLOCK-WAIT,1
	RETURN GL-CLOCK-WAIT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLK-NTI-MSG","FMT","HRS","MIN","SEC","MSD","MER","AM-PM?"
	.FUNCT RT-CLK-NTI-MSG,FMT,HRS,MIN,SEC,MSD,MER,AM-PM?
	ASSIGNED? 'FMT /?L45
	SET 'FMT,7
?L45:	SET 'AM-PM?,0
	.DEBUG-LINE 1,217,1
	GETB GL-TIME,K-HRS >HRS
	.DEBUG-LINE 1,218,1
	GETB GL-TIME,K-MIN >MIN
	.DEBUG-LINE 1,219,1
	GETB GL-TIME,K-SEC >SEC
	.DEBUG-LINE 1,220,1
	BTST FMT,K-NTI-HH \?L1
	.DEBUG-LINE 1,221,1
	BTST FMT,K-NTI-MT \?L3
	.DEBUG-LINE 1,222,1
	SET 'MSD,STR?98
	JUMP ?L8
	.DEBUG-LINE 1,223,1
?L3:	ZERO? HRS \?L5
	.DEBUG-LINE 1,224,1
	ADD HRS,12 >HRS
	.DEBUG-LINE 1,225,1
	SET 'MSD,STR?99
	.DEBUG-LINE 1,226,1
	SET 'AM-PM?,1
	JUMP ?L8
	.DEBUG-LINE 1,227,1
?L5:	LESS? HRS,12 \?L6
	.DEBUG-LINE 1,228,1
	SET 'MSD,STR?99
	.DEBUG-LINE 1,229,1
	SET 'AM-PM?,1
	JUMP ?L8
	.DEBUG-LINE 1,230,1
?L6:	EQUAL? HRS,12 \?L7
	.DEBUG-LINE 1,231,1
	SET 'MSD,STR?99
	.DEBUG-LINE 1,232,1
	SET 'AM-PM?,2
	JUMP ?L8
	.DEBUG-LINE 1,234,1
?L7:	SUB HRS,12 >HRS
	.DEBUG-LINE 1,235,1
	SET 'MSD,STR?99
	.DEBUG-LINE 1,236,1
	SET 'AM-PM?,2
	.DEBUG-LINE 1,237,1
?L8:	EQUAL? AM-PM?,1 \?L9
	.DEBUG-LINE 1,238,1
	BTST FMT,K-NTI-SM \?L11
	.DEBUG-LINE 1,239,1
	SET 'MER,STR?100
	JUMP ?L18
	.DEBUG-LINE 1,241,1
?L11:	SET 'MER,STR?101
	JUMP ?L18
	.DEBUG-LINE 1,242,1
?L9:	EQUAL? AM-PM?,2 \?L14
	.DEBUG-LINE 1,243,1
	BTST FMT,K-NTI-SM \?L15
	.DEBUG-LINE 1,244,1
	SET 'MER,STR?102
	JUMP ?L18
	.DEBUG-LINE 1,246,1
?L15:	SET 'MER,STR?103
	JUMP ?L18
	.DEBUG-LINE 1,248,1
?L14:	SET 'MER,STR?99
	.DEBUG-LINE 1,249,1
?L18:	LESS? HRS,10 \?L19
	.DEBUG-LINE 1,250,1
	PRINT MSD
	.DEBUG-LINE 1,251,1
?L19:	PRINTN HRS
	.DEBUG-LINE 1,252,1
?L1:	BTST FMT,K-NTI-MM \?L23
	.DEBUG-LINE 1,253,1
	BTST FMT,K-NTI-HH \?L25
	.DEBUG-LINE 1,254,1
	PRINTI ":"
	.DEBUG-LINE 1,255,1
?L25:	LESS? MIN,10 \?L28
	.DEBUG-LINE 1,256,1
	PRINTI "0"
	.DEBUG-LINE 1,257,1
?L28:	PRINTN MIN
	.DEBUG-LINE 1,258,1
?L23:	BTST FMT,K-NTI-SS \?L32
	.DEBUG-LINE 1,259,1
	BTST FMT,K-NTI-HH /?L36
	BTST FMT,K-NTI-MM \?L34
	.DEBUG-LINE 1,261,1
?L36:	PRINTI ":"
	.DEBUG-LINE 1,262,1
?L34:	LESS? SEC,10 \?L38
	.DEBUG-LINE 1,263,1
	PRINTI "0"
	.DEBUG-LINE 1,264,1
?L38:	PRINTN SEC
	.DEBUG-LINE 1,265,1
?L32:	BTST FMT,K-NTI-HH \FALSE
	.DEBUG-LINE 1,266,1
	PRINT MER
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLK-DOW-MSG","FMT","DOW","WDOW"
	.FUNCT RT-CLK-DOW-MSG,FMT,DOW,WDOW
	ASSIGNED? 'FMT /?L8
	SET 'FMT,1
	.DEBUG-LINE 1,271,1
?L8:	GETB GL-TIME,K-DAY >STACK
	SUB STACK,K-DOW-BASE >STACK
	MOD STACK,7 >DOW
	.DEBUG-LINE 1,272,1
	BTST FMT,K-DOW-DW \FALSE
	.DEBUG-LINE 1,273,1
	BTST FMT,K-DOW-EN \?L3
	.DEBUG-LINE 1,274,1
	ADD DOW,14 >STACK
	GET GL-DAY-NAME,STACK >WDOW
	JUMP ?L6
	.DEBUG-LINE 1,275,1
?L3:	BTST FMT,K-DOW-SN \?L5
	.DEBUG-LINE 1,276,1
	ADD DOW,7 >STACK
	GET GL-DAY-NAME,STACK >WDOW
	JUMP ?L6
	.DEBUG-LINE 1,278,1
?L5:	GET GL-DAY-NAME,DOW >WDOW
	.DEBUG-LINE 1,279,1
?L6:	PRINT WDOW
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALARM-SET?","RTN","R-PTR","T-PTR"
	.FUNCT RT-ALARM-SET?,RTN,R-PTR,T-PTR
	SET 'R-PTR,0
	.DEBUG-LINE 1,287,1
?L1:	EQUAL? R-PTR,K-A-RSIZE /FALSE
	.DEBUG-LINE 1,289,1
	GET GL-A-ROUT,R-PTR >STACK
	EQUAL? RTN,STACK \?L5
	.DEBUG-LINE 1,290,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,291,1
	ADD GL-A-TIME,T-PTR >STACK
	ICALL RT-COPY-TIME,STACK,GL-TIME-PARM
	.DEBUG-LINE 1,292,1
	RTRUE
	.DEBUG-LINE 1,294,1
?L5:	INC 'R-PTR
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALARM-SET-REL","RTN","TIME","R-PTR","T-PTR","N"
	.FUNCT RT-ALARM-SET-REL,RTN,TIME,R-PTR,T-PTR,N
	SET 'R-PTR,0
	.DEBUG-LINE 1,300,1
?L1:	EQUAL? R-PTR,K-A-RSIZE \?L3
	.DEBUG-LINE 1,301,1
	CRLF
	PRINTI "*** TOO MANY ALARMS (REL) ***"
	CRLF
	CRLF
	.DEBUG-LINE 1,302,1
	RFALSE
	.DEBUG-LINE 1,306,1
?L3:	GET GL-A-ROUT,R-PTR >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 1,307,1
	PUT GL-A-ROUT,R-PTR,RTN
	.DEBUG-LINE 1,308,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,309,1
	ZERO? GL-ALARM-EXEC /?L8
	.DEBUG-LINE 1,310,1
	SET 'N,0
	.DEBUG-LINE 1,311,1
?L10:	GETB TIME,N >STACK
	GETB GL-TIME,N >STACK
	ADD STACK,STACK >STACK
	ADD T-PTR,N >STACK
	PUTB GL-A-TIME,STACK,STACK
	.DEBUG-LINE 1,314,1
	IGRTR? 'N,3 \?L10
	.DEBUG-LINE 1,316,1
	JUMP ?L17
	.DEBUG-LINE 1,318,1
?L8:	SET 'N,0
	.DEBUG-LINE 1,319,1
?L16:	GETB GL-TIME-UPDT-INC,N >STACK
	GETB TIME,N >STACK
	GETB GL-TIME,N >STACK
	ADD STACK,STACK >STACK
	ADD STACK,STACK >STACK
	ADD T-PTR,N >STACK
	PUTB GL-A-TIME,STACK,STACK
	.DEBUG-LINE 1,323,1
	IGRTR? 'N,3 \?L16
	.DEBUG-LINE 1,326,1
?L17:	ADD GL-A-TIME,T-PTR >STACK
	ICALL2 RT-NORM-TIME,STACK
	.DEBUG-LINE 1,327,1
	RTRUE
	.DEBUG-LINE 1,329,1
?L6:	INC 'R-PTR
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALARM-SET-ABS","RTN","TIME","R-PTR","T-PTR"
	.FUNCT RT-ALARM-SET-ABS,RTN,TIME,R-PTR,T-PTR
	SET 'R-PTR,0
	.DEBUG-LINE 1,335,1
?L1:	EQUAL? R-PTR,K-A-RSIZE \?L3
	.DEBUG-LINE 1,336,1
	CRLF
	PRINTI "*** TOO MANY (ABS) ALARMS ***"
	CRLF
	CRLF
	.DEBUG-LINE 1,337,1
	RFALSE
	.DEBUG-LINE 1,341,1
?L3:	GET GL-A-ROUT,R-PTR >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 1,342,1
	PUT GL-A-ROUT,R-PTR,RTN
	.DEBUG-LINE 1,343,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,344,1
	ADD GL-A-TIME,T-PTR >STACK
	COPYT TIME,STACK,K-A-TWDTH
	.DEBUG-LINE 1,345,1
	RTRUE
	.DEBUG-LINE 1,347,1
?L6:	INC 'R-PTR
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALARM-CLR","RTN","R-PTR","T-PTR"
	.FUNCT RT-ALARM-CLR,RTN,R-PTR,T-PTR
	SET 'R-PTR,0
	.DEBUG-LINE 1,353,1
?L1:	EQUAL? R-PTR,K-A-RSIZE /FALSE
	.DEBUG-LINE 1,355,1
	GET GL-A-ROUT,R-PTR >STACK
	EQUAL? RTN,STACK \?L5
	.DEBUG-LINE 1,356,1
	PUT GL-A-ROUT,R-PTR,0
	.DEBUG-LINE 1,357,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,358,1
	ADD GL-A-TIME,T-PTR >STACK
	COPYT STACK,0,K-A-TWDTH
	.DEBUG-LINE 1,359,1
?L5:	INC 'R-PTR
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALARM-CHK","PARM","VAL","RTN","R-PTR","R-CNT","T-PTR","HRS","MIN","SEC","DAY","T-TIME"
	.FUNCT RT-ALARM-CHK,PARM,VAL,RTN,R-PTR,R-CNT,T-PTR,HRS,MIN,SEC,DAY,T-TIME
	ASSIGNED? 'PARM /?L49
	SET 'PARM,0
?L49:	SET 'RTN,-1
	SET 'R-PTR,0
	SET 'R-CNT,0
	.DEBUG-LINE 1,368,1
	SET 'RUN-SMELL-ETHERIUM?,0
	.DEBUG-LINE 1,369,1
	ZERO? GL-ALARM-WAIT /?L1
	.DEBUG-LINE 1,370,1
	SET 'GL-ALARM-WAIT,0
	.DEBUG-LINE 1,371,1
	RFALSE
	.DEBUG-LINE 1,372,1
?L1:	ZERO? GL-ALARM-STOP \FALSE
	.DEBUG-LINE 1,374,1
	ICALL RT-COPY-TIME,GL-TIME,GL-TEMP-TIME
	.DEBUG-LINE 1,376,1
?L5:	EQUAL? R-PTR,K-A-RSIZE \?L14
	.DEBUG-LINE 1,377,1
	EQUAL? RTN,-1 \?L9
	.DEBUG-LINE 1,378,1
	ZERO? RUN-SMELL-ETHERIUM? \?L51
	.DEBUG-LINE 1,379,1
	RETURN R-CNT
	.DEBUG-LINE 1,382,1
?L9:	SET 'R-PTR,RTN
	.DEBUG-LINE 1,383,1
	GET GL-A-ROUT,R-PTR >RTN
	.DEBUG-LINE 1,384,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,385,1
	PUT GL-A-ROUT,R-PTR,0
	.DEBUG-LINE 1,386,1
	ADD GL-A-TIME,T-PTR >T-TIME
	.DEBUG-LINE 1,387,1
	GETB T-TIME,K-SEC >SEC
	.DEBUG-LINE 1,388,1
	GETB T-TIME,K-MIN >MIN
	.DEBUG-LINE 1,389,1
	GETB T-TIME,K-HRS >HRS
	.DEBUG-LINE 1,390,1
	GETB T-TIME,K-DAY >DAY
	.DEBUG-LINE 1,391,1
	COPYT T-TIME,0,K-A-TWDTH
	.DEBUG-LINE 1,392,1
	FSET? CH-PLAYER,FL-ASLEEP /?L15
	.DEBUG-LINE 1,393,1
	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 1,394,1
?L15:	SET 'GL-ALARM-EXEC,1
	.DEBUG-LINE 1,395,1
	CALL1 RTN >VAL
	.DEBUG-LINE 1,396,1
	ZERO? RUN-SMELL-ETHERIUM? \?L51
	.DEBUG-LINE 1,397,1
	SET 'GL-ALARM-EXEC,0
	.DEBUG-LINE 1,398,1
	ICALL RT-COPY-TIME,GL-TEMP-TIME,GL-TIME
	.DEBUG-LINE 1,399,1
	INC 'R-CNT
	.DEBUG-LINE 1,401,1
	ZERO? VAL /?L27
	XCALL RT-CLOCK-CMP,HRS,MIN,SEC,DAY >STACK
	EQUAL? STACK,-1 \?L27
	.DEBUG-LINE 1,404,1
	EQUAL? PARM,1 \?L23
	.DEBUG-LINE 1,405,1
	PRINTI "[Press any key to continue.]"
	CRLF
	.DEBUG-LINE 1,406,1
	INPUT 1 >STACK
	JUMP ?L27
	.DEBUG-LINE 1,407,1
?L23:	EQUAL? PARM,2 \?L27
	.DEBUG-LINE 1,409,1
?L26:	CRLF
	PRINTI "Do you want to continue waiting?"
	CRLF
	PRINTI "Please press Y or N > "
	.DEBUG-LINE 1,412,1
	INPUT 1 >VAL
	.DEBUG-LINE 1,413,1
	PRINTC VAL
	.DEBUG-LINE 1,414,1
	CRLF
	.DEBUG-LINE 1,416,1
	EQUAL? VAL,78,110 \?L28
	.DEBUG-LINE 1,417,1
	SET 'RTN,-1
	.DEBUG-LINE 1,418,1
	SET 'R-PTR,K-A-RSIZE
	.DEBUG-LINE 1,419,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME,HRS,MIN,SEC,DAY
	.DEBUG-LINE 1,421,1
	JUMP ?L27
	.DEBUG-LINE 1,422,1
?L28:	EQUAL? VAL,89,121 \?L26
	.DEBUG-LINE 1,425,1
?L27:	EQUAL? RTN,-1 /?L5
	.DEBUG-LINE 1,427,1
	SET 'RTN,-1
	.DEBUG-LINE 1,428,1
	SET 'R-PTR,0
	.DEBUG-LINE 1,429,1
	JUMP ?L5
	.DEBUG-LINE 1,430,1
?L14:	GET GL-A-ROUT,R-PTR >STACK
	ZERO? STACK /?L40
	.DEBUG-LINE 1,431,1
	MUL R-PTR,K-A-TWDTH >T-PTR
	.DEBUG-LINE 1,432,1
	ADD T-PTR,K-SEC >STACK
	GETB GL-A-TIME,STACK >SEC
	.DEBUG-LINE 1,433,1
	ADD T-PTR,K-MIN >STACK
	GETB GL-A-TIME,STACK >MIN
	.DEBUG-LINE 1,434,1
	ADD T-PTR,K-HRS >STACK
	GETB GL-A-TIME,STACK >HRS
	.DEBUG-LINE 1,435,1
	ADD T-PTR,K-DAY >STACK
	GETB GL-A-TIME,STACK >DAY
	.DEBUG-LINE 1,436,1
	ZERO? PARM /?L50
	XCALL RT-CLOCK-CMP,HRS,MIN,SEC,DAY >STACK
	EQUAL? STACK,-1 /?L42
	ZERO? PARM \?L40
?L50:	XCALL RT-CLOCK-CMP,HRS,MIN,SEC,DAY >STACK
	EQUAL? STACK,-1,0 \?L40
	.DEBUG-LINE 1,442,1
?L42:	IXCALL RT-DO-CLOCK-SET,GL-TIME,HRS,MIN,SEC,DAY
	.DEBUG-LINE 1,443,1
	SET 'RTN,R-PTR
	.DEBUG-LINE 1,444,1
?L40:	INC 'R-PTR
	JUMP ?L5
	.DEBUG-LINE 1,446,1
?L51:	ICALL1 RT-SMELL-ETHERIUM?
	.DEBUG-LINE 1,447,1
	RETURN R-CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-META-IN?","OBJ1","OBJ2"
	.FUNCT RT-META-IN?,OBJ1,OBJ2
	.DEBUG-LINE 2,3,1
?L1:	ZERO? OBJ1 /FALSE
	IN? OBJ1,ROOMS /FALSE
	IN? OBJ1,LOCAL-GLOBALS /FALSE
	.DEBUG-LINE 2,7,1
	EQUAL? OBJ1,OBJ2 /TRUE
	.DEBUG-LINE 2,9,1
	LOC OBJ1 >OBJ1
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SEE-INSIDE?","THING"
	.FUNCT RT-SEE-INSIDE?,THING
	.DEBUG-LINE 2,12,1
	ZERO? THING /FALSE
	.DEBUG-LINE 2,14,1
	FSET? THING,FL-SURFACE /TRUE
	.DEBUG-LINE 2,16,1
	FSET? THING,FL-CONTAINER \?L4
	FSET? THING,FL-OPENED /TRUE
	FSET? THING,FL-TRANSPARENT /TRUE
	.DEBUG-LINE 2,23,1
?L4:	FSET? THING,FL-PERSON /?L7
	FSET? THING,FL-ALIVE \FALSE
?L7:	EQUAL? THING,CH-PLAYER /FALSE
	.DEBUG-LINE 2,26,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-VISIBLE?","OBJ"
	.FUNCT RT-VISIBLE?,OBJ
	.DEBUG-LINE 2,31,1
	CALL RT-ACCESSIBLE?,OBJ,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"CLOSED?","WLOC","VISIBLE?"
	.FUNCT CLOSED?,WLOC,VISIBLE?
	.DEBUG-LINE 2,36,1
	ZERO? WLOC /FALSE
	FSET? WLOC,FL-OPENED /FALSE
	ZERO? VISIBLE? /?L3
	FSET? WLOC,FL-TRANSPARENT /FALSE
?L3:	FSET? WLOC,FL-SURFACE /FALSE
	FSET? WLOC,FL-ALIVE /FALSE
	IN? WLOC,ROOMS \TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ACCESSIBLE?","OBJ","VISIBLE?","LOC","OLOC","WLOC","RMG","RMGL"
	.FUNCT RT-ACCESSIBLE?,OBJ,VISIBLE?,LOC,OLOC,WLOC,RMG,RMGL
	ASSIGNED? 'VISIBLE? /?L41
	SET 'VISIBLE?,0
?L41:	GETPT GL-PLACE-CUR,P?GLOBAL >RMG
	PTSIZE RMG >RMGL
	.DEBUG-LINE 2,48,1
	ZERO? OBJ \?L1
	.DEBUG-LINE 2,49,1
	SET 'GL-CLOSED-OBJECT,0
	.DEBUG-LINE 2,50,1
	RFALSE
	.DEBUG-LINE 2,51,1
?L1:	EQUAL? OBJ,ROOMS /TRUE
	.DEBUG-LINE 2,53,1
	EQUAL? OBJ,PSEUDO-OBJECT \?L4
	.DEBUG-LINE 2,54,1
	EQUAL? LAST-PSEUDO-LOC,GL-PLACE-CUR \FALSE
	RTRUE
	.DEBUG-LINE 2,56,1
?L4:	LOC GL-WINNER >WLOC
	.DEBUG-LINE 2,58,1
?L8:	IN? WLOC,ROOMS /?L9
	CALL CLOSED?,WLOC,VISIBLE? >STACK
	ZERO? STACK \?L9
	.DEBUG-LINE 2,62,1
	LOC WLOC >WLOC
	JUMP ?L8
	.DEBUG-LINE 2,65,1
?L9:	SET 'OLOC,OBJ
	.DEBUG-LINE 2,66,1
	EQUAL? OLOC,WLOC /TRUE
	.DEBUG-LINE 2,68,1
?L13:	ZERO? OLOC /FALSE
	.DEBUG-LINE 2,70,1
	IN? OLOC,GLOBAL-OBJECTS /?L23
	INTBL? OLOC,RMG,RMGL,1 >STACK \?L21
	.DEBUG-LINE 2,72,1
?L23:	IN? OLOC,ROOMS \TRUE
	EQUAL? OLOC,OBJ /TRUE
	.DEBUG-LINE 2,74,1
	RFALSE
	.DEBUG-LINE 2,76,1
?L21:	IN? OLOC,ROOMS /FALSE
	.DEBUG-LINE 2,78,1
	LOC OLOC >OLOC
	EQUAL? OLOC,WLOC /TRUE
	.DEBUG-LINE 2,80,1
	CALL CLOSED?,OLOC,VISIBLE? >STACK
	ZERO? STACK /?L13
	.DEBUG-LINE 2,81,1
	IN? OLOC,GLOBAL-OBJECTS /TRUE
	INTBL? OLOC,RMG,RMGL,1 >STACK /TRUE
	.DEBUG-LINE 2,85,1
	SET 'GL-CLOSED-OBJECT,OLOC
	.DEBUG-LINE 2,86,1
	SET 'GL-IN-OUT,1
	.DEBUG-LINE 2,87,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DONT-ALL?","O","I","L"
	.FUNCT RT-DONT-ALL?,O,I,L
	.DEBUG-LINE 2,143,1
	LOC O >L
	.DEBUG-LINE 2,144,1
	ZERO? L /TRUE
	EQUAL? O,I /TRUE
	.DEBUG-LINE 2,147,1
	FSET? O,FL-BODYPART /TRUE
	.DEBUG-LINE 2,149,1
	FSET? O,FL-NOALL /TRUE
	.DEBUG-LINE 2,151,1
	EQUAL? GL-PRSA,V?TAKE \?L6
	.DEBUG-LINE 2,152,1
	ZERO? I \?L7
	CALL RT-META-IN?,O,GL-WINNER >STACK
	ZERO? STACK /?L7
	IN? O,GL-WINNER /TRUE
	GET GL-P-NAMW,0 >STACK
	ZERO? STACK /TRUE
	GET GL-P-BUTS,K-P-MATCHLEN >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 2,160,1
?L7:	FSET? O,FL-TAKEABLE /?L10
	FSET? O,FL-TRYTAKE \TRUE
	.DEBUG-LINE 2,163,1
?L10:	FSET? L,FL-PERSON \?L11
	EQUAL? L,I \TRUE
	.DEBUG-LINE 2,166,1
?L11:	FSET? L,FL-CONTAINER \?L12
	FSET? L,FL-OPENED \TRUE
	.DEBUG-LINE 2,169,1
?L12:	ZERO? I /?L13
	.DEBUG-LINE 2,170,1
	EQUAL? L,I \TRUE
	.DEBUG-LINE 2,172,1
	CALL2 RT-SEE-INSIDE?,I >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 2,173,1
	RFALSE
	.DEBUG-LINE 2,176,1
?L13:	EQUAL? L,GL-PLACE-CUR /FALSE
	CALL2 RT-SEE-INSIDE?,L >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 2,178,1
	RFALSE
	.DEBUG-LINE 2,181,1
?L6:	EQUAL? GL-PRSA,V?DROP,V?PUT,V?PUT-ON /?L22
	EQUAL? GL-PRSA,V?THROW,V?THROW-OVER \FALSE
	.DEBUG-LINE 2,182,1
?L22:	EQUAL? O,TH-POCKET /TRUE
	.DEBUG-LINE 2,184,1
	EQUAL? L,TH-POCKET /TRUE
	.DEBUG-LINE 2,186,1
	FSET? O,FL-WORN /TRUE
	.DEBUG-LINE 2,188,1
	EQUAL? L,GL-WINNER \TRUE
	.DEBUG-LINE 2,189,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"DPRINT","O","X"
	.FUNCT DPRINT,O,X
	.DEBUG-LINE 2,198,1
	FSET? O,FL-HAS-SDESC \?L1
	GETP O,P?ACTION >X
	ZERO? X /?L1
	.DEBUG-LINE 2,200,1
	CALL2 X,K-M-SDESC >STACK
	RSTACK
	.DEBUG-LINE 2,202,1
?L1:	PRINTD O
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-A-PRINT","O"
	.FUNCT RT-A-PRINT,O
	ASSIGNED? 'O /?L1
	SET 'O,0
	.DEBUG-LINE 2,205,1
?L1:	ICALL RT-THEO-PRINT,O,0,K-DESC-A
	.DEBUG-LINE 2,206,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THEO-PRINT","O","CAP?","CLASS"
	.FUNCT RT-THEO-PRINT,O,CAP?,CLASS
	ASSIGNED? 'O /?L33
	SET 'O,0
?L33:	ASSIGNED? 'CAP? /?L34
	SET 'CAP?,0
?L34:	ASSIGNED? 'CLASS /?L35
	SET 'CLASS,K-DESC-THE
	.DEBUG-LINE 2,209,1
?L35:	ZERO? O \?L1
	.DEBUG-LINE 2,210,1
	SET 'O,GL-PRSO
	.DEBUG-LINE 2,211,1
?L1:	ZERO? CAP? /?L4
	.DEBUG-LINE 2,212,1
	DIROUT K-D-SCR-OFF
	.DEBUG-LINE 2,213,1
	DIROUT K-D-TBL-ON,GL-DIROUT-TBL
	.DEBUG-LINE 2,215,1
?L4:	FSET? O,FL-NOARTC /?L9
	.DEBUG-LINE 2,216,1
	FSET? O,FL-YOUR \?L11
	.DEBUG-LINE 2,217,1
	PRINTI "your"
	JUMP ?L20
	.DEBUG-LINE 2,218,1
?L11:	EQUAL? CLASS,K-DESC-ANY \?L13
	.DEBUG-LINE 2,219,1
	PRINTI "any"
	JUMP ?L20
	.DEBUG-LINE 2,220,1
?L13:	EQUAL? CLASS,K-DESC-THE /?L15
	FSET? O,FL-PLURAL \?L16
	FSET? O,FL-PERSON \?L14
	.DEBUG-LINE 2,223,1
?L15:	PRINTI "the"
	JUMP ?L20
	.DEBUG-LINE 2,224,1
?L14:	FSET? O,FL-PLURAL \?L16
	FSET? O,FL-PERSON /?L16
	.DEBUG-LINE 2,226,1
	PRINTI "some"
	JUMP ?L20
	.DEBUG-LINE 2,227,1
?L16:	EQUAL? O,LG-WATER /?L20
	.DEBUG-LINE 2,228,1
	FSET? O,FL-VOWEL \?L18
	.DEBUG-LINE 2,229,1
	PRINTI "an"
	JUMP ?L20
	.DEBUG-LINE 2,231,1
?L18:	PRINTI "a"
	.DEBUG-LINE 2,232,1
?L20:	PRINTC 32
	JUMP ?L22
	.DEBUG-LINE 2,233,1
?L9:	FSET? O,FL-HAS-SDESC \?L22
	.DEBUG-LINE 2,235,1
	GETP O,P?ACTION >STACK
	ICALL STACK,K-M-SDESC,CLASS
	.DEBUG-LINE 2,236,1
	JUMP ?L26
	.DEBUG-LINE 2,237,1
?L22:	EQUAL? O,CH-ME \?L24
	ZERO? CAP? /?L24
	.DEBUG-LINE 2,238,1
	PRINTI "you"
	JUMP ?L26
	.DEBUG-LINE 2,240,1
?L24:	ICALL2 DPRINT,O
	.DEBUG-LINE 2,241,1
?L26:	ZERO? CAP? /TRUE
	.DEBUG-LINE 2,242,1
	DIROUT K-D-TBL-OFF
	.DEBUG-LINE 2,243,1
	DIROUT K-D-SCR-ON
	.DEBUG-LINE 2,244,1
	GETB GL-DIROUT-TBL,2 >CAP?
	LESS? CAP?,97 /?L29
	GRTR? CAP?,122 /?L29
	.DEBUG-LINE 2,246,1
	SUB CAP?,32 >STACK
	PUTB GL-DIROUT-TBL,2,STACK
	.DEBUG-LINE 2,247,1
?L29:	GET GL-DIROUT-TBL,0 >STACK
	PRINTT GL-DIROUT-TBL+2,STACK
	.DEBUG-LINE 2,248,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CTHEO-PRINT","O"
	.FUNCT RT-CTHEO-PRINT,O
	ASSIGNED? 'O /?L1
	SET 'O,0
	.DEBUG-LINE 2,251,1
?L1:	CALL RT-THEO-PRINT,O,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THEI-PRINT","I"
	.FUNCT RT-THEI-PRINT,I
	ASSIGNED? 'I /?L4
	SET 'I,0
	.DEBUG-LINE 2,254,1
?L4:	ZERO? I \?L1
	.DEBUG-LINE 2,255,1
	SET 'I,GL-PRSI
	.DEBUG-LINE 2,256,1
?L1:	CALL2 RT-THEO-PRINT,I >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CTHEI-PRINT","I"
	.FUNCT RT-CTHEI-PRINT,I
	ASSIGNED? 'I /?L4
	SET 'I,0
	.DEBUG-LINE 2,259,1
?L4:	ZERO? I \?L1
	.DEBUG-LINE 2,260,1
	SET 'I,GL-PRSI
	.DEBUG-LINE 2,261,1
?L1:	CALL RT-THEO-PRINT,I,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PRINT-SPACES","N","AMT"
	.FUNCT RT-PRINT-SPACES,N,AMT
	.DEBUG-LINE 2,266,1
?L1:	GRTR? N,GL-BLANKS-LEN \?L3
	.DEBUG-LINE 2,267,1
	SET 'AMT,GL-BLANKS-LEN
	JUMP ?L5
	.DEBUG-LINE 2,269,1
?L3:	SET 'AMT,N
	.DEBUG-LINE 2,270,1
?L5:	PRINTT GL-BLANKS,AMT
	.DEBUG-LINE 2,271,1
	SUB N,AMT >N
	GRTR? N,0 /?L1
	.DEBUG-LINE 2,272,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"SAY-NUMBER","N","X"
	.FUNCT SAY-NUMBER,N,X
	.DEBUG-LINE 2,275,1
	SET 'X,10000
	.DEBUG-LINE 2,276,1
?L1:	LESS? N,X \?L2
	.DEBUG-LINE 2,277,1
	PRINTI " "
	.DEBUG-LINE 2,280,1
	DIV X,10 >X
	LESS? X,10 \?L1
	.DEBUG-LINE 2,282,1
?L2:	PRINTN N
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-UPDATE-STATUS-LINE"
	.FUNCT RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 2,285,1
	GET 0,8 >STACK
	BTST STACK,4 \?L1
	.DEBUG-LINE 2,286,1
	ICALL2 RT-INIT-SCREEN,1
	.DEBUG-LINE 2,287,1
	GET 0,8 >STACK
	BAND STACK,-5 >STACK
	PUT 0,8,STACK
	.DEBUG-LINE 2,288,1
?L1:	SCREEN K-S-WIN
	.DEBUG-LINE 2,289,1
	HLIGHT K-H-INV
	.DEBUG-LINE 2,290,1
	EQUAL? GL-PLACE-CUR,GL-PLACE-STS /?L11
	.DEBUG-LINE 2,291,1
	ZERO? GL-SHORT-STAT? /?L6
	.DEBUG-LINE 2,292,1
	CURSET GL-SPLIT-ROW,1
	JUMP ?L8
	.DEBUG-LINE 2,294,1
?L6:	CURSET GL-SPLIT-ROW,2
	.DEBUG-LINE 2,295,1
?L8:	ICALL2 RT-PRINT-SPACES,GL-STAT-MAX-ROOM
	.DEBUG-LINE 2,296,1
	CURSET GL-SPLIT-ROW,2
	.DEBUG-LINE 2,297,1
	CALL RT-SAY-ROOM-NAME-IF-LIT,GL-PLACE-CUR,0,1 >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 2,298,1
	SET 'GL-PLACE-STS,GL-PLACE-CUR
	JUMP ?L11
	.DEBUG-LINE 2,300,1
?L9:	SET 'GL-PLACE-STS,-1
	.DEBUG-LINE 2,301,1
?L11:	EQUAL? GL-SCORE-CUR,GL-SCORE-STS /?L13
	.DEBUG-LINE 2,302,1
	SET 'GL-SCORE-STS,GL-SCORE-CUR
	.DEBUG-LINE 2,303,1
	ADD GL-SCORE-HEADER-LEN,GL-STAT-S-POS >STACK
	CURSET GL-SPLIT-ROW,STACK
	.DEBUG-LINE 2,304,1
	ICALL2 SAY-NUMBER,GL-SCORE-CUR
	.DEBUG-LINE 2,305,1
?L13:	CURSET GL-SPLIT-ROW,GL-STAT-T-POS
	.DEBUG-LINE 2,306,1
	ZERO? GL-SHORT-STAT? /?L16
	.DEBUG-LINE 2,307,1
	ICALL2 RT-CLK-DOW-MSG,3
	.DEBUG-LINE 2,308,1
	PRINTI " "
	.DEBUG-LINE 2,309,1
	ICALL2 RT-CLK-NTI-MSG,22
	JUMP ?L18
	.DEBUG-LINE 2,311,1
?L16:	ICALL2 RT-CLK-DOW-MSG,5
	.DEBUG-LINE 2,312,1
	ADD 10,GL-STAT-T-POS >STACK
	CURSET GL-SPLIT-ROW,STACK
	.DEBUG-LINE 2,313,1
	ICALL2 RT-CLK-NTI-MSG,7
	.DEBUG-LINE 2,314,1
?L18:	HLIGHT K-H-NRM
	.DEBUG-LINE 2,315,1
	SCREEN K-S-NOR
	.DEBUG-LINE 2,316,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-REFER-TO-MSG"
	.FUNCT RT-REFER-TO-MSG
	.DEBUG-LINE 2,319,1
	.DEBUG-LINE 2,320,1
	PRINTR "[To what are you referring?]"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-ROOM-NAME-IF-LIT","HERE","FORCE?","SL?","LEN","MAXLEN","LC","X","CNT"
	.FUNCT RT-SAY-ROOM-NAME-IF-LIT,HERE,FORCE?,SL?,LEN,MAXLEN,LC,X,CNT
	ASSIGNED? 'FORCE? /?L27
	SET 'FORCE?,0
?L27:	ASSIGNED? 'SL? /?L28
	SET 'SL?,0
?L28:	SET 'MAXLEN,300
	ASSIGNED? 'HERE /?L1
	SET 'HERE,GL-PLACE-CUR
	.DEBUG-LINE 2,324,1
?L1:	ZERO? SL? /?L2
	.DEBUG-LINE 2,325,1
	SET 'MAXLEN,GL-STAT-MAX-ROOM
	.DEBUG-LINE 2,326,1
?L2:	ZERO? FORCE? \?L7
	ZERO? GL-NOW-LIT? /?L5
	.DEBUG-LINE 2,327,1
?L7:	DIROUT K-D-SCR-OFF
	.DEBUG-LINE 2,328,1
	DIROUT K-D-TBL-ON,GL-DIROUT-TBL
	.DEBUG-LINE 2,329,1
	ICALL2 DPRINT,HERE
	.DEBUG-LINE 2,330,1
	DIROUT K-D-TBL-OFF
	.DEBUG-LINE 2,331,1
	DIROUT K-D-SCR-ON
	.DEBUG-LINE 2,332,1
	GET GL-DIROUT-TBL,0 >LEN
	.DEBUG-LINE 2,333,1
	INC 'LEN
	.DEBUG-LINE 2,334,1
	PUT GL-DIROUT-TBL,0,0
	.DEBUG-LINE 2,335,1
	GRTR? LEN,1 \?L8
	.DEBUG-LINE 2,336,1
	SET 'LC,32
	SET 'CNT,2
	.DEBUG-LINE 2,337,1
?L10:	GETB GL-DIROUT-TBL,CNT >X
	.DEBUG-LINE 2,338,1
	LESS? X,97 /?L14
	GRTR? X,122 /?L14
	.DEBUG-LINE 2,340,1
	EQUAL? CNT,2 /?L16
	EQUAL? LC,32 \?L14
	.DEBUG-LINE 2,342,1
?L16:	SUB X,32 >X
	.DEBUG-LINE 2,343,1
?L14:	PRINTC X
	.DEBUG-LINE 2,344,1
	SET 'LC,X
	.DEBUG-LINE 2,345,1
	IGRTR? 'CNT,LEN /TRUE
	.DEBUG-LINE 2,347,1
	GRTR? CNT,MAXLEN \?L10
	.DEBUG-LINE 2,347,1
	RTRUE
	.DEBUG-LINE 2,349,1
?L8:	GET GL-DIROUT-TBL,2 >STACK
	PRINTC STACK
	.DEBUG-LINE 2,350,1
	RTRUE
	.DEBUG-LINE 2,352,1
?L5:	PRINTI "Darkness"
	.DEBUG-LINE 2,353,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESCRIBE-PLACE","PLACE","LOOK"
	.FUNCT RT-DESCRIBE-PLACE,PLACE,LOOK
	ASSIGNED? 'PLACE /?L14
	SET 'PLACE,0
?L14:	ASSIGNED? 'LOOK /?L15
	SET 'LOOK,0
	.DEBUG-LINE 2,357,1
?L15:	ZERO? PLACE \?L1
	.DEBUG-LINE 2,358,1
	SET 'PLACE,GL-PLACE-CUR
	.DEBUG-LINE 2,360,1
?L1:	CALL RT-IS-LIT?,PLACE,1 >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 2,361,1
	PRINT K-TOO-DARK-MSG
	.DEBUG-LINE 2,362,1
	CRLF
	RTRUE
	.DEBUG-LINE 2,364,1
?L4:	HLIGHT K-H-BLD
	.DEBUG-LINE 2,365,1
	ICALL RT-SAY-ROOM-NAME-IF-LIT,PLACE,1
	.DEBUG-LINE 2,366,1
	CRLF
	CRLF
	.DEBUG-LINE 2,367,1
	HLIGHT K-H-NRM
	.DEBUG-LINE 2,369,1
	ZERO? LOOK /?L7
	.DEBUG-LINE 2,370,1
	CALL RT-EXEC-RM-DESCFCN,PLACE,K-M-DESC-3 >STACK
	RSTACK
	.DEBUG-LINE 2,371,1
?L7:	FSET? PLACE,FL-TOUCHED /?L9
	.DEBUG-LINE 2,372,1
	FSET PLACE,FL-TOUCHED
	.DEBUG-LINE 2,373,1
	CALL RT-EXEC-RM-DESCFCN,PLACE,K-M-DESC-1 >STACK
	RSTACK
	.DEBUG-LINE 2,374,1
?L9:	EQUAL? GL-DESC-LEVEL,2 \?L10
	.DEBUG-LINE 2,375,1
	CALL RT-EXEC-RM-DESCFCN,PLACE,K-M-DESC-2 >STACK
	RSTACK
	.DEBUG-LINE 2,376,1
?L10:	EQUAL? GL-DESC-LEVEL,1 /TRUE
	.DEBUG-LINE 2,378,1
	ZERO? GL-DESC-LEVEL /FALSE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EXEC-RM-DESCFCN","PLACE","CONTEXT","DF"
	.FUNCT RT-EXEC-RM-DESCFCN,PLACE,CONTEXT,DF
	.DEBUG-LINE 2,382,1
	FSET? PLACE,FL-HAS-DESCFCN \TRUE
	.DEBUG-LINE 2,383,1
	GETP PLACE,P?ACTION >STACK
	CALL2 STACK,CONTEXT >STACK
	ZERO? STACK /TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESCFCN-CONTEXT","CONTEXT"
	.FUNCT RT-DESCFCN-CONTEXT,CONTEXT
	.DEBUG-LINE 2,387,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 2,388,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESC-ALL","PLACE","LOOK","HOLMES-IN-HOUSE?"
	.FUNCT RT-DESC-ALL,PLACE,LOOK,HOLMES-IN-HOUSE?
	ASSIGNED? 'PLACE /?L41
	SET 'PLACE,0
?L41:	ASSIGNED? 'LOOK /?L42
	SET 'LOOK,0
?L42:	SET 'HOLMES-IN-HOUSE?,0
	.DEBUG-LINE 2,394,1
	CALL RT-DESCRIBE-PLACE,PLACE,LOOK >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 2,395,1
	ICALL RT-DESCRIBE-PLACE-CONTENTS,PLACE,LOOK
	.DEBUG-LINE 2,396,1
?L1:	CALL RT-IS-LIT?,PLACE,1 >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 2,398,1
	ZERO? GL-PUPPY-MSG? \?L6
	.DEBUG-LINE 2,399,1
	SET 'GL-PUPPY-MSG?,1
	RTRUE
	.DEBUG-LINE 2,400,1
?L6:	ZERO? GL-PUPPY /TRUE
	.DEBUG-LINE 2,401,1
	EQUAL? GL-PUPPY,CH-HOLMES \?L8
	.DEBUG-LINE 2,402,1
	CRLF
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,404,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL,RM-PARLOUR,RM-VESTIBULE /?L12
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY,RM-HOLMES-BEDROOM \?L10
	.DEBUG-LINE 2,409,1
?L12:	SET 'HOLMES-IN-HOUSE?,1
	.DEBUG-LINE 2,410,1
?L10:	ZERO? LOOK /?L14
	.DEBUG-LINE 2,411,1
	IN? CH-HOLMES,TH-BOAT \?L16
	.DEBUG-LINE 2,412,1
	PRINT K-SEASICK-MSG
	JUMP ?L22
	.DEBUG-LINE 2,413,1
?L16:	IN? CH-HOLMES,TH-HANSOM-CAB /?L19
	IN? CH-HOLMES,TH-GROWLER-CAB \?L18
	.DEBUG-LINE 2,415,1
?L19:	PRINT K-SITTING-QUIETLY-MSG
	JUMP ?L22
	.DEBUG-LINE 2,416,1
?L18:	ZERO? HOLMES-IN-HOUSE? /?L20
	.DEBUG-LINE 2,417,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-HOUSE-LOOK-TXT >STACK
	PRINT STACK
	JUMP ?L22
	.DEBUG-LINE 2,419,1
?L20:	FSET? GL-PLACE-CUR,FL-INDOORS \?L21
	.DEBUG-LINE 2,420,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-INDOORS-LOOK-TXT >STACK
	PRINT STACK
	JUMP ?L22
	.DEBUG-LINE 2,423,1
?L21:	CALL2 RT-PICK-NEXT,GL-HOLMES-OUTDOORS-LOOK-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,425,1
?L22:	PRINTR "."
	.DEBUG-LINE 2,426,1
?L14:	EQUAL? GL-DESC-LEVEL,2,1 \TRUE
	.DEBUG-LINE 2,427,1
	ZERO? HOLMES-IN-HOUSE? /?L24
	.DEBUG-LINE 2,428,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-HOUSE-ENTER-TXT >STACK
	PRINT STACK
	JUMP ?L27
	.DEBUG-LINE 2,430,1
?L24:	FSET? GL-PLACE-CUR,FL-INDOORS \?L26
	.DEBUG-LINE 2,431,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-INDOORS-ENTER-TXT >STACK
	PRINT STACK
	JUMP ?L27
	.DEBUG-LINE 2,434,1
?L26:	CALL2 RT-PICK-NEXT,GL-HOLMES-OUTDOORS-ENTER-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,436,1
?L27:	PRINTR "."
	.DEBUG-LINE 2,437,1
?L8:	EQUAL? GL-PUPPY,CH-WIGGINS \TRUE
	.DEBUG-LINE 2,438,1
	CRLF
	CALL2 RT-PICK-NEXT,GL-WIGGINS-DESC-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,440,1
	ZERO? LOOK /?L30
	.DEBUG-LINE 2,441,1
	IN? CH-WIGGINS,TH-BOAT \?L32
	.DEBUG-LINE 2,442,1
	PRINT K-ENJOYING-RIDE-MSG
	JUMP ?L36
	.DEBUG-LINE 2,443,1
?L32:	IN? CH-WIGGINS,TH-HANSOM-CAB /?L35
	IN? CH-WIGGINS,TH-GROWLER-CAB \?L34
	.DEBUG-LINE 2,445,1
?L35:	PRINT K-FIDGETING-MSG
	JUMP ?L36
	.DEBUG-LINE 2,447,1
?L34:	CALL2 RT-PICK-NEXT,GL-WIGGINS-LOOK-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,449,1
?L36:	PRINTR "."
	.DEBUG-LINE 2,450,1
?L30:	EQUAL? GL-DESC-LEVEL,2,1 \TRUE
	.DEBUG-LINE 2,451,1
	CALL2 RT-PICK-NEXT,GL-WIGGINS-ENTER-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 2,453,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GOTO","NEWPLACE","X","NEWLIT?","OLDPLACE","AMP?","SS?"
	.FUNCT RT-GOTO,NEWPLACE,X,NEWLIT?,OLDPLACE,AMP?,SS?
	.DEBUG-LINE 2,456,1
	SET 'OLDPLACE,GL-PLACE-CUR
	.DEBUG-LINE 2,457,1
	MOVE CH-PLAYER,NEWPLACE
	.DEBUG-LINE 2,458,1
	SET 'GL-PLACE-CUR,NEWPLACE
	.DEBUG-LINE 2,459,1
	CALL1 RT-IS-LIT? >NEWLIT?
	.DEBUG-LINE 2,460,1
	MOVE CH-PLAYER,OLDPLACE
	.DEBUG-LINE 2,461,1
	SET 'GL-PLACE-CUR,OLDPLACE
	.DEBUG-LINE 2,462,1
	ZERO? NEWLIT? \?L1
	.DEBUG-LINE 2,464,1
	ICALL2 TOO-DARK-TO-GO,NEWPLACE
	.DEBUG-LINE 2,465,1
	RTRUE
	.DEBUG-LINE 2,466,1
?L1:	GETP GL-PLACE-CUR,P?ACTION >STACK
	CALL2 STACK,K-M-EXIT >X
	.DEBUG-LINE 2,467,1
	FSET? OLDPLACE,FL-INDOORS /?L4
	FSET? NEWPLACE,FL-INDOORS /?L4
	.DEBUG-LINE 2,469,1
	ICALL RT-CLOCK-JMP,0,5,0
	.DEBUG-LINE 2,470,1
?L4:	SET 'GL-PLACE-PRV,OLDPLACE
	.DEBUG-LINE 2,471,1
	SET 'GL-PLACE-CUR,NEWPLACE
	.DEBUG-LINE 2,472,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 2,473,1
	MOVE CH-PLAYER,GL-PLACE-CUR
	.DEBUG-LINE 2,474,1
	GETP GL-PLACE-CUR,P?ACTION >STACK
	CALL2 STACK,K-M-ENTERING >X
	.DEBUG-LINE 2,475,1
	ZERO? GL-PUPPY /?L7
	.DEBUG-LINE 2,476,1
	LOC CH-PLAYER >STACK
	MOVE GL-PUPPY,STACK
	JUMP ?L9
	.DEBUG-LINE 2,477,1
?L7:	ZERO? GL-FORMER-PUPPY /?L9
	IN? GL-FORMER-PUPPY,GL-PLACE-CUR \?L9
	FSET? GL-FORMER-PUPPY,FL-ASLEEP /?L9
	.DEBUG-LINE 2,480,1
	SET 'GL-PUPPY,GL-FORMER-PUPPY
	.DEBUG-LINE 2,481,1
	SET 'GL-FORMER-PUPPY,0
	.DEBUG-LINE 2,482,1
?L9:	ICALL1 RT-DESC-ALL
	.DEBUG-LINE 2,483,1
	IN? TH-ETHERIUM-AMPOULE,CH-PLAYER /?L12
	SET 'AMP?,0
	JUMP ?L14
?L12:	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN /?L13
	SET 'AMP?,1
	JUMP ?L14
?L13:	SET 'AMP?,0
	.DEBUG-LINE 2,485,1
?L14:	FSET? TH-STETHOSCOPE,FL-WORN /?L15
	SET 'SS?,0
	JUMP ?L16
?L15:	SET 'SS?,1
	.DEBUG-LINE 2,486,1
?L16:	ZERO? AMP? \?L19
	ZERO? SS? /?L17
	.DEBUG-LINE 2,487,1
?L19:	ICALL HOLMES-COMPLAINS,AMP?,SS?
	.DEBUG-LINE 2,488,1
?L17:	GETP GL-PLACE-CUR,P?ACTION >STACK
	CALL2 STACK,K-M-ENTERED >X
	.DEBUG-LINE 2,489,1
	ICALL1 RT-RESET-THEM
	.DEBUG-LINE 2,490,1
	IN? TH-ETHERIUM-GAS,GL-PLACE-CUR \TRUE
	.DEBUG-LINE 2,491,1
	ICALL1 RT-SMELL-ETHERIUM?
	.DEBUG-LINE 2,493,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-RESET-THEM"
	.FUNCT RT-RESET-THEM
	.DEBUG-LINE 2,496,1
	CALL2 RT-VISIBLE?,GL-P-IT-OBJECT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 2,497,1
	SET 'GL-P-IT-OBJECT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 2,498,1
?L1:	CALL2 RT-VISIBLE?,GL-P-THEM-OBJECT >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 2,499,1
	SET 'GL-P-THEM-OBJECT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 2,500,1
?L4:	CALL2 RT-VISIBLE?,GL-P-HIM-OBJECT >STACK
	ZERO? STACK \?L7
	.DEBUG-LINE 2,501,1
	SET 'GL-P-HIM-OBJECT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 2,502,1
?L7:	CALL2 RT-VISIBLE?,GL-P-HER-OBJECT >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 2,503,1
	SET 'GL-P-HER-OBJECT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 2,504,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-UPDATE-SCORE","PTS"
	.FUNCT RT-UPDATE-SCORE,PTS
	ASSIGNED? 'PTS /?L1
	SET 'PTS,1
	.DEBUG-LINE 2,507,1
?L1:	ADD GL-SCORE-CUR,PTS >GL-SCORE-CUR
	.DEBUG-LINE 2,508,1
	CALL2 RT-NEW-SCORE-MSG,PTS >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-UPDATE-MOVES","MVS"
	.FUNCT RT-UPDATE-MOVES,MVS
	ASSIGNED? 'MVS /?L5
	SET 'MVS,1
	.DEBUG-LINE 2,511,1
?L5:	ZERO? GL-CLOCK-WAIT \FALSE
	.DEBUG-LINE 2,513,1
	ZERO? GL-CLOCK-STOP \FALSE
	.DEBUG-LINE 2,515,1
	ADD GL-MOVES-CUR,MVS >GL-MOVES-CUR
	RETURN GL-MOVES-CUR
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-UPDATE-CLOCK","HRS","MIN","SEC"
	.FUNCT RT-UPDATE-CLOCK,HRS,MIN,SEC
	ASSIGNED? 'HRS /?L5
	SET 'HRS,0
?L5:	ASSIGNED? 'MIN /?L6
	SET 'MIN,0
?L6:	ASSIGNED? 'SEC /?L7
	SET 'SEC,0
	.DEBUG-LINE 2,518,1
?L7:	ZERO? HRS \?L3
	ZERO? MIN \?L3
	ZERO? SEC /?L1
	.DEBUG-LINE 2,521,1
?L3:	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,HRS,MIN,SEC
	.DEBUG-LINE 2,522,1
?L1:	CALL1 RT-CLOCK-INC >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MAIN-LOOP","ICNT","OCNT","NUM","CNT","OBJ","TBL","V","PTBL","OBJ1","TMP","X","TOUCH-VERB?","MYCROFT?","TV"
	.FUNCT RT-MAIN-LOOP,ICNT,OCNT,NUM,CNT,OBJ,TBL,V,PTBL,OBJ1,TMP,X,TOUCH-VERB?,MYCROFT?,TV
	SET 'V,0
	SET 'TOUCH-VERB?,0
	SET 'MYCROFT?,0
	.DEBUG-LINE 2,527,1
?L1:	SET 'CNT,0
	.DEBUG-LINE 2,528,1
	SET 'OBJ,0
	.DEBUG-LINE 2,529,1
	SET 'PTBL,1
	.DEBUG-LINE 2,530,1
	SET 'GL-P-MULT?,0
	.DEBUG-LINE 2,531,1
	EQUAL? GL-PLACE-CUR,GL-P-QCONTEXT-RM /?L3
	.DEBUG-LINE 2,532,1
	SET 'GL-P-QCONTEXT-TH,0
	.DEBUG-LINE 2,533,1
?L3:	CALL1 RT-PARSER >GL-P-GOOD
	.DEBUG-LINE 2,534,1
	ZERO? GL-P-GOOD /?L6
	.DEBUG-LINE 2,535,1
	GET GL-P-PRSI,K-P-MATCHLEN >ICNT
	.DEBUG-LINE 2,536,1
	GET GL-P-PRSO,K-P-MATCHLEN >OCNT
	.DEBUG-LINE 2,537,1
	ZERO? GL-P-IT-OBJECT /?L8
	CALL2 RT-ACCESSIBLE?,GL-P-IT-OBJECT >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 2,539,1
	SET 'TMP,0
	.DEBUG-LINE 2,541,1
?L10:	IGRTR? 'CNT,ICNT /?L11
	.DEBUG-LINE 2,544,1
	GET GL-P-PRSI,CNT >STACK
	EQUAL? STACK,TH-IT \?L10
	.DEBUG-LINE 2,545,1
	PUT GL-P-PRSI,CNT,GL-P-IT-OBJECT
	.DEBUG-LINE 2,546,1
	SET 'TMP,1
	.DEBUG-LINE 2,548,1
?L11:	ZERO? TMP \?L21
	.DEBUG-LINE 2,549,1
	SET 'CNT,0
	.DEBUG-LINE 2,551,1
?L20:	IGRTR? 'CNT,OCNT /?L21
	.DEBUG-LINE 2,554,1
	GET GL-P-PRSO,CNT >STACK
	EQUAL? STACK,TH-IT \?L20
	.DEBUG-LINE 2,555,1
	PUT GL-P-PRSO,CNT,GL-P-IT-OBJECT
	.DEBUG-LINE 2,557,1
?L21:	SET 'CNT,0
	.DEBUG-LINE 2,558,1
?L8:	ZERO? OCNT \?L30
	.DEBUG-LINE 2,559,1
	SET 'NUM,OCNT
	JUMP ?L37
	.DEBUG-LINE 2,560,1
?L30:	GRTR? OCNT,1 \?L32
	.DEBUG-LINE 2,561,1
	SET 'TBL,GL-P-PRSO
	.DEBUG-LINE 2,562,1
	ZERO? ICNT \?L33
	.DEBUG-LINE 2,563,1
	SET 'OBJ,0
	JUMP ?L35
	.DEBUG-LINE 2,565,1
?L33:	GET GL-P-PRSI,1 >OBJ
	.DEBUG-LINE 2,566,1
?L35:	SET 'NUM,OCNT
	JUMP ?L37
	.DEBUG-LINE 2,567,1
?L32:	GRTR? ICNT,1 \?L36
	.DEBUG-LINE 2,568,1
	SET 'PTBL,0
	.DEBUG-LINE 2,569,1
	SET 'TBL,GL-P-PRSI
	.DEBUG-LINE 2,570,1
	GET GL-P-PRSO,1 >OBJ
	.DEBUG-LINE 2,571,1
	SET 'NUM,ICNT
	JUMP ?L37
?L36:	SET 'NUM,1
	.DEBUG-LINE 2,573,1
?L37:	ZERO? OBJ \?L38
	EQUAL? ICNT,1 \?L38
	.DEBUG-LINE 2,575,1
	GET GL-P-PRSI,1 >OBJ
	.DEBUG-LINE 2,576,1
?L38:	EQUAL? GL-PRSA,V?WALK \?L41
	.DEBUG-LINE 2,577,1
	CALL RT-PERFORM,GL-PRSA,GL-PRSO >V
	JUMP ?L130
	.DEBUG-LINE 2,578,1
?L41:	ZERO? NUM \?L43
	.DEBUG-LINE 2,579,1
	GETB GL-P-SYNTAX,0 >STACK
	SHIFT STACK,-6 >STACK
	ZERO? STACK \?L44
	.DEBUG-LINE 2,580,1
	CALL2 RT-PERFORM,GL-PRSA >V
	.DEBUG-LINE 2,581,1
	SET 'GL-PRSO,0
	JUMP ?L130
	.DEBUG-LINE 2,582,1
?L44:	ZERO? GL-NOW-LIT? \?L46
	.DEBUG-LINE 2,583,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 2,584,1
	PRINT K-TOO-DARK-MSG
	CRLF
	JUMP ?L130
	.DEBUG-LINE 2,586,1
?L46:	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 2,587,1
	PRINTI "[There isn't anything to "
	.DEBUG-LINE 2,588,1
	GET GL-P-ITBL,K-P-VERBN >TMP
	.DEBUG-LINE 2,589,1
	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK /?L48
	.DEBUG-LINE 2,590,1
	PRINTI "talk to"
	JUMP ?L52
	.DEBUG-LINE 2,591,1
?L48:	ZERO? GL-P-MERGED \?L51
	ZERO? GL-P-ORPH /?L50
	.DEBUG-LINE 2,593,1
?L51:	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L52
	.DEBUG-LINE 2,595,1
?L50:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	CALL RT-WORD-PRINT,STACK,STACK >V
	.DEBUG-LINE 2,597,1
?L52:	PRINTI ".]"
	CRLF
	.DEBUG-LINE 2,598,1
	SET 'V,0
	JUMP ?L130
	.DEBUG-LINE 2,600,1
?L43:	SET 'X,0
	.DEBUG-LINE 2,601,1
	GRTR? NUM,1 \?L54
	.DEBUG-LINE 2,602,1
	SET 'GL-P-MULT?,1
	.DEBUG-LINE 2,603,1
?L54:	SET 'TMP,0
	.DEBUG-LINE 2,605,1
?L57:	IGRTR? 'CNT,NUM \?L59
	.DEBUG-LINE 2,606,1
	GRTR? X,0 \?L61
	.DEBUG-LINE 2,607,1
	PRINTI "[The "
	.DEBUG-LINE 2,608,1
	EQUAL? X,NUM /?L63
	.DEBUG-LINE 2,609,1
	PRINTI "other "
	.DEBUG-LINE 2,610,1
?L63:	PRINTI "object"
	.DEBUG-LINE 2,611,1
	EQUAL? X,1 /?L66
	.DEBUG-LINE 2,612,1
	PRINTI "s"
	.DEBUG-LINE 2,613,1
?L66:	PRINTI " that you mentioned "
	.DEBUG-LINE 2,614,1
	EQUAL? X,1 /?L69
	.DEBUG-LINE 2,615,1
	PRINTI "are"
	JUMP ?L71
	.DEBUG-LINE 2,617,1
?L69:	PRINTI "is"
	.DEBUG-LINE 2,618,1
?L71:	PRINTI "n't here.]"
	CRLF
	JUMP ?L58
	.DEBUG-LINE 2,619,1
?L61:	ZERO? TMP \?L58
	.DEBUG-LINE 2,620,1
	ICALL1 RT-REFER-TO-MSG
	.DEBUG-LINE 2,621,1
	JUMP ?L58
	.DEBUG-LINE 2,623,1
?L59:	ZERO? PTBL /?L75
	.DEBUG-LINE 2,624,1
	GET GL-P-PRSO,CNT >OBJ1
	JUMP ?L77
	.DEBUG-LINE 2,626,1
?L75:	GET GL-P-PRSI,CNT >OBJ1
	.DEBUG-LINE 2,627,1
?L77:	GRTR? NUM,1 /?L80
	GET GL-P-ITBL,K-P-NC1 >STACK
	GET STACK,0 >STACK
	EQUAL? STACK,W?ALL,W?EVERYTHING \?L86
	.DEBUG-LINE 2,630,1
?L80:	EQUAL? OBJ1,TH-NOT-HERE-OBJECT \?L81
	.DEBUG-LINE 2,631,1
	INC 'X
	.DEBUG-LINE 2,632,1
	JUMP ?L57
	.DEBUG-LINE 2,633,1
?L81:	EQUAL? GL-P-GET-FLAGS,K-P-ALL \?L83
	CALL RT-DONT-ALL?,OBJ1,OBJ >STACK
	ZERO? STACK \?L57
	.DEBUG-LINE 2,636,1
?L83:	CALL2 RT-ACCESSIBLE?,OBJ1 >STACK
	ZERO? STACK /?L57
	.DEBUG-LINE 2,638,1
	EQUAL? OBJ1,CH-PLAYER /?L57
	.DEBUG-LINE 2,641,1
	EQUAL? OBJ1,TH-IT \?L87
	.DEBUG-LINE 2,642,1
	ICALL2 RT-CTHEO-PRINT,GL-P-IT-OBJECT
	JUMP ?L89
	.DEBUG-LINE 2,644,1
?L87:	ICALL2 RT-CTHEO-PRINT,OBJ1
	.DEBUG-LINE 2,645,1
?L89:	PRINTI ": "
	.DEBUG-LINE 2,646,1
?L86:	SET 'TMP,1
	.DEBUG-LINE 2,647,1
	ZERO? PTBL /?L91
	.DEBUG-LINE 2,648,1
	SET 'GL-PRSO,OBJ1
	JUMP ?L93
	.DEBUG-LINE 2,650,1
?L91:	SET 'GL-PRSO,OBJ
	.DEBUG-LINE 2,651,1
?L93:	ZERO? PTBL /?L94
	.DEBUG-LINE 2,652,1
	SET 'GL-PRSI,OBJ
	JUMP ?L96
	.DEBUG-LINE 2,654,1
?L94:	SET 'GL-PRSI,OBJ1
	.DEBUG-LINE 2,656,1
?L96:	EQUAL? GL-WINNER,CH-BUTLER \?L97
	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,W?HOLMES,W?MYCROFT \?L97
	.DEBUG-LINE 2,659,1
	SET 'MYCROFT?,1
	.DEBUG-LINE 2,660,1
	SET 'TOUCH-VERB?,0
	.DEBUG-LINE 2,661,1
?L97:	ZERO? MYCROFT? \?L108
	EQUAL? GL-PRSA,V?FIND /?L108
	CALL1 RT-TOUCH-VERB? >TOUCH-VERB?
	ZERO? TOUCH-VERB? \?L102
	GET GL-SEE-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-SEE-VERBS+2,STACK >TV \?L108
	.DEBUG-LINE 2,666,1
?L102:	ZERO? GL-PRSO /?L103
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK \?L103
	.DEBUG-LINE 2,668,1
	ICALL2 RT-CANT-SEE-ANY-MSG,GL-PRSO
	.DEBUG-LINE 2,669,1
	GRTR? OCNT,1 /?L57
	.DEBUG-LINE 2,670,1
	SET 'V,FATAL-VALUE
	.DEBUG-LINE 2,671,1
	JUMP ?L58
	.DEBUG-LINE 2,673,1
?L103:	ZERO? GL-PRSI /?L108
	CALL2 RT-VISIBLE?,GL-PRSI >STACK
	ZERO? STACK \?L108
	.DEBUG-LINE 2,675,1
	ICALL2 RT-CANT-SEE-ANY-MSG,GL-PRSI
	.DEBUG-LINE 2,676,1
	GRTR? ICNT,1 /?L57
	.DEBUG-LINE 2,677,1
	SET 'V,FATAL-VALUE
	.DEBUG-LINE 2,678,1
	JUMP ?L58
	.DEBUG-LINE 2,680,1
?L108:	ZERO? TOUCH-VERB? /?L121
	.DEBUG-LINE 2,681,1
	ZERO? GL-PRSO /?L116
	CALL2 RT-ACCESSIBLE?,GL-PRSO >STACK
	ZERO? STACK \?L116
	.DEBUG-LINE 2,683,1
	ICALL RT-CANT-TOUCH-MSG,GL-PRSO,GL-CLOSED-OBJECT,GL-IN-OUT
	.DEBUG-LINE 2,684,1
	GRTR? OCNT,1 /?L57
	.DEBUG-LINE 2,685,1
	SET 'V,FATAL-VALUE
	.DEBUG-LINE 2,686,1
	JUMP ?L58
	.DEBUG-LINE 2,688,1
?L116:	ZERO? GL-PRSI /?L121
	CALL2 RT-ACCESSIBLE?,GL-PRSI >STACK
	ZERO? STACK \?L121
	.DEBUG-LINE 2,690,1
	ICALL RT-CANT-TOUCH-MSG,GL-PRSI,GL-CLOSED-OBJECT,GL-IN-OUT
	.DEBUG-LINE 2,691,1
	GRTR? ICNT,1 /?L57
	.DEBUG-LINE 2,692,1
	SET 'V,FATAL-VALUE
	.DEBUG-LINE 2,693,1
	JUMP ?L58
	.DEBUG-LINE 2,696,1
?L121:	CALL RT-PERFORM,GL-PRSA,GL-PRSO,GL-PRSI >V
	.DEBUG-LINE 2,697,1
	EQUAL? V,FATAL-VALUE \?L57
	.DEBUG-LINE 2,699,1
?L58:	ZERO? GL-P-OVERFLOW /?L130
	.DEBUG-LINE 2,700,1
	CRLF
	PRINTI "[Note: There are so many objects here that a few may have been overlooked. Please double check to make sure you have accomplished what you intended.]"
	CRLF
	.DEBUG-LINE 2,704,1
?L130:	EQUAL? V,FATAL-VALUE \?L136
	.DEBUG-LINE 2,705,1
	SET 'GL-P-CONT,0
	JUMP ?L136
	.DEBUG-LINE 2,707,1
?L6:	SET 'GL-P-CONT,0
	.DEBUG-LINE 2,708,1
?L136:	ZERO? GL-P-GOOD /?L137
	EQUAL? V,FATAL-VALUE /?L137
	GET GL-GAME-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-GAME-VERBS+2,STACK >TV /?L137
	.DEBUG-LINE 2,712,1
	ICALL1 RT-UPDATE-MOVES
	.DEBUG-LINE 2,713,1
	ICALL1 RT-UPDATE-CLOCK
	.DEBUG-LINE 2,714,1
	ICALL1 RT-ALARM-CHK
	.DEBUG-LINE 2,715,1
?L137:	ICALL1 RT-TIME-OF-DAY-MSG
	.DEBUG-LINE 2,716,1
	SET 'GL-PRSA,0
	.DEBUG-LINE 2,717,1
	SET 'GL-PRSO,0
	.DEBUG-LINE 2,718,1
	SET 'GL-PRSI,0
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOUCH-VERB?"
	.FUNCT RT-TOUCH-VERB?
	.DEBUG-LINE 2,721,1
	GET GL-TOUCH-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-TOUCH-VERBS+2,STACK >STACK /?L1
?L1:	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TALK-VERB?"
	.FUNCT RT-TALK-VERB?
	.DEBUG-LINE 2,724,1
	GET GL-TALK-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-TALK-VERBS+2,STACK >STACK /?L1
?L1:	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-PLAYER","CONTEXT"
	.FUNCT RT-AC-CH-PLAYER,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 2,730,1
?L10:	SET 'GL-WAIT-BELL,0
	.DEBUG-LINE 2,731,1
	EQUAL? CONTEXT,K-M-WINNER \?L1
	.DEBUG-LINE 2,732,1
	EQUAL? GL-PRSA,V?TELL \?L3
	.DEBUG-LINE 2,733,1
	SET 'GL-CLOCK-WAIT,0
	.DEBUG-LINE 2,734,1
	RFALSE
	.DEBUG-LINE 2,735,1
?L3:	EQUAL? GL-PRSO,TH-HANDS /?L6
	EQUAL? GL-PRSI,TH-HANDS \?L5
?L6:	CALL1 RT-CHECK-HANDS >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 2,739,1
?L5:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	FSET? TH-HANDS,FL-LOCKED \FALSE
	.DEBUG-LINE 2,741,1
	CALL1 RT-HANDS-COVERING-EARS >STACK
	RSTACK
	.DEBUG-LINE 2,743,1
?L1:	CALL1 RT-AC-CH-PLAYER-AUX >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CAPITALIZE","PTR"
	.FUNCT RT-CAPITALIZE,PTR
	.DEBUG-LINE 3,77,1
	ZERO? GL-P-ORPH \?L3
	ZERO? GL-P-MERGED /?L1
	.DEBUG-LINE 3,79,1
?L3:	GET PTR,0 >STACK
	PRINTB STACK
	RTRUE
	.DEBUG-LINE 3,81,1
?L1:	GETB PTR,3 >STACK
	GETB GL-P-PIBUF,STACK >STACK
	SUB STACK,32 >STACK
	PRINTC STACK
	.DEBUG-LINE 3,82,1
	GETB PTR,3 >STACK
	INC 'STACK
	GETB PTR,2 >STACK
	DEC 'STACK
	CALL RT-WORD-PRINT,STACK,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WORD-PRINT","CNT","BUF"
	.FUNCT RT-WORD-PRINT,CNT,BUF
	.DEBUG-LINE 3,85,1
	ADD GL-P-PIBUF,BUF >STACK
	PRINTT STACK,CNT
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-VERB-PRINT","TMP"
	.FUNCT RT-VERB-PRINT,TMP
	.DEBUG-LINE 3,94,1
	GET GL-P-ITBL,K-P-VERBN >TMP
	.DEBUG-LINE 3,95,1
	ZERO? TMP \?L1
	.DEBUG-LINE 3,96,1
	PRINTI "tell"
	RTRUE
	.DEBUG-LINE 3,97,1
?L1:	GETB GL-P-VTBL,2 >STACK
	ZERO? STACK \?L3
	.DEBUG-LINE 3,98,1
	GET TMP,0 >STACK
	PRINTB STACK
	RTRUE
	.DEBUG-LINE 3,100,1
?L3:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	ICALL RT-WORD-PRINT,STACK,STACK
	.DEBUG-LINE 3,101,1
	PUTB GL-P-VTBL,2,0
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PREP-PRINT","PREP","SP?","WRD"
	.FUNCT RT-PREP-PRINT,PREP,SP?,WRD
	ASSIGNED? 'SP? /?L13
	SET 'SP?,1
	.DEBUG-LINE 3,104,1
?L13:	ZERO? PREP /FALSE
	ZERO? GL-P-END-ON-PREP \FALSE
	.DEBUG-LINE 3,106,1
	ZERO? SP? /?L3
	.DEBUG-LINE 3,107,1
	PRINTI " "
	.DEBUG-LINE 3,108,1
?L3:	CALL2 RT-PREP-FIND,PREP >WRD
	.DEBUG-LINE 3,109,1
	PRINTB WRD
	.DEBUG-LINE 3,110,1
	GET GL-P-ITBL,K-P-VERBN >STACK
	GET STACK,0 >STACK
	EQUAL? W?SIT,STACK \?L6
	EQUAL? W?DOWN,WRD \?L6
	.DEBUG-LINE 3,112,1
	PRINTI " on"
	.DEBUG-LINE 3,113,1
?L6:	GET GL-P-ITBL,K-P-VERBN >STACK
	GET STACK,0 >STACK
	EQUAL? W?GET,STACK \TRUE
	EQUAL? W?OUT,WRD \TRUE
	.DEBUG-LINE 3,115,1
	PRINTI " of"
	.DEBUG-LINE 3,116,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLAUSE-PRINT","BPTR","EPTR","THE?"
	.FUNCT RT-CLAUSE-PRINT,BPTR,EPTR,THE?
	ASSIGNED? 'THE? /?L1
	SET 'THE?,1
	.DEBUG-LINE 3,119,1
?L1:	GET GL-P-ITBL,EPTR >STACK
	GET GL-P-ITBL,BPTR >STACK
	CALL RT-BUFFER-PRINT,STACK,STACK,THE? >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-BUFFER-PRINT","BEG","END","CP","NOSP","WRD","FIRST??","PN"
	.FUNCT RT-BUFFER-PRINT,BEG,END,CP,NOSP,WRD,FIRST??,PN
	SET 'NOSP,0
	SET 'FIRST??,1
	SET 'PN,0
	.DEBUG-LINE 3,123,1
?L1:	EQUAL? BEG,END /TRUE
	.DEBUG-LINE 3,126,1
	ZERO? NOSP /?L6
	.DEBUG-LINE 3,127,1
	SET 'NOSP,0
	JUMP ?L8
	.DEBUG-LINE 3,129,1
?L6:	PRINTI " "
	.DEBUG-LINE 3,130,1
?L8:	GET BEG,0 >WRD
	.DEBUG-LINE 3,131,1
	EQUAL? WRD,W?HIM \?L12
	CALL2 RT-VISIBLE?,GL-P-HIM-OBJECT >STACK
	ZERO? STACK /?L11
?L12:	EQUAL? WRD,W?HER \?L13
	CALL2 RT-VISIBLE?,GL-P-HER-OBJECT >STACK
	ZERO? STACK /?L11
?L13:	EQUAL? WRD,W?THEM \?L9
	CALL2 RT-VISIBLE?,GL-P-THEM-OBJECT >STACK
	ZERO? STACK \?L9
	.DEBUG-LINE 3,137,1
?L11:	SET 'PN,1
	.DEBUG-LINE 3,138,1
?L9:	EQUAL? WRD,W?$PERIOD \?L15
	.DEBUG-LINE 3,139,1
	SET 'NOSP,1
	JUMP ?L20
	.DEBUG-LINE 3,140,1
?L15:	EQUAL? WRD,W?ALL,W?OF /?L17
	GETB WRD,6 >STACK
	BAND STACK,12 >STACK
	ZERO? STACK /?L17
	GETB WRD,6 >STACK
	BAND STACK,160 >STACK
	ZERO? STACK \?L17
	.DEBUG-LINE 3,143,1
	SET 'NOSP,1
	JUMP ?L20
	.DEBUG-LINE 3,144,1
?L17:	EQUAL? WRD,W?ME \?L18
	.DEBUG-LINE 3,145,1
	ICALL2 DPRINT,CH-PLAYER
	.DEBUG-LINE 3,146,1
	SET 'PN,1
	JUMP ?L20
	.DEBUG-LINE 3,147,1
?L18:	GET K-CAPS,0 >STACK
	INTBL? WRD,K-CAPS+2,STACK >STACK \?L19
	.DEBUG-LINE 3,148,1
	ICALL2 RT-CAPITALIZE,BEG
	.DEBUG-LINE 3,149,1
	SET 'PN,1
	JUMP ?L20
	.DEBUG-LINE 3,151,1
?L19:	ZERO? FIRST?? /?L21
	ZERO? PN \?L21
	ZERO? CP /?L21
	.DEBUG-LINE 3,154,1
	PRINTI "the "
	.DEBUG-LINE 3,155,1
?L21:	ZERO? GL-P-ORPH \?L26
	ZERO? GL-P-MERGED /?L24
	.DEBUG-LINE 3,157,1
?L26:	PRINTB WRD
	JUMP ?L31
	.DEBUG-LINE 3,158,1
?L24:	EQUAL? WRD,W?IT \?L27
	CALL2 RT-VISIBLE?,GL-P-IT-OBJECT >STACK
	ZERO? STACK /?L27
	.DEBUG-LINE 3,160,1
	ICALL2 DPRINT,GL-P-IT-OBJECT
	JUMP ?L31
	.DEBUG-LINE 3,161,1
?L27:	EQUAL? WRD,W?HER \?L28
	ZERO? PN \?L28
	.DEBUG-LINE 3,163,1
	ICALL2 DPRINT,GL-P-HER-OBJECT
	JUMP ?L31
	.DEBUG-LINE 3,164,1
?L28:	EQUAL? WRD,W?THEM \?L29
	ZERO? PN \?L29
	.DEBUG-LINE 3,166,1
	ICALL2 DPRINT,GL-P-THEM-OBJECT
	JUMP ?L31
	.DEBUG-LINE 3,167,1
?L29:	EQUAL? WRD,W?HIM \?L30
	ZERO? PN \?L30
	.DEBUG-LINE 3,169,1
	ICALL2 DPRINT,GL-P-HIM-OBJECT
	JUMP ?L31
	.DEBUG-LINE 3,171,1
?L30:	GETB BEG,3 >STACK
	GETB BEG,2 >STACK
	ICALL RT-WORD-PRINT,STACK,STACK
	.DEBUG-LINE 3,172,1
?L31:	SET 'FIRST??,0
	.DEBUG-LINE 3,173,1
?L20:	ADD BEG,K-P-WORDLEN >BEG
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DONT-KNOW-WORD-MSG","PTR","BUF","MSG","?TMP"
	.FUNCT RT-DONT-KNOW-WORD-MSG,PTR,BUF,MSG,?TMP
	.DEBUG-LINE 3,178,1
	ZERO? GL-LONG-OOPS \?L1
	.DEBUG-LINE 3,179,1
	PRINTI "[You don't need to use the word """
	JUMP ?L3
	.DEBUG-LINE 3,181,1
?L1:	DEC 'GL-LONG-OOPS
	.DEBUG-LINE 3,182,1
	PRINTI "[You can play the game from start to finish, solve all the puzzles, get all the points, and STILL never need to use the word """
	.DEBUG-LINE 3,183,1
?L3:	MUL PTR,2 >BUF
	ADD GL-P-P-LEX,BUF >STACK
	GETB STACK,2 >?TMP
	ADD GL-P-P-LEX,BUF >STACK
	GETB STACK,3 >STACK
	ICALL RT-WORD-PRINT,?TMP,STACK
	.DEBUG-LINE 3,185,1
	PRINTI """.]"
	CRLF
	.DEBUG-LINE 3,186,1
	PUT GL-OOPS-TABLE,K-O-PTR,PTR
	.DEBUG-LINE 3,187,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,188,1
	SET 'GL-P-ORPH,0
	.DEBUG-LINE 3,189,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DONT-KNOW-WORD-USE-MSG","PTR","BUF","?TMP"
	.FUNCT RT-DONT-KNOW-WORD-USE-MSG,PTR,BUF,?TMP
	.DEBUG-LINE 3,192,1
	PRINTI "[This story cannot understand the word """
	.DEBUG-LINE 3,193,1
	MUL PTR,2 >BUF
	ADD GL-P-P-LEX,BUF >STACK
	GETB STACK,2 >?TMP
	ADD GL-P-P-LEX,BUF >STACK
	GETB STACK,3 >STACK
	ICALL RT-WORD-PRINT,?TMP,STACK
	.DEBUG-LINE 3,195,1
	PRINTI """ when you use it that way.]"
	CRLF
	.DEBUG-LINE 3,196,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,197,1
	SET 'GL-P-ORPH,0
	.DEBUG-LINE 3,198,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-SEE-ANY-MSG","THING","STRING?","PRSO?","WRD"
	.FUNCT RT-CANT-SEE-ANY-MSG,THING,STRING?,PRSO?,WRD
	ASSIGNED? 'THING /?L18
	SET 'THING,0
?L18:	ASSIGNED? 'STRING? /?L19
	SET 'STRING?,0
?L19:	ASSIGNED? 'PRSO? /?L20
	SET 'PRSO?,1
	.DEBUG-LINE 3,202,1
?L20:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 3,203,1
	PRINTI "cannot "
	.DEBUG-LINE 3,204,1
	EQUAL? GL-PRSA,V?LISTEN \?L1
	.DEBUG-LINE 3,205,1
	PRINTI "hear"
	JUMP ?L4
	.DEBUG-LINE 3,206,1
?L1:	EQUAL? GL-PRSA,V?SMELL \?L3
	.DEBUG-LINE 3,207,1
	PRINTI "smell"
	JUMP ?L4
	.DEBUG-LINE 3,209,1
?L3:	PRINTI "see"
	.DEBUG-LINE 3,210,1
?L4:	ZERO? STRING? /?L5
	.DEBUG-LINE 3,211,1
	PRINT STRING?
	JUMP ?L8
	.DEBUG-LINE 3,212,1
?L5:	ZERO? THING /?L9
	EQUAL? THING,TH-NOT-HERE-OBJECT /?L7
	.DEBUG-LINE 3,214,1
	PRINTI " "
	.DEBUG-LINE 3,215,1
	ICALL RT-THEO-PRINT,THING,0,K-DESC-ANY
	JUMP ?L8
	.DEBUG-LINE 3,217,1
?L7:	ZERO? THING /?L9
	EQUAL? GL-PRSI,TH-NOT-HERE-OBJECT \?L9
	.DEBUG-LINE 3,219,1
	SET 'PRSO?,0
	.DEBUG-LINE 3,220,1
?L9:	ZERO? PRSO? /?L12
	PUSH 0
	JUMP ?L14
?L12:	PUSH 1
?L14:	GET GL-P-NAMW,STACK >WRD
	.DEBUG-LINE 3,221,1
	GET K-CAPS,0 >STACK
	INTBL? WRD,K-CAPS+2,STACK >STACK /?L15
	.DEBUG-LINE 3,223,1
	PRINTI " any"
	.DEBUG-LINE 3,224,1
?L15:	ICALL2 RT-NOT-HERE-PRINT,PRSO?
	.DEBUG-LINE 3,225,1
?L8:	PRINTI " here."
	CRLF
	.DEBUG-LINE 3,226,1
	SET 'GL-P-IT-OBJECT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 3,227,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 3,228,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TH-NOT-HERE-OBJECT","TBL","PRSO?","OBJ"
	.FUNCT RT-TH-NOT-HERE-OBJECT,TBL,PRSO?,OBJ
	SET 'PRSO?,1
	.DEBUG-LINE 3,231,1
	EQUAL? GL-PRSO,TH-NOT-HERE-OBJECT \?L3
	EQUAL? GL-PRSI,TH-NOT-HERE-OBJECT \?L1
	.DEBUG-LINE 3,233,1
	.DEBUG-LINE 3,234,1
	PRINTR "Those things aren't here."
	.DEBUG-LINE 3,235,1
?L1:	EQUAL? GL-PRSO,TH-NOT-HERE-OBJECT \?L3
	.DEBUG-LINE 3,236,1
	SET 'TBL,GL-P-PRSO
	JUMP ?L4
	.DEBUG-LINE 3,238,1
?L3:	SET 'TBL,GL-P-PRSI
	.DEBUG-LINE 3,239,1
	SET 'PRSO?,0
	.DEBUG-LINE 3,240,1
?L4:	ZERO? PRSO? /?L5
	.DEBUG-LINE 3,241,1
	EQUAL? GL-PRSA,V?FIND,V?WHO,V?WHAT /?L10
	EQUAL? GL-PRSA,V?WHERE,V?WAIT-FOR,V?WAIT /?L10
	EQUAL? GL-PRSA,V?SAY,V?DRIVE,V?CALL /?L10
	EQUAL? GL-PRSA,V?MAKE,V?PASSWORD,V?WALK-TO /?L10
	EQUAL? GL-PRSA,V?TAKE \?L27
	EQUAL? GL-PLACE-CUR,RM-DIOGENES-CLUB \?L11
	EQUAL? GL-WINNER,CH-BUTLER /?L10
?L11:	EQUAL? GL-PLACE-CUR,RM-SHERMANS-HOUSE \?L27
	EQUAL? GL-WINNER,CH-SHERMAN \?L27
	.DEBUG-LINE 3,248,1
?L10:	CALL RT-FIND-NOT-HERE,TBL,PRSO? >OBJ
	.DEBUG-LINE 3,249,1
	ZERO? OBJ /FALSE
	.DEBUG-LINE 3,250,1
	EQUAL? OBJ,TH-NOT-HERE-OBJECT /?L27
	.DEBUG-LINE 3,251,1
	RETURN 2
	.DEBUG-LINE 3,255,1
?L5:	EQUAL? GL-PRSA,V?TELL-ABOUT,V?ASK-ABOUT,V?ASK-FOR \?L27
	.DEBUG-LINE 3,256,1
	CALL RT-FIND-NOT-HERE,TBL,PRSO? >OBJ
	.DEBUG-LINE 3,257,1
	ZERO? OBJ /FALSE
	.DEBUG-LINE 3,258,1
	EQUAL? OBJ,TH-NOT-HERE-OBJECT /?L27
	.DEBUG-LINE 3,259,1
	RETURN 2
	.DEBUG-LINE 3,262,1
?L27:	PRINTI "["
	.DEBUG-LINE 3,263,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 3,264,1
	PRINTI "cannot "
	.DEBUG-LINE 3,265,1
	EQUAL? GL-PRSA,V?LISTEN \?L29
	.DEBUG-LINE 3,266,1
	PRINTI "hear"
	JUMP ?L32
	.DEBUG-LINE 3,267,1
?L29:	EQUAL? GL-PRSA,V?SMELL \?L31
	.DEBUG-LINE 3,268,1
	PRINTI "smell"
	JUMP ?L32
	.DEBUG-LINE 3,270,1
?L31:	PRINTI "see"
	.DEBUG-LINE 3,271,1
?L32:	GET K-CAPS,0 >STACK
	INTBL? GL-P-XNAM,K-CAPS+2,STACK >STACK /?L33
	.DEBUG-LINE 3,273,1
	PRINTI " any"
	.DEBUG-LINE 3,274,1
?L33:	ICALL2 RT-NOT-HERE-PRINT,PRSO?
	.DEBUG-LINE 3,275,1
	PRINTI " here.]"
	CRLF
	.DEBUG-LINE 3,276,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 3,277,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FAKE-ORPHAN-MSG","TMP"
	.FUNCT RT-FAKE-ORPHAN-MSG,TMP
	.DEBUG-LINE 3,280,1
	ICALL RT-ORPHAN,GL-P-SYNTAX,0
	.DEBUG-LINE 3,281,1
	PRINT K-BE-SPECIFIC-MSG
	.DEBUG-LINE 3,282,1
	GET GL-P-OTBL,K-P-VERBN >TMP
	.DEBUG-LINE 3,283,1
	ZERO? TMP \?L1
	.DEBUG-LINE 3,284,1
	PRINTI "tell"
	JUMP ?L4
	.DEBUG-LINE 3,285,1
?L1:	GETB GL-P-VTBL,2 >STACK
	ZERO? STACK \?L3
	.DEBUG-LINE 3,286,1
	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L4
	.DEBUG-LINE 3,288,1
?L3:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	ICALL RT-WORD-PRINT,STACK,STACK
	.DEBUG-LINE 3,289,1
	PUTB GL-P-VTBL,2,0
	.DEBUG-LINE 3,290,1
?L4:	PRINTI "?]"
	CRLF
	.DEBUG-LINE 3,291,1
	SET 'GL-P-ORPH,1
	.DEBUG-LINE 3,292,1
	SET 'GL-P-GOOD,0
	.DEBUG-LINE 3,293,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TIME-OF-DAY-MSG","WAIT?","TOD"
	.FUNCT RT-TIME-OF-DAY-MSG,WAIT?,TOD
	ASSIGNED? 'WAIT? /?L15
	SET 'WAIT?,0
	.DEBUG-LINE 3,296,1
?L15:	CALL1 RT-TIME-OF-DAY >TOD
	.DEBUG-LINE 3,297,1
	FSET? GL-PLACE-CUR,FL-INDOORS /FALSE
	.DEBUG-LINE 3,298,1
	EQUAL? GL-LAST-OUT-TOD,TOD /FALSE
	.DEBUG-LINE 3,300,1
	ZERO? WAIT? /?L5
	.DEBUG-LINE 3,301,1
	ICALL2 RT-WAIT-TOD-MSG,TOD
	JUMP ?L12
	.DEBUG-LINE 3,303,1
?L5:	CRLF
	.DEBUG-LINE 3,305,1
	ICALL RT-CYOU-MSG,STR?105,STR?104
	.DEBUG-LINE 3,306,1
	PRINTI "that "
	.DEBUG-LINE 3,308,1
	EQUAL? TOD,1 \?L8
	.DEBUG-LINE 3,309,1
	PRINTI "the sky is lighter. Soon it will be sunrise."
	CRLF
	JUMP ?L12
	.DEBUG-LINE 3,311,1
?L8:	EQUAL? TOD,2 \?L10
	.DEBUG-LINE 3,312,1
	PRINTI "the sun has risen... as much as it ever does in England."
	CRLF
	JUMP ?L12
	.DEBUG-LINE 3,314,1
?L10:	EQUAL? TOD,3 \?L11
	.DEBUG-LINE 3,315,1
	PRINTI "the setting sun marks the end of another day. Soon it will be dark."
	CRLF
	JUMP ?L12
	.DEBUG-LINE 3,318,1
?L11:	PRINTI "the sun has set and the mists have rolled in."
	CRLF
	.DEBUG-LINE 3,320,1
?L12:	SET 'GL-LAST-OUT-TOD,TOD
	RETURN GL-LAST-OUT-TOD
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TIME-OF-DAY","TOD"
	.FUNCT RT-TIME-OF-DAY,TOD
	SET 'TOD,0
	.DEBUG-LINE 3,324,1
	CALL RT-CLOCK-CMP,6,30,0 >STACK
	EQUAL? STACK,1 \?L1
	.DEBUG-LINE 3,325,1
	SET 'TOD,0
	JUMP ?L6
	.DEBUG-LINE 3,326,1
?L1:	CALL RT-CLOCK-CMP,7,0,0 >STACK
	EQUAL? STACK,1 \?L3
	.DEBUG-LINE 3,327,1
	SET 'TOD,1
	JUMP ?L6
	.DEBUG-LINE 3,328,1
?L3:	CALL RT-CLOCK-CMP,19,30,0 >STACK
	EQUAL? STACK,1 \?L4
	.DEBUG-LINE 3,329,1
	SET 'TOD,2
	JUMP ?L6
	.DEBUG-LINE 3,330,1
?L4:	CALL RT-CLOCK-CMP,20,0,0 >STACK
	EQUAL? STACK,1 \?L5
	.DEBUG-LINE 3,331,1
	SET 'TOD,3
	JUMP ?L6
	.DEBUG-LINE 3,333,1
?L5:	SET 'TOD,0
	.DEBUG-LINE 3,336,1
?L6:	RETURN TOD
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SPOKEN-TO-MSG","WHO"
	.FUNCT RT-SPOKEN-TO-MSG,WHO
	.DEBUG-LINE 3,344,1
	EQUAL? WHO,GL-P-QCONTEXT-TH \?L3
	EQUAL? GL-PLACE-CUR,GL-P-QCONTEXT-RM /TRUE
	.DEBUG-LINE 3,346,1
?L3:	SET 'GL-P-QCONTEXT-TH,WHO
	.DEBUG-LINE 3,347,1
	LOC WHO >GL-P-QCONTEXT-RM
	.DEBUG-LINE 3,348,1
	ICALL2 RT-THIS-IS-IT,WHO
	.DEBUG-LINE 3,349,1
	PRINTI "[spoken to "
	ICALL2 RT-THEO-PRINT,WHO
	.DEBUG-LINE 3,350,1
	PRINTR "]"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-PREP","SYN","WHICH","PREP"
	.FUNCT RT-GET-PREP,SYN,WHICH,PREP
	.DEBUG-LINE 3,361,1
	EQUAL? WHICH,1 \?L1
	.DEBUG-LINE 3,362,1
	GETB SYN,K-P-SPREP1 >PREP
	JUMP ?L3
	.DEBUG-LINE 3,364,1
?L1:	GETB SYN,K-P-SPREP2 >PREP
	.DEBUG-LINE 3,365,1
?L3:	BAND PREP,63 >PREP
	ZERO? PREP /FALSE
	.DEBUG-LINE 3,366,1
	ADD PREP,192 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SYNTAX-CHECK","SYN","LEN","NUM","OBJ","DRIVE1","DRIVE2","PREP","VERB","TPREP","?TMP","?TMP?1"
	.FUNCT RT-SYNTAX-CHECK,SYN,LEN,NUM,OBJ,DRIVE1,DRIVE2,PREP,VERB,TPREP,?TMP,?TMP?1
	SET 'DRIVE1,0
	SET 'DRIVE2,0
	.DEBUG-LINE 3,370,1
	GET GL-P-ITBL,K-P-VERB >VERB
	.DEBUG-LINE 3,371,1
	ZERO? VERB \?L1
	.DEBUG-LINE 3,372,1
	ICALL2 RT-NOT-IN-SENTENCE-MSG,STR?106
	.DEBUG-LINE 3,373,1
	RFALSE
	.DEBUG-LINE 3,374,1
?L1:	SUB 255,VERB >STACK
	GET VERBS,STACK >SYN
	.DEBUG-LINE 3,375,1
	GETB SYN,0 >LEN
	.DEBUG-LINE 3,376,1
	INC 'SYN
	.DEBUG-LINE 3,379,1
?L4:	GETB SYN,0 >STACK
	SHIFT STACK,-6 >NUM
	.DEBUG-LINE 3,380,1
	GRTR? GL-P-NCN,NUM /?L14
	.DEBUG-LINE 3,382,1
	LESS? NUM,1 /?L8
	ZERO? GL-P-NCN \?L8
	GET GL-P-ITBL,K-P-PREP1 >PREP
	ZERO? PREP /?L9
	CALL RT-GET-PREP,SYN,1 >STACK
	EQUAL? PREP,STACK \?L8
	.DEBUG-LINE 3,387,1
?L9:	SET 'DRIVE1,SYN
	JUMP ?L14
	.DEBUG-LINE 3,388,1
?L8:	CALL RT-GET-PREP,SYN,1 >?TMP
	GET GL-P-ITBL,K-P-PREP1 >STACK
	EQUAL? ?TMP,STACK \?L14
	.DEBUG-LINE 3,391,1
	EQUAL? NUM,2 \?L11
	EQUAL? GL-P-NCN,1 \?L11
	.DEBUG-LINE 3,393,1
	SET 'DRIVE2,SYN
	JUMP ?L14
	.DEBUG-LINE 3,394,1
?L11:	GRTR? NUM,1 /?L56
	GET GL-P-ITBL,K-P-PREP2 >STACK
	ZERO? STACK \?L14
	.DEBUG-LINE 3,396,1
	GRTR? NUM,1 \?L15
?L56:	CALL RT-GET-PREP,SYN,2 >?TMP
	GET GL-P-ITBL,K-P-PREP2 >STACK
	EQUAL? ?TMP,STACK \?L14
	.DEBUG-LINE 3,400,1
?L15:	ICALL2 RT-SYNTAX-FOUND,SYN
	.DEBUG-LINE 3,401,1
	RTRUE
	.DEBUG-LINE 3,402,1
?L14:	DLESS? 'LEN,1 \?L18
	.DEBUG-LINE 3,403,1
	ZERO? DRIVE1 \?L57
	ZERO? DRIVE2 \?L5
	.DEBUG-LINE 3,406,1
	EQUAL? GL-P-NCN,2 \?L23
	ZERO? GL-FUNNY-CLAUSE? /?L23
	.DEBUG-LINE 3,408,1
	SET 'GL-P-NCN,1
	.DEBUG-LINE 3,409,1
	SET 'GL-FUNNY-CLAUSE?,0
	.DEBUG-LINE 3,410,1
	GET GL-P-ITBL,K-P-NC2L >STACK
	PUT GL-P-ITBL,K-P-NC1L,STACK
	.DEBUG-LINE 3,411,1
	CALL1 RT-SYNTAX-CHECK >STACK
	RSTACK
	.DEBUG-LINE 3,413,1
?L23:	PRINT K-DONT-UNDERSTAND-MSG
	CRLF
	.DEBUG-LINE 3,414,1
	RFALSE
	.DEBUG-LINE 3,416,1
?L18:	ZERO? NUM \?L26
	.DEBUG-LINE 3,417,1
	ADD SYN,K-P-SLEN-0 >SYN
	JUMP ?L4
	.DEBUG-LINE 3,418,1
?L26:	EQUAL? NUM,1 \?L28
	.DEBUG-LINE 3,419,1
	ADD SYN,K-P-SLEN-1 >SYN
	JUMP ?L4
	.DEBUG-LINE 3,421,1
?L28:	ADD SYN,K-P-SLEN-2 >SYN
	JUMP ?L4
	.DEBUG-LINE 3,423,1
?L5:	ZERO? DRIVE1 /?L30
?L57:	GETB DRIVE1,K-P-SFWIM1 >?TMP
	GETB DRIVE1,K-P-SLOC1 >?TMP?1
	CALL RT-GET-PREP,DRIVE1,1 >STACK
	CALL RT-GET-WHAT-I-MEAN,?TMP,?TMP?1,STACK >OBJ
	ZERO? OBJ /?L30
	.DEBUG-LINE 3,428,1
	PUT GL-P-PRSO,K-P-MATCHLEN,1
	.DEBUG-LINE 3,429,1
	PUT GL-P-PRSO,1,OBJ
	.DEBUG-LINE 3,430,1
	ICALL2 RT-SYNTAX-FOUND,DRIVE1
	.DEBUG-LINE 3,431,1
	RTRUE
	.DEBUG-LINE 3,432,1
?L30:	ZERO? DRIVE2 /?L32
	GETB DRIVE2,K-P-SFWIM2 >?TMP
	GETB DRIVE2,K-P-SLOC2 >?TMP?1
	CALL RT-GET-PREP,DRIVE2,2 >STACK
	CALL RT-GET-WHAT-I-MEAN,?TMP,?TMP?1,STACK >OBJ
	ZERO? OBJ /?L32
	.DEBUG-LINE 3,437,1
	PUT GL-P-PRSI,K-P-MATCHLEN,1
	.DEBUG-LINE 3,438,1
	PUT GL-P-PRSI,1,OBJ
	.DEBUG-LINE 3,439,1
	ICALL2 RT-SYNTAX-FOUND,DRIVE2
	.DEBUG-LINE 3,440,1
	RTRUE
	.DEBUG-LINE 3,441,1
?L32:	EQUAL? VERB,ACT?FIND \?L33
	.DEBUG-LINE 3,442,1
	PRINT K-DO-IT-YOURSELF-MSG
	CRLF
	.DEBUG-LINE 3,443,1
	RFALSE
	.DEBUG-LINE 3,445,1
?L33:	EQUAL? GL-WINNER,CH-PLAYER \?L35
	.DEBUG-LINE 3,446,1
	ICALL RT-ORPHAN,DRIVE1,DRIVE2
	.DEBUG-LINE 3,447,1
	PRINTI "[Wh"
	JUMP ?L37
	.DEBUG-LINE 3,449,1
?L35:	PRINTI "[Your command was not complete. Type wh"
	.DEBUG-LINE 3,450,1
?L37:	EQUAL? VERB,ACT?WALK,ACT?GO \?L38
	.DEBUG-LINE 3,451,1
	PRINTI "ere"
	JUMP ?L43
	.DEBUG-LINE 3,452,1
?L38:	ZERO? DRIVE1 /?L42
	GETB DRIVE1,K-P-SFWIM1 >STACK
	EQUAL? STACK,FL-PERSON /?L41
?L42:	ZERO? DRIVE2 /?L40
	GETB DRIVE2,K-P-SFWIM2 >STACK
	EQUAL? STACK,FL-PERSON \?L40
	.DEBUG-LINE 3,456,1
?L41:	PRINTI "om"
	JUMP ?L43
	.DEBUG-LINE 3,458,1
?L40:	PRINTI "at"
	.DEBUG-LINE 3,459,1
?L43:	EQUAL? GL-WINNER,CH-PLAYER \?L44
	.DEBUG-LINE 3,460,1
	PRINTI " do you want to "
	JUMP ?L46
	.DEBUG-LINE 3,462,1
?L44:	PRINTI " you want "
	ICALL2 RT-THEO-PRINT,GL-WINNER
	PRINTI " to "
	.DEBUG-LINE 3,463,1
?L46:	ICALL1 RT-VERB-PRINT
	.DEBUG-LINE 3,464,1
	ZERO? DRIVE2 /?L47
	.DEBUG-LINE 3,465,1
	ICALL RT-CLAUSE-PRINT,K-P-NC1,K-P-NC1L
	.DEBUG-LINE 3,466,1
?L47:	SET 'GL-P-END-ON-PREP,0
	.DEBUG-LINE 3,467,1
	ZERO? DRIVE1 /?L50
	.DEBUG-LINE 3,468,1
	CALL RT-GET-PREP,DRIVE1,1 >STACK
	JUMP ?L52
	.DEBUG-LINE 3,471,1
?L50:	CALL RT-GET-PREP,DRIVE2,2 >STACK
?L52:	ICALL2 RT-PREP-PRINT,STACK
	.DEBUG-LINE 3,473,1
	EQUAL? GL-WINNER,CH-PLAYER \?L53
	.DEBUG-LINE 3,474,1
	SET 'GL-P-ORPH,1
	.DEBUG-LINE 3,475,1
	PRINTI "?]"
	CRLF
	RFALSE
	.DEBUG-LINE 3,477,1
?L53:	SET 'GL-P-ORPH,0
	.DEBUG-LINE 3,478,1
	PRINTI ".]"
	CRLF
	.DEBUG-LINE 3,479,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLAUSE","PTR","VAL","WRD","OFF","NUM","ANDFLG","FIRST??","NW","LW","TPTR","TMP"
	.FUNCT RT-CLAUSE,PTR,VAL,WRD,OFF,NUM,ANDFLG,FIRST??,NW,LW,TPTR,TMP
	SET 'ANDFLG,0
	SET 'FIRST??,1
	SET 'LW,0
	.DEBUG-LINE 3,489,1
	SUB GL-P-NCN,1 >STACK
	MUL STACK,2 >OFF
	.DEBUG-LINE 3,490,1
	ZERO? VAL /?L1
	.DEBUG-LINE 3,491,1
	ADD K-P-PREP1,OFF >NUM
	PUT GL-P-ITBL,NUM,VAL
	.DEBUG-LINE 3,492,1
	ADD NUM,1 >STACK
	PUT GL-P-ITBL,STACK,WRD
	.DEBUG-LINE 3,493,1
	ADD PTR,K-P-LEXELEN >PTR
	JUMP ?L3
	.DEBUG-LINE 3,495,1
?L1:	INC 'GL-P-LEN
	.DEBUG-LINE 3,496,1
?L3:	ZERO? GL-P-LEN \?L4
	.DEBUG-LINE 3,497,1
	DEC 'GL-P-NCN
	.DEBUG-LINE 3,498,1
	RETURN -1
	.DEBUG-LINE 3,499,1
?L4:	ADD K-P-NC1,OFF >NUM
	MUL PTR,2 >STACK
	ADD GL-P-P-LEX,STACK >STACK
	PUT GL-P-ITBL,NUM,STACK
	.DEBUG-LINE 3,500,1
	GET GL-P-P-LEX,PTR >STACK
	EQUAL? STACK,W?THE,W?A,W?AN \?L7
	.DEBUG-LINE 3,501,1
	GET GL-P-ITBL,NUM >STACK
	ADD STACK,4 >STACK
	PUT GL-P-ITBL,NUM,STACK
	.DEBUG-LINE 3,503,1
?L7:	DLESS? 'GL-P-LEN,0 \?L12
	.DEBUG-LINE 3,504,1
	MUL PTR,2 >STACK
	ADD GL-P-P-LEX,STACK >STACK
	ADD NUM,1 >STACK
	PUT GL-P-ITBL,STACK,STACK
	.DEBUG-LINE 3,505,1
	RETURN -1
	.DEBUG-LINE 3,508,1
?L12:	GET GL-P-P-LEX,PTR >WRD
	ZERO? WRD \?L17
	CALL2 RT-NUMBER?,PTR >WRD
	ZERO? WRD /?L15
	.DEBUG-LINE 3,511,1
?L17:	ZERO? GL-P-LEN \?L18
	.DEBUG-LINE 3,512,1
	SET 'NW,0
	JUMP ?L23
	.DEBUG-LINE 3,514,1
?L18:	ADD PTR,K-P-LEXELEN >TPTR
	GET GL-P-P-LEX,TPTR >NW
	ZERO? NW \?L23
	.DEBUG-LINE 3,516,1
	EQUAL? WRD,W?INTNUM /?L23
	.DEBUG-LINE 3,517,1
	CALL2 RT-NUMBER?,TPTR >NW
	.DEBUG-LINE 3,518,1
	PUT GL-P-P-LEX,TPTR,NW
	.DEBUG-LINE 3,524,1
?L23:	EQUAL? WRD,W?$PERIOD \?L27
	EQUAL? LW,W?MR,W?MRS,W?MISS /?L29
	EQUAL? LW,W?DR \?L27
	.DEBUG-LINE 3,527,1
?L29:	SET 'LW,0
	JUMP ?L65
	.DEBUG-LINE 3,528,1
?L27:	EQUAL? WRD,W?AND,W?$COMMA \?L30
	.DEBUG-LINE 3,529,1
	SET 'ANDFLG,1
	JUMP ?L65
	.DEBUG-LINE 3,530,1
?L30:	EQUAL? WRD,W?ALL,W?BOTH,W?EVERYTHING \?L31
	.DEBUG-LINE 3,531,1
	EQUAL? NW,W?OF \?L65
	.DEBUG-LINE 3,532,1
	DEC 'GL-P-LEN
	.DEBUG-LINE 3,533,1
	ADD PTR,K-P-LEXELEN >PTR
	JUMP ?L65
	.DEBUG-LINE 3,534,1
?L31:	EQUAL? WRD,W?THEN,W?$PERIOD /?L36
	GETB WRD,6 >STACK
	BTST STACK,8 \?L35
	GET GL-P-ITBL,K-P-VERB >STACK
	ZERO? STACK /?L35
	ZERO? FIRST?? \?L35
	.DEBUG-LINE 3,538,1
?L36:	INC 'GL-P-LEN
	.DEBUG-LINE 3,539,1
	MUL PTR,2 >STACK
	ADD GL-P-P-LEX,STACK >STACK
	ADD NUM,1 >STACK
	PUT GL-P-ITBL,STACK,STACK
	.DEBUG-LINE 3,541,1
	SUB PTR,K-P-LEXELEN >STACK
	RSTACK
	.DEBUG-LINE 3,542,1
?L35:	ZERO? ANDFLG /?L37
	GET GL-P-ITBL,K-P-VERBN >STACK
	ZERO? STACK /?L38
	CALL2 RT-VERB-DIR-ONLY?,WRD >STACK
	ZERO? STACK /?L37
	.DEBUG-LINE 3,545,1
?L38:	SUB PTR,4 >PTR
	.DEBUG-LINE 3,546,1
	ADD PTR,2 >STACK
	ICALL RT-CHANGE-LEXV,STACK,W?THEN
	.DEBUG-LINE 3,547,1
	ADD GL-P-LEN,2 >GL-P-LEN
	JUMP ?L65
	.DEBUG-LINE 3,548,1
?L37:	GETB WRD,6 >STACK
	BTST STACK,128 \?L39
	.DEBUG-LINE 3,549,1
	GRTR? GL-P-LEN,0 \?L40
	EQUAL? NW,W?OF \?L40
	EQUAL? WRD,W?ALL,W?EVERYTHING /?L40
	.DEBUG-LINE 3,552,1
	SUB GL-P-NCN,1 >STACK
	PUT GL-P-OFW,STACK,WRD
	JUMP ?L65
	.DEBUG-LINE 3,553,1
?L40:	GETB WRD,6 >STACK
	BTST STACK,32 \?L42
	ZERO? NW /?L42
	GETB NW,6 >STACK
	BTST STACK,128 \?L42
	.DEBUG-LINE 3,556,1
	EQUAL? WRD,W?INTNUM \?L43
	EQUAL? NW,W?HOUR,W?HOURS,W?MINUTE /?L65
	EQUAL? NW,W?MINUTES /?L65
	.DEBUG-LINE 3,560,1
?L43:	EQUAL? NW,W?TOMB /?L65
	.DEBUG-LINE 3,562,1
	EQUAL? WRD,W?BOX \?L48
	.DEBUG-LINE 3,563,1
	EQUAL? NW,W?INTNUM /?L53
	.DEBUG-LINE 3,564,1
	SET 'TMP,1
	JUMP ?L53
	.DEBUG-LINE 3,565,1
?L48:	EQUAL? WRD,W?TOMB \?L53
	.DEBUG-LINE 3,566,1
	SET 'TMP,1
	.DEBUG-LINE 3,568,1
?L53:	ZERO? TMP /?L65
	.DEBUG-LINE 3,569,1
	SET 'GL-FUNNY-CLAUSE?,1
	.DEBUG-LINE 3,570,1
	INC 'NUM
	ADD PTR,2 >STACK
	MUL STACK,2 >STACK
	ADD GL-P-P-LEX,STACK >STACK
	PUT GL-P-ITBL,NUM,STACK
	.DEBUG-LINE 3,573,1
	RETURN PTR
	.DEBUG-LINE 3,575,1
?L42:	ZERO? ANDFLG \?L58
	EQUAL? NW,W?BUT,W?EXCEPT,W?AND /?L58
	EQUAL? NW,W?$COMMA /?L58
	.DEBUG-LINE 3,578,1
	ADD PTR,2 >STACK
	MUL STACK,2 >STACK
	ADD GL-P-P-LEX,STACK >STACK
	ADD NUM,1 >STACK
	PUT GL-P-ITBL,STACK,STACK
	.DEBUG-LINE 3,580,1
	RETURN PTR
	.DEBUG-LINE 3,582,1
?L58:	SET 'ANDFLG,0
	JUMP ?L65
	.DEBUG-LINE 3,583,1
?L39:	ZERO? GL-P-MERGED \?L61
	ZERO? GL-P-ORPH \?L61
	GET GL-P-ITBL,K-P-VERB >STACK
	ZERO? STACK /?L60
?L61:	GETB WRD,6 >STACK
	BAND STACK,36 >STACK
	ZERO? STACK \?L65
	.DEBUG-LINE 3,587,1
?L60:	ZERO? ANDFLG /?L62
	GET GL-P-ITBL,K-P-VERB >STACK
	ZERO? STACK \?L62
	.DEBUG-LINE 3,589,1
	SUB PTR,4 >PTR
	.DEBUG-LINE 3,590,1
	ADD PTR,2 >STACK
	ICALL RT-CHANGE-LEXV,STACK,W?THEN
	.DEBUG-LINE 3,591,1
	ADD GL-P-LEN,2 >GL-P-LEN
	JUMP ?L65
	.DEBUG-LINE 3,592,1
?L62:	GETB WRD,6 >STACK
	BTST STACK,8 /?L65
	.DEBUG-LINE 3,595,1
	ICALL2 RT-DONT-KNOW-WORD-USE-MSG,PTR
	.DEBUG-LINE 3,596,1
	RFALSE
	.DEBUG-LINE 3,598,1
?L15:	ICALL2 RT-DONT-KNOW-WORD-MSG,PTR
	.DEBUG-LINE 3,599,1
	RFALSE
	.DEBUG-LINE 3,600,1
?L65:	SET 'LW,WRD
	.DEBUG-LINE 3,601,1
	SET 'FIRST??,0
	.DEBUG-LINE 3,602,1
	ADD PTR,K-P-LEXELEN >PTR
	JUMP ?L7
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-WHAT-I-MEAN","GBIT","LBIT","PREP","NO-ROOMS?","SILENT?","OBJ"
	.FUNCT RT-GET-WHAT-I-MEAN,GBIT,LBIT,PREP,NO-ROOMS?,SILENT?,OBJ
	ASSIGNED? 'NO-ROOMS? /?L20
	SET 'NO-ROOMS?,0
?L20:	ASSIGNED? 'SILENT? /?L21
	SET 'SILENT?,0
	.DEBUG-LINE 3,610,1
?L21:	EQUAL? GBIT,FL-LOCATION \?L1
	.DEBUG-LINE 3,611,1
	RETURN ROOMS
	.DEBUG-LINE 3,612,1
?L1:	ZERO? GL-P-IT-OBJECT /?L3
	FSET? GL-P-IT-OBJECT,GBIT \?L3
	.DEBUG-LINE 3,614,1
	ZERO? SILENT? \?L4
	.DEBUG-LINE 3,614,1
	PRINTI "["
	ICALL2 RT-THEO-PRINT,GL-P-IT-OBJECT
	PRINTI "]"
	CRLF
	.DEBUG-LINE 3,615,1
?L4:	RETURN GL-P-IT-OBJECT
	.DEBUG-LINE 3,616,1
?L3:	SET 'INHIBIT-ROOMS,NO-ROOMS?
	.DEBUG-LINE 3,617,1
	SET 'GL-P-GWIMBIT,GBIT
	.DEBUG-LINE 3,618,1
	SET 'GL-P-SLOCBITS,LBIT
	.DEBUG-LINE 3,619,1
	PUT GL-P-MERGE,K-P-MATCHLEN,0
	.DEBUG-LINE 3,620,1
	CALL RT-GET-OBJECT,GL-P-MERGE,0 >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 3,621,1
	SET 'GL-P-GWIMBIT,0
	.DEBUG-LINE 3,622,1
	GET GL-P-MERGE,K-P-MATCHLEN >STACK
	EQUAL? STACK,1 \FALSE
	.DEBUG-LINE 3,623,1
	GET GL-P-MERGE,1 >OBJ
	.DEBUG-LINE 3,624,1
	EQUAL? GL-WINNER,CH-PLAYER \?L12
	EQUAL? OBJ,TH-HANDS /?L12
	ZERO? SILENT? \?L12
	.DEBUG-LINE 3,627,1
	PRINTI "["
	.DEBUG-LINE 3,628,1
	CALL RT-PREP-PRINT,PREP,0 >STACK
	ZERO? STACK /?L14
	.DEBUG-LINE 3,629,1
	PRINTC 32
	.DEBUG-LINE 3,630,1
?L14:	ICALL2 RT-THEO-PRINT,OBJ
	.DEBUG-LINE 3,631,1
	PRINTI "]"
	CRLF
	.DEBUG-LINE 3,632,1
?L12:	SET 'INHIBIT-ROOMS,0
	.DEBUG-LINE 3,633,1
	RETURN OBJ
	.DEBUG-LINE 3,635,1
?L8:	SET 'GL-P-GWIMBIT,0
	.DEBUG-LINE 3,636,1
	SET 'INHIBIT-ROOMS,0
	.DEBUG-LINE 3,637,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-P-CLEAR"
	.FUNCT RT-P-CLEAR
	.DEBUG-LINE 3,648,1
	SET 'GL-P-CONT,0
	.DEBUG-LINE 3,649,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,650,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PICK-NEXT","TBL","CNT","STR","NT"
	.FUNCT RT-PICK-NEXT,TBL,CNT,STR,NT
	.DEBUG-LINE 3,658,1
	GETB TBL,0 >CNT
	.DEBUG-LINE 3,659,1
	ADD TBL,1 >STACK
	GET STACK,0 >NT
	.DEBUG-LINE 3,660,1
	GET NT,CNT >STR
	.DEBUG-LINE 3,661,1
	INC 'CNT
	GET NT,0 >STACK
	GRTR? CNT,STACK \?L1
	.DEBUG-LINE 3,662,1
	SET 'CNT,1
	.DEBUG-LINE 3,663,1
?L1:	PUTB TBL,0,CNT
	.DEBUG-LINE 3,664,1
	RETURN STR
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-QCONTEXT-GOOD?"
	.FUNCT RT-QCONTEXT-GOOD?
	.DEBUG-LINE 3,667,1
	ZERO? GL-WHERE-TO-ORPH? \FALSE
	ZERO? GL-P-QCONTEXT-TH /FALSE
	FSET? GL-P-QCONTEXT-TH,FL-PERSON \FALSE
	EQUAL? GL-PLACE-CUR,GL-P-QCONTEXT-RM \FALSE
	CALL2 RT-VISIBLE?,GL-P-QCONTEXT-TH >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,672,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FIND-PERSON","THING","OBJ","OBJ1","WHO-P","WHO-A"
	.FUNCT RT-FIND-PERSON,THING,OBJ,OBJ1,WHO-P,WHO-A
	SET 'WHO-P,0
	SET 'WHO-A,0
	.DEBUG-LINE 3,677,1
	FIRST? THING >OBJ \?L25
	.DEBUG-LINE 3,681,1
?L4:	FSET? OBJ,FL-PERSON \?L6
	.DEBUG-LINE 3,682,1
	FSET? OBJ,FL-PLURAL /?L14
	EQUAL? OBJ,CH-PLAYER,GL-WINNER /?L14
	.DEBUG-LINE 3,684,1
	FSET? OBJ,FL-ASLEEP /?L14
	.DEBUG-LINE 3,685,1
	EQUAL? OBJ,GL-PUPPY \?L3
	.DEBUG-LINE 3,686,1
	SET 'WHO-P,OBJ
	JUMP ?L14
	.DEBUG-LINE 3,689,1
?L6:	FSET? OBJ,FL-SURFACE /?L15
	FSET? OBJ,FL-CONTAINER \?L14
	FSET? OBJ,FL-OPENED \?L14
	.DEBUG-LINE 3,692,1
?L15:	SET 'OBJ1,OBJ
	.DEBUG-LINE 3,693,1
	CALL2 RT-FIND-PERSON,OBJ >OBJ
	ZERO? OBJ /?L21
	.DEBUG-LINE 3,694,1
	FSET? OBJ,FL-ASLEEP /?L21
	.DEBUG-LINE 3,695,1
	EQUAL? OBJ,GL-PUPPY \?L3
	.DEBUG-LINE 3,696,1
	SET 'WHO-P,OBJ
	.DEBUG-LINE 3,699,1
?L21:	SET 'OBJ,OBJ1
	.DEBUG-LINE 3,700,1
?L14:	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 3,701,1
?L3:	ZERO? OBJ /?L25
	.DEBUG-LINE 3,702,1
	RETURN OBJ
	.DEBUG-LINE 3,703,1
?L25:	ZERO? WHO-P /FALSE
	.DEBUG-LINE 3,704,1
	RETURN WHO-P
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ANYONE-HERE?"
	.FUNCT RT-ANYONE-HERE?
	.DEBUG-LINE 3,710,1
	CALL1 RT-QCONTEXT-GOOD? >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 3,711,1
	RETURN GL-P-QCONTEXT-TH
	.DEBUG-LINE 3,713,1
?L1:	CALL2 RT-FIND-PERSON,GL-PLACE-CUR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-ALL","FROM","TO","OBJ","NXT"
	.FUNCT RT-MOVE-ALL,FROM,TO,OBJ,NXT
	.DEBUG-LINE 3,716,1
	FIRST? FROM >OBJ /?L4
	RTRUE
	.DEBUG-LINE 3,718,1
?L1:	ZERO? OBJ /TRUE
	.DEBUG-LINE 3,720,1
?L4:	NEXT? OBJ >NXT /?L7
	.DEBUG-LINE 3,721,1
?L7:	MOVE OBJ,TO
	.DEBUG-LINE 3,722,1
	SET 'OBJ,NXT
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GOT?","OBJ"
	.FUNCT RT-GOT?,OBJ
	.DEBUG-LINE 3,726,1
	ZERO? OBJ /FALSE
	.DEBUG-LINE 3,728,1
	EQUAL? GL-WINNER,CH-PLAYER \?L3
	IN? OBJ,TH-POCKET /TRUE
	.DEBUG-LINE 3,731,1
?L3:	CALL2 RT-HELD?,OBJ >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,732,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HELD?","OBJ","L"
	.FUNCT RT-HELD?,OBJ,L
	.DEBUG-LINE 3,737,1
	ZERO? OBJ /FALSE
	.DEBUG-LINE 3,739,1
	FSET? OBJ,FL-TAKEABLE /?L3
	FSET? OBJ,FL-TRYTAKE \FALSE
	.DEBUG-LINE 3,742,1
?L3:	LOC OBJ >L
	.DEBUG-LINE 3,743,1
	EQUAL? L,0,ROOMS,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 3,745,1
	EQUAL? L,GL-WINNER /TRUE
	.DEBUG-LINE 3,747,1
	EQUAL? GL-WINNER,CH-PLAYER \?L8
	EQUAL? L,TH-POCKET /FALSE
	.DEBUG-LINE 3,751,1
?L8:	CALL2 RT-HELD?,L >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THIS-IS-IT","OBJ"
	.FUNCT RT-THIS-IS-IT,OBJ
	.DEBUG-LINE 3,754,1
	EQUAL? OBJ,0,CH-PLAYER,TH-NOT-HERE-OBJECT /TRUE
	EQUAL? OBJ,TH-INTDIR,TH-INTNUM,TH-LEFT /TRUE
	EQUAL? OBJ,TH-RIGHT /TRUE
	.DEBUG-LINE 3,758,1
	EQUAL? GL-PRSA,V?WALK,V?WALK-TO \?L4
	EQUAL? OBJ,GL-PRSO /TRUE
	.DEBUG-LINE 3,761,1
?L4:	FSET? OBJ,FL-PERSON \?L6
	FSET? OBJ,FL-FEMALE \?L5
	.DEBUG-LINE 3,763,1
	SET 'GL-P-HER-OBJECT,OBJ
	.DEBUG-LINE 3,764,1
	RTRUE
	.DEBUG-LINE 3,765,1
?L5:	FSET? OBJ,FL-PERSON \?L6
	FSET? OBJ,FL-FEMALE /?L6
	.DEBUG-LINE 3,767,1
	SET 'GL-P-HIM-OBJECT,OBJ
	.DEBUG-LINE 3,768,1
	RTRUE
	.DEBUG-LINE 3,769,1
?L6:	FSET? OBJ,FL-COLLECTIVE \?L7
	.DEBUG-LINE 3,770,1
	SET 'GL-P-THEM-OBJECT,OBJ
	.DEBUG-LINE 3,771,1
	SET 'GL-P-IT-OBJECT,OBJ
	.DEBUG-LINE 3,772,1
	RTRUE
	.DEBUG-LINE 3,773,1
?L7:	FSET? OBJ,FL-PLURAL \?L8
	.DEBUG-LINE 3,774,1
	SET 'GL-P-THEM-OBJECT,OBJ
	.DEBUG-LINE 3,775,1
	RTRUE
	.DEBUG-LINE 3,777,1
?L8:	FSET? OBJ,FL-NEEDS-IDENTITY \?L10
	.DEBUG-LINE 3,778,1
	GETP OBJ,P?OBJ-NOUN >STACK
	PUTP TH-IT,P?OBJ-NOUN,STACK
	.DEBUG-LINE 3,779,1
	GETP OBJ,P?OBJ-ADJ >STACK
	PUTP TH-IT,P?OBJ-ADJ,STACK
	JUMP ?L12
	.DEBUG-LINE 3,781,1
?L10:	PUTP TH-IT,P?OBJ-NOUN,0
	.DEBUG-LINE 3,782,1
	PUTP TH-IT,P?OBJ-ADJ,0
	.DEBUG-LINE 3,783,1
?L12:	SET 'GL-P-IT-OBJECT,OBJ
	.DEBUG-LINE 3,784,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CHANGE-LEXV","PTR","WRD","PTRS?","X","Y","Z"
	.FUNCT RT-CHANGE-LEXV,PTR,WRD,PTRS?,X,Y,Z
	ASSIGNED? 'PTRS? /?L4
	SET 'PTRS?,0
	.DEBUG-LINE 3,787,1
?L4:	ZERO? PTRS? /?L1
	.DEBUG-LINE 3,788,1
	SUB PTR,K-P-LEXELEN >STACK
	MUL 2,STACK >STACK
	ADD 2,STACK >X
	.DEBUG-LINE 3,789,1
	GETB GL-P-P-LEX,X >Y
	.DEBUG-LINE 3,790,1
	MUL 2,PTR >STACK
	ADD 2,STACK >Z
	.DEBUG-LINE 3,791,1
	PUTB GL-P-P-LEX,Z,Y
	.DEBUG-LINE 3,792,1
	PUTB GL-P-S-LEX,Z,Y
	.DEBUG-LINE 3,793,1
	ADD 1,X >STACK
	GETB GL-P-P-LEX,STACK >Y
	.DEBUG-LINE 3,794,1
	MUL 2,PTR >STACK
	ADD 3,STACK >Z
	.DEBUG-LINE 3,795,1
	PUTB GL-P-P-LEX,Z,Y
	.DEBUG-LINE 3,796,1
	PUTB GL-P-S-LEX,Z,Y
	.DEBUG-LINE 3,797,1
?L1:	PUT GL-P-P-LEX,PTR,WRD
	.DEBUG-LINE 3,798,1
	PUT GL-P-S-LEX,PTR,WRD
	.DEBUG-LINE 3,799,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WT?","PTR","BIT","B1","OFFS","TYP","TBL"
	.FUNCT RT-WT?,PTR,BIT,B1,OFFS,TYP,TBL
	ASSIGNED? 'B1 /?L11
	SET 'B1,5
?L11:	SET 'OFFS,K-P-P1OFF
	.DEBUG-LINE 3,814,1
	GETB PTR,K-P-PSOFF >TYP
	BTST TYP,BIT \FALSE
	.DEBUG-LINE 3,815,1
	GRTR? B1,4 /TRUE
	.DEBUG-LINE 3,817,1
	EQUAL? BIT,PS?PREPOSITION \?L5
	.DEBUG-LINE 3,820,1
	GET PREPOSITIONS,0 >STACK
	ADD PREPOSITIONS,2 >STACK
	INTBL? PTR,STACK,STACK,131 >TBL \FALSE
	.DEBUG-LINE 3,822,1
	GETB TBL,2 >STACK
	RSTACK
	.DEBUG-LINE 3,824,1
?L5:	BAND TYP,K-P-P1BITS >TYP
	.DEBUG-LINE 3,829,1
	GETB PTR,OFFS >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-VERB-DIR-ONLY?","WRD"
	.FUNCT RT-VERB-DIR-ONLY?,WRD
	.DEBUG-LINE 3,837,1
	GETB WRD,6 >STACK
	BAND STACK,160 >STACK
	ZERO? STACK \FALSE
	GETB WRD,6 >STACK
	BAND STACK,80 >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,839,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-STUFF","DEST","SRC","MAX"
	.FUNCT RT-STUFF,DEST,SRC,MAX
	ASSIGNED? 'MAX /?L1
	SET 'MAX,29
	.DEBUG-LINE 3,852,1
?L1:	MUL MAX,K-P-WORDLEN >STACK
	ADD K-P-LEXSTART,STACK >STACK
	COPYT SRC,DEST,STACK
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INBUF-ADD","LEN","BEG","SLOT","DBEG","CTR","TMP","?TMP"
	.FUNCT RT-INBUF-ADD,LEN,BEG,SLOT,DBEG,CTR,TMP,?TMP
	SET 'CTR,0
	.DEBUG-LINE 3,861,1
	GET GL-OOPS-TABLE,K-O-END >TMP
	.DEBUG-LINE 3,863,1
	ZERO? TMP /?L1
	.DEBUG-LINE 3,864,1
	SET 'DBEG,TMP
	JUMP ?L3
	.DEBUG-LINE 3,867,1
?L1:	GET GL-OOPS-TABLE,K-O-LENGTH >TMP
	GETB GL-P-S-LEX,TMP >?TMP
	ADD TMP,1 >STACK
	GETB GL-P-S-LEX,STACK >STACK
	ADD ?TMP,STACK >DBEG
	.DEBUG-LINE 3,873,1
?L3:	ADD DBEG,LEN >STACK
	PUT GL-OOPS-TABLE,K-O-END,STACK
	.DEBUG-LINE 3,875,1
	ADD GL-OOPS-INBUF,DBEG >STACK
	ADD GL-P-PIBUF,BEG >STACK
	COPYT STACK,STACK,LEN
	.DEBUG-LINE 3,882,1
	PUTB GL-P-S-LEX,SLOT,DBEG
	.DEBUG-LINE 3,883,1
	SUB SLOT,1 >STACK
	PUTB GL-P-S-LEX,STACK,LEN
	.DEBUG-LINE 3,884,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ACLAUSE-WIN","ADJ","X"
	.FUNCT RT-ACLAUSE-WIN,ADJ,X
	.DEBUG-LINE 3,892,1
	GET GL-P-OTBL,K-P-VERB >STACK
	PUT GL-P-ITBL,K-P-VERB,STACK
	.DEBUG-LINE 3,893,1
	ADD GL-P-ACLAUSE,1 >X
	.DEBUG-LINE 3,894,1
	IXCALL RT-CLAUSE-COPY,GL-P-OTBL,GL-P-OTBL,GL-P-ACLAUSE,X,GL-P-ACLAUSE,X,ADJ
	.DEBUG-LINE 3,897,1
	GET GL-P-OTBL,K-P-NC2 >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 3,897,1
	SET 'GL-P-NCN,2
	.DEBUG-LINE 3,898,1
?L1:	SET 'GL-P-ACLAUSE,0
	.DEBUG-LINE 3,899,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NCLAUSE-WIN"
	.FUNCT RT-NCLAUSE-WIN
	.DEBUG-LINE 3,907,1
	ADD GL-P-ACLAUSE,1 >STACK
	IXCALL RT-CLAUSE-COPY,GL-P-ITBL,GL-P-OTBL,K-P-NC1,K-P-NC1L,GL-P-ACLAUSE,STACK
	.DEBUG-LINE 3,910,1
	GET GL-P-OTBL,K-P-NC2 >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 3,910,1
	SET 'GL-P-NCN,2
	.DEBUG-LINE 3,911,1
?L1:	SET 'GL-P-ACLAUSE,0
	.DEBUG-LINE 3,912,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ORPHAN-VERB","VERB","PREVERB"
	.FUNCT RT-ORPHAN-VERB,VERB,PREVERB
	.DEBUG-LINE 3,920,1
	PUT GL-P-VTBL,0,VERB
	.DEBUG-LINE 3,922,1
	PUT GL-P-OTBL,K-P-VERB,PREVERB
	.DEBUG-LINE 3,923,1
	PUT GL-P-OTBL,K-P-VERBN,GL-P-VTBL
	.DEBUG-LINE 3,924,1
	PUT GL-P-OTBL,K-P-PREP1,0
	.DEBUG-LINE 3,925,1
	PUT GL-P-OTBL,K-P-PREP1N,0
	.DEBUG-LINE 3,926,1
	PUT GL-P-OTBL,K-P-PREP2,0
	.DEBUG-LINE 3,927,1
	PUT GL-P-OTBL,5,0
	.DEBUG-LINE 3,928,1
	PUT GL-P-OTBL,K-P-NC1,1
	.DEBUG-LINE 3,929,1
	PUT GL-P-OTBL,K-P-NC1L,0
	.DEBUG-LINE 3,930,1
	PUT GL-P-OTBL,K-P-NC2,0
	.DEBUG-LINE 3,931,1
	PUT GL-P-OTBL,K-P-NC2L,0
	.DEBUG-LINE 3,933,1
	SET 'GL-P-ORPH,1
	RETURN GL-P-ORPH
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ORPHAN","D1","D2","CNT"
	.FUNCT RT-ORPHAN,D1,D2,CNT
	SET 'CNT,-1
	.DEBUG-LINE 3,941,1
	ZERO? GL-P-MERGED \?L1
	.DEBUG-LINE 3,942,1
	PUT GL-P-OCLAUSE,K-P-MATCHLEN,0
	.DEBUG-LINE 3,943,1
?L1:	GET GL-P-VTBL,0 >STACK
	PUT GL-P-OVTBL,0,STACK
	.DEBUG-LINE 3,944,1
	GETB GL-P-VTBL,2 >STACK
	PUTB GL-P-OVTBL,2,STACK
	.DEBUG-LINE 3,945,1
	GETB GL-P-VTBL,3 >STACK
	PUTB GL-P-OVTBL,3,STACK
	.DEBUG-LINE 3,946,1
	COPYT GL-P-ITBL,GL-P-OTBL,20
	.DEBUG-LINE 3,952,1
	EQUAL? GL-P-NCN,2 \?L4
	.DEBUG-LINE 3,953,1
	IXCALL RT-CLAUSE-COPY,GL-P-ITBL,GL-P-OTBL,K-P-NC2,K-P-NC2L,K-P-NC2,K-P-NC2L
	.DEBUG-LINE 3,955,1
?L4:	LESS? GL-P-NCN,1 /?L7
	.DEBUG-LINE 3,956,1
	IXCALL RT-CLAUSE-COPY,GL-P-ITBL,GL-P-OTBL,K-P-NC1,K-P-NC1L,K-P-NC1,K-P-NC1L
	.DEBUG-LINE 3,958,1
?L7:	ZERO? D1 /?L10
	.DEBUG-LINE 3,959,1
	CALL RT-GET-PREP,D1,1 >STACK
	PUT GL-P-OTBL,K-P-PREP1,STACK
	.DEBUG-LINE 3,960,1
	PUT GL-P-OTBL,K-P-NC1,1
	RTRUE
	.DEBUG-LINE 3,961,1
?L10:	ZERO? D2 /FALSE
	.DEBUG-LINE 3,962,1
	CALL RT-GET-PREP,D2,2 >STACK
	PUT GL-P-OTBL,K-P-PREP2,STACK
	.DEBUG-LINE 3,963,1
	PUT GL-P-OTBL,K-P-NC2,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ORPHAN-MERGE","CNT","TEMP","VERB","BEG","END","ADJ","WRD"
	.FUNCT RT-ORPHAN-MERGE,CNT,TEMP,VERB,BEG,END,ADJ,WRD
	SET 'CNT,-1
	SET 'ADJ,0
	.DEBUG-LINE 3,970,1
	SET 'GL-P-ORPH,0
	.DEBUG-LINE 3,971,1
	GET GL-P-ITBL,K-P-VERBN >WRD
	ZERO? WRD /?L7
	GET WRD,0 >WRD
	ZERO? WRD /?L7
	.DEBUG-LINE 3,974,1
	GET GL-P-OTBL,K-P-VERB >STACK
	GET GL-P-ITBL,K-P-VERBN >STACK
	GET STACK,0 >WRD
	CALL RT-WT?,WRD,64,1 >STACK
	EQUAL? STACK,STACK /?L5
	GETB WRD,6 >STACK
	BTST STACK,32 \?L4
	.DEBUG-LINE 3,978,1
?L5:	SET 'ADJ,1
	JUMP ?L7
	.DEBUG-LINE 3,979,1
?L4:	GET GL-P-ITBL,K-P-VERBN >STACK
	GET STACK,0 >WRD
	GETB WRD,6 >STACK
	BTST STACK,32 \?L6
	.DEBUG-LINE 3,981,1
	SET 'ADJ,1
	JUMP ?L7
	.DEBUG-LINE 3,982,1
?L6:	GETB WRD,6 >STACK
	BTST STACK,128 \?L7
	ZERO? GL-P-NCN \?L7
	GET GL-P-ITBL,K-P-VERB >VERB
	ZERO? VERB /?L7
	.DEBUG-LINE 3,986,1
	PUT GL-P-ITBL,K-P-VERB,0
	.DEBUG-LINE 3,987,1
	PUT GL-P-ITBL,K-P-VERBN,0
	.DEBUG-LINE 3,988,1
	PUT GL-P-ITBL,K-P-NC1,GL-P-P-LEX+2
	.DEBUG-LINE 3,989,1
	PUT GL-P-ITBL,K-P-NC1L,GL-P-P-LEX+6
	.DEBUG-LINE 3,990,1
	SET 'GL-P-NCN,1
	.DEBUG-LINE 3,991,1
?L7:	GET GL-P-ITBL,K-P-VERB >VERB
	ZERO? VERB /?L9
	ZERO? ADJ \?L9
	GET GL-P-OTBL,K-P-VERB >STACK
	EQUAL? VERB,STACK \FALSE
	.DEBUG-LINE 3,995,1
?L9:	EQUAL? GL-P-NCN,2 \?L11
	.DEBUG-LINE 3,996,1
	ZERO? GL-FUNNY-CLAUSE? /FALSE
	.DEBUG-LINE 3,997,1
	SET 'GL-P-NCN,1
	.DEBUG-LINE 3,998,1
	SET 'GL-FUNNY-CLAUSE?,0
	.DEBUG-LINE 3,999,1
	GET GL-P-ITBL,K-P-NC2L >STACK
	PUT GL-P-ITBL,K-P-NC1L,STACK
	.DEBUG-LINE 3,1000,1
	CALL1 RT-ORPHAN-MERGE >STACK
	RSTACK
	.DEBUG-LINE 3,1002,1
?L11:	GET GL-P-OTBL,K-P-NC1 >STACK
	EQUAL? STACK,1 \?L15
	.DEBUG-LINE 3,1003,1
	GET GL-P-ITBL,K-P-PREP1 >TEMP
	GET GL-P-OTBL,K-P-PREP1 >STACK
	EQUAL? TEMP,STACK /?L18
	ZERO? TEMP \FALSE
	.DEBUG-LINE 3,1006,1
?L18:	ZERO? ADJ /?L19
	.DEBUG-LINE 3,1007,1
	PUT GL-P-OTBL,K-P-NC1,GL-P-P-LEX+2
	.DEBUG-LINE 3,1008,1
	GET GL-P-ITBL,K-P-NC1L >STACK
	ZERO? STACK \?L21
	.DEBUG-LINE 3,1009,1
	PUT GL-P-ITBL,K-P-NC1L,GL-P-P-LEX+6
	.DEBUG-LINE 3,1010,1
?L21:	ZERO? GL-P-NCN \?L27
	.DEBUG-LINE 3,1011,1
	SET 'GL-P-NCN,1
	JUMP ?L27
	.DEBUG-LINE 3,1013,1
?L19:	GET GL-P-ITBL,K-P-NC1 >STACK
	PUT GL-P-OTBL,K-P-NC1,STACK
	.DEBUG-LINE 3,1015,1
?L27:	GET GL-P-ITBL,K-P-NC1L >STACK
	PUT GL-P-OTBL,K-P-NC1L,STACK
	JUMP ?L48
	.DEBUG-LINE 3,1018,1
?L15:	GET GL-P-OTBL,K-P-NC2 >STACK
	EQUAL? STACK,1 \?L29
	.DEBUG-LINE 3,1019,1
	GET GL-P-ITBL,K-P-PREP1 >TEMP
	GET GL-P-OTBL,K-P-PREP2 >STACK
	EQUAL? TEMP,STACK /?L32
	ZERO? TEMP \FALSE
	.DEBUG-LINE 3,1022,1
?L32:	ZERO? ADJ /?L35
	.DEBUG-LINE 3,1023,1
	PUT GL-P-ITBL,K-P-NC1,GL-P-P-LEX+2
	.DEBUG-LINE 3,1024,1
	GET GL-P-ITBL,K-P-NC1L >STACK
	ZERO? STACK \?L35
	.DEBUG-LINE 3,1025,1
	PUT GL-P-ITBL,K-P-NC1L,GL-P-P-LEX+6
	.DEBUG-LINE 3,1027,1
?L35:	GET GL-P-ITBL,K-P-NC1 >STACK
	PUT GL-P-OTBL,K-P-NC2,STACK
	.DEBUG-LINE 3,1028,1
	GET GL-P-ITBL,K-P-NC1L >STACK
	PUT GL-P-OTBL,K-P-NC2L,STACK
	.DEBUG-LINE 3,1029,1
	SET 'GL-P-NCN,2
	JUMP ?L48
	.DEBUG-LINE 3,1032,1
?L29:	ZERO? GL-P-ACLAUSE /?L48
	.DEBUG-LINE 3,1033,1
	EQUAL? GL-P-NCN,1 /?L41
	ZERO? ADJ \?L41
	.DEBUG-LINE 3,1034,1
	SET 'GL-P-ACLAUSE,0
	.DEBUG-LINE 3,1035,1
	RFALSE
	.DEBUG-LINE 3,1037,1
?L41:	GET GL-P-ITBL,K-P-NC1 >BEG
	.DEBUG-LINE 3,1038,1
	ZERO? ADJ /?L44
	.DEBUG-LINE 3,1039,1
	SET 'BEG,GL-P-P-LEX+2
	.DEBUG-LINE 3,1040,1
	SET 'ADJ,0
	.DEBUG-LINE 3,1041,1
?L44:	GET GL-P-ITBL,K-P-NC1L >END
	.DEBUG-LINE 3,1043,1
?L47:	GET BEG,0 >WRD
	.DEBUG-LINE 3,1044,1
	EQUAL? BEG,END \?L49
	.DEBUG-LINE 3,1045,1
	ZERO? ADJ /?L51
	.DEBUG-LINE 3,1046,1
	ICALL2 RT-ACLAUSE-WIN,ADJ
	.DEBUG-LINE 3,1047,1
	JUMP ?L48
	.DEBUG-LINE 3,1049,1
?L51:	SET 'GL-P-ACLAUSE,0
	.DEBUG-LINE 3,1050,1
	RFALSE
	.DEBUG-LINE 3,1051,1
?L49:	GETB WRD,K-P-PSOFF >STACK
	BTST STACK,PS?ADJECTIVE \?L56
	CALL RT-ADJ-CHECK,WRD,ADJ >STACK
	ZERO? STACK \?L55
?L56:	EQUAL? WRD,W?ALL,W?EVERYTHING \?L54
	.DEBUG-LINE 3,1056,1
?L55:	SET 'ADJ,WRD
	JUMP ?L57
	.DEBUG-LINE 3,1060,1
?L54:	GETB WRD,K-P-PSOFF >STACK
	BTST STACK,PS?OBJECT \?L57
	.DEBUG-LINE 3,1061,1
	EQUAL? WRD,GL-P-ANAM \?L58
	.DEBUG-LINE 3,1062,1
	ICALL2 RT-ACLAUSE-WIN,ADJ
	JUMP ?L48
	.DEBUG-LINE 3,1064,1
?L58:	ICALL1 RT-NCLAUSE-WIN
	.DEBUG-LINE 3,1065,1
	JUMP ?L48
	.DEBUG-LINE 3,1066,1
?L57:	ADD BEG,K-P-WORDLEN >BEG
	.DEBUG-LINE 3,1067,1
	ZERO? END \?L47
	.DEBUG-LINE 3,1068,1
	SET 'END,BEG
	.DEBUG-LINE 3,1069,1
	SET 'GL-P-NCN,1
	.DEBUG-LINE 3,1070,1
	SUB BEG,4 >STACK
	PUT GL-P-ITBL,K-P-NC1,STACK
	.DEBUG-LINE 3,1071,1
	PUT GL-P-ITBL,K-P-NC1L,BEG
	JUMP ?L47
	.DEBUG-LINE 3,1072,1
?L48:	GET GL-P-OVTBL,0 >STACK
	PUT GL-P-VTBL,0,STACK
	.DEBUG-LINE 3,1073,1
	GETB GL-P-OVTBL,2 >STACK
	PUTB GL-P-VTBL,2,STACK
	.DEBUG-LINE 3,1074,1
	GETB GL-P-OVTBL,3 >STACK
	PUTB GL-P-VTBL,3,STACK
	.DEBUG-LINE 3,1075,1
	PUT GL-P-OTBL,K-P-VERBN,GL-P-VTBL
	.DEBUG-LINE 3,1076,1
	PUTB GL-P-VTBL,2,0
	.DEBUG-LINE 3,1078,1
	COPYT GL-P-OTBL,GL-P-ITBL,20
	.DEBUG-LINE 3,1079,1
	SET 'GL-P-MERGED,1
	.DEBUG-LINE 3,1080,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ADJ-CHECK","WRD","ADJ"
	.FUNCT RT-ADJ-CHECK,WRD,ADJ
	.DEBUG-LINE 3,1090,1
	EQUAL? WRD,W?BROWN,W?BLUE /TRUE
	.DEBUG-LINE 3,1093,1
	ZERO? ADJ /TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLAUSE-COPY","SRC","DEST","SRCBEG","SRCEND","DESTBEG","DESTEND","INSRT","BEG","END"
	.FUNCT RT-CLAUSE-COPY,SRC,DEST,SRCBEG,SRCEND,DESTBEG,DESTEND,INSRT,BEG,END
	ASSIGNED? 'INSRT /?L9
	SET 'INSRT,0
	.DEBUG-LINE 3,1106,1
?L9:	GET SRC,SRCBEG >BEG
	.DEBUG-LINE 3,1107,1
	GET SRC,SRCEND >END
	.DEBUG-LINE 3,1108,1
	GET GL-P-OCLAUSE,K-P-MATCHLEN >STACK
	MUL STACK,K-P-LEXELEN >STACK
	ADD STACK,2 >STACK
	ADD GL-P-OCLAUSE,STACK >STACK
	PUT DEST,DESTBEG,STACK
	.DEBUG-LINE 3,1113,1
?L1:	EQUAL? BEG,END \?L3
	.DEBUG-LINE 3,1114,1
	GET GL-P-OCLAUSE,K-P-MATCHLEN >STACK
	MUL STACK,K-P-LEXELEN >STACK
	ADD 2,STACK >STACK
	ADD GL-P-OCLAUSE,STACK >STACK
	PUT DEST,DESTEND,STACK
	.DEBUG-LINE 3,1116,1
	RTRUE
	.DEBUG-LINE 3,1120,1
?L3:	ZERO? INSRT /?L6
	GET BEG,0 >STACK
	EQUAL? GL-P-ANAM,STACK \?L6
	.DEBUG-LINE 3,1123,1
	ICALL2 RT-CLAUSE-ADD,INSRT
	.DEBUG-LINE 3,1126,1
?L6:	GET BEG,0 >STACK
	ICALL2 RT-CLAUSE-ADD,STACK
	.DEBUG-LINE 3,1129,1
	ADD BEG,K-P-WORDLEN >BEG
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CLAUSE-ADD","WRD","PTR"
	.FUNCT RT-CLAUSE-ADD,WRD,PTR
	.DEBUG-LINE 3,1138,1
	GET GL-P-OCLAUSE,K-P-MATCHLEN >STACK
	ADD STACK,2 >PTR
	.DEBUG-LINE 3,1139,1
	SUB PTR,1 >STACK
	PUT GL-P-OCLAUSE,STACK,WRD
	.DEBUG-LINE 3,1140,1
	PUT GL-P-OCLAUSE,PTR,0
	.DEBUG-LINE 3,1141,1
	PUT GL-P-OCLAUSE,K-P-MATCHLEN,PTR
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PREP-FIND","PREP","CNT","SIZE","TBL"
	.FUNCT RT-PREP-FIND,PREP,CNT,SIZE,TBL
	SET 'CNT,0
	.DEBUG-LINE 3,1149,1
	GET PREPOSITIONS,0 >STACK
	ADD PREPOSITIONS,4 >STACK
	INTBL? PREP,STACK,STACK,3 >TBL \FALSE
	.DEBUG-LINE 3,1152,1
	SUB TBL,2 >STACK
	GET STACK,0 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SYNTAX-FOUND","SYN"
	.FUNCT RT-SYNTAX-FOUND,SYN
	.DEBUG-LINE 3,1165,1
	SET 'GL-P-SYNTAX,SYN
	.DEBUG-LINE 3,1166,1
	GETB SYN,K-P-SACTION >GL-PRSA
	RETURN GL-PRSA
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-BUT-MERGE","TBL","LEN","BUTLEN","CNT","MATCHES","OBJ","NTBL"
	.FUNCT RT-BUT-MERGE,TBL,LEN,BUTLEN,CNT,MATCHES,OBJ,NTBL
	SET 'CNT,1
	SET 'MATCHES,0
	.DEBUG-LINE 3,1173,1
	GET TBL,K-P-MATCHLEN >LEN
	.DEBUG-LINE 3,1174,1
	PUT GL-P-MERGE,K-P-MATCHLEN,0
	.DEBUG-LINE 3,1177,1
?L1:	DLESS? 'LEN,0 /?L2
	.DEBUG-LINE 3,1181,1
	GET TBL,CNT >OBJ
	.DEBUG-LINE 3,1183,1
	GET GL-P-BUTS,0 >STACK
	INTBL? OBJ,GL-P-BUTS+2,STACK >STACK /?L8
	.DEBUG-LINE 3,1188,1
	ADD MATCHES,1 >STACK
	PUT GL-P-MERGE,STACK,OBJ
	.DEBUG-LINE 3,1189,1
	INC 'MATCHES
	.DEBUG-LINE 3,1192,1
?L8:	INC 'CNT
	JUMP ?L1
	.DEBUG-LINE 3,1194,1
?L2:	PUT GL-P-MERGE,K-P-MATCHLEN,MATCHES
	.DEBUG-LINE 3,1195,1
	SET 'NTBL,GL-P-MERGE
	.DEBUG-LINE 3,1197,1
	RETURN NTBL
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SNARF-OBJECTS","PTR","NUM"
	.FUNCT RT-SNARF-OBJECTS,PTR,NUM
	GETB GL-P-SYNTAX,0 >STACK
	SHIFT STACK,-6 >NUM
	.DEBUG-LINE 3,1205,1
	GRTR? NUM,0 \?L5
	GET GL-P-ITBL,K-P-NC1 >PTR
	ZERO? PTR /?L5
	.DEBUG-LINE 3,1207,1
	SET 'GL-P-PHR,0
	.DEBUG-LINE 3,1208,1
	GETB GL-P-SYNTAX,K-P-SLOC1 >GL-P-SLOCBITS
	.DEBUG-LINE 3,1209,1
	GET GL-P-ITBL,K-P-NC1L >STACK
	CALL RT-SNARF,PTR,STACK,GL-P-PRSO >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,1211,1
	GET GL-P-BUTS,K-P-MATCHLEN >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 3,1213,1
?L5:	GRTR? NUM,1 \TRUE
	GET GL-P-ITBL,K-P-NC2 >PTR
	ZERO? PTR /TRUE
	.DEBUG-LINE 3,1215,1
	SET 'GL-P-PHR,1
	.DEBUG-LINE 3,1216,1
	GETB GL-P-SYNTAX,K-P-SLOC2 >GL-P-SLOCBITS
	.DEBUG-LINE 3,1217,1
	GET GL-P-ITBL,K-P-NC2L >STACK
	CALL RT-SNARF,PTR,STACK,GL-P-PRSI >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,1219,1
	GET GL-P-BUTS,K-P-MATCHLEN >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 3,1220,1
	GET GL-P-PRSI,K-P-MATCHLEN >STACK
	EQUAL? STACK,1 \TRUE
	.DEBUG-LINE 3,1224,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SNARF","PTR","EPTR","TBL","BUT","LEN","WV","WRD","NW","WAS-ALL?","ONEOBJ"
	.FUNCT RT-SNARF,PTR,EPTR,TBL,BUT,LEN,WV,WRD,NW,WAS-ALL?,ONEOBJ
	SET 'BUT,0
	SET 'WAS-ALL?,0
	.DEBUG-LINE 3,1228,1
	SET 'GL-P-AND,0
	.DEBUG-LINE 3,1229,1
	EQUAL? GL-P-GET-FLAGS,K-P-ALL \?L1
	.DEBUG-LINE 3,1230,1
	SET 'WAS-ALL?,1
	.DEBUG-LINE 3,1231,1
?L1:	SET 'GL-P-GET-FLAGS,0
	.DEBUG-LINE 3,1232,1
	PUT GL-P-BUTS,K-P-MATCHLEN,0
	.DEBUG-LINE 3,1233,1
	PUT TBL,K-P-MATCHLEN,0
	.DEBUG-LINE 3,1234,1
	GET PTR,0 >WRD
	.DEBUG-LINE 3,1236,1
?L4:	EQUAL? PTR,EPTR \?L6
	.DEBUG-LINE 3,1237,1
?L57:	ZERO? BUT /?L9
	PUSH BUT
	JUMP ?L8
?L9:	PUSH TBL
?L8:	CALL2 RT-GET-OBJECT,STACK >WV
	.DEBUG-LINE 3,1238,1
	ZERO? WAS-ALL? /?L10
	.DEBUG-LINE 3,1239,1
	SET 'GL-P-GET-FLAGS,K-P-ALL
	.DEBUG-LINE 3,1240,1
?L10:	RETURN WV
	.DEBUG-LINE 3,1242,1
?L6:	ADD PTR,K-P-WORDLEN >STACK
	EQUAL? EPTR,STACK \?L14
	.DEBUG-LINE 3,1243,1
	SET 'NW,0
	JUMP ?L16
	.DEBUG-LINE 3,1245,1
?L14:	GET PTR,K-P-LEXELEN >NW
	.DEBUG-LINE 3,1246,1
?L16:	EQUAL? WRD,W?ALL,W?BOTH,W?EVERYTHING \?L17
	.DEBUG-LINE 3,1247,1
	SET 'GL-P-GET-FLAGS,K-P-ALL
	.DEBUG-LINE 3,1248,1
	EQUAL? NW,W?OF \?L52
	.DEBUG-LINE 3,1249,1
	ADD PTR,K-P-WORDLEN >PTR
	JUMP ?L52
	.DEBUG-LINE 3,1250,1
?L17:	EQUAL? WRD,W?BUT,W?EXCEPT \?L22
	.DEBUG-LINE 3,1251,1
	ZERO? BUT /?L26
	PUSH BUT
	JUMP ?L25
?L26:	PUSH TBL
?L25:	CALL2 RT-GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,1252,1
	SET 'BUT,GL-P-BUTS
	.DEBUG-LINE 3,1253,1
	PUT BUT,K-P-MATCHLEN,0
	JUMP ?L52
	.DEBUG-LINE 3,1256,1
?L22:	EQUAL? WRD,W?A \?L27
	.DEBUG-LINE 3,1257,1
	ZERO? GL-P-ADJ \?L28
	.DEBUG-LINE 3,1258,1
	SET 'GL-P-GET-FLAGS,K-P-ONE
	.DEBUG-LINE 3,1259,1
	EQUAL? NW,W?OF \?L52
	.DEBUG-LINE 3,1260,1
	ADD PTR,K-P-WORDLEN >PTR
	JUMP ?L52
	.DEBUG-LINE 3,1262,1
?L28:	SET 'GL-P-NAM,ONEOBJ
	.DEBUG-LINE 3,1263,1
	ZERO? BUT /?L37
	PUSH BUT
	JUMP ?L36
?L37:	PUSH TBL
?L36:	CALL2 RT-GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,1265,1
	ZERO? NW /TRUE
	JUMP ?L52
	.DEBUG-LINE 3,1266,1
?L27:	EQUAL? WRD,W?AND,W?$COMMA \?L40
	EQUAL? NW,W?AND,W?$COMMA /?L40
	.DEBUG-LINE 3,1268,1
	SET 'GL-P-AND,1
	.DEBUG-LINE 3,1269,1
	ZERO? BUT /?L44
	PUSH BUT
	JUMP ?L43
?L44:	PUSH TBL
?L43:	CALL2 RT-GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	JUMP ?L52
	.DEBUG-LINE 3,1271,1
?L40:	GETB WRD,6 >STACK
	BTST STACK,4 /?L52
	.DEBUG-LINE 3,1272,1
	EQUAL? WRD,W?AND,W?$COMMA /?L52
	.DEBUG-LINE 3,1273,1
	EQUAL? WRD,W?OF \?L47
	.DEBUG-LINE 3,1274,1
	ZERO? GL-P-GET-FLAGS \?L52
	.DEBUG-LINE 3,1275,1
	SET 'GL-P-GET-FLAGS,K-P-INHIBIT
	JUMP ?L52
	.DEBUG-LINE 3,1276,1
?L47:	GETB WRD,6 >STACK
	BTST STACK,32 \?L51
	ZERO? GL-P-ADJ \?L51
	EQUAL? NW,W?OF /?L51
	.DEBUG-LINE 3,1279,1
	SET 'GL-P-ADJ,WRD
	JUMP ?L52
	.DEBUG-LINE 3,1280,1
?L51:	GETB WRD,6 >STACK
	BTST STACK,128 \?L52
	.DEBUG-LINE 3,1281,1
	SET 'GL-P-NAM,WRD
	.DEBUG-LINE 3,1282,1
	SET 'ONEOBJ,WRD
	.DEBUG-LINE 3,1283,1
?L52:	EQUAL? PTR,EPTR /?L57
	.DEBUG-LINE 3,1284,1
	ADD PTR,K-P-WORDLEN >PTR
	.DEBUG-LINE 3,1285,1
	SET 'WRD,NW
	JUMP ?L4
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-OBJECT","TBL","VRB","NO-ROOMS?","BTS","LEN","XBITS","TLEN","GCHECK","OLEN","OBJ","ADJ","X"
	.FUNCT RT-GET-OBJECT,TBL,VRB,NO-ROOMS?,BTS,LEN,XBITS,TLEN,GCHECK,OLEN,OBJ,ADJ,X
	ASSIGNED? 'VRB /?L71
	SET 'VRB,1
?L71:	ASSIGNED? 'NO-ROOMS? /?L72
	SET 'NO-ROOMS?,0
?L72:	SET 'GCHECK,0
	SET 'OLEN,0
	.DEBUG-LINE 3,1289,1
	SET 'XBITS,GL-P-SLOCBITS
	.DEBUG-LINE 3,1290,1
	GET TBL,K-P-MATCHLEN >TLEN
	.DEBUG-LINE 3,1291,1
	BTST GL-P-GET-FLAGS,K-P-INHIBIT /TRUE
	.DEBUG-LINE 3,1293,1
	SET 'ADJ,GL-P-ADJ
	.DEBUG-LINE 3,1294,1
	ZERO? GL-P-NAM \?L11
	ZERO? GL-P-ADJ /?L8
	.DEBUG-LINE 3,1296,1
	GETB GL-P-ADJ,6 >STACK
	BTST STACK,128 \?L6
	.DEBUG-LINE 3,1297,1
	SET 'GL-P-NAM,GL-P-ADJ
	.DEBUG-LINE 3,1298,1
	SET 'GL-P-ADJ,0
	JUMP ?L8
	.DEBUG-LINE 3,1299,1
?L6:	CALL RT-WT?,GL-P-ADJ,16,3 >BTS
	ZERO? BTS /?L8
	.DEBUG-LINE 3,1300,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1301,1
	PUT TBL,K-P-MATCHLEN,1
	.DEBUG-LINE 3,1302,1
	PUT TBL,1,TH-INTDIR
	.DEBUG-LINE 3,1303,1
	SET 'GL-P-DIRECTION,BTS
	.DEBUG-LINE 3,1304,1
	RTRUE
	.DEBUG-LINE 3,1305,1
?L8:	ZERO? GL-P-NAM \?L11
	ZERO? GL-P-ADJ \?L11
	EQUAL? GL-P-GET-FLAGS,K-P-ALL /?L73
	ZERO? GL-P-GWIMBIT \?L11
	.DEBUG-LINE 3,1309,1
	ZERO? VRB /FALSE
	.DEBUG-LINE 3,1310,1
	ICALL2 RT-NOT-IN-SENTENCE-MSG,STR?107
	.DEBUG-LINE 3,1311,1
	RFALSE
	.DEBUG-LINE 3,1312,1
?L11:	EQUAL? GL-P-GET-FLAGS,K-P-ALL \?L19
?L73:	ZERO? GL-P-SLOCBITS \?L17
	.DEBUG-LINE 3,1314,1
?L19:	SET 'GL-P-SLOCBITS,-1
	.DEBUG-LINE 3,1315,1
?L17:	EQUAL? TBL,GL-P-PRSO \?L21
	.DEBUG-LINE 3,1316,1
	GET GL-P-OFW,0 >GL-P-OF
	JUMP ?L23
	.DEBUG-LINE 3,1318,1
?L21:	GET GL-P-OFW,1 >GL-P-OF
	.DEBUG-LINE 3,1319,1
?L23:	SET 'GL-P-TABLE,TBL
	.DEBUG-LINE 3,1321,1
?L24:	ZERO? GCHECK /?L26
	.DEBUG-LINE 3,1322,1
	ICALL2 RT-GLOBAL-CHECK,TBL
	JUMP ?L28
	.DEBUG-LINE 3,1324,1
?L26:	ZERO? GL-NOW-LIT? /?L29
	.DEBUG-LINE 3,1325,1
	FCLEAR CH-PLAYER,FL-TRANSPARENT
	.DEBUG-LINE 3,1326,1
	ICALL RT-DO-SL,GL-PLACE-CUR,SOG,SIR
	.DEBUG-LINE 3,1327,1
	FSET CH-PLAYER,FL-TRANSPARENT
	.DEBUG-LINE 3,1328,1
?L29:	ICALL RT-DO-SL,CH-PLAYER,SH,SC
	.DEBUG-LINE 3,1329,1
?L28:	GET TBL,K-P-MATCHLEN >STACK
	SUB STACK,TLEN >LEN
	.DEBUG-LINE 3,1330,1
	BTST GL-P-GET-FLAGS,K-P-ALL /?L66
	.DEBUG-LINE 3,1331,1
	BTST GL-P-GET-FLAGS,K-P-ONE \?L34
	ZERO? LEN /?L34
	.DEBUG-LINE 3,1333,1
	EQUAL? LEN,1 /?L35
	.DEBUG-LINE 3,1334,1
	RANDOM LEN >STACK
	GET TBL,STACK >STACK
	PUT TBL,1,STACK
	.DEBUG-LINE 3,1335,1
	PRINTI "[How about "
	GET TBL,1 >STACK
	ICALL2 RT-THEO-PRINT,STACK
	PRINTI "?]"
	CRLF
	.DEBUG-LINE 3,1336,1
?L35:	PUT TBL,K-P-MATCHLEN,1
	JUMP ?L66
	.DEBUG-LINE 3,1337,1
?L34:	GRTR? LEN,1 /?L39
	ZERO? LEN \?L66
	EQUAL? GL-P-SLOCBITS,-1 /?L38
	.DEBUG-LINE 3,1340,1
?L39:	EQUAL? GL-P-SLOCBITS,-1 \?L40
	.DEBUG-LINE 3,1341,1
	SET 'GL-P-SLOCBITS,XBITS
	.DEBUG-LINE 3,1342,1
	SET 'OLEN,LEN
	.DEBUG-LINE 3,1343,1
	GET TBL,K-P-MATCHLEN >STACK
	SUB STACK,LEN >STACK
	PUT TBL,K-P-MATCHLEN,STACK
	.DEBUG-LINE 3,1344,1
	JUMP ?L24
	.DEBUG-LINE 3,1346,1
?L40:	PUT GL-P-NAMW,GL-P-PHR,GL-P-NAM
	.DEBUG-LINE 3,1347,1
	PUT GL-P-ADJW,GL-P-PHR,GL-P-ADJ
	.DEBUG-LINE 3,1348,1
	ZERO? LEN \?L43
	.DEBUG-LINE 3,1349,1
	SET 'LEN,OLEN
	.DEBUG-LINE 3,1350,1
?L43:	ZERO? GL-P-NAM /?L46
	ADD TLEN,1 >STACK
	GET TBL,STACK >OBJ
	ZERO? OBJ /?L46
	GETP OBJ,P?GENERIC >STACK
	CALL STACK,TBL,LEN >OBJ
	ZERO? OBJ /?L46
	.DEBUG-LINE 3,1354,1
	EQUAL? OBJ,TH-NOT-HERE-OBJECT /FALSE
	.DEBUG-LINE 3,1356,1
	PUT TBL,1,OBJ
	.DEBUG-LINE 3,1357,1
	PUT TBL,K-P-MATCHLEN,1
	.DEBUG-LINE 3,1358,1
	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,1359,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1360,1
	RTRUE
	.DEBUG-LINE 3,1361,1
?L46:	ZERO? VRB /?L56
	EQUAL? GL-WINNER,CH-PLAYER /?L51
	.DEBUG-LINE 3,1363,1
	PRINT K-DONT-UNDERSTAND-MSG
	CRLF
	.DEBUG-LINE 3,1364,1
	RFALSE
	.DEBUG-LINE 3,1365,1
?L51:	ZERO? VRB /?L56
	ZERO? GL-P-NAM /?L52
	.DEBUG-LINE 3,1367,1
	ICALL RT-WHICH-PRINT,TLEN,LEN,TBL
	.DEBUG-LINE 3,1369,1
	EQUAL? TBL,GL-P-PRSO \?L53
	.DEBUG-LINE 3,1370,1
	SET 'GL-P-ACLAUSE,K-P-NC1
	JUMP ?L55
	.DEBUG-LINE 3,1372,1
?L53:	SET 'GL-P-ACLAUSE,K-P-NC2
	.DEBUG-LINE 3,1373,1
?L55:	SET 'GL-P-AADJ,GL-P-ADJ
	.DEBUG-LINE 3,1374,1
	SET 'GL-P-ANAM,GL-P-NAM
	.DEBUG-LINE 3,1375,1
	ICALL RT-ORPHAN,0,0
	.DEBUG-LINE 3,1376,1
	SET 'GL-P-ORPH,1
	JUMP ?L56
	.DEBUG-LINE 3,1377,1
?L52:	ZERO? VRB /?L56
	.DEBUG-LINE 3,1378,1
	ICALL2 RT-NOT-IN-SENTENCE-MSG,STR?107
	.DEBUG-LINE 3,1379,1
?L56:	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,1380,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1381,1
	RFALSE
	.DEBUG-LINE 3,1382,1
?L38:	ZERO? LEN \?L66
	ZERO? GCHECK /?L58
	.DEBUG-LINE 3,1384,1
	PUT GL-P-NAMW,GL-P-PHR,GL-P-NAM
	.DEBUG-LINE 3,1385,1
	PUT GL-P-ADJW,GL-P-PHR,GL-P-ADJ
	.DEBUG-LINE 3,1386,1
	ZERO? VRB /?L64
	.DEBUG-LINE 3,1387,1
	SET 'GL-P-SLOCBITS,XBITS
	.DEBUG-LINE 3,1388,1
	ZERO? GL-NOW-LIT? \?L63
	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK /?L61
	.DEBUG-LINE 3,1390,1
?L63:	ICALL RT-OBJ-FOUND,TH-NOT-HERE-OBJECT,TBL
	.DEBUG-LINE 3,1391,1
	SET 'GL-P-XNAM,GL-P-NAM
	.DEBUG-LINE 3,1392,1
	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,1393,1
	SET 'GL-P-XADJ,GL-P-ADJ
	.DEBUG-LINE 3,1394,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1395,1
	RTRUE
	.DEBUG-LINE 3,1397,1
?L61:	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 3,1398,1
?L64:	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,1399,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1400,1
	RFALSE
	.DEBUG-LINE 3,1401,1
?L58:	ZERO? LEN \?L66
	.DEBUG-LINE 3,1402,1
	SET 'GCHECK,1
	.DEBUG-LINE 3,1403,1
	JUMP ?L24
	.DEBUG-LINE 3,1404,1
?L66:	ADD TLEN,1 >STACK
	GET TBL,STACK >X
	.DEBUG-LINE 3,1405,1
	ZERO? GL-P-ADJ /?L68
	ZERO? GL-P-NAM \?L68
	ZERO? X /?L68
	.DEBUG-LINE 3,1408,1
	PRINTI "["
	ICALL2 RT-THEO-PRINT,X
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 3,1409,1
?L68:	SET 'GL-P-SLOCBITS,XBITS
	.DEBUG-LINE 3,1410,1
	PUT GL-P-NAMW,GL-P-PHR,GL-P-NAM
	.DEBUG-LINE 3,1411,1
	PUT GL-P-ADJW,GL-P-PHR,GL-P-ADJ
	.DEBUG-LINE 3,1412,1
	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,1413,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,1414,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOBY-FIND","TBL","OBJ","LEN","FOO","NAM","ADJ","TTBL","COBJ-GOOD?","CT"
	.FUNCT RT-MOBY-FIND,TBL,OBJ,LEN,FOO,NAM,ADJ,TTBL,COBJ-GOOD?,CT
	SET 'OBJ,1
	SET 'TTBL,0
	SET 'COBJ-GOOD?,0
	SET 'CT,0
	.DEBUG-LINE 3,1423,1
	SET 'NAM,GL-P-NAM
	.DEBUG-LINE 3,1424,1
	SET 'ADJ,GL-P-ADJ
	.DEBUG-LINE 3,1425,1
	SET 'GL-P-NAM,GL-P-XNAM
	.DEBUG-LINE 3,1426,1
	SET 'GL-P-ADJ,GL-P-XADJ
	.DEBUG-LINE 3,1427,1
	PUT TBL,K-P-MATCHLEN,0
	.DEBUG-LINE 3,1430,1
?L1:	CALL2 RT-THIS-IT?,OBJ >STACK
	ZERO? STACK /?L17
	.DEBUG-LINE 3,1432,1
	LOC OBJ >STACK
	ZERO? STACK /?L7
	LOC OBJ >STACK
	CALL2 RT-THIS-IT?,STACK >STACK
	ZERO? STACK \?L5
	.DEBUG-LINE 3,1434,1
?L7:	GET TBL,K-P-MATCHLEN >CT
	.DEBUG-LINE 3,1435,1
	LOC OBJ >STACK
	ZERO? STACK \?L10
	FSET? OBJ,FL-PERSON /?L10
	GET FIND-NO-LOCS,0 >STACK
	INTBL? OBJ,FIND-NO-LOCS+2,STACK >STACK \?L8
	.DEBUG-LINE 3,1439,1
?L10:	EQUAL? CT,1 \?L11
	ZERO? COBJ-GOOD? \?L11
	.DEBUG-LINE 3,1443,1
	SET 'COBJ-GOOD?,1
	.DEBUG-LINE 3,1444,1
	PUT TBL,K-P-MATCHLEN,0
	JUMP ?L13
	.DEBUG-LINE 3,1445,1
?L11:	ZERO? CT \?L13
	.DEBUG-LINE 3,1447,1
	SET 'COBJ-GOOD?,1
	.DEBUG-LINE 3,1448,1
?L13:	ICALL RT-OBJ-FOUND,OBJ,TBL
	JUMP ?L17
	.DEBUG-LINE 3,1449,1
?L8:	ZERO? CT \?L17
	.DEBUG-LINE 3,1450,1
	CALL RT-OBJ-FOUND,OBJ,TBL >FOO
	JUMP ?L17
	.DEBUG-LINE 3,1451,1
?L5:	IN? OBJ,ROOMS \?L17
	GET TBL,K-P-MATCHLEN >STACK
	ZERO? STACK \?L17
	CALL2 RT-MATCH-PSEUDO,OBJ >STACK
	ZERO? STACK /?L17
	.DEBUG-LINE 3,1454,1
	CALL RT-OBJ-FOUND,OBJ,TBL >FOO
	.DEBUG-LINE 3,1455,1
?L17:	IGRTR? 'OBJ,LAST-OBJECT \?L1
	.DEBUG-LINE 3,1457,1
	GET TBL,K-P-MATCHLEN >CT
	ZERO? CT /?L25
	ZERO? COBJ-GOOD? /?L25
	EQUAL? GL-PLACE-CUR,RM-DIOGENES-CLUB \?L26
	GET TBL,K-P-MATCHLEN >STACK
	ADD TBL,2 >STACK
	INTBL? CH-HOLMES,STACK,STACK >TTBL \?L26
	.DEBUG-LINE 3,1465,1
?L25:	CALL RT-PARSE-EVENT?,GL-P-NAM,GL-P-ADJ >OBJ
	ZERO? OBJ /?L26
	.DEBUG-LINE 3,1466,1
	ZERO? TTBL /?L28
	.DEBUG-LINE 3,1467,1
	PUT TTBL,0,OBJ
	JUMP ?L30
	.DEBUG-LINE 3,1469,1
?L28:	ZERO? COBJ-GOOD? \?L31
	GRTR? CT,0 \?L31
	.DEBUG-LINE 3,1471,1
	SUB CT,1 >STACK
	PUT TBL,K-P-MATCHLEN,STACK
	.DEBUG-LINE 3,1472,1
?L31:	ICALL RT-OBJ-FOUND,OBJ,TBL
	.DEBUG-LINE 3,1473,1
?L30:	SET 'COBJ-GOOD?,1
	.DEBUG-LINE 3,1474,1
?L26:	GET TBL,K-P-MATCHLEN >LEN
	EQUAL? LEN,1 \?L40
	.DEBUG-LINE 3,1475,1
	ZERO? COBJ-GOOD? \?L38
	.DEBUG-LINE 3,1476,1
	SET 'GL-P-MOBY-FOUND,TH-NOT-HERE-OBJECT
	JUMP ?L40
	.DEBUG-LINE 3,1478,1
?L38:	GET TBL,1 >GL-P-MOBY-FOUND
	.DEBUG-LINE 3,1479,1
?L40:	SET 'GL-P-NAM,NAM
	.DEBUG-LINE 3,1480,1
	SET 'GL-P-ADJ,ADJ
	.DEBUG-LINE 3,1481,1
	RETURN LEN
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MATCH-PSEUDO","OBJ","RMG","RMGL","TTBL"
	.FUNCT RT-MATCH-PSEUDO,OBJ,RMG,RMGL,TTBL
	GETP OBJ,P?PSEUDOS >RMG
	.DEBUG-LINE 3,1485,1
	ZERO? RMG /FALSE
	.DEBUG-LINE 3,1486,1
	GETB RMG,0 >RMGL
	.DEBUG-LINE 3,1487,1
	INC 'RMG
	.DEBUG-LINE 3,1489,1
?L4:	GET RMG,1 >TTBL
	ZERO? TTBL /?L6
	GETB TTBL,0 >STACK
	ADD TTBL,1 >STACK
	INTBL? GL-P-NAM,STACK,STACK >STACK \?L6
	ZERO? GL-P-ADJ /?L8
	GET RMG,0 >TTBL
	ZERO? TTBL /?L6
	GETB TTBL,0 >STACK
	ADD TTBL,1 >STACK
	INTBL? GL-P-ADJ,STACK,STACK >STACK \?L6
	.DEBUG-LINE 3,1495,1
?L8:	RETURN RMG
	.DEBUG-LINE 3,1496,1
?L6:	ADD RMG,6 >RMG
	.DEBUG-LINE 3,1497,1
	DLESS? 'RMGL,1 \?L4
	.DEBUG-LINE 3,1497,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GLOBAL-CHECK","TBL","LEN","RMG","RMGL","CNT","OBJ","OBITS","FOO"
	.FUNCT RT-GLOBAL-CHECK,TBL,LEN,RMG,RMGL,CNT,OBJ,OBITS,FOO
	SET 'CNT,0
	.DEBUG-LINE 3,1504,1
	GET TBL,K-P-MATCHLEN >LEN
	.DEBUG-LINE 3,1505,1
	SET 'OBITS,GL-P-SLOCBITS
	.DEBUG-LINE 3,1506,1
	CALL2 RT-THIS-IT?,GL-PLACE-CUR >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 3,1507,1
	ICALL RT-OBJ-FOUND,GL-PLACE-CUR,TBL
	.DEBUG-LINE 3,1508,1
?L1:	GETPT GL-PLACE-CUR,P?GLOBAL >RMG
	ZERO? RMG /?L7
	.DEBUG-LINE 3,1510,1
	PTSIZE RMG >RMGL
	.DEBUG-LINE 3,1512,1
	DEC 'RMGL
	.DEBUG-LINE 3,1514,1
?L6:	GETB RMG,CNT >OBJ
	.DEBUG-LINE 3,1515,1
	FIRST? OBJ >STACK \?L8
	IN? OBJ,ROOMS /?L8
	.DEBUG-LINE 3,1519,1
	ICALL RT-SEARCH-LIST,OBJ,TBL,K-P-SRCALL
	.DEBUG-LINE 3,1520,1
?L8:	CALL2 RT-THIS-IT?,OBJ >STACK
	ZERO? STACK /?L11
	.DEBUG-LINE 3,1521,1
	ICALL RT-OBJ-FOUND,OBJ,TBL
	.DEBUG-LINE 3,1522,1
?L11:	IGRTR? 'CNT,RMGL \?L6
	.DEBUG-LINE 3,1524,1
?L7:	GET TBL,K-P-MATCHLEN >STACK
	ZERO? STACK \?L18
	CALL2 RT-MATCH-PSEUDO,GL-PLACE-CUR >RMG
	ZERO? RMG /?L18
	.DEBUG-LINE 3,1526,1
	SET 'LAST-PSEUDO-LOC,GL-PLACE-CUR
	.DEBUG-LINE 3,1527,1
	GET RMG,2 >STACK
	PUTP PSEUDO-OBJECT,P?ACTION,STACK
	.DEBUG-LINE 3,1528,1
	ICALL RT-OBJ-FOUND,PSEUDO-OBJECT,TBL
	.DEBUG-LINE 3,1529,1
?L18:	GET TBL,K-P-MATCHLEN >STACK
	EQUAL? STACK,LEN \FALSE
	.DEBUG-LINE 3,1530,1
	SET 'GL-P-SLOCBITS,-1
	.DEBUG-LINE 3,1531,1
	SET 'GL-P-TABLE,TBL
	.DEBUG-LINE 3,1532,1
	ICALL RT-DO-SL,GLOBAL-OBJECTS,1,1
	.DEBUG-LINE 3,1533,1
	SET 'GL-P-SLOCBITS,OBITS
	.DEBUG-LINE 3,1534,1
	GET TBL,K-P-MATCHLEN >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 3,1535,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L27
	EQUAL? GL-PRSA,V?FIND,V?FOLLOW,V?EXIT /?L27
	EQUAL? GL-PRSA,V?SEARCH,V?SMELL,V?WALK-TO /?L27
	EQUAL? GL-PRSA,V?THROUGH,V?WAIT-FOR,V?WAIT \FALSE
?L27:	ZERO? INHIBIT-ROOMS \FALSE
	.DEBUG-LINE 3,1539,1
	CALL RT-DO-SL,ROOMS,1,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DO-SL","OBJ","BIT1","BIT2","BITS"
	.FUNCT RT-DO-SL,OBJ,BIT1,BIT2,BITS
	.DEBUG-LINE 3,1547,1
	ADD BIT1,BIT2 >STACK
	BTST GL-P-SLOCBITS,STACK \?L1
	.DEBUG-LINE 3,1548,1
	CALL RT-SEARCH-LIST,OBJ,GL-P-TABLE,K-P-SRCALL >STACK
	RSTACK
	.DEBUG-LINE 3,1552,1
?L1:	BTST GL-P-SLOCBITS,BIT1 \?L4
	.DEBUG-LINE 3,1553,1
	CALL RT-SEARCH-LIST,OBJ,GL-P-TABLE,K-P-SRCTOP >STACK
	RSTACK
	.DEBUG-LINE 3,1555,1
?L4:	BTST GL-P-SLOCBITS,BIT2 \TRUE
	.DEBUG-LINE 3,1556,1
	CALL RT-SEARCH-LIST,OBJ,GL-P-TABLE,K-P-SRCBOT >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SEARCH-LIST","OBJ","TBL","LVL"
	.FUNCT RT-SEARCH-LIST,OBJ,TBL,LVL
	.DEBUG-LINE 3,1571,1
	FIRST? OBJ >OBJ \FALSE
	.DEBUG-LINE 3,1574,1
?L4:	EQUAL? LVL,K-P-SRCBOT /?L6
	GETPT OBJ,P?SYNONYM >STACK
	ZERO? STACK /?L6
	CALL2 RT-THIS-IT?,OBJ >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 3,1577,1
	ICALL RT-OBJ-FOUND,OBJ,TBL
	.DEBUG-LINE 3,1578,1
?L6:	EQUAL? LVL,K-P-SRCTOP \?L11
	FSET? OBJ,FL-SURFACE /?L11
	FSET? OBJ,FL-PERSON \?L9
?L11:	FIRST? OBJ >STACK \?L9
	CALL2 RT-SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 3,1584,1
	FSET? OBJ,FL-SURFACE /?L14
	FSET? OBJ,FL-PERSON \?L12
	.DEBUG-LINE 3,1586,1
?L14:	PUSH K-P-SRCALL
	JUMP ?L17
	.DEBUG-LINE 3,1587,1
?L12:	FSET? OBJ,FL-CONTAINER \?L15
	FSET? OBJ,FL-OPENED /?L16
	FSET? OBJ,FL-TRANSPARENT \?L15
	.DEBUG-LINE 3,1591,1
?L16:	PUSH K-P-SRCALL
	JUMP ?L17
	.DEBUG-LINE 3,1593,1
?L15:	PUSH K-P-SRCTOP
?L17:	ICALL RT-SEARCH-LIST,OBJ,TBL,STACK
	.DEBUG-LINE 3,1594,1
?L9:	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 3,1596,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THIS-IT?","OBJ","SYNS","SYNSIZE","ADJS","ADJSIZE"
	.FUNCT RT-THIS-IT?,OBJ,SYNS,SYNSIZE,ADJS,ADJSIZE
	SET 'SYNS,0
	SET 'ADJS,0
	.DEBUG-LINE 3,1604,1
	ZERO? GL-P-NAM /?L1
	GETPT OBJ,P?SYNONYM >SYNS
	ZERO? SYNS /FALSE
	PTSIZE SYNS >STACK
	DIV STACK,2 >SYNSIZE
	INTBL? GL-P-NAM,SYNS,SYNSIZE >STACK \FALSE
	.DEBUG-LINE 3,1609,1
?L1:	ZERO? GL-P-ADJ /?L4
	GETPT OBJ,P?ADJECTIVE >ADJS
	ZERO? ADJS /FALSE
	PTSIZE ADJS >STACK
	DIV STACK,2 >ADJSIZE
	INTBL? GL-P-ADJ,ADJS,ADJSIZE >STACK \FALSE
	.DEBUG-LINE 3,1614,1
?L4:	ZERO? INHIBIT-ROOMS /?L7
	IN? OBJ,ROOMS /FALSE
	.DEBUG-LINE 3,1617,1
?L7:	ZERO? GL-P-OF /?L9
	.DEBUG-LINE 3,1618,1
	ZERO? ADJS /?L10
	INTBL? GL-P-OF,ADJS,ADJSIZE >STACK /TRUE
	.DEBUG-LINE 3,1621,1
?L10:	ZERO? SYNS /FALSE
	INTBL? GL-P-OF,SYNS,SYNSIZE >STACK \FALSE
	.DEBUG-LINE 3,1623,1
	RTRUE
	.DEBUG-LINE 3,1625,1
?L9:	ZERO? GL-P-GWIMBIT /TRUE
	FSET? OBJ,GL-P-GWIMBIT /TRUE
	.DEBUG-LINE 3,1627,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OBJ-FOUND","OBJ","TBL","PTR"
	.FUNCT RT-OBJ-FOUND,OBJ,TBL,PTR
	.DEBUG-LINE 3,1635,1
	GET TBL,K-P-MATCHLEN >STACK
	ADD STACK,1 >PTR
	.DEBUG-LINE 3,1637,1
	LESS? PTR,K-P-OBJ-TBL-LEN /?L11
	.DEBUG-LINE 3,1638,1
	SET 'GL-P-OVERFLOW,1
	.DEBUG-LINE 3,1639,1
	RFALSE
	.DEBUG-LINE 3,1642,1
?L11:	SET 'GL-P-OVERFLOW,0
	.DEBUG-LINE 3,1643,1
	PUT TBL,PTR,OBJ
	.DEBUG-LINE 3,1644,1
	PUT TBL,K-P-MATCHLEN,PTR
	.DEBUG-LINE 3,1645,1
	FSET? OBJ,FL-NEEDS-IDENTITY \TRUE
	.DEBUG-LINE 3,1646,1
	PUTP OBJ,P?OBJ-ADJ,GL-P-ADJ
	.DEBUG-LINE 3,1647,1
	EQUAL? OBJ,TH-EVENT /TRUE
	.DEBUG-LINE 3,1648,1
	PUTP OBJ,P?OBJ-NOUN,GL-P-NAM
	.DEBUG-LINE 3,1649,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ITAKE","VB","L"
	.FUNCT RT-ITAKE,VB,L
	ASSIGNED? 'VB /?L23
	SET 'VB,1
	.DEBUG-LINE 3,1652,1
?L23:	ZERO? GL-PRSO /?L3
	LOC GL-PRSO >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 3,1654,1
?L3:	ICALL1 RT-CANT-SEE-ANY-MSG
	.DEBUG-LINE 3,1655,1
	RFALSE
	.DEBUG-LINE 3,1656,1
?L1:	LOC GL-PRSO >L
	.DEBUG-LINE 3,1657,1
	ICALL2 RT-THIS-IS-IT,GL-PRSO
	.DEBUG-LINE 3,1658,1
	FSET? GL-PRSO,FL-TAKEABLE /?L5
	.DEBUG-LINE 3,1659,1
	ZERO? VB /FALSE
	.DEBUG-LINE 3,1660,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 3,1661,1
	RFALSE
	.DEBUG-LINE 3,1662,1
?L5:	FSET? L,FL-CONTAINER \?L10
	FSET? L,FL-OPENABLE \?L10
	FSET? L,FL-OPENED /?L10
	.DEBUG-LINE 3,1665,1
	ZERO? VB /FALSE
	.DEBUG-LINE 3,1666,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?108,L
	.DEBUG-LINE 3,1667,1
	RFALSE
	.DEBUG-LINE 3,1668,1
?L10:	IN? L,GL-WINNER /?L14
	CALL RT-OBJ-TOO-HEAVY?,GL-PRSO,GL-WINNER >STACK
	ZERO? STACK /?L14
	.DEBUG-LINE 3,1670,1
	ZERO? VB /FALSE
	.DEBUG-LINE 3,1671,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 3,1672,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 3,1673,1
	PRINTI "too heavy."
	CRLF
	.DEBUG-LINE 3,1674,1
	RFALSE
	.DEBUG-LINE 3,1675,1
?L14:	CALL RT-OBJ-TOO-MANY?,GL-PRSO,GL-WINNER >STACK
	ZERO? STACK /?L18
	.DEBUG-LINE 3,1676,1
	ZERO? VB /FALSE
	.DEBUG-LINE 3,1677,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 3,1678,1
	PRINTI "holding too much already."
	CRLF
	.DEBUG-LINE 3,1679,1
	RFALSE
	.DEBUG-LINE 3,1681,1
?L18:	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 3,1682,1
	FSET GL-PRSO,FL-TOUCHED
	.DEBUG-LINE 3,1683,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 3,1684,1
	FCLEAR GL-PRSO,FL-NODESC
	.DEBUG-LINE 3,1685,1
	FCLEAR GL-PRSO,FL-NOALL
	.DEBUG-LINE 3,1686,1
	MOVE GL-PRSO,GL-WINNER
	.DEBUG-LINE 3,1687,1
	RETURN L
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ITAKE-CHECK","TBL","BITS","PRSO?","PTR","LEN","OBJ","L","GOT","TRIED-TAKE?","NEED-TAKE?"
	.FUNCT RT-ITAKE-CHECK,TBL,BITS,PRSO?,PTR,LEN,OBJ,L,GOT,TRIED-TAKE?,NEED-TAKE?
	ASSIGNED? 'PRSO? /?L80
	SET 'PRSO?,0
?L80:	SET 'PTR,1
	SET 'TRIED-TAKE?,0
	SET 'NEED-TAKE?,0
	.DEBUG-LINE 3,1692,1
	GET TBL,K-P-MATCHLEN >LEN
	.DEBUG-LINE 3,1693,1
	ZERO? LEN /TRUE
	.DEBUG-LINE 3,1695,1
	BAND BITS,10 >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 3,1697,1
?L4:	GET TBL,PTR >OBJ
	.DEBUG-LINE 3,1698,1
	EQUAL? OBJ,TH-IT \?L6
	.DEBUG-LINE 3,1699,1
	CALL2 RT-ACCESSIBLE?,GL-P-IT-OBJECT >STACK
	ZERO? STACK \?L8
	.DEBUG-LINE 3,1700,1
	PRINT K-BE-MORE-SPECIFIC-MSG
	CRLF
	.DEBUG-LINE 3,1701,1
	RFALSE
	.DEBUG-LINE 3,1702,1
?L8:	FSET? OBJ,FL-NEEDS-IDENTITY \?L11
	.DEBUG-LINE 3,1704,1
	GETP TH-IT,P?OBJ-NOUN >STACK
	PUTP OBJ,P?OBJ-NOUN,STACK
	.DEBUG-LINE 3,1705,1
	GETP TH-IT,P?OBJ-ADJ >STACK
	PUTP OBJ,P?OBJ-ADJ,STACK
	.DEBUG-LINE 3,1706,1
?L11:	SET 'OBJ,GL-P-IT-OBJECT
	JUMP ?L22
	.DEBUG-LINE 3,1707,1
?L6:	EQUAL? OBJ,CH-THEM \?L14
	.DEBUG-LINE 3,1708,1
	CALL2 RT-ACCESSIBLE?,GL-P-THEM-OBJECT >STACK
	ZERO? STACK \?L15
	.DEBUG-LINE 3,1709,1
	PRINT K-BE-MORE-SPECIFIC-MSG
	CRLF
	.DEBUG-LINE 3,1710,1
	RFALSE
	.DEBUG-LINE 3,1711,1
?L15:	SET 'OBJ,GL-P-THEM-OBJECT
	JUMP ?L22
	.DEBUG-LINE 3,1712,1
?L14:	EQUAL? OBJ,CH-HER \?L18
	.DEBUG-LINE 3,1713,1
	CALL2 RT-ACCESSIBLE?,GL-P-HER-OBJECT >STACK
	ZERO? STACK \?L19
	.DEBUG-LINE 3,1714,1
	PRINT K-BE-MORE-SPECIFIC-MSG
	CRLF
	.DEBUG-LINE 3,1715,1
	RFALSE
	.DEBUG-LINE 3,1716,1
?L19:	SET 'OBJ,GL-P-HER-OBJECT
	JUMP ?L22
	.DEBUG-LINE 3,1717,1
?L18:	EQUAL? OBJ,CH-HIM \?L22
	.DEBUG-LINE 3,1718,1
	CALL2 RT-ACCESSIBLE?,GL-P-HIM-OBJECT >STACK
	ZERO? STACK \?L23
	.DEBUG-LINE 3,1719,1
	PRINT K-BE-MORE-SPECIFIC-MSG
	CRLF
	.DEBUG-LINE 3,1720,1
	RFALSE
	.DEBUG-LINE 3,1721,1
?L23:	SET 'OBJ,GL-P-HIM-OBJECT
	.DEBUG-LINE 3,1722,1
?L22:	EQUAL? OBJ,TH-POCKET,TH-HANDS,TH-FEET /?L57
	EQUAL? OBJ,CH-ME,CH-PLAYER,CH-YOU /?L57
	EQUAL? OBJ,ROOMS,TH-PLAYER-BODY,TH-INTDIR /?L57
	EQUAL? OBJ,TH-RIGHT,TH-LEFT /?L57
	.DEBUG-LINE 3,1726,1
	BTST BITS,SC /?L29
	BTST BITS,SH \?L29
	.DEBUG-LINE 3,1729,1
	IN? OBJ,GL-WINNER /?L39
	.DEBUG-LINE 3,1730,1
	SET 'NEED-TAKE?,1
	JUMP ?L39
	.DEBUG-LINE 3,1731,1
?L29:	CALL2 RT-HELD?,OBJ >STACK
	ZERO? STACK \?L39
	.DEBUG-LINE 3,1732,1
	ZERO? PRSO? /?L81
	GET GL-P-NAMW,0 >STACK
	ZERO? STACK /?L37
	ZERO? PRSO? \?L35
?L81:	GET GL-P-NAMW,1 >STACK
	ZERO? STACK \?L35
?L37:	IN? OBJ,TH-POCKET /?L39
	.DEBUG-LINE 3,1737,1
?L35:	SET 'NEED-TAKE?,1
	.DEBUG-LINE 3,1739,1
?L39:	ZERO? NEED-TAKE? /?L57
	.DEBUG-LINE 3,1740,1
	SET 'NEED-TAKE?,0
	.DEBUG-LINE 3,1741,1
	SET 'GL-PRSO,OBJ
	.DEBUG-LINE 3,1742,1
	LOC OBJ >L
	.DEBUG-LINE 3,1743,1
	ZERO? L \?L43
	.DEBUG-LINE 3,1744,1
	SET 'GOT,0
	JUMP ?L56
	.DEBUG-LINE 3,1745,1
?L43:	FSET? OBJ,FL-TRYTAKE \?L45
	FSET? OBJ,FL-TAKEABLE /?L45
	.DEBUG-LINE 3,1747,1
	SET 'GOT,0
	JUMP ?L56
	.DEBUG-LINE 3,1748,1
?L45:	EQUAL? GL-WINNER,CH-PLAYER /?L46
	.DEBUG-LINE 3,1749,1
	SET 'GOT,0
	JUMP ?L56
	.DEBUG-LINE 3,1750,1
?L46:	EQUAL? L,GL-WINNER \?L47
	BTST BITS,SHAVE \?L47
	.DEBUG-LINE 3,1752,1
	SET 'GOT,1
	JUMP ?L56
	.DEBUG-LINE 3,1753,1
?L47:	CALL RT-META-IN?,L,GL-WINNER >STACK
	ZERO? STACK /?L48
	ZERO? GL-P-MULT? \?L48
	BTST BITS,STAKE \?L48
	.DEBUG-LINE 3,1756,1
	PRINTI "[taking "
	ICALL2 RT-THEO-PRINT,OBJ
	.DEBUG-LINE 3,1757,1
	ZERO? L /?L49
	.DEBUG-LINE 3,1758,1
	FSET? L,FL-CONTAINER \?L51
	.DEBUG-LINE 3,1759,1
	PRINTI " out of "
	JUMP ?L54
	.DEBUG-LINE 3,1760,1
?L51:	FSET? L,FL-SURFACE \?L53
	.DEBUG-LINE 3,1761,1
	PRINTI " off "
	JUMP ?L54
	.DEBUG-LINE 3,1763,1
?L53:	PRINTI " from "
	.DEBUG-LINE 3,1764,1
?L54:	ICALL2 RT-THEO-PRINT,L
	.DEBUG-LINE 3,1765,1
?L49:	PRINTI " first]."
	CRLF
	.DEBUG-LINE 3,1766,1
	SET 'NEED-TAKE?,1
	.DEBUG-LINE 3,1767,1
	CALL1 RT-ITAKE >GOT
	JUMP ?L56
	.DEBUG-LINE 3,1769,1
?L48:	SET 'GOT,0
	.DEBUG-LINE 3,1770,1
?L56:	ZERO? GOT \?L57
	BTST BITS,SHAVE \?L57
	.DEBUG-LINE 3,1774,1
	ZERO? NEED-TAKE? \FALSE
	.DEBUG-LINE 3,1776,1
	EQUAL? LEN,PTR \?L63
	ZERO? GL-P-MULT? \?L61
?L63:	EQUAL? OBJ,TH-NOT-HERE-OBJECT /?L61
	LOC OBJ >STACK
	EQUAL? STACK,GLOBAL-OBJECTS,LOCAL-GLOBALS \?L61
	.DEBUG-LINE 3,1781,1
	PRINTI "Don't be silly"
	JUMP ?L71
	.DEBUG-LINE 3,1783,1
?L61:	ICALL1 RT-WINNER-NOT-HOLDING-MSG
	.DEBUG-LINE 3,1784,1
	EQUAL? LEN,PTR \?L65
	ZERO? GL-P-MULT? /?L65
	.DEBUG-LINE 3,1786,1
	PRINTI "all of those things"
	JUMP ?L71
	.DEBUG-LINE 3,1787,1
?L65:	EQUAL? OBJ,TH-NOT-HERE-OBJECT \?L67
	.DEBUG-LINE 3,1788,1
	SET 'GL-P-IT-OBJECT,OBJ
	.DEBUG-LINE 3,1789,1
	ICALL2 DPRINT,OBJ
	JUMP ?L71
	.DEBUG-LINE 3,1791,1
?L67:	ICALL2 RT-THIS-IS-IT,OBJ
	.DEBUG-LINE 3,1792,1
	FSET? OBJ,FL-PLURAL \?L69
	.DEBUG-LINE 3,1793,1
	PRINTI "any "
	ICALL2 DPRINT,OBJ
	JUMP ?L71
	.DEBUG-LINE 3,1795,1
?L69:	ICALL2 RT-A-PRINT,OBJ
	.DEBUG-LINE 3,1796,1
?L71:	PRINTI "."
	CRLF
	.DEBUG-LINE 3,1797,1
	RFALSE
	.DEBUG-LINE 3,1798,1
?L57:	IGRTR? 'PTR,LEN \?L4
	.DEBUG-LINE 3,1799,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MANY-CHECK","LOSS","TMP"
	.FUNCT RT-MANY-CHECK,LOSS,TMP
	SET 'LOSS,0
	.DEBUG-LINE 3,1803,1
	GET GL-P-PRSO,K-P-MATCHLEN >STACK
	GRTR? STACK,1 \?L1
	GETB GL-P-SYNTAX,K-P-SLOC1 >STACK
	BTST STACK,SMANY /?L1
	.DEBUG-LINE 3,1805,1
	SET 'LOSS,1
	JUMP ?L3
	.DEBUG-LINE 3,1806,1
?L1:	GET GL-P-PRSI,K-P-MATCHLEN >STACK
	GRTR? STACK,1 \?L3
	GETB GL-P-SYNTAX,K-P-SLOC2 >STACK
	BTST STACK,SMANY /?L3
	.DEBUG-LINE 3,1808,1
	SET 'LOSS,2
	.DEBUG-LINE 3,1809,1
?L3:	ZERO? LOSS /TRUE
	.DEBUG-LINE 3,1810,1
	PRINTI "[You cannot refer to more than one object at a time with """
	.DEBUG-LINE 3,1811,1
	GET GL-P-ITBL,K-P-VERBN >TMP
	.DEBUG-LINE 3,1812,1
	ZERO? TMP \?L7
	.DEBUG-LINE 3,1813,1
	PRINTI "tell"
	JUMP ?L11
	.DEBUG-LINE 3,1814,1
?L7:	ZERO? GL-P-ORPH \?L10
	ZERO? GL-P-MERGED /?L9
	.DEBUG-LINE 3,1816,1
?L10:	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L11
	.DEBUG-LINE 3,1818,1
?L9:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	ICALL RT-WORD-PRINT,STACK,STACK
	.DEBUG-LINE 3,1819,1
?L11:	PRINTI ".""]"
	CRLF
	.DEBUG-LINE 3,1820,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IS-LIT?","RM","RMFLG","OHERE","LIT"
	.FUNCT RT-IS-LIT?,RM,RMFLG,OHERE,LIT
	ASSIGNED? 'RM /?L23
	SET 'RM,0
?L23:	ASSIGNED? 'RMFLG /?L24
	SET 'RMFLG,1
?L24:	SET 'LIT,0
	.DEBUG-LINE 3,1825,1
	ZERO? RM \?L1
	.DEBUG-LINE 3,1826,1
	SET 'RM,GL-PLACE-CUR
	.DEBUG-LINE 3,1827,1
?L1:	ZERO? RMFLG /?L4
	FSET? RM,FL-LIGHTED /TRUE
	.DEBUG-LINE 3,1830,1
?L4:	ZERO? GL-ALW-LIT? /?L6
	EQUAL? GL-WINNER,CH-PLAYER /TRUE
	.DEBUG-LINE 3,1833,1
?L6:	FSET? RM,FL-INDOORS /?L10
	.DEBUG-LINE 3,1834,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 3,1836,1
?L10:	SET 'GL-P-GWIMBIT,FL-LIGHTED
	.DEBUG-LINE 3,1837,1
	SET 'OHERE,GL-PLACE-CUR
	.DEBUG-LINE 3,1838,1
	SET 'GL-PLACE-CUR,RM
	.DEBUG-LINE 3,1839,1
	PUT GL-P-MERGE,K-P-MATCHLEN,0
	.DEBUG-LINE 3,1840,1
	SET 'GL-P-TABLE,GL-P-MERGE
	.DEBUG-LINE 3,1841,1
	SET 'GL-P-SLOCBITS,-1
	.DEBUG-LINE 3,1842,1
	SET 'GL-P-OF,0
	.DEBUG-LINE 3,1843,1
	EQUAL? OHERE,RM \?L16
	.DEBUG-LINE 3,1844,1
	ICALL RT-DO-SL,GL-WINNER,1,1
	.DEBUG-LINE 3,1845,1
	EQUAL? GL-WINNER,CH-PLAYER /?L16
	IN? CH-PLAYER,RM \?L16
	.DEBUG-LINE 3,1847,1
	ICALL RT-DO-SL,CH-PLAYER,1,1
	.DEBUG-LINE 3,1848,1
?L16:	ICALL RT-DO-SL,RM,1,1
	.DEBUG-LINE 3,1849,1
	GET GL-P-TABLE,K-P-MATCHLEN >STACK
	GRTR? STACK,0 \?L20
	.DEBUG-LINE 3,1850,1
	SET 'LIT,1
	.DEBUG-LINE 3,1851,1
?L20:	SET 'GL-PLACE-CUR,OHERE
	.DEBUG-LINE 3,1852,1
	SET 'GL-P-GWIMBIT,0
	.DEBUG-LINE 3,1853,1
	RETURN LIT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PERFORM","A","O","I","W-ROOM","W-LOC","I-LOC","O-LOC","V","OA","OO","OI","ONP","WHO"
	.FUNCT RT-PERFORM,A,O,I,W-ROOM,W-LOC,I-LOC,O-LOC,V,OA,OO,OI,ONP,WHO
	ASSIGNED? 'O /?L168
	SET 'O,0
?L168:	ASSIGNED? 'I /?L169
	SET 'I,0
	.DEBUG-LINE 3,1859,1
?L169:	ZERO? WINNER-IS-WIGGINS /?L1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	EQUAL? GL-PRSA,V?TELL /?L1
	.DEBUG-LINE 3,1862,1
	SET 'GL-WINNER,CH-WIGGINS
	.DEBUG-LINE 3,1863,1
	ICALL2 RT-SPOKEN-TO-MSG,GL-WINNER
	.DEBUG-LINE 3,1864,1
?L1:	SET 'WINNER-IS-WIGGINS,0
	.DEBUG-LINE 3,1865,1
	FSET? GL-WINNER,FL-ALIVE /?L4
	.DEBUG-LINE 3,1866,1
	ICALL RT-NOT-LIKELY-MSG,GL-WINNER,STR?111
	.DEBUG-LINE 3,1867,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 3,1868,1
	RETURN 2
	.DEBUG-LINE 3,1869,1
?L4:	GET GL-SEE-VERBS,0 >STACK
	INTBL? A,GL-SEE-VERBS+2,STACK >STACK \?L7
	ZERO? GL-NOW-LIT? \?L7
	.DEBUG-LINE 3,1871,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 3,1872,1
	RETURN 2
	.DEBUG-LINE 3,1873,1
?L7:	SET 'OA,GL-PRSA
	.DEBUG-LINE 3,1874,1
	SET 'OO,GL-PRSO
	.DEBUG-LINE 3,1875,1
	SET 'OI,GL-PRSI
	.DEBUG-LINE 3,1876,1
	SET 'ONP,GL-NOW-PRSI?
	.DEBUG-LINE 3,1877,1
	CALL1 RT-ANYONE-HERE? >WHO
	.DEBUG-LINE 3,1878,1
	SET 'V,0
	.DEBUG-LINE 3,1879,1
	EQUAL? A,V?WALK /?L106
	.DEBUG-LINE 3,1880,1
	EQUAL? GL-WINNER,CH-PLAYER \?L29
	EQUAL? GL-PRSA,V?WHO,V?WHAT,V?WHERE \?L12
	.DEBUG-LINE 3,1882,1
	ZERO? WHO \?L14
	.DEBUG-LINE 3,1883,1
	ICALL1 RT-NOBODY-TO-ASK-MSG
	.DEBUG-LINE 3,1884,1
	RETURN 2
	.DEBUG-LINE 3,1886,1
?L14:	SET 'GL-WINNER,WHO
	.DEBUG-LINE 3,1887,1
	ICALL2 RT-SPOKEN-TO-MSG,WHO
	JUMP ?L29
	.DEBUG-LINE 3,1888,1
?L12:	EQUAL? GL-WINNER,CH-PLAYER \?L29
	EQUAL? GL-PRSA,V?ASK-FOR-1,V?ASK-ABOUT-1 \?L17
	.DEBUG-LINE 3,1890,1
	ZERO? WHO \?L18
	.DEBUG-LINE 3,1891,1
	ICALL1 RT-NOBODY-TO-ASK-MSG
	.DEBUG-LINE 3,1892,1
	RETURN 2
	.DEBUG-LINE 3,1894,1
?L18:	ICALL2 RT-SPOKEN-TO-MSG,WHO
	.DEBUG-LINE 3,1895,1
	SET 'GL-PRSI,GL-PRSO
	.DEBUG-LINE 3,1896,1
	SET 'GL-PRSO,WHO
	.DEBUG-LINE 3,1897,1
	EQUAL? GL-PRSA,V?ASK-FOR-1 \?L21
	.DEBUG-LINE 3,1898,1
	SET 'GL-PRSA,V?ASK-FOR
	JUMP ?L23
	.DEBUG-LINE 3,1899,1
?L21:	EQUAL? GL-PRSA,V?ASK-ABOUT-1 \?L23
	.DEBUG-LINE 3,1900,1
	SET 'GL-PRSA,V?ASK-ABOUT
	.DEBUG-LINE 3,1901,1
?L23:	SET 'A,GL-PRSA
	.DEBUG-LINE 3,1902,1
	SET 'O,GL-PRSO
	.DEBUG-LINE 3,1903,1
	SET 'I,GL-PRSI
	JUMP ?L29
	.DEBUG-LINE 3,1904,1
?L17:	EQUAL? GL-WINNER,CH-PLAYER \?L29
	EQUAL? O,CH-ME,CH-PLAYER \?L29
	EQUAL? GL-PRSA,V?TELL,V?TELL-ABOUT,V?ASK-ABOUT /?L26
	EQUAL? GL-PRSA,V?ASK-FOR,V?QUESTION,V?REPLY /?L26
	EQUAL? GL-PRSA,V?THANK,V?YELL,V?HELLO /?L26
	EQUAL? GL-PRSA,V?GOODBYE,V?SAY,V?ALARM /?L26
	EQUAL? GL-PRSA,V?PASSWORD \?L29
	.DEBUG-LINE 3,1909,1
?L26:	ZERO? WHO \?L27
	.DEBUG-LINE 3,1910,1
	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 3,1911,1
	RETURN 2
	.DEBUG-LINE 3,1913,1
?L27:	SET 'GL-WINNER,WHO
	.DEBUG-LINE 3,1914,1
	ICALL2 RT-SPOKEN-TO-MSG,WHO
	.DEBUG-LINE 3,1915,1
?L29:	EQUAL? CH-YOU,I,O \?L42
	.DEBUG-LINE 3,1916,1
	EQUAL? GL-WINNER,CH-PLAYER \?L33
	.DEBUG-LINE 3,1917,1
	ZERO? WHO \?L35
	.DEBUG-LINE 3,1918,1
	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 3,1919,1
	RETURN 2
	.DEBUG-LINE 3,1921,1
?L35:	SET 'GL-WINNER,WHO
	.DEBUG-LINE 3,1922,1
	ICALL2 RT-SPOKEN-TO-MSG,WHO
	JUMP ?L38
	.DEBUG-LINE 3,1924,1
?L33:	SET 'GL-P-QCONTEXT-TH,GL-WINNER
	.DEBUG-LINE 3,1925,1
	SET 'GL-P-QCONTEXT-RM,GL-PLACE-CUR
	.DEBUG-LINE 3,1926,1
	SET 'WHO,GL-WINNER
	.DEBUG-LINE 3,1927,1
?L38:	EQUAL? I,CH-YOU \?L39
	.DEBUG-LINE 3,1928,1
	SET 'I,WHO
	.DEBUG-LINE 3,1929,1
?L39:	EQUAL? O,CH-YOU \?L42
	.DEBUG-LINE 3,1930,1
	SET 'O,WHO
	.DEBUG-LINE 3,1931,1
?L42:	EQUAL? TH-IT,I,O \?L46
	CALL2 RT-ACCESSIBLE?,GL-P-IT-OBJECT >STACK
	ZERO? STACK \?L46
	.DEBUG-LINE 3,1933,1
	ZERO? I \?L48
	.DEBUG-LINE 3,1934,1
	ICALL1 RT-FAKE-ORPHAN-MSG
	JUMP ?L50
	.DEBUG-LINE 3,1936,1
?L48:	ICALL2 RT-CANT-SEE-ANY-MSG,GL-P-IT-OBJECT
	.DEBUG-LINE 3,1937,1
?L50:	RETURN 2
	.DEBUG-LINE 3,1938,1
?L46:	EQUAL? CH-THEM,I,O \?L62
	.DEBUG-LINE 3,1939,1
	CALL2 RT-VISIBLE?,GL-P-THEM-OBJECT >STACK
	ZERO? STACK /?L54
	.DEBUG-LINE 3,1940,1
	EQUAL? CH-THEM,O \?L56
	.DEBUG-LINE 3,1941,1
	SET 'O,GL-P-THEM-OBJECT
	.DEBUG-LINE 3,1942,1
?L56:	EQUAL? CH-THEM,I \?L62
	.DEBUG-LINE 3,1943,1
	SET 'I,GL-P-THEM-OBJECT
	JUMP ?L62
	.DEBUG-LINE 3,1945,1
?L54:	ZERO? I \?L63
	.DEBUG-LINE 3,1946,1
	ICALL1 RT-FAKE-ORPHAN-MSG
	JUMP ?L65
	.DEBUG-LINE 3,1948,1
?L63:	ICALL2 RT-CANT-SEE-ANY-MSG,GL-P-THEM-OBJECT
	.DEBUG-LINE 3,1949,1
?L65:	RETURN 2
	.DEBUG-LINE 3,1950,1
?L62:	EQUAL? CH-HER,I,O \?L80
	.DEBUG-LINE 3,1951,1
	CALL2 RT-VISIBLE?,GL-P-HER-OBJECT >STACK
	ZERO? STACK /?L69
	.DEBUG-LINE 3,1952,1
	EQUAL? GL-P-HER-OBJECT,GL-WINNER \?L71
	CALL2 RT-NO-OTHER?,1 >STACK
	ZERO? STACK /?L71
	.DEBUG-LINE 3,1954,1
	RETURN 2
	.DEBUG-LINE 3,1955,1
?L71:	EQUAL? CH-HER,O \?L74
	.DEBUG-LINE 3,1956,1
	SET 'O,GL-P-HER-OBJECT
	.DEBUG-LINE 3,1957,1
?L74:	EQUAL? CH-HER,I \?L80
	.DEBUG-LINE 3,1958,1
	SET 'I,GL-P-HER-OBJECT
	JUMP ?L80
	.DEBUG-LINE 3,1960,1
?L69:	ZERO? I \?L81
	.DEBUG-LINE 3,1961,1
	ICALL1 RT-FAKE-ORPHAN-MSG
	JUMP ?L83
	.DEBUG-LINE 3,1963,1
?L81:	ICALL2 RT-CANT-SEE-ANY-MSG,GL-P-HER-OBJECT
	.DEBUG-LINE 3,1964,1
?L83:	RETURN 2
	.DEBUG-LINE 3,1965,1
?L80:	EQUAL? CH-HIM,I,O \?L98
	.DEBUG-LINE 3,1966,1
	CALL2 RT-VISIBLE?,GL-P-HIM-OBJECT >STACK
	ZERO? STACK /?L87
	.DEBUG-LINE 3,1967,1
	EQUAL? GL-P-HIM-OBJECT,GL-WINNER \?L89
	CALL1 RT-NO-OTHER? >STACK
	ZERO? STACK /?L89
	.DEBUG-LINE 3,1969,1
	RETURN 2
	.DEBUG-LINE 3,1970,1
?L89:	EQUAL? CH-HIM,O \?L92
	.DEBUG-LINE 3,1971,1
	SET 'O,GL-P-HIM-OBJECT
	.DEBUG-LINE 3,1972,1
?L92:	EQUAL? CH-HIM,I \?L98
	.DEBUG-LINE 3,1973,1
	SET 'I,GL-P-HIM-OBJECT
	JUMP ?L98
	.DEBUG-LINE 3,1975,1
?L87:	ZERO? I \?L99
	.DEBUG-LINE 3,1976,1
	ICALL1 RT-FAKE-ORPHAN-MSG
	JUMP ?L101
	.DEBUG-LINE 3,1978,1
?L99:	ICALL2 RT-CANT-SEE-ANY-MSG,GL-P-HIM-OBJECT
	.DEBUG-LINE 3,1979,1
?L101:	RETURN 2
	.DEBUG-LINE 3,1980,1
?L98:	EQUAL? O,TH-IT \?L103
	.DEBUG-LINE 3,1981,1
	SET 'O,GL-P-IT-OBJECT
	.DEBUG-LINE 3,1982,1
?L103:	EQUAL? I,TH-IT \?L106
	.DEBUG-LINE 3,1983,1
	SET 'I,GL-P-IT-OBJECT
	.DEBUG-LINE 3,1985,1
?L106:	EQUAL? A,V?TAKE \?L110
	ZERO? O /?L110
	ZERO? I \?L110
	LOC O >STACK
	ZERO? STACK /?L110
	.DEBUG-LINE 3,1989,1
	LOC O >I
	.DEBUG-LINE 3,1990,1
?L110:	SET 'GL-PRSA,A
	.DEBUG-LINE 3,1991,1
	SET 'GL-PRSI,I
	.DEBUG-LINE 3,1992,1
	SET 'GL-PRSO,O
	.DEBUG-LINE 3,1993,1
	EQUAL? A,V?WALK /?L115
	EQUAL? TH-NOT-HERE-OBJECT,O,I \?L115
	.DEBUG-LINE 3,1995,1
	CALL1 RT-TH-NOT-HERE-OBJECT >V
	ZERO? V /?L115
	.DEBUG-LINE 3,1996,1
	SET 'GL-P-GOOD,0
	.DEBUG-LINE 3,1997,1
?L115:	ICALL2 RT-THIS-IS-IT,GL-PRSI
	.DEBUG-LINE 3,1998,1
	ICALL2 RT-THIS-IS-IT,GL-PRSO
	.DEBUG-LINE 3,1999,1
	SET 'I,GL-PRSI
	.DEBUG-LINE 3,2000,1
	SET 'O,GL-PRSO
	.DEBUG-LINE 3,2001,1
	EQUAL? O,ROOMS \?L119
	.DEBUG-LINE 3,2002,1
	SET 'O,0
	.DEBUG-LINE 3,2003,1
?L119:	LOC GL-WINNER >W-LOC
	.DEBUG-LINE 3,2004,1
	FSET? W-LOC,FL-VEHICLE /?L124
	FSET? W-LOC,FL-CONTAINER /?L124
	FSET? W-LOC,FL-SURFACE \?L122
	.DEBUG-LINE 3,2007,1
?L124:	LOC W-LOC >W-ROOM
	JUMP ?L125
	.DEBUG-LINE 3,2009,1
?L122:	SET 'W-ROOM,W-LOC
	.DEBUG-LINE 3,2010,1
?L125:	ZERO? V \?L159
	.DEBUG-LINE 3,2011,1
	GETP GL-WINNER,P?ACTION >STACK
	CALL2 STACK,K-M-WINNER >V
	.DEBUG-LINE 3,2012,1
	ZERO? V \?L159
	.DEBUG-LINE 3,2013,1
	GETP W-ROOM,P?ACTION >STACK
	CALL2 STACK,K-M-BEG >V
	.DEBUG-LINE 3,2014,1
	ZERO? V \?L159
	.DEBUG-LINE 3,2015,1
	GET PREACTIONS,A >STACK
	CALL1 STACK >V
	.DEBUG-LINE 3,2016,1
	ZERO? V \?L159
	EQUAL? GL-WINNER,CH-PLAYER \?L135
	FSET? W-LOC,FL-VEHICLE /?L137
	FSET? W-LOC,FL-CONTAINER /?L137
	FSET? W-LOC,FL-SURFACE \?L135
	.DEBUG-LINE 3,2021,1
?L137:	GETP W-LOC,P?CONTFCN >STACK
	CALL2 STACK,K-M-CANT >V
	.DEBUG-LINE 3,2022,1
?L135:	ZERO? V \?L159
	EQUAL? A,V?WALK,V?TELL-ABOUT,V?ASK-ABOUT /?L149
	EQUAL? A,V?ASK-FOR /?L149
	.DEBUG-LINE 3,2025,1
	ZERO? I /?L141
	LOC I >I-LOC
	ZERO? I-LOC /?L141
	FSET? I-LOC,FL-VEHICLE /?L143
	FSET? I-LOC,FL-CONTAINER /?L143
	FSET? I-LOC,FL-SURFACE /?L143
	FSET? I-LOC,FL-ALIVE \?L141
	.DEBUG-LINE 3,2031,1
?L143:	SET 'GL-NOW-PRSI?,1
	.DEBUG-LINE 3,2032,1
	GETP I-LOC,P?CONTFCN >STACK
	CALL2 STACK,K-M-CONT >V
	.DEBUG-LINE 3,2033,1
?L141:	ZERO? O /?L145
	LOC O >O-LOC
	ZERO? O-LOC /?L145
	FSET? O-LOC,FL-VEHICLE /?L147
	FSET? O-LOC,FL-CONTAINER /?L147
	FSET? O-LOC,FL-SURFACE /?L147
	FSET? O-LOC,FL-ALIVE \?L145
	.DEBUG-LINE 3,2039,1
?L147:	SET 'GL-NOW-PRSI?,0
	.DEBUG-LINE 3,2040,1
	GETP O-LOC,P?CONTFCN >STACK
	CALL2 STACK,K-M-CONT >V
	.DEBUG-LINE 3,2041,1
?L145:	ZERO? I /?L149
	.DEBUG-LINE 3,2042,1
	SET 'GL-NOW-PRSI?,1
	.DEBUG-LINE 3,2043,1
	GETP I,P?ACTION >STACK
	CALL1 STACK >V
	.DEBUG-LINE 3,2045,1
?L149:	ZERO? V \?L159
	ZERO? O /?L153
	EQUAL? A,V?WALK /?L153
	.DEBUG-LINE 3,2048,1
	SET 'GL-NOW-PRSI?,0
	.DEBUG-LINE 3,2049,1
	GETP O,P?ACTION >STACK
	CALL1 STACK >V
	.DEBUG-LINE 3,2051,1
?L153:	ZERO? V \?L159
	.DEBUG-LINE 3,2052,1
	GET ACTIONS,A >STACK
	CALL1 STACK >V
	.DEBUG-LINE 3,2054,1
	ZERO? V \?L159
	.DEBUG-LINE 3,2055,1
	GETP W-LOC,P?ACTION >STACK
	CALL2 STACK,K-M-END >V
	.DEBUG-LINE 3,2057,1
?L159:	ZERO? GL-PRSI /?L162
	FSET? GL-PRSI,FL-LOSE-IDENTITY \?L162
	.DEBUG-LINE 3,2059,1
	PUTP GL-PRSI,P?OBJ-NOUN,0
	.DEBUG-LINE 3,2060,1
	PUTP GL-PRSI,P?OBJ-ADJ,0
	.DEBUG-LINE 3,2061,1
?L162:	ZERO? GL-PRSO /?L165
	FSET? GL-PRSO,FL-LOSE-IDENTITY \?L165
	.DEBUG-LINE 3,2063,1
	PUTP GL-PRSO,P?OBJ-NOUN,0
	.DEBUG-LINE 3,2064,1
	PUTP GL-PRSO,P?OBJ-ADJ,0
	.DEBUG-LINE 3,2065,1
?L165:	SET 'GL-PRSA,OA
	.DEBUG-LINE 3,2066,1
	SET 'GL-PRSO,OO
	.DEBUG-LINE 3,2067,1
	SET 'GL-PRSI,OI
	.DEBUG-LINE 3,2068,1
	SET 'GL-NOW-PRSI?,ONP
	.DEBUG-LINE 3,2070,1
	RETURN V
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SET-GL-PLACE-CUR"
	.FUNCT RT-SET-GL-PLACE-CUR
	.DEBUG-LINE 3,2074,1
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L1
	.DEBUG-LINE 3,2075,1
	LOC GL-WINNER >STACK
	LOC STACK >GL-PLACE-CUR
	RETURN GL-PLACE-CUR
	.DEBUG-LINE 3,2078,1
?L1:	LOC GL-WINNER >GL-PLACE-CUR
	RETURN GL-PLACE-CUR
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PARSER","PTR","WRD","VAL","VERB","OF-FLAG","LEN","DIR","NW","LW","CNT","OWINNER","OMERGED","TMP1","?TMP"
	.FUNCT RT-PARSER,PTR,WRD,VAL,VERB,OF-FLAG,LEN,DIR,NW,LW,CNT,OWINNER,OMERGED,TMP1,?TMP
?L0:	SET 'PTR,K-P-LEXSTART
	SET 'VAL,0
	SET 'VERB,0
	SET 'OF-FLAG,0
	SET 'LEN,0
	SET 'DIR,0
	SET 'NW,0
	SET 'LW,0
	SET 'CNT,0
	SET 'TMP1,0
	.DEBUG-LINE 3,2094,1
	SET 'GL-FUNNY-CLAUSE?,0
	.DEBUG-LINE 3,2095,1
	ZERO? GL-P-ORPH \?L1
	.DEBUG-LINE 3,2096,1
	COPYT GL-P-ITBL,GL-P-OTBL,20
	.DEBUG-LINE 3,2097,1
?L1:	COPYT GL-P-ITBL,0,20
	.DEBUG-LINE 3,2098,1
	SET 'GL-P-NAM,0
	.DEBUG-LINE 3,2099,1
	SET 'GL-P-ADJ,0
	.DEBUG-LINE 3,2100,1
	SET 'GL-P-XNAM,0
	.DEBUG-LINE 3,2101,1
	SET 'GL-P-XADJ,0
	.DEBUG-LINE 3,2102,1
	SET 'GL-P-DIR-WORD,0
	.DEBUG-LINE 3,2103,1
	ZERO? GL-P-ORPH \?L4
	.DEBUG-LINE 3,2104,1
	PUT GL-P-NAMW,0,0
	.DEBUG-LINE 3,2105,1
	PUT GL-P-NAMW,1,0
	.DEBUG-LINE 3,2106,1
	PUT GL-P-ADJW,0,0
	.DEBUG-LINE 3,2107,1
	PUT GL-P-ADJW,1,0
	.DEBUG-LINE 3,2108,1
	PUT GL-P-OFW,0,0
	.DEBUG-LINE 3,2109,1
	PUT GL-P-OFW,1,0
	.DEBUG-LINE 3,2110,1
?L4:	SET 'OMERGED,GL-P-MERGED
	.DEBUG-LINE 3,2111,1
	SET 'OWINNER,GL-WINNER
	.DEBUG-LINE 3,2112,1
	SET 'GL-P-MERGED,0
	.DEBUG-LINE 3,2113,1
	SET 'GL-P-END-ON-PREP,0
	.DEBUG-LINE 3,2114,1
	PUT GL-P-PRSO,K-P-MATCHLEN,0
	.DEBUG-LINE 3,2115,1
	PUT GL-P-PRSI,K-P-MATCHLEN,0
	.DEBUG-LINE 3,2116,1
	PUT GL-P-BUTS,K-P-MATCHLEN,0
	.DEBUG-LINE 3,2117,1
	ZERO? GL-P-QUOT \?L7
	EQUAL? GL-WINNER,CH-PLAYER /?L7
	.DEBUG-LINE 3,2119,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 3,2120,1
	ICALL1 RT-SET-GL-PLACE-CUR
	.DEBUG-LINE 3,2121,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 3,2122,1
?L7:	ZERO? GL-RESERVE-PTR /?L10
	.DEBUG-LINE 3,2123,1
	SET 'PTR,GL-RESERVE-PTR
	.DEBUG-LINE 3,2124,1
	ICALL RT-STUFF,GL-P-P-LEX,GL-P-T-LEX
	.DEBUG-LINE 3,2125,1
	COPYT GL-P-RIBUF,GL-P-PIBUF,K-P-INBUF-SIZE
	.DEBUG-LINE 3,2126,1
	ZERO? GL-DESC-LEVEL /?L12
	EQUAL? CH-PLAYER,GL-WINNER \?L12
	.DEBUG-LINE 3,2128,1
	CRLF
	.DEBUG-LINE 3,2129,1
?L12:	SET 'GL-RESERVE-PTR,0
	.DEBUG-LINE 3,2130,1
	SET 'GL-P-CONT,0
	JUMP ?L19
	.DEBUG-LINE 3,2131,1
?L10:	ZERO? GL-P-CONT /?L15
	.DEBUG-LINE 3,2132,1
	SET 'PTR,GL-P-CONT
	.DEBUG-LINE 3,2133,1
	SET 'GL-P-CONT,0
	.DEBUG-LINE 3,2134,1
	ZERO? GL-DESC-LEVEL /?L19
	EQUAL? CH-PLAYER,GL-WINNER \?L19
	.DEBUG-LINE 3,2136,1
	CRLF
	JUMP ?L19
	.DEBUG-LINE 3,2138,1
?L15:	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 3,2139,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,2140,1
	ICALL1 RT-SET-GL-PLACE-CUR
	.DEBUG-LINE 3,2141,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 3,2142,1
	GET 0,8 >STACK
	BTST STACK,4 \?L20
	.DEBUG-LINE 3,2143,1
	GET 0,8 >STACK
	BAND STACK,-5 >STACK
	PUT 0,8,STACK
	.DEBUG-LINE 3,2144,1
	ICALL1 RT-INIT-SCREEN
	.DEBUG-LINE 3,2145,1
?L20:	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 3,2146,1
	ZERO? GL-WHERE-TO-PROMPT? /?L23
	.DEBUG-LINE 3,2147,1
	CRLF
	PRINTI """Where to, guv'nor?"""
	CRLF
	.DEBUG-LINE 3,2148,1
?L23:	ZERO? GL-WHERE-TO-ORPH? /?L26
	.DEBUG-LINE 3,2149,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 3,2150,1
	ICALL RT-ORPHAN-VERB,W?DRIVE,ACT?DRIVE
	.DEBUG-LINE 3,2151,1
?L26:	CRLF
	PRINTI ">"
	.DEBUG-LINE 3,2152,1
	PUTB GL-P-P-LEX,0,59
	.DEBUG-LINE 3,2153,1
	PUTB GL-P-PIBUF,1,0
	.DEBUG-LINE 3,2154,1
	READ GL-P-PIBUF,GL-P-P-LEX >STACK
	.DEBUG-LINE 3,2155,1
?L19:	GETB GL-P-P-LEX,K-P-LEXWORDS >GL-P-LEN
	.DEBUG-LINE 3,2156,1
	GET GL-P-P-LEX,PTR >?TMP
	EQUAL? ?TMP,W?$QUOTE,W?$PERIOD,W?THEN /?L31
	EQUAL? ?TMP,W?PLEASE,W?SO \?L29
	.DEBUG-LINE 3,2162,1
?L31:	ADD PTR,K-P-LEXELEN >PTR
	.DEBUG-LINE 3,2163,1
	DEC 'GL-P-LEN
	.DEBUG-LINE 3,2164,1
?L29:	GET GL-P-P-LEX,PTR >TMP1
	.DEBUG-LINE 3,2166,1
	LESS? 1,GL-P-LEN \?L33
	GET GL-P-P-LEX,PTR >STACK
	EQUAL? STACK,W?GO \?L33
	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >NW
	ZERO? NW /?L33
	GETB NW,6 >STACK
	BTST STACK,64 \?L33
	.DEBUG-LINE 3,2170,1
	ADD PTR,K-P-LEXELEN >PTR
	.DEBUG-LINE 3,2171,1
	DEC 'GL-P-LEN
	.DEBUG-LINE 3,2172,1
?L33:	ZERO? GL-P-LEN \?L36
	.DEBUG-LINE 3,2173,1
	PRINTI "[What?]"
	CRLF
	.DEBUG-LINE 3,2174,1
	RFALSE
	.DEBUG-LINE 3,2175,1
?L36:	GET GL-P-P-LEX,PTR >STACK
	EQUAL? STACK,W?UNDO \?L39
	.DEBUG-LINE 3,2176,1
	ICALL1 V-UNDO
	.DEBUG-LINE 3,2177,1
	RFALSE
	.DEBUG-LINE 3,2179,1
?L39:	ISAVE >GL-CAN-UNDO
	.DEBUG-LINE 3,2180,1
	EQUAL? GL-CAN-UNDO,2 \?L42
	.DEBUG-LINE 3,2182,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 3,2183,1
	ZERO? SOUND-ON? /?L44
	.DEBUG-LINE 3,2184,1
	ICALL1 CHECK-LOOPING
	.DEBUG-LINE 3,2185,1
?L44:	PRINTI "[UNDO completed.]"
	CRLF
	.DEBUG-LINE 3,2186,1
	JUMP ?L0
	.DEBUG-LINE 3,2187,1
?L42:	GET GL-P-P-LEX,PTR >STACK
	EQUAL? STACK,W?OOPS,W?O \?L48
	.DEBUG-LINE 3,2188,1
	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >STACK
	EQUAL? STACK,W?$PERIOD,W?$COMMA \?L50
	.DEBUG-LINE 3,2190,1
	ADD PTR,K-P-LEXELEN >PTR
	.DEBUG-LINE 3,2191,1
	DEC 'GL-P-LEN
	.DEBUG-LINE 3,2192,1
?L50:	GRTR? GL-P-LEN,1 /?L53
	.DEBUG-LINE 3,2193,1
	PRINTI "[You cannot use OOPS that way.]"
	CRLF
	.DEBUG-LINE 3,2194,1
	RFALSE
	.DEBUG-LINE 3,2195,1
?L53:	GET GL-OOPS-TABLE,K-O-PTR >STACK
	ZERO? STACK /?L55
	.DEBUG-LINE 3,2197,1
	GRTR? GL-P-LEN,2 \?L56
	.DEBUG-LINE 3,2198,1
	PRINTI "[Only the first word after OOPS is used.]"
	CRLF
	.DEBUG-LINE 3,2199,1
?L56:	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >STACK
	GET GL-OOPS-TABLE,K-O-PTR >STACK
	PUT GL-P-S-LEX,STACK,STACK
	.DEBUG-LINE 3,2201,1
	SET 'GL-WINNER,OWINNER
	.DEBUG-LINE 3,2202,1
	GET GL-OOPS-TABLE,K-O-PTR >STACK
	MUL STACK,K-P-LEXELEN >STACK
	ADD STACK,3 >STACK
	MUL PTR,K-P-LEXELEN >STACK
	ADD STACK,7 >STACK
	GETB GL-P-P-LEX,STACK >STACK
	MUL PTR,K-P-LEXELEN >STACK
	ADD STACK,6 >STACK
	GETB GL-P-P-LEX,STACK >STACK
	ICALL RT-INBUF-ADD,STACK,STACK,STACK
	.DEBUG-LINE 3,2205,1
	ICALL RT-STUFF,GL-P-P-LEX,GL-P-S-LEX
	.DEBUG-LINE 3,2206,1
	GETB GL-P-P-LEX,K-P-LEXWORDS >GL-P-LEN
	.DEBUG-LINE 3,2207,1
	GET GL-OOPS-TABLE,K-O-START >PTR
	.DEBUG-LINE 3,2208,1
	COPYT GL-OOPS-INBUF,GL-P-PIBUF,K-P-INBUF-SIZE
	JUMP ?L60
	.DEBUG-LINE 3,2210,1
?L55:	PUT GL-OOPS-TABLE,K-O-END,0
	.DEBUG-LINE 3,2211,1
	PRINTI "[There was no word to replace in that sentence.]"
	CRLF
	.DEBUG-LINE 3,2212,1
	RFALSE
	.DEBUG-LINE 3,2214,1
?L48:	PUT GL-OOPS-TABLE,K-O-END,0
	.DEBUG-LINE 3,2215,1
?L60:	GET GL-P-P-LEX,PTR >STACK
	EQUAL? STACK,W?AGAIN,W?G \?L61
	.DEBUG-LINE 3,2216,1
	ZERO? GL-P-ORPH \?L65
	ZERO? GL-P-GOOD /?L65
	GETB GL-OOPS-INBUF,1 >STACK
	ZERO? STACK \?L63
	.DEBUG-LINE 3,2219,1
?L65:	PRINTI "[You cannot use AGAIN that way.]"
	CRLF
	.DEBUG-LINE 3,2220,1
	RFALSE
	.DEBUG-LINE 3,2221,1
?L63:	GRTR? GL-P-LEN,1 \?L66
	.DEBUG-LINE 3,2222,1
	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >STACK
	EQUAL? STACK,W?$PERIOD,W?$COMMA,W?THEN /?L69
	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >STACK
	EQUAL? STACK,W?AND \?L67
	.DEBUG-LINE 3,2226,1
?L69:	ADD PTR,4 >PTR
	.DEBUG-LINE 3,2227,1
	GETB GL-P-P-LEX,K-P-LEXWORDS >STACK
	SUB STACK,2 >STACK
	PUTB GL-P-P-LEX,K-P-LEXWORDS,STACK
	JUMP ?L71
	.DEBUG-LINE 3,2230,1
?L67:	PRINT K-DONT-UNDERSTAND-MSG
	CRLF
	.DEBUG-LINE 3,2231,1
	RFALSE
	.DEBUG-LINE 3,2233,1
?L66:	ADD PTR,K-P-LEXELEN >PTR
	.DEBUG-LINE 3,2234,1
	GETB GL-P-P-LEX,K-P-LEXWORDS >STACK
	DEC 'STACK
	PUTB GL-P-P-LEX,K-P-LEXWORDS,STACK
	.DEBUG-LINE 3,2236,1
?L71:	GETB GL-P-P-LEX,K-P-LEXWORDS >STACK
	GRTR? STACK,0 \?L72
	.DEBUG-LINE 3,2237,1
	ICALL RT-STUFF,GL-P-T-LEX,GL-P-P-LEX
	.DEBUG-LINE 3,2238,1
	COPYT GL-P-PIBUF,GL-P-RIBUF,K-P-INBUF-SIZE
	.DEBUG-LINE 3,2239,1
	SET 'GL-RESERVE-PTR,PTR
	JUMP ?L74
	.DEBUG-LINE 3,2241,1
?L72:	SET 'GL-RESERVE-PTR,0
	.DEBUG-LINE 3,2243,1
?L74:	CALL2 RT-VISIBLE?,OWINNER >STACK
	ZERO? STACK /?L75
	.DEBUG-LINE 3,2244,1
	SET 'GL-WINNER,OWINNER
	JUMP ?L77
	.DEBUG-LINE 3,2246,1
?L75:	ICALL2 RT-CTHEO-PRINT,OWINNER
	.DEBUG-LINE 3,2247,1
	ICALL2 RT-ISNT-ARENT-MSG,OWINNER
	.DEBUG-LINE 3,2248,1
	PRINTI "here anymore."
	CRLF
	.DEBUG-LINE 3,2249,1
	RFALSE
	.DEBUG-LINE 3,2250,1
?L77:	SET 'GL-P-MERGED,OMERGED
	.DEBUG-LINE 3,2251,1
	COPYT GL-OOPS-INBUF,GL-P-PIBUF,K-P-INBUF-SIZE
	.DEBUG-LINE 3,2252,1
	ICALL RT-STUFF,GL-P-P-LEX,GL-P-S-LEX
	.DEBUG-LINE 3,2253,1
	SET 'CNT,-1
	.DEBUG-LINE 3,2254,1
	SET 'DIR,GL-AGAIN-DIR
	.DEBUG-LINE 3,2255,1
	COPYT GL-P-OTBL,GL-P-ITBL,20
	JUMP ?L83
	.DEBUG-LINE 3,2260,1
?L61:	ZERO? GL-P-ORPH \?L79
	.DEBUG-LINE 3,2261,1
	SET 'GL-P-NUMBER,-1
	.DEBUG-LINE 3,2262,1
?L79:	ICALL RT-STUFF,GL-P-S-LEX,GL-P-P-LEX
	.DEBUG-LINE 3,2263,1
	COPYT GL-P-PIBUF,GL-OOPS-INBUF,K-P-INBUF-SIZE
	.DEBUG-LINE 3,2264,1
	PUT GL-OOPS-TABLE,K-O-START,PTR
	.DEBUG-LINE 3,2265,1
	MUL 4,GL-P-LEN >STACK
	PUT GL-OOPS-TABLE,K-O-LENGTH,STACK
	.DEBUG-LINE 3,2266,1
	GETB GL-P-P-LEX,K-P-LEXWORDS >STACK
	MUL K-P-LEXELEN,STACK >STACK
	ADD PTR,STACK >STACK
	MUL 2,STACK >LEN
	.DEBUG-LINE 3,2268,1
	SUB LEN,2 >STACK
	GETB GL-P-P-LEX,STACK >STACK
	SUB LEN,1 >STACK
	GETB GL-P-P-LEX,STACK >STACK
	ADD STACK,STACK >STACK
	PUT GL-OOPS-TABLE,K-O-END,STACK
	.DEBUG-LINE 3,2270,1
	SET 'GL-RESERVE-PTR,0
	.DEBUG-LINE 3,2271,1
	SET 'LEN,GL-P-LEN
	.DEBUG-LINE 3,2272,1
	SET 'GL-P-DIR,0
	.DEBUG-LINE 3,2273,1
	SET 'GL-P-NCN,0
	.DEBUG-LINE 3,2274,1
	SET 'GL-P-GET-FLAGS,0
	.DEBUG-LINE 3,2275,1
	PUT GL-P-ITBL,K-P-VERBN,0
	.DEBUG-LINE 3,2277,1
?L82:	DLESS? 'GL-P-LEN,0 \?L84
	.DEBUG-LINE 3,2278,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,2279,1
	JUMP ?L83
	.DEBUG-LINE 3,2280,1
?L84:	GET GL-P-P-LEX,PTR >WRD
	ZERO? WRD \?L87
	CALL2 RT-NUMBER?,PTR >WRD
	ZERO? WRD /?L86
	.DEBUG-LINE 3,2282,1
?L87:	ZERO? GL-P-LEN \?L88
	.DEBUG-LINE 3,2283,1
	SET 'NW,0
	JUMP ?L90
	.DEBUG-LINE 3,2285,1
?L88:	ADD PTR,K-P-LEXELEN >STACK
	GET GL-P-P-LEX,STACK >NW
	.DEBUG-LINE 3,2286,1
?L90:	EQUAL? WRD,W?TO \?L91
	EQUAL? VERB,ACT?TELL,ACT?ASK \?L91
	.DEBUG-LINE 3,2288,1
	PUT GL-P-ITBL,K-P-VERB,ACT?TELL
	.DEBUG-LINE 3,2289,1
	SET 'WRD,W?$QUOTE
	JUMP ?L94
	.DEBUG-LINE 3,2290,1
?L91:	EQUAL? WRD,W?THEN \?L93
	GRTR? GL-P-LEN,0 \?L93
	ZERO? VERB \?L93
	ZERO? GL-P-QUOT \?L93
	.DEBUG-LINE 3,2294,1
	PUT GL-P-ITBL,K-P-VERB,ACT?TELL
	.DEBUG-LINE 3,2295,1
	PUT GL-P-ITBL,K-P-VERBN,0
	.DEBUG-LINE 3,2296,1
	SET 'WRD,W?$QUOTE
	.DEBUG-LINE 3,2297,1
	SET 'GL-P-ORPH,0
	JUMP ?L94
	.DEBUG-LINE 3,2298,1
?L93:	EQUAL? WRD,W?$PERIOD \?L94
	EQUAL? LW,W?MR,W?MRS,W?MISS /?L95
	EQUAL? LW,W?DR \?L94
	.DEBUG-LINE 3,2301,1
?L95:	DEC 'GL-P-NCN
	.DEBUG-LINE 3,2302,1
	ICALL RT-CHANGE-LEXV,PTR,LW,1
	.DEBUG-LINE 3,2303,1
	SET 'WRD,LW
	.DEBUG-LINE 3,2304,1
	SET 'LW,0
	.DEBUG-LINE 3,2305,1
?L94:	EQUAL? WRD,W?THEN,W?$PERIOD,W?$QUOTE \?L97
	.DEBUG-LINE 3,2306,1
	EQUAL? WRD,W?$QUOTE \?L103
	.DEBUG-LINE 3,2308,1
	ZERO? GL-P-QUOT /?L101
	.DEBUG-LINE 3,2309,1
	SET 'GL-P-QUOT,0
	JUMP ?L103
	.DEBUG-LINE 3,2311,1
?L101:	SET 'GL-P-QUOT,1
	.DEBUG-LINE 3,2312,1
?L103:	ZERO? GL-P-LEN /?L105
	.DEBUG-LINE 3,2313,1
	ADD PTR,K-P-LEXELEN >GL-P-CONT
	.DEBUG-LINE 3,2314,1
?L105:	PUTB GL-P-P-LEX,K-P-LEXWORDS,GL-P-LEN
	.DEBUG-LINE 3,2315,1
	JUMP ?L83
	.DEBUG-LINE 3,2316,1
?L97:	CALL RT-WT?,WRD,16,3 >VAL
	ZERO? VAL /?L107
	EQUAL? VERB,0,ACT?WALK,ACT?GO \?L107
	EQUAL? LEN,1 /?L108
	EQUAL? LEN,2 \?L109
	EQUAL? VERB,ACT?WALK,ACT?GO /?L108
?L109:	EQUAL? NW,W?THEN,W?$PERIOD,W?$QUOTE \?L110
	GRTR? LEN,1 /?L108
?L110:	ZERO? GL-P-QUOT /?L111
	EQUAL? LEN,2 \?L111
	EQUAL? NW,W?$QUOTE /?L108
?L111:	GRTR? LEN,2 \?L107
	EQUAL? NW,W?$COMMA,W?AND \?L107
	.DEBUG-LINE 3,2329,1
?L108:	SET 'DIR,VAL
	.DEBUG-LINE 3,2330,1
	SET 'GL-P-DIR-WORD,WRD
	.DEBUG-LINE 3,2331,1
	EQUAL? NW,W?$COMMA,W?AND \?L112
	.DEBUG-LINE 3,2332,1
	ADD PTR,K-P-LEXELEN >STACK
	ICALL RT-CHANGE-LEXV,STACK,W?THEN
	.DEBUG-LINE 3,2334,1
?L112:	GRTR? LEN,2 /?L144
	.DEBUG-LINE 3,2335,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,2336,1
	JUMP ?L83
	.DEBUG-LINE 3,2337,1
?L107:	CALL RT-WT?,WRD,64,1 >VAL
	ZERO? VAL /?L118
	ZERO? VERB \?L118
	.DEBUG-LINE 3,2339,1
	SET 'GL-P-PRSA-WORD,WRD
	.DEBUG-LINE 3,2340,1
	SET 'VERB,VAL
	.DEBUG-LINE 3,2341,1
	PUT GL-P-ITBL,K-P-VERB,VAL
	.DEBUG-LINE 3,2342,1
	PUT GL-P-ITBL,K-P-VERBN,GL-P-VTBL
	.DEBUG-LINE 3,2343,1
	PUT GL-P-VTBL,0,WRD
	.DEBUG-LINE 3,2344,1
	MUL PTR,2 >STACK
	ADD STACK,2 >TMP1
	GETB GL-P-P-LEX,TMP1 >STACK
	PUTB GL-P-VTBL,2,STACK
	.DEBUG-LINE 3,2346,1
	ADD TMP1,1 >STACK
	GETB GL-P-P-LEX,STACK >STACK
	PUTB GL-P-VTBL,3,STACK
	JUMP ?L144
	.DEBUG-LINE 3,2348,1
?L118:	CALL RT-WT?,WRD,8,0 >VAL
	ZERO? VAL \?L120
	EQUAL? WRD,W?A,W?EVERYTHING,W?BOTH /?L120
	EQUAL? WRD,W?ALL /?L120
	GETB WRD,6 >STACK
	BAND STACK,160 >STACK
	ZERO? STACK /?L119
	.DEBUG-LINE 3,2353,1
?L120:	GRTR? GL-P-LEN,1 \?L121
	EQUAL? NW,W?OF \?L121
	EQUAL? VERB,ACT?TAKE /?L121
	ZERO? VAL \?L163
	EQUAL? WRD,W?A,W?ALL,W?BOTH /?L121
	EQUAL? WRD,W?EVERYTHING /?L121
	.DEBUG-LINE 3,2360,1
	PUT GL-P-OFW,GL-P-NCN,WRD
	.DEBUG-LINE 3,2361,1
	SET 'OF-FLAG,1
	JUMP ?L144
	.DEBUG-LINE 3,2362,1
?L121:	ZERO? VAL /?L123
?L163:	ZERO? GL-P-LEN /?L124
	EQUAL? NW,W?THEN,W?$PERIOD \?L123
	.DEBUG-LINE 3,2365,1
?L124:	SET 'GL-P-END-ON-PREP,1
	.DEBUG-LINE 3,2367,1
	LESS? GL-P-NCN,2 \?L144
	.DEBUG-LINE 3,2368,1
	PUT GL-P-ITBL,K-P-PREP1,VAL
	.DEBUG-LINE 3,2369,1
	PUT GL-P-ITBL,K-P-PREP1N,WRD
	JUMP ?L144
	.DEBUG-LINE 3,2370,1
?L123:	EQUAL? GL-P-NCN,2 \?L128
	.DEBUG-LINE 3,2371,1
	PRINTI "[There are too many nouns in that sentence.]"
	CRLF
	.DEBUG-LINE 3,2373,1
	RFALSE
	.DEBUG-LINE 3,2375,1
?L128:	INC 'GL-P-NCN
	.DEBUG-LINE 3,2376,1
	CALL RT-CLAUSE,PTR,VAL,WRD >PTR
	ZERO? PTR /FALSE
	.DEBUG-LINE 3,2379,1
	LESS? PTR,0 \?L144
	.DEBUG-LINE 3,2380,1
	SET 'GL-P-QUOT,0
	.DEBUG-LINE 3,2381,1
	JUMP ?L83
	.DEBUG-LINE 3,2382,1
?L119:	EQUAL? WRD,W?OF \?L135
	.DEBUG-LINE 3,2384,1
	ZERO? OF-FLAG /?L138
	EQUAL? NW,W?$PERIOD,W?THEN \?L136
	.DEBUG-LINE 3,2386,1
?L138:	ICALL2 RT-DONT-KNOW-WORD-USE-MSG,PTR
	.DEBUG-LINE 3,2387,1
	RFALSE
	.DEBUG-LINE 3,2389,1
?L136:	SET 'OF-FLAG,0
	JUMP ?L144
	.DEBUG-LINE 3,2390,1
?L135:	GETB WRD,6 >STACK
	BTST STACK,4 /?L144
	EQUAL? WRD,W?MARX /?L144
	.DEBUG-LINE 3,2392,1
	EQUAL? VERB,ACT?TELL \?L142
	GETB WRD,6 >STACK
	BTST STACK,64 \?L142
	.DEBUG-LINE 3,2394,1
	ICALL1 RT-WAY-TO-TALK-MSG
	.DEBUG-LINE 3,2395,1
	RFALSE
	.DEBUG-LINE 3,2397,1
?L142:	ICALL2 RT-DONT-KNOW-WORD-USE-MSG,PTR
	.DEBUG-LINE 3,2398,1
	RFALSE
	.DEBUG-LINE 3,2400,1
?L86:	ICALL2 RT-DONT-KNOW-WORD-MSG,PTR
	.DEBUG-LINE 3,2401,1
	RFALSE
	.DEBUG-LINE 3,2402,1
?L144:	SET 'LW,WRD
	.DEBUG-LINE 3,2403,1
	ADD PTR,K-P-LEXELEN >PTR
	JUMP ?L82
	.DEBUG-LINE 3,2404,1
?L83:	PUT GL-OOPS-TABLE,K-O-PTR,0
	.DEBUG-LINE 3,2406,1
	ZERO? DIR /?L145
	.DEBUG-LINE 3,2407,1
	SET 'GL-PRSA,V?WALK
	.DEBUG-LINE 3,2408,1
	SET 'GL-P-WALK-DIR,DIR
	.DEBUG-LINE 3,2409,1
	SET 'GL-AGAIN-DIR,DIR
	.DEBUG-LINE 3,2410,1
	SET 'GL-PRSO,DIR
	.DEBUG-LINE 3,2411,1
	SET 'GL-P-ORPH,0
	.DEBUG-LINE 3,2412,1
	RTRUE
	.DEBUG-LINE 3,2413,1
?L145:	SET 'GL-P-WALK-DIR,0
	.DEBUG-LINE 3,2414,1
	SET 'GL-AGAIN-DIR,0
	.DEBUG-LINE 3,2415,1
	ZERO? GL-P-ORPH /?L148
	CALL1 RT-ORPHAN-MERGE >STACK
	ZERO? STACK /?L148
	ZERO? GL-WHERE-TO-ORPH? \?L148
	.DEBUG-LINE 3,2418,1
	SET 'GL-WINNER,OWINNER
	.DEBUG-LINE 3,2419,1
?L148:	CALL1 RT-SYNTAX-CHECK >STACK
	ZERO? STACK /FALSE
	CALL1 RT-SNARF-OBJECTS >STACK
	ZERO? STACK /FALSE
	CALL1 RT-MANY-CHECK >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,2422,1
	GETB GL-P-SYNTAX,0 >STACK
	SHIFT STACK,-6 >TMP1
	.DEBUG-LINE 3,2423,1
	GRTR? TMP1,0 \TRUE
	.DEBUG-LINE 3,2424,1
	GETB GL-P-SYNTAX,K-P-SLOC1 >STACK
	CALL RT-ITAKE-CHECK,GL-P-PRSO,STACK,1 >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 3,2427,1
	GRTR? TMP1,1 \TRUE
	.DEBUG-LINE 3,2428,1
	GETB GL-P-SYNTAX,K-P-SLOC2 >STACK
	CALL RT-ITAKE-CHECK,GL-P-PRSI,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WHICH-PRINT","TLEN","LEN","TBL","OBJ","RLEN"
	.FUNCT RT-WHICH-PRINT,TLEN,LEN,TBL,OBJ,RLEN
	.DEBUG-LINE 3,2439,1
	SET 'RLEN,LEN
	.DEBUG-LINE 3,2440,1
	PRINTI "Which"
	.DEBUG-LINE 3,2442,1
	ZERO? GL-P-ORPH \?L3
	ZERO? GL-P-MERGED \?L3
	ZERO? GL-P-AND /?L1
	.DEBUG-LINE 3,2446,1
?L3:	PRINTI " "
	.DEBUG-LINE 3,2447,1
	PRINTB GL-P-NAM
	JUMP ?L5
	.DEBUG-LINE 3,2449,1
?L1:	EQUAL? TBL,GL-P-PRSO \?L4
	.DEBUG-LINE 3,2450,1
	ICALL RT-CLAUSE-PRINT,K-P-NC1,K-P-NC1L,0
	JUMP ?L5
	.DEBUG-LINE 3,2453,1
?L4:	ICALL RT-CLAUSE-PRINT,K-P-NC2,K-P-NC2L,0
	.DEBUG-LINE 3,2456,1
?L5:	PRINTI " do you mean,"
	.DEBUG-LINE 3,2458,1
?L6:	INC 'TLEN
	.DEBUG-LINE 3,2459,1
	GET TBL,TLEN >OBJ
	.DEBUG-LINE 3,2460,1
	PRINTI " "
	ICALL2 RT-THEO-PRINT,OBJ
	.DEBUG-LINE 3,2462,1
	EQUAL? LEN,2 \?L8
	.DEBUG-LINE 3,2464,1
	EQUAL? RLEN,2 /?L10
	.DEBUG-LINE 3,2465,1
	PRINTI ","
	.DEBUG-LINE 3,2468,1
?L10:	PRINTI " or"
	JUMP ?L13
	.DEBUG-LINE 3,2470,1
?L8:	GRTR? LEN,2 \?L13
	.DEBUG-LINE 3,2471,1
	PRINTI ","
	.DEBUG-LINE 3,2475,1
?L13:	DLESS? 'LEN,1 \?L6
	.DEBUG-LINE 3,2476,1
	.DEBUG-LINE 3,2477,1
	PRINTR "?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FIND-NOT-HERE","TBL","PRSO?","M-F","OBJ"
	.FUNCT RT-FIND-NOT-HERE,TBL,PRSO?,M-F,OBJ
	.DEBUG-LINE 3,2488,1
	CALL2 RT-MOBY-FIND,TBL >M-F
	.DEBUG-LINE 3,2490,1
	ZERO? M-F \?L1
	.DEBUG-LINE 3,2491,1
	PRINTI "[There is no"
	.DEBUG-LINE 3,2492,1
	ICALL2 RT-NOT-HERE-PRINT,PRSO?
	.DEBUG-LINE 3,2493,1
	.DEBUG-LINE 3,2494,1
	PRINTR " in this story.]"
	.DEBUG-LINE 3,2496,1
?L1:	EQUAL? M-F,1 \?L3
	.DEBUG-LINE 3,2498,1
	ZERO? PRSO? /?L4
	.DEBUG-LINE 3,2499,1
	SET 'GL-PRSO,GL-P-MOBY-FOUND
	RFALSE
	.DEBUG-LINE 3,2502,1
?L4:	SET 'GL-PRSI,GL-P-MOBY-FOUND
	.DEBUG-LINE 3,2505,1
	RFALSE
	.DEBUG-LINE 3,2507,1
?L3:	GRTR? M-F,1 \?L7
	GET TBL,1 >OBJ
	GETP OBJ,P?GENERIC >STACK
	CALL2 STACK,TBL >OBJ
	ZERO? OBJ /?L7
	.DEBUG-LINE 3,2511,1
	EQUAL? OBJ,TH-NOT-HERE-OBJECT /TRUE
	.DEBUG-LINE 3,2514,1
	ZERO? PRSO? /?L10
	.DEBUG-LINE 3,2515,1
	SET 'GL-PRSO,OBJ
	RFALSE
	.DEBUG-LINE 3,2518,1
?L10:	SET 'GL-PRSI,OBJ
	.DEBUG-LINE 3,2521,1
	RFALSE
	.DEBUG-LINE 3,2523,1
?L7:	EQUAL? GL-PRSA,V?ASK-ABOUT,V?TELL-ABOUT,V?ASK-FOR /FALSE
	EQUAL? GL-PRSA,V?SAY,V?DRIVE,V?CALL /FALSE
	EQUAL? GL-PRSA,V?MAKE,V?WHO,V?WHAT /FALSE
	EQUAL? GL-PRSA,V?WHERE,V?FIND,V?FOLLOW /FALSE
	EQUAL? GL-PRSA,V?TELL,V?PASSWORD /FALSE
	.DEBUG-LINE 3,2526,1
	ZERO? PRSO? \?L14
	.DEBUG-LINE 3,2527,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 3,2528,1
	PRINTI "would not find any"
	.DEBUG-LINE 3,2529,1
	ICALL2 RT-NOT-HERE-PRINT,PRSO?
	.DEBUG-LINE 3,2530,1
	.DEBUG-LINE 3,2531,1
	PRINTR " there."
	.DEBUG-LINE 3,2534,1
?L14:	RETURN TH-NOT-HERE-OBJECT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOT-HERE-PRINT","PRSO?"
	.FUNCT RT-NOT-HERE-PRINT,PRSO?
	ASSIGNED? 'PRSO? /?L12
	SET 'PRSO?,0
	.DEBUG-LINE 3,2544,1
?L12:	ZERO? GL-P-ORPH \?L3
	ZERO? GL-P-MERGED /?L1
	.DEBUG-LINE 3,2546,1
?L3:	ZERO? GL-P-XADJ /?L4
	.DEBUG-LINE 3,2547,1
	PRINTC 32
	.DEBUG-LINE 3,2548,1
	PRINTB GL-P-XADJ
	.DEBUG-LINE 3,2549,1
?L4:	ZERO? GL-P-XNAM /FALSE
	.DEBUG-LINE 3,2550,1
	PRINTC 32
	.DEBUG-LINE 3,2551,1
	PRINTB GL-P-XNAM
	RTRUE
	.DEBUG-LINE 3,2552,1
?L1:	ZERO? PRSO? /?L10
	.DEBUG-LINE 3,2553,1
	GET GL-P-ITBL,K-P-NC1L >STACK
	GET GL-P-ITBL,K-P-NC1 >STACK
	CALL RT-BUFFER-PRINT,STACK,STACK,0 >STACK
	RSTACK
	.DEBUG-LINE 3,2556,1
?L10:	GET GL-P-ITBL,K-P-NC2L >STACK
	GET GL-P-ITBL,K-P-NC2 >STACK
	CALL RT-BUFFER-PRINT,STACK,STACK,0 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"SET-SIZE-TO-ONE","OBJ","NUM"
	.FUNCT SET-SIZE-TO-ONE,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,14,1
	DIV NUM,SIZE-VALS >STACK
	MUL STACK,SIZE-VALS >STACK
	INC 'STACK
	PUTP OBJ,P?SIZE,STACK
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"GET-SIZE","OBJ","NUM"
	.FUNCT GET-SIZE,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,17,1
	MOD NUM,SIZE-VALS >NUM
	.DEBUG-LINE 4,18,1
	LESS? NUM,6 \?L1
	.DEBUG-LINE 4,18,1
	RETURN NUM
	.DEBUG-LINE 4,20,1
?L1:	SUB NUM,6 >STACK
	GETB SIZE-TABLE,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"SET-MASS-TO-ONE","OBJ","NUM"
	.FUNCT SET-MASS-TO-ONE,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,25,1
	DIV NUM,143 >STACK
	MUL STACK,143 >STACK
	MOD NUM,SIZE-VALS >STACK
	ADD SIZE-VALS,STACK >STACK
	ADD STACK,STACK >STACK
	PUTP OBJ,P?SIZE,STACK
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"GET-MASS","OBJ","NUM"
	.FUNCT GET-MASS,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,30,1
	DIV NUM,SIZE-VALS >STACK
	MOD STACK,MASS-VALS >NUM
	.DEBUG-LINE 4,31,1
	LESS? NUM,6 \?L1
	.DEBUG-LINE 4,31,1
	RETURN NUM
	.DEBUG-LINE 4,33,1
?L1:	SUB NUM,6 >STACK
	GETB MASS-TABLE,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"GET-CAPACITY","OBJ","NUM"
	.FUNCT GET-CAPACITY,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,36,1
	DIV NUM,143 >NUM
	GRTR? NUM,100 \?L1
	RETURN 999
	.DEBUG-LINE 4,37,1
?L1:	RETURN NUM
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"SET-CAPACITY-TO-ONE","OBJ","NUM"
	.FUNCT SET-CAPACITY-TO-ONE,OBJ,NUM
	GETP OBJ,P?SIZE >NUM
	.DEBUG-LINE 4,40,1
	MOD NUM,143 >STACK
	ADD 143,STACK >STACK
	PUTP OBJ,P?SIZE,STACK
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SEE-ANYTHING-IN?","THING","OBJ"
	.FUNCT RT-SEE-ANYTHING-IN?,THING,OBJ
	.DEBUG-LINE 4,44,1
	FIRST? THING >OBJ \FALSE
	.DEBUG-LINE 4,48,1
?L4:	FSET? OBJ,FL-NODESC /?L6
	EQUAL? OBJ,GL-WINNER \TRUE
	.DEBUG-LINE 4,52,1
?L6:	NEXT? OBJ >OBJ /?L4
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-TOUCH-MSG","OBJ","CLSD","IN-OUT"
	.FUNCT RT-CANT-TOUCH-MSG,OBJ,CLSD,IN-OUT
	.DEBUG-LINE 4,55,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 4,56,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL2 RT-THEO-PRINT,OBJ
	.DEBUG-LINE 4,57,1
	ZERO? CLSD /?L1
	.DEBUG-LINE 4,58,1
	PRINTI " because "
	.DEBUG-LINE 4,59,1
	FSET? OBJ,FL-PLURAL \?L3
	FSET? OBJ,FL-COLLECTIVE /?L3
	.DEBUG-LINE 4,61,1
	PRINTI "they are"
	JUMP ?L5
	.DEBUG-LINE 4,63,1
?L3:	PRINTI "it is"
	.DEBUG-LINE 4,64,1
?L5:	PRINTI " "
	.DEBUG-LINE 4,65,1
	ZERO? IN-OUT /?L6
	.DEBUG-LINE 4,66,1
	PRINTI "inside"
	JUMP ?L8
	.DEBUG-LINE 4,68,1
?L6:	PRINTI "outside"
	.DEBUG-LINE 4,69,1
?L8:	PRINTI " "
	ICALL2 RT-THEO-PRINT,CLSD
	PRINTI ", which is closed"
	.DEBUG-LINE 4,70,1
?L1:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOTAL-SIZE-IN-OBJ","OBJ1","OBJ","TOTSIZ"
	.FUNCT RT-TOTAL-SIZE-IN-OBJ,OBJ1,OBJ,TOTSIZ
	SET 'TOTSIZ,0
	.DEBUG-LINE 4,73,1
	FIRST? OBJ1 >OBJ \?L3
	.DEBUG-LINE 4,78,1
?L4:	CALL2 GET-SIZE,OBJ >STACK
	ADD TOTSIZ,STACK >TOTSIZ
	.DEBUG-LINE 4,79,1
	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 4,80,1
?L3:	RETURN TOTSIZ
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOTAL-MASS-OF-OBJ","OBJ1","OBJ","TOTMAS"
	.FUNCT RT-TOTAL-MASS-OF-OBJ,OBJ1,OBJ,TOTMAS
	SET 'TOTMAS,0
	.DEBUG-LINE 4,83,1
	FIRST? OBJ1 >OBJ \?L3
	.DEBUG-LINE 4,88,1
?L4:	CALL2 RT-TOTAL-MASS-OF-OBJ,OBJ >STACK
	ADD TOTMAS,STACK >TOTMAS
	.DEBUG-LINE 4,89,1
	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 4,90,1
?L3:	CALL2 GET-MASS,OBJ1 >STACK
	ADD TOTMAS,STACK >TOTMAS
	.DEBUG-LINE 4,91,1
	RETURN TOTMAS
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOTAL-COUNT-IN-OBJ","OBJ1","OBJ","TOTCNT"
	.FUNCT RT-TOTAL-COUNT-IN-OBJ,OBJ1,OBJ,TOTCNT
	SET 'TOTCNT,0
	.DEBUG-LINE 4,94,1
	FIRST? OBJ1 >OBJ \?L3
	.DEBUG-LINE 4,98,1
?L4:	FSET? OBJ,FL-WORN \?L6
	IN? OBJ,CH-PLAYER /?L8
	.DEBUG-LINE 4,101,1
?L6:	FSET? OBJ,FL-BODYPART /?L8
	.DEBUG-LINE 4,104,1
	INC 'TOTCNT
	.DEBUG-LINE 4,105,1
?L8:	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 4,106,1
?L3:	RETURN TOTCNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OBJ-TOO-LARGE?","OBJ1","OBJ2","?TMP"
	.FUNCT RT-OBJ-TOO-LARGE?,OBJ1,OBJ2,?TMP
	.DEBUG-LINE 4,109,1
	CALL2 GET-SIZE,OBJ1 >?TMP
	CALL2 RT-TOTAL-SIZE-IN-OBJ,OBJ2 >STACK
	ADD ?TMP,STACK >?TMP
	CALL2 GET-CAPACITY,OBJ2 >STACK
	GRTR? ?TMP,STACK \FALSE
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OBJ-TOO-HEAVY?","OBJ1","OBJ2","?TMP"
	.FUNCT RT-OBJ-TOO-HEAVY?,OBJ1,OBJ2,?TMP
	.DEBUG-LINE 4,113,1
	CALL2 RT-TOTAL-MASS-OF-OBJ,OBJ1 >?TMP
	CALL2 RT-TOTAL-MASS-OF-OBJ,OBJ2 >STACK
	ADD ?TMP,STACK >?TMP
	GETP OBJ2,P?STRENGTH >STACK
	GRTR? ?TMP,STACK \FALSE
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OBJ-TOO-MANY?","OBJ1","OBJ2","?TMP"
	.FUNCT RT-OBJ-TOO-MANY?,OBJ1,OBJ2,?TMP
	.DEBUG-LINE 4,117,1
	CALL2 RT-TOTAL-COUNT-IN-OBJ,OBJ2 >STACK
	INC 'STACK
	POP '?TMP
	GETP OBJ2,P?DEXTERITY >STACK
	GRTR? ?TMP,STACK \FALSE
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-REMOVE-ALL","OBJ1","OBJ","NXT","CNT"
	.FUNCT RT-REMOVE-ALL,OBJ1,OBJ,NXT,CNT
	SET 'CNT,0
	.DEBUG-LINE 4,121,1
	FIRST? OBJ1 >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 4,123,1
?L1:	ZERO? OBJ /?L3
	.DEBUG-LINE 4,125,1
?L4:	NEXT? OBJ >NXT /?L7
	.DEBUG-LINE 4,126,1
?L7:	REMOVE OBJ
	.DEBUG-LINE 4,127,1
	INC 'CNT
	.DEBUG-LINE 4,128,1
	SET 'OBJ,NXT
	JUMP ?L1
	.DEBUG-LINE 4,129,1
?L3:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-ALL-BUT-WORN","OBJ1","OBJ2","OBJ","NXT","CNT"
	.FUNCT RT-MOVE-ALL-BUT-WORN,OBJ1,OBJ2,OBJ,NXT,CNT
	SET 'CNT,0
	.DEBUG-LINE 4,132,1
	FIRST? OBJ1 >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 4,134,1
?L1:	ZERO? OBJ /?L3
	.DEBUG-LINE 4,136,1
?L4:	NEXT? OBJ >NXT /?L7
	.DEBUG-LINE 4,137,1
?L7:	FSET? OBJ,FL-WORN /?L8
	EQUAL? OBJ,TH-POCKET /?L8
	.DEBUG-LINE 4,139,1
	MOVE OBJ,OBJ2
	.DEBUG-LINE 4,140,1
	INC 'CNT
	.DEBUG-LINE 4,141,1
?L8:	SET 'OBJ,NXT
	JUMP ?L1
	.DEBUG-LINE 4,142,1
?L3:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-NODESC-OBJS","OBJ1","OBJ2","OBJ","NXT","CNT"
	.FUNCT RT-MOVE-NODESC-OBJS,OBJ1,OBJ2,OBJ,NXT,CNT
	SET 'CNT,0
	.DEBUG-LINE 4,145,1
	FIRST? OBJ1 >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 4,147,1
?L1:	ZERO? OBJ /?L3
	.DEBUG-LINE 4,149,1
?L4:	NEXT? OBJ >NXT /?L7
	.DEBUG-LINE 4,150,1
?L7:	FSET? OBJ,FL-NODESC \?L8
	.DEBUG-LINE 4,151,1
	MOVE OBJ,OBJ2
	.DEBUG-LINE 4,152,1
	INC 'CNT
	.DEBUG-LINE 4,153,1
?L8:	SET 'OBJ,NXT
	JUMP ?L1
	.DEBUG-LINE 4,154,1
?L3:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FIND-IN?","OBJ1","FLG","OBJ"
	.FUNCT RT-FIND-IN?,OBJ1,FLG,OBJ
	.DEBUG-LINE 4,157,1
	FIRST? OBJ1 >OBJ \FALSE
	.DEBUG-LINE 4,161,1
?L4:	FSET? OBJ,FLG \?L6
	.DEBUG-LINE 4,162,1
	RETURN OBJ
	.DEBUG-LINE 4,163,1
?L6:	NEXT? OBJ >OBJ /?L4
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-ANY-KEY","X"
	.FUNCT RT-GET-ANY-KEY,X
	.DEBUG-LINE 4,166,1
	PRINTI "[Press any key.]"
	CRLF
	.DEBUG-LINE 4,167,1
	INPUT 1 >X
	.DEBUG-LINE 4,168,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-YES-NO?","WORD"
	.FUNCT RT-GET-YES-NO?,WORD
	.DEBUG-LINE 4,172,1
?L1:	CRLF
	PRINTI "Please type YES or NO > "
	.DEBUG-LINE 4,173,1
	PUTB GL-YES-LEXV,0,4
	.DEBUG-LINE 4,174,1
	PUTB GL-YES-IBUF,1,0
	.DEBUG-LINE 4,175,1
	READ GL-YES-IBUF,GL-YES-LEXV >STACK
	.DEBUG-LINE 4,176,1
	GET GL-YES-LEXV,K-P-LEXSTART >WORD
	.DEBUG-LINE 4,177,1
	GETB GL-YES-LEXV,K-P-LEXWORDS >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 4,179,1
	ZERO? WORD /?L1
	.DEBUG-LINE 4,180,1
	EQUAL? WORD,W?Y,W?YES /TRUE
	.DEBUG-LINE 4,182,1
	EQUAL? WORD,W?N,W?NO \?L1
	.DEBUG-LINE 4,183,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INIT-SCREEN","FAST?"
	.FUNCT RT-INIT-SCREEN,FAST?
	ASSIGNED? 'FAST? /?L7
	SET 'FAST?,0
	.DEBUG-LINE 4,186,1
?L7:	ZERO? FAST? /?L1
	.DEBUG-LINE 4,187,1
	SPLIT GL-SPLIT-ROW
	.DEBUG-LINE 4,188,1
	CLEAR 1
	JUMP ?L3
	.DEBUG-LINE 4,190,1
?L1:	CLEAR -1
	.DEBUG-LINE 4,191,1
	SPLIT GL-SPLIT-ROW
	.DEBUG-LINE 4,192,1
?L3:	SCREEN K-S-WIN
	.DEBUG-LINE 4,194,1
	HLIGHT K-H-INV
	.DEBUG-LINE 4,195,1
	CURSET GL-SPLIT-ROW,1
	.DEBUG-LINE 4,196,1
	ICALL2 RT-PRINT-SPACES,GL-ALLSCREEN
	.DEBUG-LINE 4,197,1
	SET 'GL-PLACE-STS,-1
	.DEBUG-LINE 4,198,1
	SET 'GL-MOVES-STS,-1
	.DEBUG-LINE 4,199,1
	SET 'GL-SCORE-STS,-1
	.DEBUG-LINE 4,200,1
	CURSET GL-SPLIT-ROW,GL-STAT-S-POS
	.DEBUG-LINE 4,201,1
	ZERO? GL-SHORT-STAT? \?L4
	.DEBUG-LINE 4,202,1
	PRINTI "Score:"
	.DEBUG-LINE 4,203,1
?L4:	HLIGHT K-H-NRM
	.DEBUG-LINE 4,205,1
	SCREEN K-S-NOR
	.DEBUG-LINE 4,206,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GAMETITLE-MSG"
	.FUNCT RT-GAMETITLE-MSG
	.DEBUG-LINE 4,209,1
	.DEBUG-LINE 4,210,1
	PRINTR "Sherlock: The Riddle of the Crown Jewels"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-COPYRIGHT-MSG"
	.FUNCT RT-COPYRIGHT-MSG
	.DEBUG-LINE 4,213,1
	.DEBUG-LINE 4,214,1
	PRINTR "Copyright 1987 Infocom, Inc."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TRADEMARK-MSG"
	.FUNCT RT-TRADEMARK-MSG
	.DEBUG-LINE 4,218,1
	.DEBUG-LINE 4,219,1
	PRINTR "Sherlock: The Riddle of the Crown Jewels is a trademark of Infocom, Inc."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ID-MSG","?TMP"
	.FUNCT RT-ID-MSG,?TMP
	.DEBUG-LINE 4,222,1
	PRINTI "Release "
	GET 0,1 >STACK
	BAND STACK,2047 >STACK
	PRINTN STACK
	.DEBUG-LINE 4,223,1
	PRINTI " Interpreter "
	GETB 0,30 >STACK
	PRINTN STACK
	.DEBUG-LINE 4,224,1
	PRINTI " Version "
	GETB 0,31 >STACK
	PRINTC STACK
	.DEBUG-LINE 4,225,1
	PRINTI " Serial Number "
	.DEBUG-LINE 4,226,1
	SET '?TMP,18
?L1:	GETB 0,?TMP >STACK
	PRINTC STACK
	IGRTR? '?TMP,23 \?L1
	.DEBUG-LINE 4,227,1
	.DEBUG-LINE 4,228,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-VERSION-MSG"
	.FUNCT RT-VERSION-MSG
	.DEBUG-LINE 4,231,1
	HLIGHT K-H-BLD
	.DEBUG-LINE 4,232,1
	ICALL1 RT-GAMETITLE-MSG
	.DEBUG-LINE 4,233,1
	ICALL1 RT-COPYRIGHT-MSG
	.DEBUG-LINE 4,234,1
	ICALL1 RT-TRADEMARK-MSG
	.DEBUG-LINE 4,235,1
	ICALL1 RT-ID-MSG
	.DEBUG-LINE 4,236,1
	HLIGHT K-H-NRM
	.DEBUG-LINE 4,237,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESC-PL-CONT-1","SURFACE","CNT","OBJ","NXT","FIRST","PERSON-COUNT","PERSON-PLURAL"
	.FUNCT RT-DESC-PL-CONT-1,SURFACE,CNT,OBJ,NXT,FIRST,PERSON-COUNT,PERSON-PLURAL
	SET 'PERSON-COUNT,0
	SET 'PERSON-PLURAL,0
	.DEBUG-LINE 4,241,1
	FIRST? SURFACE >OBJ /?L1
	.DEBUG-LINE 4,242,1
?L1:	SET 'FIRST,1
	.DEBUG-LINE 4,244,1
?L2:	ZERO? OBJ /?L3
	.DEBUG-LINE 4,246,1
?L4:	FSET? OBJ,FL-NODESC /?L7
	EQUAL? OBJ,GL-PUPPY \?L6
	.DEBUG-LINE 4,248,1
?L7:	NEXT? OBJ >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 4,250,1
?L6:	FSET? OBJ,FL-PERSON \?L9
	.DEBUG-LINE 4,251,1
	INC 'PERSON-COUNT
	.DEBUG-LINE 4,252,1
	NEXT? OBJ >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 4,254,1
?L9:	ZERO? FIRST /?L11
	.DEBUG-LINE 4,255,1
	GRTR? CNT,0 \?L12
	.DEBUG-LINE 4,256,1
	PRINTI " "
	JUMP ?L14
	.DEBUG-LINE 4,258,1
?L12:	CRLF
	.DEBUG-LINE 4,259,1
?L14:	PRINTI "You see "
	.DEBUG-LINE 4,260,1
	SET 'FIRST,0
	.DEBUG-LINE 4,261,1
?L11:	ICALL2 RT-A-PRINT,OBJ
	.DEBUG-LINE 4,262,1
	INC 'CNT
	.DEBUG-LINE 4,263,1
	NEXT? OBJ >OBJ \?L26
	.DEBUG-LINE 4,267,1
?L19:	EQUAL? OBJ,GL-PUPPY /?L24
	FSET? OBJ,FL-NODESC /?L24
	.DEBUG-LINE 4,269,1
	FSET? OBJ,FL-PERSON \?L18
	FSET? OBJ,FL-NODESC /?L18
	.DEBUG-LINE 4,271,1
	INC 'PERSON-COUNT
	.DEBUG-LINE 4,274,1
?L24:	NEXT? OBJ >OBJ /?L19
	.DEBUG-LINE 4,275,1
?L18:	ZERO? OBJ /?L26
	.DEBUG-LINE 4,276,1
	NEXT? OBJ >NXT \?L89
	.DEBUG-LINE 4,280,1
?L31:	FSET? NXT,FL-NODESC /?L33
	EQUAL? NXT,GL-PUPPY /?L33
	FSET? NXT,FL-PERSON \?L30
	.DEBUG-LINE 4,284,1
?L33:	NEXT? NXT >NXT /?L31
	.DEBUG-LINE 4,285,1
?L30:	ZERO? NXT \?L36
	.DEBUG-LINE 4,286,1
?L89:	PRINTI " and "
	JUMP ?L2
	.DEBUG-LINE 4,288,1
?L36:	PRINTI ", "
	JUMP ?L2
	.DEBUG-LINE 4,290,1
?L26:	IN? SURFACE,ROOMS /?L40
	.DEBUG-LINE 4,291,1
	PRINTI " on "
	ICALL2 RT-THEO-PRINT,SURFACE
	.DEBUG-LINE 4,292,1
?L40:	PRINTI "."
	JUMP ?L2
	.DEBUG-LINE 4,293,1
?L3:	GRTR? PERSON-COUNT,0 \?L53
	.DEBUG-LINE 4,294,1
	GRTR? CNT,0 \?L45
	.DEBUG-LINE 4,295,1
	PRINTI " "
	JUMP ?L47
	.DEBUG-LINE 4,297,1
?L45:	CRLF
	.DEBUG-LINE 4,298,1
?L47:	ADD CNT,PERSON-COUNT >CNT
	.DEBUG-LINE 4,299,1
	GRTR? PERSON-COUNT,1 \?L48
	.DEBUG-LINE 4,300,1
	SET 'PERSON-PLURAL,1
	.DEBUG-LINE 4,301,1
?L48:	FIRST? SURFACE >OBJ /?L51
	.DEBUG-LINE 4,302,1
?L51:	SET 'FIRST,1
	.DEBUG-LINE 4,304,1
?L52:	FSET? OBJ,FL-NODESC /?L70
	EQUAL? OBJ,GL-PUPPY /?L70
	.DEBUG-LINE 4,306,1
	FSET? OBJ,FL-PERSON \?L70
	.DEBUG-LINE 4,307,1
	ZERO? FIRST /?L58
	.DEBUG-LINE 4,308,1
	ICALL RT-THEO-PRINT,OBJ,1,K-DESC-A
	JUMP ?L60
	.DEBUG-LINE 4,310,1
?L58:	ICALL2 RT-A-PRINT,OBJ
	.DEBUG-LINE 4,311,1
?L60:	SET 'FIRST,0
	.DEBUG-LINE 4,312,1
	FSET? OBJ,FL-PLURAL \?L61
	.DEBUG-LINE 4,313,1
	SET 'PERSON-PLURAL,1
	.DEBUG-LINE 4,314,1
?L61:	DEC 'PERSON-COUNT
	ZERO? PERSON-COUNT \?L64
	.DEBUG-LINE 4,315,1
	ZERO? PERSON-PLURAL /?L66
	.DEBUG-LINE 4,316,1
	PRINTI " are"
	JUMP ?L68
	.DEBUG-LINE 4,318,1
?L66:	PRINTI " is"
	.DEBUG-LINE 4,319,1
?L68:	PRINTI " here."
	.DEBUG-LINE 4,320,1
	JUMP ?L53
	.DEBUG-LINE 4,321,1
?L64:	EQUAL? PERSON-COUNT,1 \?L69
	.DEBUG-LINE 4,322,1
	PRINTI " and "
	JUMP ?L70
	.DEBUG-LINE 4,324,1
?L69:	PRINTI ", "
	.DEBUG-LINE 4,325,1
?L70:	NEXT? OBJ >OBJ /?L52
	JUMP ?L52
	.DEBUG-LINE 4,326,1
?L53:	FIRST? SURFACE >OBJ \?L76
	.DEBUG-LINE 4,330,1
?L77:	FSET? OBJ,FL-SURFACE \?L79
	.DEBUG-LINE 4,331,1
	CALL RT-DESC-PL-CONT-1,OBJ,CNT >CNT
	.DEBUG-LINE 4,332,1
?L79:	NEXT? OBJ >OBJ /?L77
	.DEBUG-LINE 4,333,1
?L76:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESCRIBE-PLACE-CONTENTS","PLACE","LOOK","OBJ","PREV","CNT","LIGHT"
	.FUNCT RT-DESCRIBE-PLACE-CONTENTS,PLACE,LOOK,OBJ,PREV,CNT,LIGHT
	ASSIGNED? 'PLACE /?L7
	SET 'PLACE,0
?L7:	ASSIGNED? 'LOOK /?L8
	SET 'LOOK,0
?L8:	SET 'CNT,0
	.DEBUG-LINE 4,337,1
	ZERO? PLACE \?L1
	.DEBUG-LINE 4,338,1
	SET 'PLACE,GL-PLACE-CUR
	.DEBUG-LINE 4,339,1
?L1:	CALL RT-DESC-PL-CONT-1,PLACE,0 >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 4,340,1
	.DEBUG-LINE 4,341,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-RANK-STR","PTS"
	.FUNCT RT-RANK-STR,PTS
	.DEBUG-LINE 4,344,1
	LESS? PTS,1 \?L1
	.DEBUG-LINE 4,345,1
	RETURN STR?112
	.DEBUG-LINE 4,346,1
?L1:	LESS? PTS,21 \?L3
	.DEBUG-LINE 4,347,1
	RETURN STR?113
	.DEBUG-LINE 4,348,1
?L3:	LESS? PTS,41 \?L4
	.DEBUG-LINE 4,349,1
	RETURN STR?114
	.DEBUG-LINE 4,350,1
?L4:	LESS? PTS,61 \?L5
	.DEBUG-LINE 4,351,1
	RETURN STR?115
	.DEBUG-LINE 4,352,1
?L5:	LESS? PTS,81 \?L6
	.DEBUG-LINE 4,353,1
	RETURN STR?116
	.DEBUG-LINE 4,354,1
?L6:	LESS? PTS,91 \?L7
	.DEBUG-LINE 4,355,1
	RETURN STR?117
	.DEBUG-LINE 4,356,1
?L7:	LESS? PTS,100 \?L8
	.DEBUG-LINE 4,357,1
	RETURN STR?118
	.DEBUG-LINE 4,359,1
?L8:	RETURN STR?119
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NEW-SCORE-MSG","PTS"
	.FUNCT RT-NEW-SCORE-MSG,PTS
	.DEBUG-LINE 4,362,1
	ZERO? PTS /FALSE
	.DEBUG-LINE 4,363,1
	HLIGHT K-H-BLD
	.DEBUG-LINE 4,364,1
	ZERO? GL-SCORE-MSG /?L4
	.DEBUG-LINE 4,365,1
	CRLF
	PRINTI "[Your score just went up by "
	PRINTN PTS
	PRINTI " point"
	.DEBUG-LINE 4,366,1
	GRTR? PTS,1 \?L6
	.DEBUG-LINE 4,367,1
	PRINTI "s"
	.DEBUG-LINE 4,368,1
?L6:	PRINTI ". The total is now "
	PRINTN GL-SCORE-CUR
	PRINTI " out of "
	PRINTN GL-SCORE-MAX
	PRINTI ".]"
	CRLF
	.DEBUG-LINE 4,370,1
?L4:	HLIGHT K-H-NRM
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PARSE-EVENT?","NOUN","ADJ","OBJ","N","TB","NTB","ATB","FLGS","?TMP"
	.FUNCT RT-PARSE-EVENT?,NOUN,ADJ,OBJ,N,TB,NTB,ATB,FLGS,?TMP
	SET 'OBJ,TH-EVENT
	.DEBUG-LINE 4,384,1
	GET TH-EVENT-NAMES,0 >STACK
	DIV STACK,EN-ENTLEN >N
	SET 'TB,TH-EVENT-NAMES+2
	.DEBUG-LINE 4,387,1
?L1:	GET TB,0 >NTB
	ADD NTB,2 >?TMP
	GET NTB,0 >STACK
	INTBL? NOUN,?TMP,STACK >STACK \?L17
	.DEBUG-LINE 4,389,1
	ZERO? ADJ /?L7
	GET TB,1 >ATB
	ZERO? ATB /FALSE
	GET ATB,0 >STACK
	ADD ATB,2 >STACK
	INTBL? ADJ,STACK,STACK >STACK \FALSE
	.DEBUG-LINE 4,392,1
?L7:	GET NTB,1 >STACK
	PUTP OBJ,P?OBJ-NOUN,STACK
	.DEBUG-LINE 4,394,1
	GET TB,3 >FLGS
	.DEBUG-LINE 4,396,1
	BTST FLGS,EN-ALIVE \?L8
	.DEBUG-LINE 4,397,1
	FSET OBJ,FL-ALIVE
	JUMP ?L10
	.DEBUG-LINE 4,399,1
?L8:	FCLEAR OBJ,FL-ALIVE
	.DEBUG-LINE 4,400,1
?L10:	BTST FLGS,EN-PERSON \?L11
	.DEBUG-LINE 4,401,1
	FSET OBJ,FL-PERSON
	JUMP ?L13
	.DEBUG-LINE 4,403,1
?L11:	FCLEAR OBJ,FL-PERSON
	.DEBUG-LINE 4,404,1
?L13:	BTST FLGS,EN-VOWEL \?L14
	.DEBUG-LINE 4,405,1
	FSET OBJ,FL-VOWEL
	JUMP ?L16
	.DEBUG-LINE 4,407,1
?L14:	FCLEAR OBJ,FL-VOWEL
	.DEBUG-LINE 4,408,1
?L16:	RETURN OBJ
	.DEBUG-LINE 4,411,1
?L17:	DLESS? 'N,1 /FALSE
	.DEBUG-LINE 4,412,1
	ADD TB,8 >TB
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IDENTIFY-EVENT?","WD","OBJ","NAM","N","TB","NTB"
	.FUNCT RT-IDENTIFY-EVENT?,WD,OBJ,NAM,N,TB,NTB
	ASSIGNED? 'OBJ /?L15
	SET 'OBJ,0
?L15:	GETP TH-EVENT,P?OBJ-NOUN >NAM
	.DEBUG-LINE 4,416,1
	EQUAL? OBJ,0,TH-EVENT \FALSE
	.DEBUG-LINE 4,418,1
	GET TH-EVENT-NAMES,0 >STACK
	DIV STACK,EN-ENTLEN >N
	SET 'TB,TH-EVENT-NAMES+2
	.DEBUG-LINE 4,420,1
?L4:	GET TB,0 >NTB
	GET NTB,1 >STACK
	EQUAL? WD,STACK \?L10
	.DEBUG-LINE 4,422,1
	GET NTB,0 >STACK
	ADD NTB,2 >STACK
	INTBL? NAM,STACK,STACK >STACK \FALSE
	.DEBUG-LINE 4,423,1
	RTRUE
	.DEBUG-LINE 4,426,1
?L10:	DLESS? 'N,1 /FALSE
	.DEBUG-LINE 4,427,1
	ADD TB,8 >TB
	JUMP ?L4
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DESC-EVENT","CLASS","WD","FLAGS","N","TB"
	.FUNCT RT-DESC-EVENT,CLASS,WD,FLAGS,N,TB
	ASSIGNED? 'CLASS /?L24
	SET 'CLASS,0
?L24:	GETP TH-EVENT,P?OBJ-NOUN >WD
	.DEBUG-LINE 4,432,1
	GET TH-EVENT-NAMES,0 >STACK
	DIV STACK,EN-ENTLEN >N
	SET 'TB,TH-EVENT-NAMES+2
	.DEBUG-LINE 4,434,1
?L1:	GET TB,0 >STACK
	GET STACK,1 >STACK
	EQUAL? WD,STACK \?L3
	.DEBUG-LINE 4,435,1
	GET TB,3 >FLAGS
	.DEBUG-LINE 4,436,1
	GET TB,2 >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 4,437,1
	FSET? TH-EVENT,FL-VOWEL /?L7
	PUSH 0
	JUMP ?L8
?L7:	PUSH 1
?L8:	FSET? TH-EVENT,FL-PLURAL /?L9
	PUSH 0
	JUMP ?L10
?L9:	PUSH 1
?L10:	BAND FLAGS,EN-NOARTC >STACK
	ZERO? STACK /?L11
	PUSH 1
	JUMP ?L12
?L11:	PUSH 0
?L12:	GET TB,2 >STACK
	IXCALL PRINT-SDESC,STACK,CLASS,STACK,STACK,STACK
	RTRUE
	.DEBUG-LINE 4,442,1
?L5:	FSET? TH-EVENT,FL-VOWEL /?L14
	PUSH 0
	JUMP ?L15
?L14:	PUSH 1
?L15:	FSET? TH-EVENT,FL-PLURAL /?L16
	PUSH 0
	JUMP ?L17
?L16:	PUSH 1
?L17:	BAND FLAGS,EN-NOARTC >STACK
	ZERO? STACK /?L18
	PUSH 1
	JUMP ?L19
?L18:	PUSH 0
?L19:	IXCALL PRINT-SDESC,WD,CLASS,STACK,STACK,STACK,1
	.DEBUG-LINE 4,447,1
	RTRUE
	.DEBUG-LINE 4,448,1
?L3:	DLESS? 'N,1 /FALSE
	.DEBUG-LINE 4,449,1
	ADD TB,8 >TB
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-EVENT","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-EVENT,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
?L5:	ASSIGNED? 'CLASS /?L6
	SET 'CLASS,0
	.DEBUG-LINE 4,452,1
?L6:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 4,453,1
	CALL2 RT-DESC-EVENT,CLASS >STACK
	RSTACK
	.DEBUG-LINE 4,454,1
?L1:	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 4,455,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 4,456,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TO-DO-THING-USE-MSG","STR1","STR2"
	.FUNCT RT-TO-DO-THING-USE-MSG,STR1,STR2
	.DEBUG-LINE 4,459,1
	PRINTI "[To "
	PRINT STR1
	PRINTI " something, use the command: "
	PRINT STR2
	.DEBUG-LINE 4,460,1
	PRINTR " THING.]"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOT-IN-SENTENCE-MSG","STR"
	.FUNCT RT-NOT-IN-SENTENCE-MSG,STR
	.DEBUG-LINE 4,463,1
	PRINTI "[There are not "
	PRINT STR
	.DEBUG-LINE 4,464,1
	PRINTR " in that sentence.]"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IMPOSSIBLE-MSG","WHO"
	.FUNCT RT-IMPOSSIBLE-MSG,WHO
	.DEBUG-LINE 4,467,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 4,468,1
	EQUAL? WHO,CH-HOLMES,CH-WIGGINS \?L1
	.DEBUG-LINE 4,469,1
	EQUAL? WHO,CH-HOLMES \?L3
	.DEBUG-LINE 4,470,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINTI " looks at you "
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESPAIR-TXT >STACK
	PRINT STACK
	PRINTI " and says, """
	CALL2 RT-PICK-NEXT,GL-HOLMES-IMPOSSIBLE-TXT >STACK
	PRINT STACK
	JUMP ?L5
	.DEBUG-LINE 4,475,1
?L3:	EQUAL? WHO,CH-WIGGINS \?L5
	.DEBUG-LINE 4,476,1
	CALL2 RT-PICK-NEXT,GL-WIGGINS-DESC-TXT >STACK
	PRINT STACK
	PRINTI " says, """
	CALL2 RT-PICK-NEXT,GL-WIGGINS-IMPOSSIBLE-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 4,479,1
?L5:	PRINTI "."""
	JUMP ?L7
	.DEBUG-LINE 4,481,1
?L1:	CALL2 RT-PICK-NEXT,GL-IMPOSSIBLE-TXT >STACK
	PRINT STACK
	PRINTI "."
	.DEBUG-LINE 4,482,1
	.DEBUG-LINE 4,483,1
?L7:	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOT-LIKELY-MSG","THING","STR"
	.FUNCT RT-NOT-LIKELY-MSG,THING,STR
	.DEBUG-LINE 4,486,1
	PRINTI "It"
	CALL2 RT-PICK-NEXT,GL-NOT-LIKELY-TXT >STACK
	PRINT STACK
	PRINTI " that "
	ICALL2 RT-THEO-PRINT,THING
	.DEBUG-LINE 4,487,1
	PRINTI " "
	PRINT STR
	.DEBUG-LINE 4,488,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LOOKS-PUZZLED-MSG","WHO"
	.FUNCT RT-LOOKS-PUZZLED-MSG,WHO
	.DEBUG-LINE 4,491,1
	ICALL2 RT-CTHEO-PRINT,WHO
	PRINTI " "
	.DEBUG-LINE 4,492,1
	CALL2 RT-PICK-NEXT,GL-LOOKS-TXT >STACK
	PRINT STACK
	PRINTI " "
	.DEBUG-LINE 4,493,1
	CALL2 RT-PICK-NEXT,GL-PUZZLED-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 4,494,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WINNER-NOT-HOLDING-MSG"
	.FUNCT RT-WINNER-NOT-HOLDING-MSG
	.DEBUG-LINE 4,497,1
	ICALL2 RT-CTHEO-PRINT,GL-WINNER
	.DEBUG-LINE 4,498,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-WINNER
	.DEBUG-LINE 4,499,1
	PRINTI "holding "
	.DEBUG-LINE 4,500,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOUD-HAVE-TO-MSG","STR","THING"
	.FUNCT RT-YOUD-HAVE-TO-MSG,STR,THING
	.DEBUG-LINE 4,503,1
	PRINTI "You would have to "
	PRINT STR
	PRINTI " "
	ICALL2 RT-THEO-PRINT,THING
	PRINTI " to do that."
	CRLF
	.DEBUG-LINE 4,504,1
	ICALL2 RT-THIS-IS-IT,THING
	.DEBUG-LINE 4,505,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WOULD-HAVE-TO-MSG","STR","THING"
	.FUNCT RT-WOULD-HAVE-TO-MSG,STR,THING
	ASSIGNED? 'STR /?L4
	SET 'STR,0
?L4:	ASSIGNED? 'THING /?L5
	SET 'THING,0
	.DEBUG-LINE 4,508,1
?L5:	PRINTI "would have to "
	PRINT STR
	PRINTI " "
	.DEBUG-LINE 4,509,1
	ZERO? THING /?L1
	.DEBUG-LINE 4,510,1
	ICALL2 RT-THEO-PRINT,THING
	.DEBUG-LINE 4,511,1
?L1:	ICALL2 RT-THIS-IS-IT,THING
	.DEBUG-LINE 4,512,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOBODY-TO-ASK-MSG"
	.FUNCT RT-NOBODY-TO-ASK-MSG
	.DEBUG-LINE 4,515,1
	PRINTI "[There is nobody here to ask.]"
	CRLF
	.DEBUG-LINE 4,516,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 4,517,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TALK-TO-SELF-MSG"
	.FUNCT RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 4,520,1
	PRINTI "[You must address characters directly.]"
	CRLF
	.DEBUG-LINE 4,521,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 4,522,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WAY-TO-TALK-MSG"
	.FUNCT RT-WAY-TO-TALK-MSG
	.DEBUG-LINE 4,525,1
	PRINTI "[Refer to your instruction manual for the correct way to address characters.]"
	CRLF
	.DEBUG-LINE 4,528,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 4,529,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-SUN-UP-DOWN-MSG","TOD"
	.FUNCT RT-I-SUN-UP-DOWN-MSG,TOD
	.DEBUG-LINE 4,532,1
	FSET? GL-PLACE-CUR,FL-INDOORS /FALSE
	.DEBUG-LINE 4,534,1
	CALL RT-CLOCK-CMP,6,30,0 >STACK
	ZERO? STACK \?L3
	.DEBUG-LINE 4,535,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SUN-UP-DOWN-MSG,STACK
	.DEBUG-LINE 4,536,1
	SET 'GL-LAST-OUT-TOD,1
	.DEBUG-LINE 4,537,1
	CRLF
	PRINTI "Visibility increases in the gathering light of the new day."
	.DEBUG-LINE 4,539,1
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /?L4
	EQUAL? GL-PLACE-CUR,RM-THAMES-FOUR,RM-THAMES-FIVE /?L4
	.DEBUG-LINE 4,540,1
	PRINTI " Tourists are beginning to crowd into the streets."
	.DEBUG-LINE 4,541,1
?L4:	CRLF
	RTRUE
	.DEBUG-LINE 4,542,1
?L3:	CALL RT-CLOCK-CMP,7,0,0 >STACK
	ZERO? STACK \?L7
	.DEBUG-LINE 4,543,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,12,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SUN-UP-DOWN-MSG,STACK
	.DEBUG-LINE 4,544,1
	SET 'GL-LAST-OUT-TOD,2
	.DEBUG-LINE 4,545,1
	CRLF
	PRINTI "The sun comes up, as much as it ever comes up in England."
	CRLF
	.DEBUG-LINE 4,547,1
	RFALSE
	.DEBUG-LINE 4,548,1
?L7:	CALL RT-CLOCK-CMP,19,30,0 >STACK
	ZERO? STACK \?L8
	.DEBUG-LINE 4,549,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SUN-UP-DOWN-MSG,STACK
	.DEBUG-LINE 4,550,1
	SET 'GL-LAST-OUT-TOD,3
	.DEBUG-LINE 4,551,1
	CRLF
	PRINTR "Daylight begins to fade. Soon it will be dark."
	.DEBUG-LINE 4,553,1
?L8:	CALL RT-CLOCK-CMP,20,0,0 >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 4,554,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,10,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SUN-UP-DOWN-MSG,STACK
	.DEBUG-LINE 4,555,1
	SET 'GL-LAST-OUT-TOD,0
	.DEBUG-LINE 4,556,1
	CRLF
	PRINTI "Darkness falls and the mists come in."
	CRLF
	.DEBUG-LINE 4,557,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-OTHER?","FEMALE?","OBJ"
	.FUNCT RT-NO-OTHER?,FEMALE?,OBJ
	ASSIGNED? 'FEMALE? /?L18
	SET 'FEMALE?,0
	.DEBUG-LINE 4,560,1
?L18:	FIRST? GL-PLACE-CUR >OBJ \FALSE
	.DEBUG-LINE 4,565,1
?L4:	EQUAL? OBJ,GL-WINNER /?L11
	FSET? OBJ,FL-PERSON \?L11
	.DEBUG-LINE 4,567,1
	ZERO? FEMALE? /?L20
	FSET? OBJ,FL-FEMALE /?L3
	.DEBUG-LINE 4,570,1
	ZERO? FEMALE? \?L11
?L20:	FSET? OBJ,FL-FEMALE \?L3
	.DEBUG-LINE 4,573,1
?L11:	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 4,574,1
?L3:	ZERO? OBJ /FALSE
	.DEBUG-LINE 4,577,1
	ICALL2 RT-LOOKS-PUZZLED-MSG,GL-WINNER
	.DEBUG-LINE 4,578,1
	.DEBUG-LINE 4,579,1
	PRINTR "To whom are you referring?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GLOBAL-IN?","OBJ1","OBJ2","TBL"
	.FUNCT RT-GLOBAL-IN?,OBJ1,OBJ2,TBL
	.DEBUG-LINE 4,582,1
	GETPT OBJ2,P?GLOBAL >TBL
	.DEBUG-LINE 4,583,1
	ZERO? TBL /FALSE
	.DEBUG-LINE 4,585,1
	GRTR? OBJ1,255 /FALSE
	PTSIZE TBL >STACK
	INTBL? OBJ1,TBL,STACK,1 >STACK \FALSE
	.DEBUG-LINE 4,587,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-META-LOC","OBJ"
	.FUNCT RT-META-LOC,OBJ
	.DEBUG-LINE 4,593,1
?L1:	ZERO? OBJ /FALSE
	.DEBUG-LINE 4,595,1
	IN? OBJ,GLOBAL-OBJECTS \?L5
	.DEBUG-LINE 4,596,1
	RETURN GLOBAL-OBJECTS
	.DEBUG-LINE 4,597,1
?L5:	IN? OBJ,ROOMS \?L6
	.DEBUG-LINE 4,598,1
	RETURN OBJ
	.DEBUG-LINE 4,600,1
?L6:	LOC OBJ >OBJ
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"GO"
	.FUNCT GO
START::
	.DEBUG-LINE 4,604,1
?L0:	SET 'GL-CLOCK-FMT,0
	.DEBUG-LINE 4,607,1
	SET 'GL-SCORE-MSG,1
	.DEBUG-LINE 4,608,1
	SET 'GL-SCORE-MAX,100
	.DEBUG-LINE 4,609,1
	SET 'GL-PLACE-CUR,RM-221B-BAKER-ST
	.DEBUG-LINE 4,610,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,0,1,0
	.DEBUG-LINE 4,611,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-DEF,0,1,0
	.DEBUG-LINE 4,612,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME,5,0,0,18
	.DEBUG-LINE 4,613,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,0,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-BIGBEN,STACK
	.DEBUG-LINE 4,614,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,30,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-SUN-UP-DOWN-MSG,STACK
	.DEBUG-LINE 4,615,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,30,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-PM-QUITS,STACK
	.DEBUG-LINE 4,616,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,7,0,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-OPEN-WESTMINSTER-DOOR,STACK
	.DEBUG-LINE 4,617,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,55,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-WESTMINSTER-LIGHTS-ON,STACK
	.DEBUG-LINE 4,618,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,17,50,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-FLASH-WESTMINSTER-LIGHTS,STACK
	.DEBUG-LINE 4,619,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,18,5,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-WESTMINSTER-LIGHTS-OFF,STACK
	.DEBUG-LINE 4,620,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,55,0,19 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-WESTMINSTER-LIGHTS-ON,STACK
	.DEBUG-LINE 4,621,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,17,50,0,19 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-FLASH-WESTMINSTER-LIGHTS,STACK
	.DEBUG-LINE 4,622,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,18,1,0,19 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-LOCKED-IN-END-GAME,STACK
	.DEBUG-LINE 4,623,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,8,0,0,18 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-OPEN-MUSEUM-DOOR,STACK
	.DEBUG-LINE 4,624,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,9,0,0,20 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-OUT-OF-TIME,STACK
	.DEBUG-LINE 4,628,1
	SET 'GL-SCORE-CUR,0
	.DEBUG-LINE 4,629,1
	SET 'GL-MOVES-CUR,0
	.DEBUG-LINE 4,630,1
	SET 'GL-SCORE-STS,-1
	.DEBUG-LINE 4,631,1
	SET 'GL-MOVES-STS,-1
	.DEBUG-LINE 4,632,1
	SET 'GL-PLACE-STS,-1
	.DEBUG-LINE 4,633,1
	SET 'GL-PLACE-PRV,-1
	.DEBUG-LINE 4,634,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 4,635,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 4,636,1
	GETB 0,33 >GL-ALLSCREEN
	.DEBUG-LINE 4,637,1
	DIV GL-ALLSCREEN,2 >GL-MIDSCREEN
	.DEBUG-LINE 4,638,1
	LESS? GL-ALLSCREEN,60 \?L1
	.DEBUG-LINE 4,640,1
	SET 'GL-SHORT-STAT?,1
	.DEBUG-LINE 4,641,1
	SET 'GL-STAT-S-POS,4
	.DEBUG-LINE 4,642,1
	SET 'GL-STAT-T-POS,17
	.DEBUG-LINE 4,643,1
	SET 'GL-SCORE-HEADER-LEN,0
	.DEBUG-LINE 4,644,1
	SUB GL-ALLSCREEN,19 >GL-STAT-MAX-ROOM
	.DEBUG-LINE 4,645,1
?L1:	SUB GL-ALLSCREEN,GL-STAT-S-POS >GL-STAT-S-POS
	.DEBUG-LINE 4,646,1
	SUB GL-ALLSCREEN,GL-STAT-T-POS >GL-STAT-T-POS
	.DEBUG-LINE 4,647,1
	SET 'GL-SPLIT-ROW,1
	.DEBUG-LINE 4,648,1
	MOVE CH-PLAYER,GL-PLACE-CUR
	.DEBUG-LINE 4,649,1
	CLEAR -1
	.DEBUG-LINE 4,650,1
	CRLF
	.DEBUG-LINE 4,651,1
	ICALL1 RT-GAMETITLE-MSG
	.DEBUG-LINE 4,652,1
	ICALL1 RT-COPYRIGHT-MSG
	.DEBUG-LINE 4,653,1
	ICALL1 RT-TRADEMARK-MSG
	.DEBUG-LINE 4,654,1
	ICALL1 RT-ID-MSG
	.DEBUG-LINE 4,655,1
	CRLF
	.DEBUG-LINE 4,656,1
	ICALL1 RT-GET-ANY-KEY
	.DEBUG-LINE 4,657,1
	ICALL1 RT-INIT-SCREEN
	.DEBUG-LINE 4,658,1
	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 4,659,1
	ICALL1 RT-DESC-ALL
	.DEBUG-LINE 4,660,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 4,661,1
	ICALL1 RT-MAIN-LOOP
	.DEBUG-LINE 4,662,1
	JUMP ?L0
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NUMBER?","PTR","TMP","CNT","BPTR","TPTR","CHR","SUM","TIM","AM-PM?"
	.FUNCT RT-NUMBER?,PTR,TMP,CNT,BPTR,TPTR,CHR,SUM,TIM,AM-PM?
	SET 'TPTR,K-HRS
	SET 'SUM,0
	SET 'TIM,0
	SET 'AM-PM?,0
	.DEBUG-LINE 4,670,1
	MUL PTR,2 >STACK
	ADD GL-P-P-LEX,STACK >TMP
	.DEBUG-LINE 4,671,1
	GET TMP,K-P-LEXELEN >CNT
	EQUAL? CNT,W?AM \?L1
	.DEBUG-LINE 4,672,1
	SET 'AM-PM?,1
	JUMP ?L3
	.DEBUG-LINE 4,673,1
?L1:	EQUAL? CNT,W?PM \?L3
	.DEBUG-LINE 4,674,1
	SET 'AM-PM?,2
	.DEBUG-LINE 4,675,1
?L3:	ZERO? AM-PM? /?L5
	.DEBUG-LINE 4,676,1
	SET 'BELIEVE-WAIT-TIME?,1
	JUMP ?L7
	.DEBUG-LINE 4,678,1
?L5:	SET 'BELIEVE-WAIT-TIME?,0
	.DEBUG-LINE 4,679,1
?L7:	GETB TMP,2 >CNT
	.DEBUG-LINE 4,680,1
	GETB TMP,3 >BPTR
	.DEBUG-LINE 4,682,1
?L8:	DLESS? 'CNT,0 /?L9
	.DEBUG-LINE 4,685,1
	GETB GL-P-PIBUF,BPTR >CHR
	.DEBUG-LINE 4,686,1
	EQUAL? CHR,58 \?L13
	.DEBUG-LINE 4,687,1
	PUTB GL-P-TIME,TPTR,SUM
	.DEBUG-LINE 4,688,1
	EQUAL? TPTR,K-HRS \?L15
	.DEBUG-LINE 4,689,1
	GRTR? SUM,23 /FALSE
	.DEBUG-LINE 4,691,1
	EQUAL? AM-PM?,2 \?L20
	LESS? SUM,12 \?L20
	.DEBUG-LINE 4,693,1
	ADD SUM,12 >SUM
	.DEBUG-LINE 4,694,1
	PUTB GL-P-TIME,K-HRS,SUM
	.DEBUG-LINE 4,695,1
?L20:	SET 'TPTR,K-MIN
	JUMP ?L24
	.DEBUG-LINE 4,696,1
	.DEBUG-LINE 4,698,1
?L15:	EQUAL? TPTR,K-MIN,K-SEC /FALSE
	.DEBUG-LINE 4,700,1
?L24:	SET 'TIM,1
	.DEBUG-LINE 4,701,1
	SET 'SUM,0
	JUMP ?L29
	.DEBUG-LINE 4,702,1
?L13:	GRTR? SUM,9999 /FALSE
	.DEBUG-LINE 4,704,1
	GRTR? CHR,57 /FALSE
	LESS? CHR,48 /FALSE
	.DEBUG-LINE 4,708,1
	SUB CHR,48 >STACK
	MUL SUM,10 >STACK
	ADD STACK,STACK >SUM
	.DEBUG-LINE 4,709,1
?L29:	INC 'BPTR
	JUMP ?L8
	.DEBUG-LINE 4,710,1
?L9:	ZERO? TIM /?L30
	.DEBUG-LINE 4,711,1
	PUTB GL-P-TIME,TPTR,SUM
	.DEBUG-LINE 4,712,1
	EQUAL? TPTR,K-HRS /FALSE
	.DEBUG-LINE 4,714,1
	EQUAL? TPTR,K-MIN \?L34
	.DEBUG-LINE 4,715,1
	LESS? SUM,0 /FALSE
	GRTR? SUM,59 \?L41
	.DEBUG-LINE 4,717,1
	RFALSE
	.DEBUG-LINE 4,718,1
?L34:	EQUAL? TPTR,K-SEC \?L41
	.DEBUG-LINE 4,719,1
	RFALSE
	.DEBUG-LINE 4,721,1
?L30:	EQUAL? AM-PM?,2 \?L42
	LESS? SUM,12 \?L42
	.DEBUG-LINE 4,723,1
	ADD SUM,12 >SUM
	.DEBUG-LINE 4,724,1
?L42:	PUTB GL-P-TIME,K-HRS,SUM
	.DEBUG-LINE 4,725,1
	PUTB GL-P-TIME,K-MIN,0
	.DEBUG-LINE 4,726,1
	PUTB GL-P-TIME,K-SEC,0
	.DEBUG-LINE 4,727,1
?L41:	ICALL RT-CHANGE-LEXV,PTR,W?INTNUM
	.DEBUG-LINE 4,728,1
	GRTR? SUM,9999 /FALSE
	.DEBUG-LINE 4,730,1
	ZERO? TIM /?L47
	.DEBUG-LINE 4,731,1
	SET 'SUM,0
	.DEBUG-LINE 4,732,1
?L47:	SET 'GL-P-TIME-FLAG,TIM
	.DEBUG-LINE 4,733,1
	SET 'GL-P-NUMBER,SUM
	.DEBUG-LINE 4,734,1
	RETURN W?INTNUM
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WAIT-FOR","H","M","S","N"
	.FUNCT V-WAIT-FOR,H,M,S,N
	.DEBUG-LINE 4,739,1
	EQUAL? GL-PRSO,TH-TIME \?L1
	.DEBUG-LINE 4,740,1
	SET 'N,GL-P-NUMBER
	.DEBUG-LINE 4,741,1
	EQUAL? N,-1 \?L3
	.DEBUG-LINE 4,742,1
	SET 'N,1
	.DEBUG-LINE 4,743,1
?L3:	GETP GL-PRSO,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?MINUTE,W?MINUTES \?L6
	.DEBUG-LINE 4,744,1
	SET 'H,0
	.DEBUG-LINE 4,745,1
	SET 'M,N
	JUMP ?L8
	.DEBUG-LINE 4,747,1
?L6:	SET 'H,N
	.DEBUG-LINE 4,748,1
	SET 'M,0
	.DEBUG-LINE 4,749,1
?L8:	SET 'S,0
	.DEBUG-LINE 4,750,1
	PRINTI "Time passes..."
	CRLF
	.DEBUG-LINE 4,751,1
	CALL RT-CLOCK-JMP,H,M,S >STACK
	RSTACK
	.DEBUG-LINE 4,752,1
?L1:	ZERO? GL-P-TIME-FLAG \?L9
	EQUAL? GL-PRSO,TH-INTNUM /?L9
	.DEBUG-LINE 4,754,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 4,755,1
	PRINT K-CANT-WAIT-MSG
	CRLF
	.DEBUG-LINE 4,756,1
	RETURN 2
	.DEBUG-LINE 4,758,1
?L9:	GETB GL-P-TIME,K-HRS >H
	.DEBUG-LINE 4,759,1
	GETB GL-P-TIME,K-MIN >M
	.DEBUG-LINE 4,760,1
	GETB GL-P-TIME,K-SEC >S
	.DEBUG-LINE 4,761,1
	EQUAL? GL-PRSO,TH-INTNUM \?L11
	ZERO? GL-P-TIME-FLAG \?L11
	.DEBUG-LINE 4,763,1
	PRINTI "["
	PRINTN H
	PRINTI ":00]"
	CRLF
	CRLF
	.DEBUG-LINE 4,764,1
?L11:	GRTR? H,23 \?L14
	.DEBUG-LINE 4,765,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 4,766,1
	PRINT K-CANT-WAIT-MSG
	CRLF
	.DEBUG-LINE 4,767,1
	RETURN 2
	.DEBUG-LINE 4,768,1
?L14:	ZERO? BELIEVE-WAIT-TIME? \?L17
	GRTR? H,12 \?L16
	.DEBUG-LINE 4,771,1
?L17:	GETB GL-TIME,K-HRS >STACK
	SUB H,STACK >H
	.DEBUG-LINE 4,772,1
	GETB GL-TIME,K-MIN >STACK
	SUB M,STACK >M
	.DEBUG-LINE 4,773,1
	GETB GL-TIME,K-SEC >STACK
	SUB S,STACK >S
	JUMP ?L18
	.DEBUG-LINE 4,776,1
?L16:	GETB GL-TIME,K-HRS >STACK
	DEC 'STACK
	MOD STACK,12 >STACK
	INC 'STACK
	SUB H,STACK >H
	.DEBUG-LINE 4,778,1
	GETB GL-TIME,K-MIN >STACK
	SUB M,STACK >M
	.DEBUG-LINE 4,779,1
	GETB GL-TIME,K-SEC >STACK
	SUB S,STACK >S
	.DEBUG-LINE 4,781,1
?L18:	SUB S,59 >STACK
	DIV STACK,60 >N
	.DEBUG-LINE 4,782,1
	ADD M,N >M
	.DEBUG-LINE 4,783,1
	MUL N,60 >STACK
	SUB S,STACK >S
	.DEBUG-LINE 4,784,1
	SUB M,59 >STACK
	DIV STACK,60 >N
	.DEBUG-LINE 4,785,1
	ADD H,N >H
	.DEBUG-LINE 4,786,1
	MUL N,60 >STACK
	SUB M,STACK >M
	.DEBUG-LINE 4,788,1
?L19:	LESS? H,0 \?L20
	.DEBUG-LINE 4,790,1
	ZERO? BELIEVE-WAIT-TIME? /?L24
	.DEBUG-LINE 4,791,1
	ADD H,24 >H
	JUMP ?L19
	.DEBUG-LINE 4,793,1
?L24:	ADD H,12 >H
	JUMP ?L19
	.DEBUG-LINE 4,794,1
?L20:	ZERO? H \?L27
	ZERO? M \?L27
	ZERO? S \?L27
	.DEBUG-LINE 4,797,1
	PRINTI "It is"
	.DEBUG-LINE 4,798,1
	GETB GL-TIME,K-HRS >STACK
	DEC 'STACK
	MOD STACK,12 >STACK
	INC 'STACK
	GRTR? STACK,9 \?L29
	.DEBUG-LINE 4,800,1
	PRINTI " "
	.DEBUG-LINE 4,801,1
?L29:	ICALL2 RT-CLK-NTI-MSG,6
	.DEBUG-LINE 4,802,1
	PRINTI " now."
	CRLF
	.DEBUG-LINE 4,803,1
	ICALL2 RT-TIME-OF-DAY-MSG,1
	.DEBUG-LINE 4,804,1
	RETURN 2
	.DEBUG-LINE 4,806,1
?L27:	PRINTI "Time passes..."
	CRLF
	.DEBUG-LINE 4,807,1
	ICALL RT-CLOCK-JMP,H,M,S
	.DEBUG-LINE 4,808,1
	ICALL2 RT-TIME-OF-DAY-MSG,1
	.DEBUG-LINE 4,809,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WAIT-TOD-MSG","TOD"
	.FUNCT RT-WAIT-TOD-MSG,TOD
	.DEBUG-LINE 4,812,1
	CRLF
	.DEBUG-LINE 4,813,1
	PRINTI "While you were waiting, "
	.DEBUG-LINE 4,814,1
	ZERO? TOD \?L1
	.DEBUG-LINE 4,815,1
	PRINTR "the sun set and the mists rolled in."
	.DEBUG-LINE 4,816,1
?L1:	EQUAL? TOD,1 \?L3
	.DEBUG-LINE 4,817,1
	PRINTR "the sky started to lighten. Soon it will be sunrise."
	.DEBUG-LINE 4,818,1
?L3:	EQUAL? TOD,2 \?L4
	.DEBUG-LINE 4,819,1
	PRINTR "the sun rose... as much as it ever does here."
	.DEBUG-LINE 4,821,1
?L4:	PRINTR "the sun set. Soon it will be dark."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WINDOW","TABLE","MARGIN","Y","I","WIDTH","LINES","STR","PLINES"
	.FUNCT RT-WINDOW,TABLE,MARGIN,Y,I,WIDTH,LINES,STR,PLINES
	ASSIGNED? 'MARGIN /?L29
	SET 'MARGIN,0
?L29:	SET 'Y,8
	SET 'I,2
	.DEBUG-LINE 4,832,1
	GET TABLE,0 >LINES
	.DEBUG-LINE 4,833,1
	GET TABLE,1 >WIDTH
	.DEBUG-LINE 4,834,1
	SET 'PLINES,LINES
	.DEBUG-LINE 4,835,1
	GRTR? WIDTH,GL-ALLSCREEN \?L1
	.DEBUG-LINE 4,836,1
	.DEBUG-LINE 4,837,1
	PRINTR "[*** Window too wide ***]"
	.DEBUG-LINE 4,838,1
?L1:	ZERO? MARGIN \?L4
	.DEBUG-LINE 4,839,1
	DIV WIDTH,2 >STACK
	SUB GL-MIDSCREEN,STACK >MARGIN
	.DEBUG-LINE 4,841,1
?L4:	ADD LINES,6 >STACK
	SPLIT STACK
	.DEBUG-LINE 4,842,1
	SCREEN K-S-WIN
	.DEBUG-LINE 4,843,1
	HLIGHT K-H-INV
	.DEBUG-LINE 4,844,1
	CURSET Y,MARGIN
	.DEBUG-LINE 4,845,1
	ICALL2 RT-PRINT-SPACES,WIDTH
	.DEBUG-LINE 4,847,1
?L7:	INC 'Y
	.DEBUG-LINE 4,848,1
	CURSET Y,MARGIN
	.DEBUG-LINE 4,849,1
	DEC 'LINES
	.DEBUG-LINE 4,850,1
	ZERO? LINES \?L9
	.DEBUG-LINE 4,851,1
	ICALL2 RT-PRINT-SPACES,WIDTH
	.DEBUG-LINE 4,852,1
	JUMP ?L8
	.DEBUG-LINE 4,853,1
?L9:	GET TABLE,I >STR
	.DEBUG-LINE 4,854,1
	ZERO? STR \?L12
	.DEBUG-LINE 4,855,1
	ICALL2 RT-PRINT-SPACES,WIDTH
	JUMP ?L14
	.DEBUG-LINE 4,857,1
?L12:	PRINTI " "
	PRINT STR
	PRINTI " "
	.DEBUG-LINE 4,858,1
?L14:	INC 'I
	JUMP ?L7
	.DEBUG-LINE 4,859,1
?L8:	HLIGHT K-H-NRM
	.DEBUG-LINE 4,860,1
	SCREEN K-S-NOR
	.DEBUG-LINE 4,861,1
	SPLIT 1
	.DEBUG-LINE 4,863,1
	DIROUT K-D-SCR-OFF
	.DEBUG-LINE 4,864,1
	SET 'I,2
	.DEBUG-LINE 4,865,1
	CRLF
	PRINTI "["
	.DEBUG-LINE 4,867,1
?L15:	DEC 'PLINES
	.DEBUG-LINE 4,868,1
	ZERO? PLINES /?L16
	.DEBUG-LINE 4,870,1
	GET TABLE,I >STR
	.DEBUG-LINE 4,871,1
	ZERO? STR /?L25
	.DEBUG-LINE 4,872,1
	EQUAL? I,2 /?L22
	.DEBUG-LINE 4,873,1
	PRINTI " "
	.DEBUG-LINE 4,874,1
?L22:	PRINT STR
	.DEBUG-LINE 4,875,1
	EQUAL? PLINES,1 \?L25
	.DEBUG-LINE 4,876,1
	PRINTI "]"
	.DEBUG-LINE 4,877,1
?L25:	CRLF
	.DEBUG-LINE 4,878,1
	INC 'I
	JUMP ?L15
	.DEBUG-LINE 4,879,1
?L16:	CRLF
	.DEBUG-LINE 4,880,1
	DIROUT K-D-SCR-ON
	.DEBUG-LINE 4,881,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"HOLMES-COMPLAINS","AMP?","SS?"
	.FUNCT HOLMES-COMPLAINS,AMP?,SS?
	.DEBUG-LINE 4,997,1
	ZERO? AMP? /?L3
	.DEBUG-LINE 4,998,1
	CALL1 RT-ANYONE-HERE? >STACK
	EQUAL? STACK,0,CH-HOLMES \?L3
	.DEBUG-LINE 4,999,1
	SET 'AMP?,0
	.DEBUG-LINE 4,1000,1
?L3:	ZERO? SS? \?L9
	ZERO? AMP? /FALSE
?L9:	CALL1 RT-WHO-SAYS? >STACK
	EQUAL? STACK,CH-HOLMES \FALSE
	.DEBUG-LINE 4,1002,1
	CRLF
	PRINTI "Holmes "
	.DEBUG-LINE 4,1003,1
	ZERO? AMP? /?L10
	.DEBUG-LINE 4,1004,1
	PRINTI "takes you aside and whispers, ""Watson, you must keep the ampoule hidden"
	.DEBUG-LINE 4,1006,1
?L10:	ZERO? SS? /?L13
	.DEBUG-LINE 4,1007,1
	ZERO? AMP? /?L15
	.DEBUG-LINE 4,1008,1
	PRINTI ", and"
	JUMP ?L17
	.DEBUG-LINE 4,1010,1
?L15:	PRINTI "says, ""Watson,"
	.DEBUG-LINE 4,1011,1
?L17:	PRINTI " take that ridiculous thing out of your ears"
	.DEBUG-LINE 4,1012,1
?L13:	PRINTR "."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"TOO-DARK-TO-GO","NEWPLACE"
	.FUNCT TOO-DARK-TO-GO,NEWPLACE
	.DEBUG-LINE 4,1015,1
	PRINTI "You start off into the "
	.DEBUG-LINE 4,1016,1
	FSET? NEWPLACE,FL-INDOORS \?L1
	.DEBUG-LINE 4,1017,1
	PRINTI "darkness"
	JUMP ?L3
	.DEBUG-LINE 4,1019,1
?L1:	PRINTI "fog"
	.DEBUG-LINE 4,1020,1
?L3:	PRINTR ", but think better of it when you realize you have no light to guide your way."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-PLAYER-AUX"
	.FUNCT RT-AC-CH-PLAYER-AUX
	.DEBUG-LINE 4,1024,1
	ZERO? GL-NOW-PRSI? /?L11
	.DEBUG-LINE 4,1025,1
	EQUAL? GL-WINNER,CH-PLAYER \FALSE
	EQUAL? GL-PRSA,V?GIVE \FALSE
	.DEBUG-LINE 4,1027,1
	ICALL RT-PERFORM,V?TAKE,GL-PRSO
	.DEBUG-LINE 4,1028,1
	RTRUE
	.DEBUG-LINE 4,1031,1
?L11:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \FALSE
	.DEBUG-LINE 4,1032,1
	PRINTR "You don't look any uglier than usual."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CHECK-HANDS"
	.FUNCT RT-CHECK-HANDS
	.DEBUG-LINE 4,1035,1
	EQUAL? GL-PRSA,V?TAKE-OFF \?L1
	EQUAL? GL-PRSO,TH-HANDS /TRUE
	.DEBUG-LINE 4,1038,1
?L1:	EQUAL? GL-PRSA,V?PUT-ON,V?TAKE \?L3
	EQUAL? GL-PRSO,TH-HANDS \?L3
	EQUAL? GL-PRSI,TH-EARS /TRUE
	.DEBUG-LINE 4,1042,1
?L3:	EQUAL? GL-PRSA,V?COVER \FALSE
	EQUAL? GL-PRSI,TH-HANDS \FALSE
	EQUAL? GL-PRSO,TH-EARS /TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HANDS-COVERING-EARS"
	.FUNCT RT-HANDS-COVERING-EARS
	.DEBUG-LINE 4,1048,1
	PRINTI "You cannot do that because "
	ICALL2 RT-THEO-PRINT,TH-HANDS
	PRINTI " are covering "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HINTS-NO"
	.FUNCT V-HINTS-NO
	.DEBUG-LINE 5,9,1
	EQUAL? GL-PRSO,ROOMS /?L1
	.DEBUG-LINE 5,10,1
	PRINT K-DONT-UNDERSTAND-MSG
	CRLF
	JUMP ?L3
	.DEBUG-LINE 5,12,1
?L1:	SET 'GL-HINTS-OFF,1
	.DEBUG-LINE 5,13,1
	PRINTI "[Hints have been disallowed for this session.]"
	CRLF
	.DEBUG-LINE 5,14,1
?L3:	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HINT","CHR","MAXC","C","Q","WHO"
	.FUNCT V-HINT,CHR,MAXC,C,Q,WHO
?L0:	SET 'C,0
	SET 'WHO,0
	.DEBUG-LINE 5,465,1
	ZERO? GL-HINTS-OFF /?L1
	.DEBUG-LINE 5,466,1
	ICALL RT-PERFORM,V?HINTS-NO,ROOMS
	.DEBUG-LINE 5,467,1
	RETURN 2
	.DEBUG-LINE 5,468,1
?L1:	ZERO? GL-HINT-WARNING \?L3
	.DEBUG-LINE 5,469,1
	SET 'GL-HINT-WARNING,1
	.DEBUG-LINE 5,470,1
	PRINTI "[Warning: It is recognized that the temptation for help may at times be so exceedingly strong that you might fetch hints prematurely. Therefore, you may at any time during the story type HINTS OFF, and this will disallow the seeking out of help for the present session of the story. If you still want a hint now, indicate HINT.]"
	CRLF
	.DEBUG-LINE 5,476,1
	RETURN 2
	.DEBUG-LINE 5,477,1
?L3:	ZERO? WHO \?L5
	.DEBUG-LINE 5,478,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 5,479,1
	EQUAL? WHO,CH-HOLMES,CH-WIGGINS \?L5
	.DEBUG-LINE 5,480,1
	EQUAL? WHO,CH-HOLMES \?L7
	.DEBUG-LINE 5,481,1
	PRINTI "Holmes looks at you impatiently and sighs, ""Very well, Watson. If you must."""
	JUMP ?L9
	.DEBUG-LINE 5,485,1
?L7:	PRINTI "Wiggins looks up at you with relief and says, ""Good idea, guv. We'll never work this out on our own."""
	.DEBUG-LINE 5,488,1
?L9:	CRLF
	CRLF
	PRINTI "[Press any key to continue.]"
	CRLF
	.DEBUG-LINE 5,489,1
	INPUT 1 >STACK
	ICALL2 0,STACK
	.DEBUG-LINE 5,490,1
?L5:	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 5,490,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 5,494,1
	GET K-HINTS,0 >MAXC
	.DEBUG-LINE 5,495,1
	ICALL1 RT-INIT-HINT-SCREEN
	.DEBUG-LINE 5,496,1
	CURSET 5,1
	.DEBUG-LINE 5,497,1
	ICALL1 RT-PUT-UP-CHAPTERS
	.DEBUG-LINE 5,498,1
	SUB GL-CHAPT-NUM,1 >GL-CUR-POS
	.DEBUG-LINE 5,499,1
	ICALL1 RT-NEW-CURSOR
	.DEBUG-LINE 5,501,1
?L12:	INPUT 1 >CHR
	.DEBUG-LINE 5,502,1
	EQUAL? CHR,81,113 \?L14
	.DEBUG-LINE 5,503,1
	SET 'Q,1
	.DEBUG-LINE 5,504,1
	JUMP ?L13
	.DEBUG-LINE 5,505,1
?L14:	EQUAL? CHR,78,110 \?L16
	.DEBUG-LINE 5,506,1
	ICALL1 RT-ERASE-CURSOR
	.DEBUG-LINE 5,507,1
	EQUAL? GL-CHAPT-NUM,MAXC \?L17
	.DEBUG-LINE 5,508,1
	SET 'GL-CUR-POS,0
	.DEBUG-LINE 5,509,1
	SET 'GL-CHAPT-NUM,1
	.DEBUG-LINE 5,510,1
	SET 'GL-QUEST-NUM,1
	JUMP ?L19
	.DEBUG-LINE 5,512,1
?L17:	INC 'GL-CUR-POS
	.DEBUG-LINE 5,513,1
	INC 'GL-CHAPT-NUM
	.DEBUG-LINE 5,514,1
	SET 'GL-QUEST-NUM,1
	.DEBUG-LINE 5,515,1
?L19:	ICALL1 RT-NEW-CURSOR
	JUMP ?L12
	.DEBUG-LINE 5,516,1
?L16:	EQUAL? CHR,80,112 \?L20
	.DEBUG-LINE 5,517,1
	ICALL1 RT-ERASE-CURSOR
	.DEBUG-LINE 5,518,1
	EQUAL? GL-CHAPT-NUM,1 \?L21
	.DEBUG-LINE 5,519,1
	SET 'GL-CHAPT-NUM,MAXC
	.DEBUG-LINE 5,520,1
	SUB MAXC,1 >GL-CUR-POS
	JUMP ?L23
	.DEBUG-LINE 5,522,1
?L21:	DEC 'GL-CUR-POS
	.DEBUG-LINE 5,523,1
	DEC 'GL-CHAPT-NUM
	.DEBUG-LINE 5,524,1
?L23:	SET 'GL-QUEST-NUM,1
	.DEBUG-LINE 5,525,1
	ICALL1 RT-NEW-CURSOR
	JUMP ?L12
	.DEBUG-LINE 5,526,1
?L20:	EQUAL? CHR,13,10 \?L12
	.DEBUG-LINE 5,527,1
	ICALL1 RT-PICK-QUESTION
	.DEBUG-LINE 5,529,1
?L13:	ZERO? Q /?L0
	.DEBUG-LINE 5,531,1
	CLEAR -1
	.DEBUG-LINE 5,533,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 5,534,1
	EQUAL? WHO,CH-HOLMES \?L29
	.DEBUG-LINE 5,535,1
	CRLF
	PRINTI "Holmes barely glances at you and snaps, ""At last. Now may we proceed?"""
	CRLF
	JUMP ?L32
	.DEBUG-LINE 5,537,1
?L29:	EQUAL? WHO,CH-WIGGINS \?L31
	.DEBUG-LINE 5,538,1
	CRLF
	PRINTI "Wiggins tugs your sleeve and asks hopefully, ""Learn anything?"""
	CRLF
	JUMP ?L32
	.DEBUG-LINE 5,541,1
?L31:	CRLF
	PRINTI "Back to the story..."
	CRLF
	.DEBUG-LINE 5,542,1
?L32:	ZERO? SOUND-ON? /?L33
	.DEBUG-LINE 5,543,1
	ICALL1 CHECK-LOOPING
	.DEBUG-LINE 5,546,1
?L33:	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PICK-QUESTION","CHR","MAXQ","Q"
	.FUNCT RT-PICK-QUESTION,CHR,MAXQ,Q
?L0:	SET 'Q,0
	.DEBUG-LINE 5,549,1
	ICALL2 RT-INIT-HINT-SCREEN,0
	.DEBUG-LINE 5,550,1
	ICALL RT-LEFT-LINE,3,RETURN-SEE-HINT,RETURN-SEE-HINT-LEN
	.DEBUG-LINE 5,551,1
	ICALL RT-RIGHT-LINE,3,Q-MAIN-MENU,Q-MAIN-MENU-LEN
	.DEBUG-LINE 5,552,1
	GET K-HINTS,GL-CHAPT-NUM >STACK
	GET STACK,0 >STACK
	SUB STACK,1 >MAXQ
	.DEBUG-LINE 5,553,1
	CURSET 5,1
	.DEBUG-LINE 5,554,1
	ICALL1 RT-PUT-UP-QUESTIONS
	.DEBUG-LINE 5,555,1
	SUB GL-QUEST-NUM,1 >GL-CUR-POS
	.DEBUG-LINE 5,556,1
	ICALL1 RT-NEW-CURSOR
	.DEBUG-LINE 5,558,1
?L1:	INPUT 1 >CHR
	.DEBUG-LINE 5,559,1
	EQUAL? CHR,81,113 \?L3
	.DEBUG-LINE 5,560,1
	SET 'Q,1
	.DEBUG-LINE 5,561,1
	JUMP ?L2
	.DEBUG-LINE 5,562,1
?L3:	EQUAL? CHR,78,110 \?L5
	.DEBUG-LINE 5,563,1
	ICALL1 RT-ERASE-CURSOR
	.DEBUG-LINE 5,564,1
	EQUAL? GL-QUEST-NUM,MAXQ \?L6
	.DEBUG-LINE 5,565,1
	SET 'GL-CUR-POS,0
	.DEBUG-LINE 5,566,1
	SET 'GL-QUEST-NUM,1
	JUMP ?L8
	.DEBUG-LINE 5,568,1
?L6:	INC 'GL-CUR-POS
	.DEBUG-LINE 5,569,1
	INC 'GL-QUEST-NUM
	.DEBUG-LINE 5,570,1
?L8:	ICALL1 RT-NEW-CURSOR
	JUMP ?L1
	.DEBUG-LINE 5,571,1
?L5:	EQUAL? CHR,80,112 \?L9
	.DEBUG-LINE 5,572,1
	ICALL1 RT-ERASE-CURSOR
	.DEBUG-LINE 5,573,1
	EQUAL? GL-QUEST-NUM,1 \?L10
	.DEBUG-LINE 5,574,1
	SET 'GL-QUEST-NUM,MAXQ
	.DEBUG-LINE 5,575,1
	SUB MAXQ,1 >GL-CUR-POS
	JUMP ?L12
	.DEBUG-LINE 5,577,1
?L10:	DEC 'GL-CUR-POS
	.DEBUG-LINE 5,578,1
	DEC 'GL-QUEST-NUM
	.DEBUG-LINE 5,579,1
?L12:	ICALL1 RT-NEW-CURSOR
	JUMP ?L1
	.DEBUG-LINE 5,580,1
?L9:	EQUAL? CHR,13,10 \?L1
	.DEBUG-LINE 5,581,1
	ICALL1 RT-DISPLAY-HINT
	.DEBUG-LINE 5,583,1
?L2:	ZERO? Q /?L0
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ERASE-CURSOR"
	.FUNCT RT-ERASE-CURSOR
	.DEBUG-LINE 5,587,1
	GET GL-COLUMN-TABLE,GL-CUR-POS >STACK
	SUB STACK,2 >STACK
	GET GL-LINE-TABLE,GL-CUR-POS >STACK
	CURSET STACK,STACK
	.DEBUG-LINE 5,589,1
	PRINTI " "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NEW-CURSOR"
	.FUNCT RT-NEW-CURSOR
	.DEBUG-LINE 5,595,1
	GET GL-COLUMN-TABLE,GL-CUR-POS >STACK
	SUB STACK,2 >STACK
	GET GL-LINE-TABLE,GL-CUR-POS >STACK
	CURSET STACK,STACK
	.DEBUG-LINE 5,597,1
	PRINTI ">"
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INVERSE-LINE","CENTER-HALF"
	.FUNCT RT-INVERSE-LINE,CENTER-HALF
	SET 'CENTER-HALF,0
	.DEBUG-LINE 5,600,1
	HLIGHT K-H-INV
	.DEBUG-LINE 5,601,1
	GETB 0,33 >STACK
	ICALL2 RT-PRINT-SPACES,STACK
	.DEBUG-LINE 5,602,1
	HLIGHT K-H-NRM
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DISPLAY-HINT","H","MX","CNT","CHR","FLG","N","CV","SHIFT?","COUNT-OFFS","CURCX","CURC"
	.FUNCT RT-DISPLAY-HINT,H,MX,CNT,CHR,FLG,N,CV,SHIFT?,COUNT-OFFS,CURCX,CURC
	SET 'CNT,2
	SET 'FLG,1
	.DEBUG-LINE 5,606,1
	CLEAR -1
	.DEBUG-LINE 5,607,1
	SPLIT 3
	.DEBUG-LINE 5,608,1
	SCREEN K-S-WIN
	.DEBUG-LINE 5,609,1
	CURSET 1,1
	.DEBUG-LINE 5,610,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,611,1
	ICALL RT-CENTER-LINE,1,STR?120,16
	.DEBUG-LINE 5,612,1
	CURSET 3,1
	.DEBUG-LINE 5,613,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,614,1
	ICALL RT-LEFT-LINE,3,STR?121
	.DEBUG-LINE 5,615,1
	ICALL RT-RIGHT-LINE,3,STR?122,17
	.DEBUG-LINE 5,616,1
	CURSET 2,1
	.DEBUG-LINE 5,617,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,618,1
	HLIGHT K-H-BLD
	.DEBUG-LINE 5,619,1
	ADD GL-QUEST-NUM,1 >STACK
	GET K-HINTS,GL-CHAPT-NUM >STACK
	GET STACK,STACK >H
	.DEBUG-LINE 5,624,1
	SUB GL-CHAPT-NUM,1 >STACK
	GET K-HINT-COUNTS,STACK >CV
	.DEBUG-LINE 5,625,1
	GET H,1 >STACK
	ICALL RT-CENTER-LINE,2,STACK
	.DEBUG-LINE 5,626,1
	HLIGHT K-H-NRM
	.DEBUG-LINE 5,627,1
	GET H,0 >MX
	.DEBUG-LINE 5,628,1
	SCREEN K-S-NOR
	.DEBUG-LINE 5,629,1
	CRLF
	.DEBUG-LINE 5,630,1
	MOD GL-QUEST-NUM,2 >SHIFT?
	.DEBUG-LINE 5,631,1
	SUB GL-QUEST-NUM,1 >STACK
	DIV STACK,2 >COUNT-OFFS
	.DEBUG-LINE 5,632,1
	GETB CV,COUNT-OFFS >CURCX
	.DEBUG-LINE 5,633,1
	ZERO? SHIFT? /?L1
	.DEBUG-LINE 5,633,1
	SHIFT CURCX,-4 >STACK
	JUMP ?L3
	.DEBUG-LINE 5,634,1
?L1:	PUSH CURCX
?L3:	BAND STACK,15 >STACK
	ADD 2,STACK >CURC
	.DEBUG-LINE 5,635,1
?L4:	EQUAL? CNT,CURC /?L5
	.DEBUG-LINE 5,638,1
	GET H,CNT >STACK
	PRINT STACK
	CRLF
	.DEBUG-LINE 5,639,1
	INC 'CNT
	JUMP ?L4
	.DEBUG-LINE 5,641,1
?L5:	ZERO? FLG /?L13
	GRTR? CNT,MX \?L11
	.DEBUG-LINE 5,642,1
	SET 'FLG,0
	.DEBUG-LINE 5,643,1
	PRINTI "[That's all.]"
	CRLF
	JUMP ?L13
	.DEBUG-LINE 5,644,1
?L11:	ZERO? FLG /?L13
	.DEBUG-LINE 5,645,1
	SUB MX,CNT >STACK
	ADD STACK,1 >N
	.DEBUG-LINE 5,646,1
	PRINTI "["
	PRINTN N
	PRINTI " hint"
	.DEBUG-LINE 5,647,1
	EQUAL? N,1 /?L14
	.DEBUG-LINE 5,648,1
	PRINTI "s"
	.DEBUG-LINE 5,649,1
?L14:	PRINTI " left.]"
	PRINTI " -> "
	.DEBUG-LINE 5,650,1
	SET 'FLG,0
	.DEBUG-LINE 5,651,1
?L13:	INPUT 1 >CHR
	.DEBUG-LINE 5,652,1
	EQUAL? CHR,81,113 \?L18
	.DEBUG-LINE 5,653,1
	ZERO? SHIFT? /?L20
	.DEBUG-LINE 5,654,1
	SUB CNT,2 >STACK
	SHIFT STACK,4 >STACK
	GETB CV,COUNT-OFFS >STACK
	BAND STACK,15 >STACK
	BOR STACK,STACK >STACK
	PUTB CV,COUNT-OFFS,STACK
	RTRUE
	.DEBUG-LINE 5,658,1
?L20:	SUB CNT,2 >STACK
	GETB CV,COUNT-OFFS >STACK
	BAND STACK,240 >STACK
	BOR STACK,STACK >STACK
	PUTB CV,COUNT-OFFS,STACK
	.DEBUG-LINE 5,661,1
	RTRUE
	.DEBUG-LINE 5,662,1
?L18:	EQUAL? CHR,13,10 \?L5
	.DEBUG-LINE 5,663,1
	GRTR? CNT,MX /?L5
	.DEBUG-LINE 5,664,1
	SET 'FLG,1
	.DEBUG-LINE 5,665,1
	GET H,CNT >STACK
	PRINT STACK
	CRLF
	.DEBUG-LINE 5,667,1
	IGRTR? 'CNT,MX \?L5
	.DEBUG-LINE 5,668,1
	SET 'FLG,0
	.DEBUG-LINE 5,669,1
	PRINTI "[Final hint]"
	CRLF
	JUMP ?L5
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PUT-UP-QUESTIONS","ST","MXQ","MXL"
	.FUNCT RT-PUT-UP-QUESTIONS,ST,MXQ,MXL
	SET 'ST,1
	.DEBUG-LINE 5,672,1
	GET K-HINTS,GL-CHAPT-NUM >STACK
	GET STACK,0 >STACK
	SUB STACK,1 >MXQ
	.DEBUG-LINE 5,673,1
	GETB 0,32 >STACK
	SUB STACK,1 >MXL
	.DEBUG-LINE 5,675,1
?L1:	GRTR? ST,MXQ /TRUE
	.DEBUG-LINE 5,678,1
	SUB ST,1 >STACK
	GET GL-COLUMN-TABLE,STACK >STACK
	DEC 'STACK
	SUB ST,1 >STACK
	GET GL-LINE-TABLE,STACK >STACK
	CURSET STACK,STACK
	.DEBUG-LINE 5,680,1
	PRINTI " "
	ADD ST,1 >STACK
	GET K-HINTS,GL-CHAPT-NUM >STACK
	GET STACK,STACK >STACK
	GET STACK,1 >STACK
	PRINT STACK
	.DEBUG-LINE 5,681,1
	INC 'ST
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PUT-UP-CHAPTERS","ST","MXC","MXL"
	.FUNCT RT-PUT-UP-CHAPTERS,ST,MXC,MXL
	SET 'ST,1
	.DEBUG-LINE 5,684,1
	GET K-HINTS,0 >MXC
	.DEBUG-LINE 5,685,1
	GETB 0,32 >STACK
	SUB STACK,1 >MXL
	.DEBUG-LINE 5,687,1
?L1:	GRTR? ST,MXC /TRUE
	.DEBUG-LINE 5,690,1
	SUB ST,1 >STACK
	GET GL-COLUMN-TABLE,STACK >STACK
	DEC 'STACK
	SUB ST,1 >STACK
	GET GL-LINE-TABLE,STACK >STACK
	CURSET STACK,STACK
	.DEBUG-LINE 5,693,1
	PRINTI " "
	GET K-HINTS,ST >STACK
	GET STACK,1 >STACK
	PRINT STACK
	.DEBUG-LINE 5,694,1
	INC 'ST
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INIT-HINT-SCREEN","THIRD"
	.FUNCT RT-INIT-HINT-SCREEN,THIRD
	ASSIGNED? 'THIRD /?L4
	SET 'THIRD,1
	.DEBUG-LINE 5,697,1
?L4:	CLEAR -1
	.DEBUG-LINE 5,698,1
	GETB 0,32 >STACK
	DEC 'STACK
	SPLIT STACK
	.DEBUG-LINE 5,699,1
	SCREEN K-S-WIN
	.DEBUG-LINE 5,700,1
	CURSET 1,1
	.DEBUG-LINE 5,701,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,702,1
	CURSET 2,1
	.DEBUG-LINE 5,703,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,704,1
	CURSET 3,1
	.DEBUG-LINE 5,705,1
	ICALL1 RT-INVERSE-LINE
	.DEBUG-LINE 5,706,1
	ICALL RT-CENTER-LINE,1,STR?120,16
	.DEBUG-LINE 5,707,1
	ICALL RT-LEFT-LINE,2,STR?123
	.DEBUG-LINE 5,708,1
	ICALL RT-RIGHT-LINE,2,STR?124,12
	.DEBUG-LINE 5,709,1
	ZERO? THIRD /FALSE
	.DEBUG-LINE 5,710,1
	ICALL RT-LEFT-LINE,3,STR?125
	.DEBUG-LINE 5,711,1
	CALL RT-RIGHT-LINE,3,STR?126,16 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CENTER-LINE","LN","STR","LEN","INV"
	.FUNCT RT-CENTER-LINE,LN,STR,LEN,INV
	ASSIGNED? 'LEN /?L10
	SET 'LEN,0
?L10:	ASSIGNED? 'INV /?L11
	SET 'INV,1
	.DEBUG-LINE 5,714,1
?L11:	ZERO? LEN \?L1
	.DEBUG-LINE 5,715,1
	DIROUT K-D-TBL-ON,GL-DIROUT-TBL
	.DEBUG-LINE 5,716,1
	PRINT STR
	.DEBUG-LINE 5,717,1
	DIROUT K-D-TBL-OFF
	.DEBUG-LINE 5,718,1
	GET GL-DIROUT-TBL,0 >LEN
	.DEBUG-LINE 5,719,1
?L1:	GETB 0,33 >STACK
	SUB STACK,LEN >STACK
	DIV STACK,2 >STACK
	CURSET LN,STACK
	.DEBUG-LINE 5,720,1
	ZERO? INV /?L4
	.DEBUG-LINE 5,721,1
	HLIGHT K-H-INV
	.DEBUG-LINE 5,722,1
?L4:	PRINT STR
	.DEBUG-LINE 5,723,1
	ZERO? INV /FALSE
	.DEBUG-LINE 5,724,1
	HLIGHT K-H-NRM
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LEFT-LINE","LN","STR","INV"
	.FUNCT RT-LEFT-LINE,LN,STR,INV
	ASSIGNED? 'INV /?L7
	SET 'INV,1
	.DEBUG-LINE 5,727,1
?L7:	CURSET LN,1
	.DEBUG-LINE 5,728,1
	ZERO? INV /?L1
	.DEBUG-LINE 5,729,1
	HLIGHT K-H-INV
	.DEBUG-LINE 5,730,1
?L1:	PRINT STR
	.DEBUG-LINE 5,731,1
	ZERO? INV /FALSE
	.DEBUG-LINE 5,732,1
	HLIGHT K-H-NRM
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-RIGHT-LINE","LN","STR","LEN","INV"
	.FUNCT RT-RIGHT-LINE,LN,STR,LEN,INV
	ASSIGNED? 'LEN /?L10
	SET 'LEN,0
?L10:	ASSIGNED? 'INV /?L11
	SET 'INV,1
	.DEBUG-LINE 5,735,1
?L11:	ZERO? LEN \?L1
	.DEBUG-LINE 5,736,1
	DIROUT 3,GL-DIROUT-TBL
	.DEBUG-LINE 5,737,1
	PRINT STR
	.DEBUG-LINE 5,738,1
	DIROUT -3
	.DEBUG-LINE 5,739,1
	GET GL-DIROUT-TBL,0 >LEN
	.DEBUG-LINE 5,740,1
?L1:	GETB 0,33 >STACK
	SUB STACK,LEN >STACK
	CURSET LN,STACK
	.DEBUG-LINE 5,741,1
	ZERO? INV /?L4
	.DEBUG-LINE 5,742,1
	HLIGHT K-H-INV
	.DEBUG-LINE 5,743,1
?L4:	PRINT STR
	.DEBUG-LINE 5,744,1
	ZERO? INV /FALSE
	.DEBUG-LINE 5,745,1
	HLIGHT K-H-NRM
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"SOUNDS","N","OP","VOL","NUM","RTN"
	.FUNCT SOUNDS,N,OP,VOL,NUM,RTN
	ASSIGNED? 'OP /?L34
	SET 'OP,S-START
?L34:	ASSIGNED? 'VOL /?L35
	SET 'VOL,8
?L35:	ASSIGNED? 'NUM /?L36
	SET 'NUM,1
	.DEBUG-LINE 6,19,1
?L36:	LESS? LOOPING?,0 \?L1
	EQUAL? OP,S-START \?L1
	.DEBUG-LINE 6,21,1
	SET 'LOOPING?,0
	.DEBUG-LINE 6,22,1
	CRLF
	PRINTI "[Use $SOUND to toggle sound usage on and off.]"
	CRLF
	.DEBUG-LINE 6,24,1
?L1:	EQUAL? OP,S-INIT \?L4
	ZERO? SOUND-QUEUED? \TRUE
	ZERO? LOOPING? \TRUE
	.DEBUG-LINE 6,30,1
?L4:	EQUAL? N,S-CROWD \?L8
	.DEBUG-LINE 6,31,1
	SET 'VOL,6
	JUMP ?L10
	.DEBUG-LINE 6,32,1
?L8:	EQUAL? N,S-BADVIOL \?L10
	.DEBUG-LINE 6,33,1
	SET 'VOL,6
	.DEBUG-LINE 6,34,1
?L10:	EQUAL? N,S-CROWD,S-BOATING,S-SNORE \?L12
	.DEBUG-LINE 6,35,1
	EQUAL? OP,S-START \?L14
	.DEBUG-LINE 6,36,1
	SET 'LOOPING?,N
	.DEBUG-LINE 6,37,1
	SET 'LOOP-VOL,VOL
	.DEBUG-LINE 6,39,1
	SET 'NUM,-1
	JUMP ?L16
	.DEBUG-LINE 6,40,1
?L14:	EQUAL? OP,S-STOP \?L16
	.DEBUG-LINE 6,41,1
	SET 'LOOPING?,0
	.DEBUG-LINE 6,42,1
?L16:	ZERO? SOUND-QUEUED? /?L22
	.DEBUG-LINE 6,43,1
	RTRUE
	.DEBUG-LINE 6,45,1
?L12:	ZERO? RTN \?L22
	.DEBUG-LINE 6,46,1
	SET 'RTN,CHECK-LOOPING
	.DEBUG-LINE 6,47,1
?L22:	ZERO? SOUND-ON? /TRUE
	.DEBUG-LINE 6,50,1
	EQUAL? OP,S-START \?L27
	.DEBUG-LINE 6,51,1
	EQUAL? N,S-CROWD,S-BOATING,S-SNORE /?L29
	.DEBUG-LINE 6,52,1
	SET 'SOUND-QUEUED?,N
	.DEBUG-LINE 6,53,1
?L29:	SHIFT NUM,8 >STACK
	BOR STACK,VOL >STACK
	SOUND N,OP,STACK,RTN
	RTRUE
	.DEBUG-LINE 6,55,1
?L27:	SOUND N,OP
	.DEBUG-LINE 6,56,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"CHECK-LOOPING"
	.FUNCT CHECK-LOOPING
	.DEBUG-LINE 6,59,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 6,60,1
	GRTR? LOOPING?,0 \TRUE
	.DEBUG-LINE 6,61,1
	ICALL SOUNDS,LOOPING?,S-START,LOOP-VOL
	.DEBUG-LINE 6,62,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-S-CAB-ARRIVES"
	.FUNCT RT-S-CAB-ARRIVES
	.DEBUG-LINE 6,71,1
	ZERO? CAB-RAMP \?L1
	.DEBUG-LINE 6,72,1
	CALL SOUNDS,S-HORSE,S-START,4 >STACK
	RSTACK
	.DEBUG-LINE 6,74,1
?L1:	DEC 'CAB-RAMP
	.DEBUG-LINE 6,75,1
	SUB 2,CAB-RAMP >STACK
	XCALL SOUNDS,S-HORSE,S-START,STACK,1,RT-S-CAB-ARRIVES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-S-CAB-LEAVES"
	.FUNCT RT-S-CAB-LEAVES
	.DEBUG-LINE 6,78,1
	ZERO? SOUND-QUEUED? /?L3
	EQUAL? SOUND-QUEUED?,S-HORSE \FALSE
	.DEBUG-LINE 6,80,1
?L3:	SET 'CAB-RAMP,2
	.DEBUG-LINE 6,81,1
	CALL1 RT-S-CAB-GOES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-S-CAB-GOES"
	.FUNCT RT-S-CAB-GOES
	.DEBUG-LINE 6,84,1
	ZERO? CAB-RAMP \?L1
	.DEBUG-LINE 6,85,1
	CALL SOUNDS,S-HORSE,S-START,1 >STACK
	RSTACK
	.DEBUG-LINE 6,87,1
?L1:	DEC 'CAB-RAMP
	.DEBUG-LINE 6,88,1
	ADD CAB-RAMP,1 >STACK
	MUL STACK,2 >STACK
	XCALL SOUNDS,S-HORSE,S-START,STACK,1,RT-S-CAB-GOES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"END-FANFARE"
	.FUNCT END-FANFARE
	.DEBUG-LINE 6,91,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 6,92,1
	CALL1 KILL-SOUNDS >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"KILL-SOUNDS"
	.FUNCT KILL-SOUNDS
	.DEBUG-LINE 6,95,1
	EQUAL? SOUND-QUEUED?,S-FANFARE /TRUE
	.DEBUG-LINE 6,96,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 6,97,1
	ICALL SOUNDS,0,S-STOP
	.DEBUG-LINE 6,99,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-$0024SOUND"
	.FUNCT V-$0024SOUND
	.DEBUG-LINE 6,106,1
	LESS? LOOPING?,0 \?L1
	.DEBUG-LINE 6,107,1
	SET 'LOOPING?,0
	.DEBUG-LINE 6,108,1
?L1:	PRINTI "Sound "
	.DEBUG-LINE 6,109,1
	ZERO? SOUND-ON? /?L4
	.DEBUG-LINE 6,110,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 6,111,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 6,112,1
	SET 'SOUND-ON?,0
	.DEBUG-LINE 6,115,1
	PRINTR "off."
	.DEBUG-LINE 6,117,1
?L4:	PRINTI "on."
	CRLF
	.DEBUG-LINE 6,118,1
	SET 'SOUND-ON?,1
	.DEBUG-LINE 6,119,1
	CALL1 CHECK-LOOPING >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-CALL"
	.FUNCT PRE-CALL
	.DEBUG-LINE 7,16,1
	EQUAL? GL-PRSI,TH-CAB-WHISTLE /FALSE
	.DEBUG-LINE 7,18,1
	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,19,1
	EQUAL? GL-P-PRSA-WORD,W?HAIL \?L4
	.DEBUG-LINE 7,20,1
	PRINTR "Greetings, O strange one."
	.DEBUG-LINE 7,22,1
?L4:	PRINTR "Helllloooooooo."
	.DEBUG-LINE 7,23,1
?L3:	GET GL-P-ADJW,0 >STACK
	EQUAL? STACK,W?MARY \?L7
	EQUAL? GL-P-PRSA-WORD,W?HAIL \?L7
	.DEBUG-LINE 7,25,1
	PRINTR "Praying isn't a bad idea. But if you really need help, simply type HINT."
	.DEBUG-LINE 7,27,1
?L7:	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,W?CAB \?L8
	.DEBUG-LINE 7,28,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L9
	.DEBUG-LINE 7,29,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,30,1
	PRINTI "can't "
	PRINTB GL-P-PRSA-WORD
	PRINTR " a cab while indoors."
	.DEBUG-LINE 7,31,1
?L9:	LOC TH-HANSOM-CAB >STACK
	LOC TH-GROWLER-CAB >STACK
	EQUAL? GL-PLACE-CUR,STACK,STACK \?L11
	.DEBUG-LINE 7,32,1
	PRINT K-CAB-HERE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,34,1
?L11:	EQUAL? GL-P-PRSA-WORD,W?HAIL \?L13
	.DEBUG-LINE 7,35,1
	ICALL RT-CYOU-MSG,STR?128,STR?127
	.DEBUG-LINE 7,36,1
	PRINTI "a hand in the air"
	JUMP ?L15
	.DEBUG-LINE 7,38,1
?L13:	ICALL RT-CYOU-MSG,STR?130,STR?129
	.DEBUG-LINE 7,39,1
	PRINTI "for a few moments"
	.DEBUG-LINE 7,40,1
?L15:	PRINTI ", but nothing happens. Apparently that isn't how Victorians "
	PRINTB GL-P-PRSA-WORD
	PRINTR " cabs."
	.DEBUG-LINE 7,42,1
?L8:	FSET? GL-PRSO,FL-ALIVE \?L17
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 7,44,1
?L17:	PRINTR "Nothing happens."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-DROP"
	.FUNCT PRE-DROP
	.DEBUG-LINE 7,48,1
	EQUAL? GL-PRSO,TH-ANCHOR /FALSE
	IN? GL-PRSO,GL-WINNER /FALSE
	.DEBUG-LINE 7,51,1
	IN? GL-PRSO,GLOBAL-OBJECTS \?L4
	.DEBUG-LINE 7,52,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,53,1
?L4:	FSET? GL-PRSO,FL-BODYPART \?L5
	.DEBUG-LINE 7,54,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,56,1
?L5:	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,57,1
	PRINTI "not holding "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,58,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-DUMB-EXAMINE"
	.FUNCT PRE-DUMB-EXAMINE
	.DEBUG-LINE 7,62,1
	CALL1 PRE-EXAMINE >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,63,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-EXAMINE"
	.FUNCT PRE-EXAMINE
	.DEBUG-LINE 7,69,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,70,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,71,1
	RETURN 2
	.DEBUG-LINE 7,72,1
?L1:	EQUAL? GL-PRSO,TH-INTDIR \FALSE
	.DEBUG-LINE 7,73,1
	EQUAL? GL-P-DIRECTION,P?UP \?L4
	.DEBUG-LINE 7,74,1
	ICALL RT-PERFORM,V?LOOK-UP,ROOMS
	.DEBUG-LINE 7,75,1
	RTRUE
	.DEBUG-LINE 7,76,1
?L4:	EQUAL? GL-P-DIRECTION,P?DOWN \?L6
	.DEBUG-LINE 7,77,1
	ICALL RT-PERFORM,V?LOOK-DOWN,ROOMS
	.DEBUG-LINE 7,78,1
	RTRUE
	.DEBUG-LINE 7,79,1
	.DEBUG-LINE 7,82,1
?L6:	PRINTR "You peer off into the middle distance, but then return your attention to the matters at hand."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-FEED"
	.FUNCT PRE-FEED
	.DEBUG-LINE 7,88,1
	CALL2 PRE-GIVE,1 >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,89,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-GIVE","FEED?"
	.FUNCT PRE-GIVE,FEED?
	ASSIGNED? 'FEED? /?L14
	SET 'FEED?,0
	.DEBUG-LINE 7,95,1
?L14:	ZERO? GL-PRSO /?L3
	ZERO? GL-PRSI \?L1
	.DEBUG-LINE 7,97,1
?L3:	PRINT K-REFERRING-MSG
	.DEBUG-LINE 7,98,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,99,1
?L1:	EQUAL? GL-PRSO,GL-PRSI /?L5
	IN? GL-PRSI,GLOBAL-OBJECTS \?L4
	.DEBUG-LINE 7,101,1
?L5:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,102,1
	RTRUE
	.DEBUG-LINE 7,103,1
?L4:	FSET? GL-PRSI,FL-ALIVE /?L6
	.DEBUG-LINE 7,104,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,105,1
	PRINTI "cannot "
	.DEBUG-LINE 7,106,1
	ZERO? FEED? /?L7
	.DEBUG-LINE 7,107,1
	PRINTI "feed "
	JUMP ?L9
	.DEBUG-LINE 7,109,1
?L7:	PRINTI "give "
	.DEBUG-LINE 7,110,1
?L9:	PRINTI "anything to "
	ICALL2 RT-A-PRINT,GL-PRSI
	.DEBUG-LINE 7,111,1
	PRINTR "."
	.DEBUG-LINE 7,112,1
?L6:	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L15
	IN? GL-PRSO,CH-PLAYER \?L10
	.DEBUG-LINE 7,114,1
	ICALL1 RT-ALREADY-HAVE-PRSO-MSG
	.DEBUG-LINE 7,115,1
	RTRUE
	.DEBUG-LINE 7,116,1
?L10:	EQUAL? GL-PRSI,CH-ME,CH-PLAYER /?L11
?L15:	CALL2 RT-DONT-HAVE-MSG,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,119,1
?L11:	FSET? GL-PRSO,FL-WORN \FALSE
	IN? GL-PRSO,CH-PLAYER \FALSE
	.DEBUG-LINE 7,121,1
	ICALL1 RT-TAKE-OFF-PRSO-FIRST-MSG
	.DEBUG-LINE 7,122,1
	.DEBUG-LINE 7,124,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-LISTEN"
	.FUNCT PRE-LISTEN
	.DEBUG-LINE 7,128,1
	FSET? TH-COTTON-BALLS,FL-WORN \FALSE
	.DEBUG-LINE 7,129,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,130,1
	.DEBUG-LINE 7,133,1
	PRINTR "can't hear anything very clearly, but then what did you expect with those huge wads of cotton plugging up your ears?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-POCKET"
	.FUNCT PRE-POCKET
	.DEBUG-LINE 7,139,1
	EQUAL? GL-WINNER,CH-PLAYER /?L1
	.DEBUG-LINE 7,140,1
	.DEBUG-LINE 7,141,1
	PRINTR "[You cannot tell characters to do that.]"
	.DEBUG-LINE 7,142,1
?L1:	IN? GL-PRSO,GLOBAL-OBJECTS \?L3
	.DEBUG-LINE 7,143,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,144,1
	RTRUE
	.DEBUG-LINE 7,145,1
?L3:	IN? GL-PRSO,TH-POCKET \FALSE
	.DEBUG-LINE 7,146,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,147,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 7,148,1
	PRINTI "already in "
	ICALL2 DPRINT,TH-POCKET
	.DEBUG-LINE 7,149,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-PUT","PTR","OLOC","CNT"
	.FUNCT PRE-PUT,PTR,OLOC,CNT
	.DEBUG-LINE 7,155,1
	IN? GL-PRSO,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 7,157,1
	EQUAL? GL-PRSO,TH-ANCHOR /?L3
	IN? GL-PRSO,GL-WINNER /?L3
	.DEBUG-LINE 7,159,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,160,1
	PRINTI "not holding "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,161,1
	RETURN 2
	.DEBUG-LINE 7,162,1
?L3:	EQUAL? GL-PRSO,TH-CLOTHES \?L4
	.DEBUG-LINE 7,163,1
	PRINT K-INAPPROPRIATE-MSG
	.DEBUG-LINE 7,164,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,165,1
?L4:	EQUAL? GL-PRSO,GL-PRSI \?L5
	.DEBUG-LINE 7,166,1
	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,167,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,168,1
?L5:	EQUAL? GL-PRSI,TH-INTDIR,TH-RIGHT,TH-LEFT \?L6
	.DEBUG-LINE 7,169,1
	.DEBUG-LINE 7,170,1
	PRINTR "[You must specify an object.]"
	.DEBUG-LINE 7,171,1
?L6:	EQUAL? GL-PRSI,TH-HANDS \?L7
	.DEBUG-LINE 7,172,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?131
	.DEBUG-LINE 7,173,1
	RTRUE
	.DEBUG-LINE 7,174,1
?L7:	EQUAL? TH-FEET,GL-PRSO,GL-PRSI \?L8
	.DEBUG-LINE 7,175,1
	PRINTI "That would"
	.DEBUG-LINE 7,176,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,177,1
	RTRUE
	.DEBUG-LINE 7,178,1
?L8:	EQUAL? TH-EARS,GL-PRSO,GL-PRSI /FALSE
	.DEBUG-LINE 7,180,1
	EQUAL? GL-PRSO,TH-HANDS \?L10
	.DEBUG-LINE 7,181,1
	ICALL RT-PERFORM,V?REACH-IN,GL-PRSI
	.DEBUG-LINE 7,182,1
	RTRUE
	.DEBUG-LINE 7,183,1
?L10:	IN? GL-PRSI,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 7,185,1
	EQUAL? GL-PRSO,TH-PIPE \?L12
	EQUAL? GL-PRSI,W?MOUTH,W?LIPS \?L12
	.DEBUG-LINE 7,187,1
	CALL RT-PERFORM,V?SMOKE,TH-PIPE >STACK
	RSTACK
	.DEBUG-LINE 7,188,1
?L12:	FSET? GL-PRSO,FL-BODYPART \?L13
	.DEBUG-LINE 7,189,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,190,1
	RTRUE
	.DEBUG-LINE 7,191,1
?L13:	IN? GL-PRSO,GL-PRSI \?L14
	.DEBUG-LINE 7,192,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,193,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 7,194,1
	PRINTI "already"
	.DEBUG-LINE 7,195,1
	ICALL2 RT-IN-ON-MSG,GL-PRSI
	.DEBUG-LINE 7,196,1
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,197,1
	PRINTR "."
	.DEBUG-LINE 7,198,1
?L14:	EQUAL? GL-PRSO,GL-PRSI /?L16
	IN? GL-PRSO,GLOBAL-OBJECTS /?L16
	FSET? GL-PRSO,FL-TAKEABLE /?L15
	.DEBUG-LINE 7,201,1
?L16:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,202,1
	RTRUE
	.DEBUG-LINE 7,203,1
?L15:	CALL2 RT-ACCESSIBLE?,GL-PRSI >STACK
	ZERO? STACK \?L17
	.DEBUG-LINE 7,204,1
	ICALL2 RT-CANT-SEE-ANY-MSG,GL-PRSI
	.DEBUG-LINE 7,205,1
	RTRUE
	.DEBUG-LINE 7,206,1
?L17:	EQUAL? GL-PRSO,TH-STETHOSCOPE \?L18
	FSET? GL-PRSI,FL-PERSON /FALSE
	.DEBUG-LINE 7,209,1
?L18:	CALL RT-CHECK-MOVE-MSG?,GL-PRSO,GL-PRSI >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,211,1
	FSET? GL-PRSO,FL-WORN \FALSE
	IN? GL-PRSO,CH-PLAYER \FALSE
	EQUAL? GL-PRSI,CH-ME,CH-PLAYER /FALSE
	.DEBUG-LINE 7,214,1
	ICALL1 RT-TAKE-OFF-PRSO-FIRST-MSG
	.DEBUG-LINE 7,215,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-PUT-ON"
	.FUNCT PRE-PUT-ON
	.DEBUG-LINE 7,219,1
	CALL1 PRE-PUT >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,221,1
	FSET? GL-PRSI,FL-ALIVE /FALSE
	.DEBUG-LINE 7,223,1
	FSET? GL-PRSI,FL-SURFACE /FALSE
	.DEBUG-LINE 7,224,1
	ICALL1 RT-NO-GOOD-SURFACE-MSG
	.DEBUG-LINE 7,225,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-SHOW"
	.FUNCT PRE-SHOW
	.DEBUG-LINE 7,231,1
	EQUAL? 0,GL-PRSO,GL-PRSI \?L1
	.DEBUG-LINE 7,232,1
	PRINT K-REFERRING-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,233,1
?L1:	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L3
	.DEBUG-LINE 7,234,1
	CALL RT-META-IN?,GL-PRSO,CH-PLAYER >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,235,1
	CALL RT-PERFORM,V?EXAMINE,GL-PRSO >STACK
	RSTACK
	.DEBUG-LINE 7,236,1
?L3:	EQUAL? GL-PRSO,GL-PRSI /?L8
	IN? GL-PRSI,GLOBAL-OBJECTS \?L7
	.DEBUG-LINE 7,238,1
?L8:	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,239,1
?L7:	FSET? GL-PRSI,FL-ALIVE /FALSE
	.DEBUG-LINE 7,240,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,241,1
	PRINTI "cannot show things to "
	ICALL2 RT-A-PRINT,GL-PRSI
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-SHOOT"
	.FUNCT PRE-SHOOT
	.DEBUG-LINE 7,250,1
	EQUAL? GL-PRSI,0,TH-GUN /?L1
	.DEBUG-LINE 7,251,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,252,1
	PRINTI "cannot shoot anything with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 7,253,1
?L1:	EQUAL? GL-PRSI,GL-PRSO \?L3
	.DEBUG-LINE 7,254,1
	PRINT K-HOW-TO-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,255,1
?L3:	IN? TH-GUN,CH-PLAYER /?L4
	.DEBUG-LINE 7,256,1
	PRINTR "Clever thinking. If only you had something to shoot with!"
	.DEBUG-LINE 7,257,1
?L4:	EQUAL? GL-PRSO,CH-ME,TH-EARS,CH-PLAYER /?L6
	EQUAL? GL-PRSO,TH-HEAD,TH-WATSONS-HEART \?L5
	.DEBUG-LINE 7,258,1
?L6:	PRINT K-SUICIDE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,259,1
?L5:	EQUAL? GL-PRSO,TH-BREATH /FALSE
	.DEBUG-LINE 7,260,1
	FSET? GL-PRSO,FL-BODYPART \?L8
	.DEBUG-LINE 7,261,1
	PRINTR "Is this how you got sent home from the Afghan Campaign?"
	.DEBUG-LINE 7,263,1
?L8:	EQUAL? GL-PRSO,TH-GUN /?L9
	CALL RT-META-IN?,GL-PRSO,CH-PLAYER >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 7,265,1
	PRINT K-DROP-IT-FIRST-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,266,1
?L9:	ZERO? TH-GUN-AUX1 \?L10
	.DEBUG-LINE 7,267,1
	PRINTR "Click!"
	.DEBUG-LINE 7,269,1
?L10:	DEC 'TH-GUN-AUX1
	.DEBUG-LINE 7,270,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-TAKE","L"
	.FUNCT PRE-TAKE,L
	.DEBUG-LINE 7,274,1
	EQUAL? GL-PRSO,TH-BREATH \?L1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,276,1
	ICALL1 V-INHALE
	.DEBUG-LINE 7,277,1
	RTRUE
	.DEBUG-LINE 7,278,1
?L1:	IN? GL-PRSO,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 7,280,1
	LOC GL-WINNER >STACK
	EQUAL? GL-PRSO,STACK \?L7
	.DEBUG-LINE 7,281,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,282,1
	PRINTI "are already inside "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,283,1
	PRINTR "."
	.DEBUG-LINE 7,284,1
?L7:	LOC GL-PRSO >L
	.DEBUG-LINE 7,285,1
	FSET? GL-PRSO,FL-BODYPART \?L10
	.DEBUG-LINE 7,286,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,287,1
?L10:	EQUAL? GL-PRSO,TH-STETHOSCOPE,TH-WATSONS-HAT,TH-COTTON-BALLS \?L12
	FSET? GL-PRSO,FL-WORN /FALSE
	.DEBUG-LINE 7,291,1
?L12:	EQUAL? L,GL-WINNER \?L13
	.DEBUG-LINE 7,292,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,293,1
	PRINTI "already "
	.DEBUG-LINE 7,294,1
	FSET? GL-PRSO,FL-WORN \?L14
	.DEBUG-LINE 7,295,1
	PRINTI "wearing "
	JUMP ?L16
	.DEBUG-LINE 7,297,1
?L14:	PRINTI "holding "
	.DEBUG-LINE 7,298,1
?L16:	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 7,299,1
?L13:	ZERO? L /?L17
	FSET? L,FL-CONTAINER \?L17
	FSET? L,FL-OPENABLE \?L17
	FSET? L,FL-OPENED /?L17
	.DEBUG-LINE 7,303,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,304,1
	PRINTI "can't reach into "
	ICALL2 RT-THEO-PRINT,L
	PRINTR ". It is closed."
	.DEBUG-LINE 7,305,1
?L17:	ZERO? GL-PRSI /FALSE
	.DEBUG-LINE 7,306,1
	EQUAL? GL-PRSO,GL-PRSI \?L19
	.DEBUG-LINE 7,307,1
	GET GL-P-NAMW,1 >STACK
	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,STACK /?L23
	GET GL-P-ADJW,1 >STACK
	GET GL-P-ADJW,0 >STACK
	EQUAL? STACK,STACK \FALSE
	.DEBUG-LINE 7,309,1
?L23:	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,310,1
?L19:	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L25
	.DEBUG-LINE 7,311,1
	EQUAL? GL-WINNER,CH-PLAYER \?L26
	.DEBUG-LINE 7,312,1
	ICALL1 RT-NOBODY-TO-ASK-MSG
	.DEBUG-LINE 7,313,1
	RTRUE
	.DEBUG-LINE 7,314,1
?L26:	EQUAL? L,CH-PLAYER /FALSE
	.DEBUG-LINE 7,315,1
	ICALL RT-CYOU-MSG,STR?133,STR?132
	.DEBUG-LINE 7,316,1
	PRINTI "have "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 7,317,1
?L25:	EQUAL? GL-PRSI,CH-BANK-GUARD \?L30
	EQUAL? L,TH-GUARDS-POCKET \?L30
	.DEBUG-LINE 7,319,1
	CALL RT-PERFORM,V?TAKE,GL-PRSO,TH-GUARDS-POCKET >STACK
	RSTACK
	.DEBUG-LINE 7,320,1
?L30:	EQUAL? L,GL-PRSI /FALSE
	.DEBUG-LINE 7,321,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,322,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,323,1
	ICALL RT-IN-ON-MSG,GL-PRSI,0
	.DEBUG-LINE 7,324,1
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-THROW"
	.FUNCT PRE-THROW
	.DEBUG-LINE 7,328,1
	CALL1 PRE-PUT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,329,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-THROW-OVER"
	.FUNCT PRE-THROW-OVER
	.DEBUG-LINE 7,335,1
	CALL1 PRE-THROW >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,336,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-WATCH"
	.FUNCT PRE-WATCH
	.DEBUG-LINE 7,342,1
	CALL1 PRE-EXAMINE >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,343,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ADJUST"
	.FUNCT V-ADJUST
	.DEBUG-LINE 7,349,1
	EQUAL? GL-P-PRSA-WORD,W?ADJUST \?L1
	.DEBUG-LINE 7,350,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,351,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSO
	.DEBUG-LINE 7,352,1
	.DEBUG-LINE 7,353,1
	PRINTR "need adjustment."
	.DEBUG-LINE 7,355,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,356,1
	PRINTI "cannot focus "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,357,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ALARM"
	.FUNCT V-ALARM
	.DEBUG-LINE 7,361,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,362,1
	RETURN 2
	.DEBUG-LINE 7,363,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,364,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,365,1
	.DEBUG-LINE 7,366,1
	PRINTR "already wide awake."
	.DEBUG-LINE 7,367,1
?L3:	FSET? GL-PRSO,FL-ALIVE \?L4
	.DEBUG-LINE 7,368,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,369,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 7,370,1
	FSET? GL-PRSO,FL-ASLEEP \?L5
	.DEBUG-LINE 7,371,1
	PRINTR "unconscious, not asleep."
	.DEBUG-LINE 7,373,1
	.DEBUG-LINE 7,374,1
?L5:	PRINTR "already wide awake."
	.DEBUG-LINE 7,376,1
?L4:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,377,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ARREST"
	.FUNCT V-ARREST
	.DEBUG-LINE 7,381,1
	PRINTI "Unfortunately,"
	.DEBUG-LINE 7,382,1
	ICALL RT-YOU-MSG,STR?135,STR?134
	.DEBUG-LINE 7,383,1
	PRINTI "not have the authority to arrest any"
	.DEBUG-LINE 7,384,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,385,1
	PRINTI "one"
	JUMP ?L3
	.DEBUG-LINE 7,387,1
?L1:	PRINTI "thing"
	.DEBUG-LINE 7,388,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ASK-ABOUT-1"
	.FUNCT V-ASK-ABOUT-1
	.DEBUG-LINE 7,392,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ASK-ABOUT"
	.FUNCT V-ASK-ABOUT
	.DEBUG-LINE 7,396,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,397,1
	RETURN 2
	.DEBUG-LINE 7,398,1
?L1:	EQUAL? GL-WINNER,GL-PRSI \?L3
	.DEBUG-LINE 7,399,1
	PRINTI "That would"
	.DEBUG-LINE 7,400,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,401,1
	RETURN 2
	.DEBUG-LINE 7,402,1
?L3:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L4
	.DEBUG-LINE 7,403,1
	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 7,404,1
	RTRUE
	.DEBUG-LINE 7,406,1
?L4:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,407,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ASK-FOR-1"
	.FUNCT V-ASK-FOR-1
	.DEBUG-LINE 7,411,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ASK-FOR","WHO"
	.FUNCT V-ASK-FOR,WHO
	.DEBUG-LINE 7,415,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,416,1
	RETURN 2
	.DEBUG-LINE 7,417,1
?L1:	EQUAL? GL-WINNER,GL-PRSI \?L3
	.DEBUG-LINE 7,418,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,419,1
	RTRUE
	.DEBUG-LINE 7,420,1
?L3:	FSET? GL-PRSI,FL-TAKEABLE /?L4
	.DEBUG-LINE 7,421,1
	ICALL2 RT-CTHEO-PRINT,GL-PRSO
	PRINTI " say"
	.DEBUG-LINE 7,422,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 7,423,1
	PRINTI ", ""Unfortunately, "
	.DEBUG-LINE 7,424,1
	FSET? GL-PRSO,FL-PLURAL /?L5
	.DEBUG-LINE 7,425,1
	PRINTI "I"
	JUMP ?L7
	.DEBUG-LINE 7,427,1
?L5:	PRINTI "we"
	.DEBUG-LINE 7,428,1
	.DEBUG-LINE 7,429,1
?L7:	PRINTR " can't help you with that."""
	.DEBUG-LINE 7,431,1
?L4:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,432,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BLOW-INTO"
	.FUNCT V-BLOW-INTO
	.DEBUG-LINE 7,436,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,437,1
	ICALL RT-PERFORM,V?USE,GL-PRSO
	.DEBUG-LINE 7,438,1
	RTRUE
	.DEBUG-LINE 7,440,1
?L1:	ICALL2 RT-NO-POINT-MSG,STR?136
	.DEBUG-LINE 7,441,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BOW"
	.FUNCT V-BOW
	.DEBUG-LINE 7,445,1
	ICALL2 RT-NO-POINT-MSG,STR?137
	.DEBUG-LINE 7,446,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BURN","OBJ","FIX-LAMP?"
	.FUNCT V-BURN,OBJ,FIX-LAMP?
	SET 'FIX-LAMP?,0
	.DEBUG-LINE 7,449,1
	CALL RT-META-IN?,TH-LAMP,GL-WINNER >STACK
	ZERO? STACK /?L1
	FSET? TH-LAMP,FL-LIGHTED \?L1
	.DEBUG-LINE 7,451,1
	SET 'FIX-LAMP?,1
	.DEBUG-LINE 7,452,1
	FCLEAR TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,453,1
?L1:	XCALL RT-GET-WHAT-I-MEAN,FL-LIGHTED,194,PR?WITH,1,1 >OBJ
	EQUAL? OBJ,0,TH-LAMP /?L4
	.DEBUG-LINE 7,456,1
	ZERO? FIX-LAMP? /?L6
	.DEBUG-LINE 7,456,1
	FSET TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,457,1
?L6:	PRINTI "[with "
	ICALL2 RT-THEO-PRINT,OBJ
	PRINTI "]"
	CRLF
	.DEBUG-LINE 7,458,1
	ICALL RT-PERFORM,V?BURN-WITH,GL-PRSO,OBJ
	.DEBUG-LINE 7,459,1
	RTRUE
	.DEBUG-LINE 7,461,1
?L4:	ZERO? FIX-LAMP? /?L10
	.DEBUG-LINE 7,461,1
	FSET TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,462,1
?L10:	PUT GL-P-ITBL,K-P-PREP2,PR?WITH
	.DEBUG-LINE 7,463,1
	ICALL1 RT-SYNTAX-CHECK
	.DEBUG-LINE 7,464,1
	SET 'GL-P-GOOD,0
	.DEBUG-LINE 7,465,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BURN-WITH"
	.FUNCT V-BURN-WITH
	.DEBUG-LINE 7,469,1
	FSET? GL-PRSO,FL-BURNABLE \?L1
	.DEBUG-LINE 7,470,1
	FSET? GL-PRSI,FL-BURNABLE \?L3
	FSET? GL-PRSI,FL-LIGHTED \?L3
	.DEBUG-LINE 7,472,1
	CALL RT-META-IN?,TH-ETHERIUM-AMPOULE,GL-PRSO >STACK
	ZERO? STACK /?L5
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN /?L5
	.DEBUG-LINE 7,474,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " catches fire, and quickly generates enough heat to affect the etherium you left inside it."
	.DEBUG-LINE 7,476,1
	ICALL RT-PERFORM,V?BURN-WITH,TH-ETHERIUM-AMPOULE,GL-PRSI
	.DEBUG-LINE 7,477,1
	RTRUE
	.DEBUG-LINE 7,478,1
?L5:	REMOVE GL-PRSO
	.DEBUG-LINE 7,479,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 7,480,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " catches fire and is quickly consumed."
	.DEBUG-LINE 7,482,1
?L3:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 7,483,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 7,484,1
	PRINTR "burning."
	.DEBUG-LINE 7,486,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,487,1
	PRINTI "can't "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BUY"
	.FUNCT V-BUY
	.DEBUG-LINE 7,491,1
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 7,492,1
	ICALL2 RT-CANT-SEE-ANY-MSG,GL-PRSO
	.DEBUG-LINE 7,493,1
	RETURN 2
	.DEBUG-LINE 7,494,1
?L1:	CALL2 RT-HELD?,GL-PRSO >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 7,495,1
	ICALL1 RT-ALREADY-HAVE-PRSO-MSG
	.DEBUG-LINE 7,496,1
	RTRUE
	.DEBUG-LINE 7,497,1
?L3:	FSET? GL-PRSO,FL-BUYABLE /?L4
	.DEBUG-LINE 7,498,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,499,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,500,1
	.DEBUG-LINE 7,501,1
	PRINTR "for sale."
	.DEBUG-LINE 7,502,1
?L4:	EQUAL? GL-WINNER,CH-PLAYER \?L5
	IN? GL-PRSO,TH-POCKET \?L5
	.DEBUG-LINE 7,504,1
	ICALL1 RT-SAY-ITS-MSG
	.DEBUG-LINE 7,505,1
	PRINTI "in "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	.DEBUG-LINE 7,506,1
	PRINTR "."
	.DEBUG-LINE 7,507,1
?L5:	ZERO? GL-PRSI /?L6
	.DEBUG-LINE 7,508,1
	ICALL RT-CYOU-MSG,STR?139,STR?138
	.DEBUG-LINE 7,509,1
	PRINTI "buy "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL2 RT-A-PRINT,GL-PRSI
	.DEBUG-LINE 7,510,1
	PRINTR "."
	.DEBUG-LINE 7,512,1
?L6:	ICALL1 RT-NO-MONEY-MSG
	.DEBUG-LINE 7,513,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BUY-FROM"
	.FUNCT V-BUY-FROM
	.DEBUG-LINE 7,517,1
	PRINTI "It's not for sale."
	CRLF
	.DEBUG-LINE 7,518,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CALL"
	.FUNCT V-CALL
	.DEBUG-LINE 7,522,1
	LOC GL-PRSO >STACK
	EQUAL? STACK,GL-PLACE-CUR \?L1
	.DEBUG-LINE 7,523,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,524,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 7,525,1
	PRINTR "right in front of you."
	.DEBUG-LINE 7,527,1
	.DEBUG-LINE 7,528,1
?L1:	PRINTR "Nothing happens."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CAST-OFF"
	.FUNCT V-CAST-OFF
	.DEBUG-LINE 7,532,1
	EQUAL? GL-PRSO,ROOMS,TH-BOAT /?L1
	.DEBUG-LINE 7,533,1
	ICALL1 V-DROP
	RTRUE
	.DEBUG-LINE 7,534,1
?L1:	IN? CH-PLAYER,TH-BOAT /?L4
	LOC TH-BOAT >STACK
	LOC CH-PLAYER >STACK
	EQUAL? STACK,STACK \?L3
	.DEBUG-LINE 7,536,1
?L4:	ICALL1 RT-LAUNCH-BOAT
	RTRUE
	.DEBUG-LINE 7,538,1
	.DEBUG-LINE 7,540,1
?L3:	PRINTR "Clever idea. Now, if only you were in a boat...."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLEAN"
	.FUNCT V-CLEAN
	.DEBUG-LINE 7,544,1
	PRINTI "Sorry. You get no points for neatness."
	CRLF
	.DEBUG-LINE 7,545,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLEAN-OFF"
	.FUNCT V-CLEAN-OFF
	.DEBUG-LINE 7,549,1
	EQUAL? GL-PRSO,GL-PRSI \?L1
	.DEBUG-LINE 7,550,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,551,1
	RTRUE
	.DEBUG-LINE 7,553,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,554,1
	PRINTI "cannot "
	.DEBUG-LINE 7,555,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,556,1
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " on "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,557,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLIMB-DOWN"
	.FUNCT V-CLIMB-DOWN
	.DEBUG-LINE 7,561,1
	EQUAL? GL-P-PRSA-WORD,W?JUMP,W?LEAP \?L1
	.DEBUG-LINE 7,562,1
	ICALL RT-PERFORM,V?DIVE,GL-PRSO
	.DEBUG-LINE 7,563,1
	RTRUE
	.DEBUG-LINE 7,564,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,565,1
	ICALL2 RT-DO-WALK,P?DOWN
	.DEBUG-LINE 7,566,1
	RTRUE
	.DEBUG-LINE 7,568,1
?L3:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,569,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLIMB-ON"
	.FUNCT V-CLIMB-ON
	.DEBUG-LINE 7,573,1
	EQUAL? GL-P-PRSA-WORD,W?TAKE \?L1
	.DEBUG-LINE 7,574,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?140
	.DEBUG-LINE 7,575,1
	RTRUE
	.DEBUG-LINE 7,577,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,578,1
	PRINTI "cannot "
	.DEBUG-LINE 7,579,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,580,1
	PRINTI " onto "
	.DEBUG-LINE 7,581,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,582,1
	.DEBUG-LINE 7,583,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLIMB-OVER"
	.FUNCT V-CLIMB-OVER
	.DEBUG-LINE 7,587,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,588,1
	ICALL1 V-WALK-AROUND
	.DEBUG-LINE 7,589,1
	RTRUE
	.DEBUG-LINE 7,591,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,592,1
	PRINTI "cannot climb over "
	.DEBUG-LINE 7,593,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,594,1
	.DEBUG-LINE 7,595,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLIMB-UP"
	.FUNCT V-CLIMB-UP
	.DEBUG-LINE 7,599,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,600,1
	ICALL2 RT-DO-WALK,P?UP
	.DEBUG-LINE 7,601,1
	RTRUE
	.DEBUG-LINE 7,603,1
?L1:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,604,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLOSE"
	.FUNCT V-CLOSE
	.DEBUG-LINE 7,608,1
	FSET? GL-PRSO,FL-OPENABLE \?L1
	.DEBUG-LINE 7,609,1
	FSET? GL-PRSO,FL-OPENED /?L3
	.DEBUG-LINE 7,610,1
	ICALL2 RT-ITS-ALREADY-MSG,STR?141
	RTRUE
	.DEBUG-LINE 7,611,1
?L3:	FSET? GL-PRSO,FL-LOCKED \?L5
	.DEBUG-LINE 7,612,1
	PRINTR "The door is fixed in the open position. It cannot be closed."
	.DEBUG-LINE 7,615,1
?L5:	ICALL1 RT-YOU-CLOSE-MSG
	.DEBUG-LINE 7,616,1
	RTRUE
	.DEBUG-LINE 7,618,1
?L1:	ICALL1 RT-CANT-CLOSE-THAT-MSG
	.DEBUG-LINE 7,619,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-COUNT","?TMP"
	.FUNCT V-COUNT,?TMP
	.DEBUG-LINE 7,623,1
	GET GL-P-NAMW,0 >?TMP
	EQUAL? ?TMP,W?ARMS,W?EARS,W?EYES /?L3
	EQUAL? ?TMP,W?FEET,W?HANDS,W?LEGS /?L3
	EQUAL? ?TMP,W?LIPS \?L1
	.DEBUG-LINE 7,625,1
?L3:	PRINTR "Two."
	.DEBUG-LINE 7,626,1
?L1:	FSET? GL-PRSO,FL-PLURAL /?L5
	EQUAL? GL-PRSO,TH-BANK-OF-CANDLES \?L4
	.DEBUG-LINE 7,628,1
?L5:	ICALL RT-CYOU-MSG,STR?143,STR?142
	.DEBUG-LINE 7,629,1
	PRINTI "distracted and lose"
	.DEBUG-LINE 7,630,1
	EQUAL? GL-WINNER,CH-PLAYER /?L6
	.DEBUG-LINE 7,631,1
	PRINTI "s"
	.DEBUG-LINE 7,632,1
?L6:	PRINTR " count."
	.DEBUG-LINE 7,634,1
?L4:	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 7,635,1
	.DEBUG-LINE 7,636,1
	PRINTR "only one."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-COVER"
	.FUNCT V-COVER
	.DEBUG-LINE 7,640,1
	ICALL RT-PERFORM,V?PUT-ON,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,641,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CROSS"
	.FUNCT V-CROSS
	.DEBUG-LINE 7,645,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,646,1
	PRINTI "cannot cross "
	.DEBUG-LINE 7,647,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,648,1
	.DEBUG-LINE 7,649,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CUT"
	.FUNCT V-CUT
	.DEBUG-LINE 7,653,1
	PRINTI "That would"
	.DEBUG-LINE 7,654,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,655,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DETONATE"
	.FUNCT V-DETONATE
	.DEBUG-LINE 7,659,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,660,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DIAGNOSE"
	.FUNCT V-DIAGNOSE
	.DEBUG-LINE 7,664,1
	FSET? GL-PRSO,FL-ALIVE /?L1
	.DEBUG-LINE 7,665,1
	PRINTR "Don't be ridiculous."
	.DEBUG-LINE 7,666,1
?L1:	FSET? GL-PRSO,FL-ASLEEP \?L3
	.DEBUG-LINE 7,667,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,668,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 7,669,1
	PRINTR "asleep."
	.DEBUG-LINE 7,670,1
?L3:	EQUAL? GL-PRSO,CH-PLAYER,CH-ME \?L4
	.DEBUG-LINE 7,671,1
	PRINTR "You're doing fine. Now quit fooling around and get back to solving the game."
	.DEBUG-LINE 7,674,1
?L4:	ICALL1 RT-CTHEO-PRINT
	PRINTI " appear"
	.DEBUG-LINE 7,675,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 7,676,1
	.DEBUG-LINE 7,677,1
	PRINTR " to be in good health."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DIVE"
	.FUNCT V-DIVE
	.DEBUG-LINE 7,692,1
	EQUAL? GL-PRSO,ROOMS \?L1
	EQUAL? GL-PLACE-CUR,RM-THE-EMBANKMENT,RM-SWAN-LANE,RM-LONDON-BRIDGE \?L1
	.DEBUG-LINE 7,694,1
	PRINTI "Yuck! Have you looked at that water?"
	CRLF
	JUMP ?L3
	.DEBUG-LINE 7,696,1
?L1:	PRINTI "That would be a foolish thing to do."
	CRLF
	.DEBUG-LINE 7,697,1
?L3:	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DRESS"
	.FUNCT V-DRESS
	.DEBUG-LINE 7,701,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,702,1
	.DEBUG-LINE 7,703,1
	PRINTR "You are already dressed."
	.DEBUG-LINE 7,704,1
?L1:	FSET? GL-PRSO,FL-PERSON \?L3
	.DEBUG-LINE 7,705,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,706,1
	.DEBUG-LINE 7,707,1
	PRINTR "already dressed."
	.DEBUG-LINE 7,709,1
?L3:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,710,1
	PRINTI "cannot dress "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,711,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DRINK","FROM?"
	.FUNCT V-DRINK,FROM?
	ASSIGNED? 'FROM? /?L4
	SET 'FROM?,0
	.DEBUG-LINE 7,715,1
?L4:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,716,1
	PRINTI "cannot drink "
	.DEBUG-LINE 7,717,1
	ZERO? FROM? /?L1
	.DEBUG-LINE 7,718,1
	PRINTI "from "
	.DEBUG-LINE 7,719,1
?L1:	ICALL2 DPRINT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 7,720,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DRINK-FROM"
	.FUNCT V-DRINK-FROM
	.DEBUG-LINE 7,724,1
	ICALL2 V-DRINK,1
	.DEBUG-LINE 7,725,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DRIVE"
	.FUNCT V-DRIVE
	.DEBUG-LINE 7,729,1
	LOC GL-WINNER >STACK
	EQUAL? STACK,TH-HANSOM-CAB,TH-GROWLER-CAB \?L1
	.DEBUG-LINE 7,730,1
	EQUAL? GL-PRSO,ROOMS /TRUE
	.DEBUG-LINE 7,733,1
	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 7,734,1
	PRINTR """Sorry, guv. Could you be a little more specific?"""
	.DEBUG-LINE 7,737,1
?L1:	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,738,1
	PRINTR "not in a cab."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DROP"
	.FUNCT V-DROP
	.DEBUG-LINE 7,742,1
	CALL1 RT-IDROP-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,743,1
	ICALL1 RT-SAY-DROPPED-MSG
	.DEBUG-LINE 7,744,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DUMB-EXAMINE"
	.FUNCT V-DUMB-EXAMINE
	.DEBUG-LINE 7,748,1
	CALL1 V-EXAMINE >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,749,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EAT"
	.FUNCT V-EAT
	.DEBUG-LINE 7,755,1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,756,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?146
	.DEBUG-LINE 7,757,1
	RTRUE
	.DEBUG-LINE 7,759,1
?L1:	PRINTI """It"
	CALL2 RT-PICK-NEXT,GL-NOT-LIKELY-TXT >STACK
	PRINT STACK
	PRINTI " that "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,761,1
	PRINTR " would agree with me."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EMPTY","DEST"
	.FUNCT V-EMPTY,DEST
	ASSIGNED? 'DEST /?L11
	SET 'DEST,0
	.DEBUG-LINE 7,765,1
?L11:	ZERO? DEST \?L1
	.DEBUG-LINE 7,766,1
	SET 'DEST,CH-PLAYER
	.DEBUG-LINE 7,767,1
?L1:	FSET? GL-PRSO,FL-SURFACE \?L4
	.DEBUG-LINE 7,768,1
	ICALL2 RT-EMPTY-PRSO-MSG,DEST
	.DEBUG-LINE 7,769,1
	RTRUE
	.DEBUG-LINE 7,770,1
?L4:	FSET? GL-PRSO,FL-CONTAINER \?L6
	.DEBUG-LINE 7,771,1
	FSET? GL-PRSO,FL-OPENED \?L7
	.DEBUG-LINE 7,772,1
	ICALL2 RT-EMPTY-PRSO-MSG,DEST
	.DEBUG-LINE 7,773,1
	RTRUE
	.DEBUG-LINE 7,775,1
?L7:	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSO
	.DEBUG-LINE 7,776,1
	RTRUE
	.DEBUG-LINE 7,778,1
?L6:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,779,1
	PRINTI "cannot possibly empty "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,780,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EMPTY-INTO"
	.FUNCT V-EMPTY-INTO
	.DEBUG-LINE 7,784,1
	EQUAL? GL-PRSI,TH-HANDS,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,785,1
	CALL2 V-EMPTY,CH-PLAYER >STACK
	RSTACK
	.DEBUG-LINE 7,786,1
?L1:	CALL RT-IDENTIFY-FLOOR?,W?GROUND,GL-PRSI >STACK
	ZERO? STACK \?L4
	CALL RT-IDENTIFY-FLOOR?,W?FLOOR,GL-PRSI >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 7,788,1
?L4:	CALL2 V-EMPTY,GL-PRSI >STACK
	RSTACK
	.DEBUG-LINE 7,789,1
?L3:	FSET? GL-PRSI,FL-SURFACE \?L5
	.DEBUG-LINE 7,790,1
	CALL2 V-EMPTY,GL-PRSI >STACK
	RSTACK
	.DEBUG-LINE 7,791,1
?L5:	FSET? GL-PRSI,FL-CONTAINER \?L6
	.DEBUG-LINE 7,792,1
	FSET? GL-PRSI,FL-OPENED \?L7
	.DEBUG-LINE 7,793,1
	FSET? GL-PRSI,TH-WATSONS-COAT \?L9
	.DEBUG-LINE 7,794,1
	CALL2 V-EMPTY,TH-POCKET >STACK
	RSTACK
	.DEBUG-LINE 7,796,1
?L9:	CALL2 V-EMPTY,GL-PRSI >STACK
	RSTACK
	.DEBUG-LINE 7,798,1
?L7:	CALL2 RT-ITS-CLOSED-MSG,GL-PRSI >STACK
	RSTACK
	.DEBUG-LINE 7,800,1
?L6:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,801,1
	PRINTI "cannot empty "
	ICALL1 RT-THEO-PRINT
	PRINTI " into "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ENTER","VEH"
	.FUNCT V-ENTER,VEH
	.DEBUG-LINE 7,805,1
	EQUAL? GL-PRSO,GL-PLACE-CUR \?L1
	.DEBUG-LINE 7,807,1
	ICALL1 RT-ALREADY-IN-ROOM-MSG
	.DEBUG-LINE 7,808,1
	RTRUE
	.DEBUG-LINE 7,809,1
?L1:	CALL RT-FIND-IN?,GL-PLACE-CUR,FL-VEHICLE >VEH
	ZERO? VEH /?L7
	.DEBUG-LINE 7,810,1
	EQUAL? GL-PRSO,ROOMS,VEH \?L7
	.DEBUG-LINE 7,811,1
	IN? GL-WINNER,VEH \?L6
	.DEBUG-LINE 7,812,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,813,1
	PRINTI "already in "
	ICALL2 RT-THEO-PRINT,VEH
	.DEBUG-LINE 7,814,1
	PRINTR "."
	.DEBUG-LINE 7,816,1
?L6:	ICALL RT-PERFORM,V?ENTER,VEH
	.DEBUG-LINE 7,817,1
	RTRUE
	.DEBUG-LINE 7,818,1
?L7:	EQUAL? GL-PRSO,ROOMS \?L9
	.DEBUG-LINE 7,819,1
	ICALL2 RT-DO-WALK,P?IN
	.DEBUG-LINE 7,820,1
	RTRUE
	.DEBUG-LINE 7,821,1
?L9:	FSET? GL-PRSO,FL-CLOTHING \?L11
	.DEBUG-LINE 7,822,1
	PRINTI "[Presumably, you mean WEAR "
	ICALL1 RT-THEO-PRINT
	PRINTI ".]"
	CRLF
	.DEBUG-LINE 7,823,1
	ICALL RT-PERFORM,V?WEAR,GL-PRSO
	.DEBUG-LINE 7,824,1
	RTRUE
	.DEBUG-LINE 7,826,1
?L11:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,827,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ESCAPE"
	.FUNCT V-ESCAPE
	.DEBUG-LINE 7,831,1
	ICALL1 V-WALK-AROUND
	.DEBUG-LINE 7,832,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EXAMINE","ODF","NUM","DRES"
	.FUNCT V-EXAMINE,ODF,NUM,DRES
	SET 'ODF,0
	SET 'DRES,0
	.DEBUG-LINE 7,836,1
	FSET? GL-PRSO,FL-HAS-DESCFCN \?L1
	.DEBUG-LINE 7,837,1
	GETP GL-PRSO,P?ACTION >ODF
	.DEBUG-LINE 7,838,1
?L1:	CALL2 RT-HOLE?,GL-PRSO >NUM
	ZERO? NUM /?L4
	.DEBUG-LINE 7,839,1
	PRINTI "There "
	.DEBUG-LINE 7,840,1
	EQUAL? NUM,1 \?L6
	.DEBUG-LINE 7,841,1
	PRINTI "is one"
	JUMP ?L14
	.DEBUG-LINE 7,843,1
?L6:	PRINTI "are "
	.DEBUG-LINE 7,844,1
	EQUAL? NUM,2 \?L9
	.DEBUG-LINE 7,845,1
	PRINTI "two"
	JUMP ?L14
	.DEBUG-LINE 7,846,1
?L9:	EQUAL? NUM,3 \?L11
	.DEBUG-LINE 7,847,1
	PRINTI "three"
	JUMP ?L14
	.DEBUG-LINE 7,848,1
?L11:	EQUAL? NUM,4 \?L12
	.DEBUG-LINE 7,849,1
	PRINTI "four"
	JUMP ?L14
	.DEBUG-LINE 7,850,1
?L12:	EQUAL? NUM,5 \?L13
	.DEBUG-LINE 7,851,1
	PRINTI "five"
	JUMP ?L14
	.DEBUG-LINE 7,853,1
?L13:	PRINTI "six"
	.DEBUG-LINE 7,854,1
?L14:	PRINTI " bullet hole"
	.DEBUG-LINE 7,855,1
	GRTR? NUM,1 \?L15
	.DEBUG-LINE 7,856,1
	PRINTI "s"
	.DEBUG-LINE 7,857,1
?L15:	PRINTI " in "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,858,1
?L4:	ZERO? ODF /?L19
	CALL2 ODF,K-M-DESCFCN >DRES
	EQUAL? DRES,1 \?L19
	.DEBUG-LINE 7,860,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,861,1
	RTRUE
	.DEBUG-LINE 7,862,1
?L19:	FSET? GL-PRSO,FL-OPENABLE \?L21
	.DEBUG-LINE 7,863,1
	ICALL1 RT-OPEN-CLOSED-MSG
	.DEBUG-LINE 7,864,1
	CRLF
	.DEBUG-LINE 7,865,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,866,1
	RTRUE
	.DEBUG-LINE 7,867,1
?L21:	FSET? GL-PRSO,FL-SURFACE \?L22
	.DEBUG-LINE 7,868,1
	PRINTI "On "
	ICALL1 RT-THEO-PRINT
	PRINTI " can be seen "
	.DEBUG-LINE 7,869,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,870,1
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,871,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,872,1
	RTRUE
	.DEBUG-LINE 7,873,1
?L22:	FSET? GL-PRSO,FL-CONTAINER \?L23
	.DEBUG-LINE 7,874,1
	FSET? GL-PRSO,FL-OPENED /?L26
	FSET? GL-PRSO,FL-TRANSPARENT \?L24
	.DEBUG-LINE 7,876,1
?L26:	ICALL1 V-LOOK-INSIDE
	.DEBUG-LINE 7,877,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,878,1
	RTRUE
	.DEBUG-LINE 7,880,1
?L24:	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSO
	.DEBUG-LINE 7,881,1
	CRLF
	.DEBUG-LINE 7,882,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,883,1
	RTRUE
	.DEBUG-LINE 7,884,1
?L23:	FSET? GL-PRSO,FL-PERSON \?L28
	CALL2 RT-SEE-ANYTHING-IN?,GL-PRSO >STACK
	ZERO? STACK /?L28
	.DEBUG-LINE 7,886,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,887,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 7,888,1
	PRINTI "holding "
	.DEBUG-LINE 7,889,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,890,1
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,891,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,892,1
	RTRUE
	.DEBUG-LINE 7,893,1
?L28:	ZERO? NUM \TRUE
	.DEBUG-LINE 7,895,1
	ZERO? DRES \TRUE
	.DEBUG-LINE 7,898,1
	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,899,1
	PRINTI " about "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,900,1
	FSET GL-PRSO,FL-SEEN
	.DEBUG-LINE 7,901,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EXHALE"
	.FUNCT V-EXHALE
	.DEBUG-LINE 7,905,1
	EQUAL? GL-PRSO,TH-BREATH,ROOMS /?L1
	.DEBUG-LINE 7,906,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,907,1
	RTRUE
	.DEBUG-LINE 7,908,1
?L1:	FSET? TH-BREATH,FL-LOCKED /?L3
	.DEBUG-LINE 7,909,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,910,1
	ICALL2 RT-WOULD-HAVE-TO-MSG,STR?147
	.DEBUG-LINE 7,911,1
	RTRUE
	.DEBUG-LINE 7,913,1
?L3:	FCLEAR TH-BREATH,FL-LOCKED
	.DEBUG-LINE 7,914,1
	PRINTI "You begin to breathe normally."
	CRLF
	.DEBUG-LINE 7,915,1
	ICALL2 RT-ALARM-CLR,RT-I-EXHALE
	.DEBUG-LINE 7,916,1
	ICALL2 RT-ALARM-CLR,RT-I-INHALE
	.DEBUG-LINE 7,917,1
	ICALL1 RT-SMELL-ETHERIUM?
	.DEBUG-LINE 7,918,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-EXIT","VEH","L"
	.FUNCT V-EXIT,VEH,L
	.DEBUG-LINE 7,922,1
	CALL RT-FIND-IN?,GL-PLACE-CUR,FL-VEHICLE >VEH
	ZERO? VEH /?L7
	.DEBUG-LINE 7,923,1
	EQUAL? GL-PRSO,ROOMS,VEH \?L7
	.DEBUG-LINE 7,924,1
	EQUAL? GL-PRSO,ROOMS \?L5
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L5
	.DEBUG-LINE 7,926,1
	LOC GL-WINNER >STACK
	ICALL RT-PERFORM,V?EXIT,STACK
	.DEBUG-LINE 7,927,1
	RTRUE
	.DEBUG-LINE 7,928,1
?L5:	IN? GL-WINNER,VEH /?L6
	.DEBUG-LINE 7,929,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,930,1
	PRINTI "not in "
	ICALL2 RT-THEO-PRINT,VEH
	.DEBUG-LINE 7,931,1
	PRINTR "."
	.DEBUG-LINE 7,933,1
?L6:	ICALL RT-PERFORM,V?EXIT,VEH
	.DEBUG-LINE 7,934,1
	RTRUE
	.DEBUG-LINE 7,935,1
?L7:	LOC GL-PRSO >L
	.DEBUG-LINE 7,936,1
	EQUAL? GL-PRSO,ROOMS \?L9
	.DEBUG-LINE 7,937,1
	ICALL2 RT-DO-WALK,P?OUT
	.DEBUG-LINE 7,938,1
	RTRUE
	.DEBUG-LINE 7,939,1
?L9:	EQUAL? GL-PRSO,GL-PLACE-CUR \?L11
	.DEBUG-LINE 7,941,1
	PRINT K-SPECIFY-DIR-MSG
	.DEBUG-LINE 7,942,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,943,1
?L11:	EQUAL? L,ROOMS \?L12
	.DEBUG-LINE 7,945,1
	ICALL1 RT-NOT-IN-ROOM-MSG
	.DEBUG-LINE 7,946,1
	RTRUE
	.DEBUG-LINE 7,947,1
?L12:	FSET? L,FL-CONTAINER \?L13
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK /?L13
	.DEBUG-LINE 7,950,1
	PRINTI "[from "
	ICALL2 DPRINT,L
	PRINTI "]"
	CRLF
	.DEBUG-LINE 7,951,1
	ICALL RT-PERFORM,V?TAKE,GL-PRSO
	.DEBUG-LINE 7,952,1
	RTRUE
	.DEBUG-LINE 7,954,1
?L13:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,955,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FEED"
	.FUNCT V-FEED
	.DEBUG-LINE 7,959,1
	EQUAL? GL-PRSI,GL-WINNER \?L1
	.DEBUG-LINE 7,960,1
	ICALL1 RT-CYOU-MSG
	JUMP ?L3
	.DEBUG-LINE 7,962,1
?L1:	ICALL2 RT-CTHEO-PRINT,GL-PRSI
	PRINTI " "
	.DEBUG-LINE 7,963,1
?L3:	PRINTI "cannot eat "
	ICALL2 RT-THEO-PRINT,GL-PRSO
	.DEBUG-LINE 7,964,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FEED-SWP"
	.FUNCT V-FEED-SWP
	.DEBUG-LINE 7,968,1
	ICALL RT-PERFORM,V?FEED,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,969,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FILL"
	.FUNCT V-FILL
	.DEBUG-LINE 7,973,1
	ICALL RT-PERFORM,V?PUT,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,974,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FIND","L"
	.FUNCT V-FIND,L
	.DEBUG-LINE 7,978,1
	LOC GL-PRSO >L
	.DEBUG-LINE 7,979,1
	ZERO? L \?L1
	.DEBUG-LINE 7,980,1
	PRINT K-DO-IT-YOURSELF-MSG
	.DEBUG-LINE 7,981,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,982,1
?L1:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER,TH-HANDS /?L4
	EQUAL? GL-PRSO,TH-WATSONS-HEART,TH-FEET,TH-EARS /?L4
	EQUAL? GL-PRSO,TH-HEAD,TH-PLAYER-BODY,TH-BREATH /?L4
	EQUAL? GL-PRSO,TH-CLOTHES \?L3
	.DEBUG-LINE 7,985,1
	.DEBUG-LINE 7,986,1
?L4:	PRINTR "You're right here."
	.DEBUG-LINE 7,987,1
?L3:	IN? GL-PRSO,CH-PLAYER \?L5
	.DEBUG-LINE 7,988,1
	PRINTI "You're "
	.DEBUG-LINE 7,989,1
	FSET? GL-PRSO,FL-WORN \?L6
	.DEBUG-LINE 7,990,1
	PRINTI "wearing"
	JUMP ?L8
	.DEBUG-LINE 7,992,1
?L6:	PRINTI "holding"
	.DEBUG-LINE 7,993,1
?L8:	PRINTI " "
	.DEBUG-LINE 7,994,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,995,1
	.DEBUG-LINE 7,996,1
	PRINTR "."
	.DEBUG-LINE 7,997,1
?L5:	IN? GL-PRSO,GL-PLACE-CUR /?L10
	EQUAL? GL-PRSO,GL-PLACE-CUR /?L10
	IN? GL-PRSO,LOCAL-GLOBALS /?L11
	IN? GL-PRSO,ROOMS \?L9
?L11:	CALL RT-GLOBAL-IN?,GL-PRSO,GL-PLACE-CUR >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 7,1002,1
?L10:	ICALL1 RT-ITS-RIGHT-HERE-MSG
	.DEBUG-LINE 7,1003,1
	RTRUE
	.DEBUG-LINE 7,1004,1
?L9:	FSET? L,FL-PERSON /?L13
	FSET? L,FL-ALIVE \?L12
?L13:	CALL2 RT-VISIBLE?,L >STACK
	ZERO? STACK /?L12
	.DEBUG-LINE 7,1007,1
	ICALL2 RT-CTHEO-PRINT,L
	PRINTI " ha"
	.DEBUG-LINE 7,1008,1
	FSET? L,FL-PLURAL /?L14
	.DEBUG-LINE 7,1009,1
	PRINTI "s"
	JUMP ?L16
	.DEBUG-LINE 7,1011,1
?L14:	PRINTI "ve"
	.DEBUG-LINE 7,1012,1
	.DEBUG-LINE 7,1013,1
?L16:	PRINTR " it."
	.DEBUG-LINE 7,1014,1
?L12:	CALL2 RT-SEE-INSIDE?,L >STACK
	ZERO? STACK /?L17
	CALL2 RT-VISIBLE?,L >STACK
	ZERO? STACK /?L17
	.DEBUG-LINE 7,1016,1
	ICALL1 RT-SAY-ITS-MSG
	.DEBUG-LINE 7,1017,1
	ICALL RT-IN-ON-MSG,L,0
	.DEBUG-LINE 7,1018,1
	ICALL2 RT-THEO-PRINT,L
	.DEBUG-LINE 7,1019,1
	PRINTR "."
	.DEBUG-LINE 7,1021,1
?L17:	PRINT K-DO-IT-YOURSELF-MSG
	.DEBUG-LINE 7,1022,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FLIP"
	.FUNCT V-FLIP
	.DEBUG-LINE 7,1026,1
	FSET? GL-PRSO,FL-TAKEABLE /?L1
	FSET? GL-PRSO,FL-TRYTAKE /?L1
	.DEBUG-LINE 7,1028,1
	ICALL1 RT-IMPOSSIBLE-MSG
	RTRUE
	.DEBUG-LINE 7,1030,1
?L1:	ICALL2 RT-NO-POINT-MSG,STR?148
	.DEBUG-LINE 7,1031,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FLY"
	.FUNCT V-FLY
	.DEBUG-LINE 7,1035,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1036,1
	PRINTR "cannot possibly do that."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FOCUS-ON"
	.FUNCT V-FOCUS-ON
	.DEBUG-LINE 7,1040,1
	ZERO? GL-PRSI \?L1
	.DEBUG-LINE 7,1041,1
	EQUAL? GL-PRSO,TH-TELESCOPE \?L3
	.DEBUG-LINE 7,1042,1
	ICALL1 RT-IMPOSSIBLE-MSG
	RTRUE
	.DEBUG-LINE 7,1043,1
?L3:	IN? TH-TELESCOPE,CH-PLAYER \?L5
	.DEBUG-LINE 7,1044,1
	ICALL RT-PERFORM,V?LOOK-THRU,GL-PRSO,TH-TELESCOPE
	RTRUE
	.DEBUG-LINE 7,1046,1
?L5:	PRINT K-HOW-TO-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,1048,1
?L1:	EQUAL? GL-PRSO,TH-TELESCOPE \?L8
	.DEBUG-LINE 7,1049,1
	ICALL RT-PERFORM,V?LOOK-THRU,GL-PRSI,GL-PRSO
	RTRUE
	.DEBUG-LINE 7,1051,1
?L8:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1052,1
	PRINTI "cannot focus "
	ICALL1 RT-THEO-PRINT
	PRINTI " on "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1053,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FOLD"
	.FUNCT V-FOLD
	.DEBUG-LINE 7,1057,1
	ICALL2 RT-NO-POINT-MSG,STR?149
	.DEBUG-LINE 7,1058,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FOLLOW"
	.FUNCT V-FOLLOW
	.DEBUG-LINE 7,1062,1
	ZERO? GL-PRSO \?L1
	.DEBUG-LINE 7,1063,1
	ICALL1 RT-CANT-SEE-ANY-MSG
	.DEBUG-LINE 7,1064,1
	RETURN 2
	.DEBUG-LINE 7,1065,1
?L1:	CALL RT-META-IN?,GL-PRSO,GL-PLACE-CUR >STACK
	ZERO? STACK \?L3
	LOC GL-PRSO >STACK
	EQUAL? STACK,LOCAL-GLOBALS,GLOBAL-OBJECTS /?L3
	.DEBUG-LINE 7,1068,1
	ICALL2 RT-CANT-SEE-ANY-MSG,GL-PRSO
	.DEBUG-LINE 7,1069,1
	RETURN 2
	.DEBUG-LINE 7,1070,1
?L3:	PRINTI "But "
	.DEBUG-LINE 7,1071,1
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L5
	.DEBUG-LINE 7,1072,1
	.DEBUG-LINE 7,1073,1
	PRINTR "you're right here."
	.DEBUG-LINE 7,1075,1
?L5:	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1076,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 7,1077,1
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK \?L10
	IN? GL-PRSO,GLOBAL-OBJECTS \?L8
	.DEBUG-LINE 7,1079,1
?L10:	PRINTI "right here"
	JUMP ?L11
	.DEBUG-LINE 7,1081,1
?L8:	PRINTI "not visible at the moment"
	.DEBUG-LINE 7,1082,1
	.DEBUG-LINE 7,1083,1
?L11:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-FOO"
	.FUNCT V-FOO
	.DEBUG-LINE 7,1087,1
	EQUAL? GL-P-PRSA-WORD,W?RENT \?L1
	.DEBUG-LINE 7,1088,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,1089,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,1090,1
	PRINTR "for rent."
	.DEBUG-LINE 7,1091,1
?L1:	EQUAL? GL-PRSO,ROOMS \FALSE
	.DEBUG-LINE 7,1092,1
	PRINTR "Same to you, fella."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GET-FOR"
	.FUNCT V-GET-FOR
	.DEBUG-LINE 7,1096,1
	ICALL RT-PERFORM,V?TAKE,GL-PRSO
	.DEBUG-LINE 7,1097,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GET-FOR-SWP"
	.FUNCT V-GET-FOR-SWP
	.DEBUG-LINE 7,1101,1
	ICALL RT-PERFORM,V?TAKE,GL-PRSI
	.DEBUG-LINE 7,1102,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GIN","WHO"
	.FUNCT V-GIN,WHO
	.DEBUG-LINE 7,1106,1
	EQUAL? GL-PLACE-CUR,RM-BYWARD-TOWER \?L1
	.DEBUG-LINE 7,1107,1
	ICALL2 RT-CTHEO-PRINT,CH-TOWER-GUARD
	PRINTR " takes a quick look around and says, ""Thanks. Don't mind if I do,"" whereupon he whips out a hip flask and takes a quick slug. Just as quickly, he tucks it away and resumes staring at you."
	.DEBUG-LINE 7,1112,1
?L1:	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 7,1113,1
	EQUAL? WHO,CH-HOLMES \?L4
	.DEBUG-LINE 7,1114,1
	PRINTR "Holmes shakes his head and says, ""No drinks for you until we recover the Crown Jewels."""
	.DEBUG-LINE 7,1117,1
?L4:	EQUAL? WHO,CH-WIGGINS \?L6
	.DEBUG-LINE 7,1118,1
	PRINTR "Wiggins says, ""Good idea. I could use a belt."""
	.DEBUG-LINE 7,1121,1
	.DEBUG-LINE 7,1122,1
?L6:	PRINTR "Wrong game, dummy."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GIVE"
	.FUNCT V-GIVE
	.DEBUG-LINE 7,1126,1
	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,1127,1
	ICALL1 RT-NOBODY-TO-ASK-MSG
	RTRUE
	.DEBUG-LINE 7,1128,1
?L1:	EQUAL? GL-PRSI,CH-TOWER-GUARD,CH-PALACE-GUARD,CH-TUSSAUDS-GUARD \?L3
	FSET? GL-PRSO,FL-MONEY \?L3
	.DEBUG-LINE 7,1131,1
	ICALL1 RT-CTHEI-PRINT
	PRINTI " doesn't even glance at "
	ICALL1 RT-THEO-PRINT
	PRINTR ". Clearly he cannot be bribed."
	.DEBUG-LINE 7,1133,1
?L3:	FSET? GL-PRSI,FL-PERSON \?L4
	.DEBUG-LINE 7,1134,1
	ICALL1 RT-CTHEI-PRINT
	PRINTI " show"
	.DEBUG-LINE 7,1135,1
	ICALL2 RT-S-NOS-MSG,GL-PRSI
	.DEBUG-LINE 7,1136,1
	PRINTR " little interest in your offer."
	.DEBUG-LINE 7,1138,1
?L4:	ICALL RT-NOT-LIKELY-MSG,GL-PRSI,STR?150
	.DEBUG-LINE 7,1139,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GIVE-SWP"
	.FUNCT V-GIVE-SWP
	.DEBUG-LINE 7,1143,1
	ICALL RT-PERFORM,V?GIVE,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,1144,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GOODBYE"
	.FUNCT V-GOODBYE
	.DEBUG-LINE 7,1148,1
	CALL1 RT-HI-BYE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-GUESS","WHO"
	.FUNCT V-GUESS,WHO
	.DEBUG-LINE 7,1152,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 7,1153,1
	EQUAL? WHO,CH-WIGGINS \?L1
	.DEBUG-LINE 7,1154,1
	.DEBUG-LINE 7,1156,1
	PRINTR "Wiggins says, ""Mr 'Olmes doesn't like people guessing about things."""
	.DEBUG-LINE 7,1157,1
?L1:	EQUAL? GL-WINNER,CH-HOLMES \?L4
	.DEBUG-LINE 7,1158,1
	PRINTI "Holmes looks at you in shock and says, ""I never"
	JUMP ?L7
	.DEBUG-LINE 7,1159,1
?L4:	EQUAL? WHO,CH-HOLMES \?L6
	.DEBUG-LINE 7,1160,1
	PRINTI "Holmes shakes his head and says, ""Never"
	JUMP ?L7
	.DEBUG-LINE 7,1162,1
?L6:	PRINTI "Holmes's words come back to you, ""Never"
	.DEBUG-LINE 7,1163,1
	.DEBUG-LINE 7,1165,1
?L7:	PRINTR " guess, Watson. It is a shocking habit - destructive to the logical faculty."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HAGGLE"
	.FUNCT V-HAGGLE
	.DEBUG-LINE 7,1169,1
	FSET? GL-PRSO,FL-PERSON /?L1
	.DEBUG-LINE 7,1170,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1171,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " with "
	ICALL1 RT-A-PRINT
	PRINTR "."
	.DEBUG-LINE 7,1172,1
?L1:	EQUAL? GL-PRSO,CH-HOLMES \?L3
	.DEBUG-LINE 7,1173,1
	PRINTI "There is nothing to negotiate with "
	ICALL2 RT-THEO-PRINT,CH-HOLMES
	PRINTR " about."
	.DEBUG-LINE 7,1175,1
?L3:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L4
	.DEBUG-LINE 7,1176,1
	PRINTR "You have nothing to negotiate."
	.DEBUG-LINE 7,1178,1
?L4:	ICALL1 RT-CTHEO-PRINT
	PRINTI " refuse"
	.DEBUG-LINE 7,1179,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 7,1180,1
	.DEBUG-LINE 7,1181,1
	PRINTR " to negotiate."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HAUL"
	.FUNCT V-HAUL
	.DEBUG-LINE 7,1185,1
	.DEBUG-LINE 7,1186,1
	PRINTR "You're a doctor, not a sailor."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HEAT"
	.FUNCT V-HEAT
	.DEBUG-LINE 7,1190,1
	CALL2 RT-NO-POINT-MSG,STR?151 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HELLO"
	.FUNCT V-HELLO
	.DEBUG-LINE 7,1194,1
	CALL1 RT-HI-BYE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HIDE"
	.FUNCT V-HIDE
	.DEBUG-LINE 7,1203,1
	.DEBUG-LINE 7,1204,1
	PRINTR "You can run, but you cannot hide."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HIT"
	.FUNCT V-HIT
	.DEBUG-LINE 7,1208,1
	PRINTI "Attacking "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1209,1
	EQUAL? GL-PRSI,0,TH-HANDS /?L1
	.DEBUG-LINE 7,1211,1
	PRINTI " with "
	ICALL2 RT-A-PRINT,GL-PRSI
	.DEBUG-LINE 7,1212,1
?L1:	PRINT K-WONT-HELP-MSG
	.DEBUG-LINE 7,1213,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HOLD-OVER"
	.FUNCT V-HOLD-OVER
	.DEBUG-LINE 7,1217,1
	PRINTI "That would"
	.DEBUG-LINE 7,1218,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,1219,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HUSH"
	.FUNCT V-HUSH
	.DEBUG-LINE 7,1223,1
	.DEBUG-LINE 7,1224,1
	PRINTR "Silence is golden."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-INHALE"
	.FUNCT V-INHALE
	.DEBUG-LINE 7,1228,1
	EQUAL? GL-PRSO,TH-BREATH,ROOMS /?L1
	.DEBUG-LINE 7,1229,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,1230,1
	RTRUE
	.DEBUG-LINE 7,1231,1
?L1:	FSET? TH-BREATH,FL-LOCKED \?L3
	.DEBUG-LINE 7,1232,1
	EQUAL? GL-P-PRSA-WORD,W?BREATHE \?L4
	.DEBUG-LINE 7,1233,1
	ICALL1 V-EXHALE
	.DEBUG-LINE 7,1234,1
	RTRUE
	.DEBUG-LINE 7,1236,1
?L4:	PRINTI "You are already holding "
	ICALL2 RT-THEO-PRINT,TH-BREATH
	.DEBUG-LINE 7,1237,1
	PRINTR "."
	.DEBUG-LINE 7,1239,1
?L3:	PRINTI "You take a deep breath."
	.DEBUG-LINE 7,1240,1
	EQUAL? GL-PUPPY,CH-HOLMES \?L8
	.DEBUG-LINE 7,1241,1
	PRINTI " "
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINTI " notices your action and surreptitiously does likewise."
	.DEBUG-LINE 7,1243,1
?L8:	CRLF
	.DEBUG-LINE 7,1244,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,2,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-EXHALE,STACK
	.DEBUG-LINE 7,1245,1
	FSET TH-BREATH,FL-LOCKED
	.DEBUG-LINE 7,1246,1
	SET 'GL-CLOCK-WAIT,1
	.DEBUG-LINE 7,1247,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-KICK"
	.FUNCT V-KICK
	.DEBUG-LINE 7,1251,1
	ICALL2 RT-NO-POINT-MSG,STR?152
	.DEBUG-LINE 7,1252,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-KILL"
	.FUNCT V-KILL
	.DEBUG-LINE 7,1256,1
	.DEBUG-LINE 7,1257,1
	PRINTR "Calm down."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-KISS"
	.FUNCT V-KISS
	.DEBUG-LINE 7,1261,1
	PRINTR "You really can't wait for the Victorian Era to end, can you?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-KNOCK"
	.FUNCT V-KNOCK
	.DEBUG-LINE 7,1265,1
	FSET? GL-PRSO,FL-DOOR \?L1
	.DEBUG-LINE 7,1266,1
	FSET? GL-PRSO,FL-OPENED \?L3
	.DEBUG-LINE 7,1267,1
	ICALL2 RT-ITS-ALREADY-MSG,STR?108
	.DEBUG-LINE 7,1268,1
	RTRUE
	.DEBUG-LINE 7,1269,1
	.DEBUG-LINE 7,1270,1
?L3:	PRINTR "There's no answer."
	.DEBUG-LINE 7,1271,1
?L1:	FSET? GL-PRSO,FL-PERSON \?L6
	.DEBUG-LINE 7,1272,1
	ICALL RT-PERFORM,V?USE,GL-PRSO
	.DEBUG-LINE 7,1273,1
	RTRUE
	.DEBUG-LINE 7,1274,1
?L6:	PRINTI "That would"
	.DEBUG-LINE 7,1275,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,1276,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LEAP"
	.FUNCT V-LEAP
	.DEBUG-LINE 7,1280,1
	EQUAL? GL-PRSO,ROOMS /?L1
	.DEBUG-LINE 7,1281,1
	.DEBUG-LINE 7,1282,1
	PRINTR "No."
	.DEBUG-LINE 7,1284,1
?L1:	PRINTI "That would"
	.DEBUG-LINE 7,1285,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,1286,1
	.DEBUG-LINE 7,1287,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LIE-DOWN"
	.FUNCT V-LIE-DOWN
	.DEBUG-LINE 7,1291,1
	.DEBUG-LINE 7,1292,1
	PRINTR "With so much at stake, resting is out of the question."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LIGHT","OBJ","FIX-LAMP?"
	.FUNCT V-LIGHT,OBJ,FIX-LAMP?
	SET 'FIX-LAMP?,0
	.DEBUG-LINE 7,1295,1
	CALL RT-META-IN?,TH-LAMP,GL-WINNER >STACK
	ZERO? STACK /?L1
	FSET? TH-LAMP,FL-LIGHTED \?L1
	.DEBUG-LINE 7,1297,1
	SET 'FIX-LAMP?,1
	.DEBUG-LINE 7,1298,1
	FCLEAR TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,1299,1
?L1:	XCALL RT-GET-WHAT-I-MEAN,FL-LIGHTED,194,PR?WITH,1,1 >OBJ
	EQUAL? OBJ,0,TH-LAMP /?L4
	.DEBUG-LINE 7,1302,1
	ZERO? FIX-LAMP? /?L6
	.DEBUG-LINE 7,1302,1
	FSET TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,1303,1
?L6:	PRINTI "[with "
	ICALL2 RT-THEO-PRINT,OBJ
	PRINTI "]"
	CRLF
	.DEBUG-LINE 7,1304,1
	ICALL RT-PERFORM,V?LIGHT-WITH,GL-PRSO,OBJ
	.DEBUG-LINE 7,1305,1
	RTRUE
	.DEBUG-LINE 7,1307,1
?L4:	ZERO? FIX-LAMP? /?L10
	.DEBUG-LINE 7,1307,1
	FSET TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 7,1308,1
?L10:	PUT GL-P-ITBL,K-P-PREP2,PR?WITH
	.DEBUG-LINE 7,1309,1
	ICALL1 RT-SYNTAX-CHECK
	.DEBUG-LINE 7,1310,1
	SET 'GL-P-GOOD,0
	.DEBUG-LINE 7,1311,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LIGHT-WITH","OBJ"
	.FUNCT V-LIGHT-WITH,OBJ
	.DEBUG-LINE 7,1315,1
	EQUAL? GL-PRSI,TH-LAMP \?L1
	.DEBUG-LINE 7,1316,1
	EQUAL? GL-PRSI,GL-PRSO \?L3
	.DEBUG-LINE 7,1317,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,1318,1
	RTRUE
	.DEBUG-LINE 7,1319,1
?L3:	ICALL RT-PERFORM,V?SHINE-AT,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,1320,1
	RTRUE
	.DEBUG-LINE 7,1321,1
?L1:	ICALL1 V-BURN-WITH
	.DEBUG-LINE 7,1322,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LISTEN","OBJ"
	.FUNCT V-LISTEN,OBJ
	SET 'OBJ,0
	.DEBUG-LINE 7,1326,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1327,1
	FSET? GL-PLACE-CUR,RM-DIOGENES-CLUB \?L3
	.DEBUG-LINE 7,1328,1
	ICALL2 RT-CTHEO-PRINT,CH-MEMBERS
	PRINTI " are all asleep."
	CRLF
	JUMP ?L6
	.DEBUG-LINE 7,1329,1
?L3:	FSET? GL-PLACE-CUR,FL-INDOORS \?L5
	.DEBUG-LINE 7,1330,1
	PRINTI "From afar you"
	JUMP ?L6
	.DEBUG-LINE 7,1332,1
?L5:	PRINTI "You"
	.DEBUG-LINE 7,1333,1
?L6:	PRINTI " hear the sounds of the "
	.DEBUG-LINE 7,1334,1
	IN? CH-PLAYER,TH-BOAT \?L7
	.DEBUG-LINE 7,1335,1
	PRINTI "river "
	JUMP ?L9
	.DEBUG-LINE 7,1337,1
?L7:	PRINTI "city "
	.DEBUG-LINE 7,1338,1
?L9:	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L10
	.DEBUG-LINE 7,1339,1
	PRINTI "at night"
	JUMP ?L14
	.DEBUG-LINE 7,1340,1
?L10:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L12
	.DEBUG-LINE 7,1341,1
	PRINTI "waking up"
	JUMP ?L14
	.DEBUG-LINE 7,1342,1
?L12:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L13
	.DEBUG-LINE 7,1343,1
	PRINTI "going about its business"
	JUMP ?L14
	.DEBUG-LINE 7,1344,1
?L13:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L14
	.DEBUG-LINE 7,1345,1
	PRINTI "going to sleep"
	.DEBUG-LINE 7,1346,1
?L14:	PRINTR "."
	.DEBUG-LINE 7,1347,1
?L1:	EQUAL? GL-PRSI,0,TH-STETHOSCOPE,TH-EARS /?L16
	.DEBUG-LINE 7,1348,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1349,1
	PRINTI "cannot listen to anything with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 7,1350,1
?L16:	EQUAL? GL-PRSI,TH-STETHOSCOPE \?L17
	FSET? TH-STETHOSCOPE,FL-WORN /?L17
	.DEBUG-LINE 7,1352,1
	ICALL1 RT-CTHEI-PRINT
	PRINTI " is not in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 7,1353,1
?L17:	FSET? GL-PRSO,FL-ALIVE \?L18
	EQUAL? GL-PRSI,TH-STETHOSCOPE \?L18
	.DEBUG-LINE 7,1355,1
	EQUAL? GL-PRSO,CH-HOLMES \?L19
	FSET? CH-HOLMES,FL-ASLEEP \?L19
	.DEBUG-LINE 7,1357,1
	ICALL1 RT-THEO-PRINT
	PRINTR " is suffering from a mental, not physical, malaise."
	.DEBUG-LINE 7,1360,1
?L19:	PRINTI "You don't need to. Your experienced eye tells you there is nothing wrong with "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 7,1364,1
?L18:	PRINTI "At the moment, "
	.DEBUG-LINE 7,1365,1
	EQUAL? GL-PRSO,CH-PLAYER,CH-ME \?L23
	.DEBUG-LINE 7,1366,1
	PRINTI "you"
	JUMP ?L25
	.DEBUG-LINE 7,1368,1
?L23:	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1369,1
?L25:	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 7,1370,1
	PRINTI "silent."
	CRLF
	.DEBUG-LINE 7,1371,1
	SET 'GL-LISTEN-OBJ,GL-PRSO
	.DEBUG-LINE 7,1372,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOCK"
	.FUNCT V-LOCK
	.DEBUG-LINE 7,1376,1
	FSET? GL-PRSO,FL-OPENABLE /?L3
	FSET? GL-PRSO,FL-CONTAINER \?L1
	.DEBUG-LINE 7,1378,1
?L3:	FSET? GL-PRSO,FL-OPENED \?L4
	.DEBUG-LINE 7,1379,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?153,GL-PRSO
	.DEBUG-LINE 7,1380,1
	RTRUE
	.DEBUG-LINE 7,1381,1
?L4:	FSET? GL-PRSO,FL-LOCKED \?L6
	.DEBUG-LINE 7,1382,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,1383,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 7,1384,1
	.DEBUG-LINE 7,1385,1
	PRINTR "already locked."
	.DEBUG-LINE 7,1387,1
?L6:	ICALL RT-THING-WONT-LOCK-MSG,GL-PRSI,GL-PRSO
	RTRUE
	.DEBUG-LINE 7,1389,1
?L1:	ICALL1 RT-CANT-LOCK-MSG
	.DEBUG-LINE 7,1390,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK"
	.FUNCT V-LOOK
	.DEBUG-LINE 7,1399,1
	ICALL RT-DESC-ALL,0,1
	.DEBUG-LINE 7,1400,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-BEHIND"
	.FUNCT V-LOOK-BEHIND
	.DEBUG-LINE 7,1404,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1405,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1406,1
	RETURN 2
	.DEBUG-LINE 7,1407,1
?L1:	FSET? GL-PRSO,FL-DOOR \?L3
	.DEBUG-LINE 7,1408,1
	FSET? GL-PRSO,FL-OPENED \?L4
	.DEBUG-LINE 7,1409,1
	ICALL1 RT-CANT-SEE-MUCH-MSG
	RTRUE
	.DEBUG-LINE 7,1411,1
?L4:	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSO
	.DEBUG-LINE 7,1412,1
	RTRUE
	.DEBUG-LINE 7,1414,1
?L3:	PRINTI "There's nothing behind "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1415,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-DOWN","X"
	.FUNCT V-LOOK-DOWN,X
	SET 'X,0
	.DEBUG-LINE 7,1419,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1420,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1421,1
	RETURN 2
	.DEBUG-LINE 7,1422,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,1425,1
	EQUAL? GL-PLACE-CUR,RM-CLOCK-TOWER \?L4
	.DEBUG-LINE 7,1426,1
	ICALL RT-PERFORM,V?EXAMINE,TH-SHAFT
	RTRUE
	.DEBUG-LINE 7,1428,1
?L4:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1429,1
	.DEBUG-LINE 7,1430,1
	PRINTR " down there."
	.DEBUG-LINE 7,1432,1
?L3:	PRINTI "You cannot look down "
	ICALL1 RT-A-PRINT
	.DEBUG-LINE 7,1433,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-INSIDE","ODF"
	.FUNCT V-LOOK-INSIDE,ODF
	.DEBUG-LINE 7,1437,1
	ZERO? ODF /?L3
	.DEBUG-LINE 7,1438,1
	CALL1 ODF >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,1440,1
?L3:	ZERO? GL-NOW-LIT? \?L7
	.DEBUG-LINE 7,1441,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1442,1
	RETURN 2
	.DEBUG-LINE 7,1443,1
?L7:	FSET? GL-PRSO,FL-PERSON \?L9
	.DEBUG-LINE 7,1444,1
	ICALL2 RT-YOURE-NOT-A-MSG,STR?154
	.DEBUG-LINE 7,1445,1
	RTRUE
	.DEBUG-LINE 7,1446,1
?L9:	FSET? GL-PRSO,FL-ALIVE \?L10
	.DEBUG-LINE 7,1447,1
	ICALL2 RT-YOURE-NOT-A-MSG,STR?155
	.DEBUG-LINE 7,1448,1
	RTRUE
	.DEBUG-LINE 7,1449,1
?L10:	FSET? GL-PRSO,FL-CONTAINER \?L11
	.DEBUG-LINE 7,1450,1
	FSET? GL-PRSO,FL-OPENED /?L12
	FSET? GL-PRSO,FL-TRANSPARENT /?L12
	.DEBUG-LINE 7,1453,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?108,GL-PRSO
	.DEBUG-LINE 7,1454,1
	RTRUE
	.DEBUG-LINE 7,1456,1
?L12:	PRINTI "In "
	ICALL1 RT-THEO-PRINT
	PRINTI " you see "
	.DEBUG-LINE 7,1457,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,1458,1
	.DEBUG-LINE 7,1459,1
	PRINTR "."
	.DEBUG-LINE 7,1460,1
?L11:	FSET? GL-PRSO,FL-DOOR \?L15
	.DEBUG-LINE 7,1461,1
	FSET? GL-PRSO,FL-OPENED \?L16
	.DEBUG-LINE 7,1462,1
	ICALL1 RT-CANT-SEE-MUCH-MSG
	RTRUE
	.DEBUG-LINE 7,1464,1
?L16:	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSO
	.DEBUG-LINE 7,1465,1
	RTRUE
	.DEBUG-LINE 7,1467,1
?L15:	PRINTI "You cannot look inside "
	ICALL1 RT-A-PRINT
	.DEBUG-LINE 7,1468,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-ON"
	.FUNCT V-LOOK-ON
	.DEBUG-LINE 7,1472,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1473,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1474,1
	RETURN 2
	.DEBUG-LINE 7,1475,1
?L1:	FSET? GL-PRSO,FL-SURFACE \?L3
	.DEBUG-LINE 7,1476,1
	PRINTI "On "
	ICALL1 RT-THEO-PRINT
	PRINTI " you see "
	.DEBUG-LINE 7,1477,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,1478,1
	.DEBUG-LINE 7,1479,1
	PRINTR "."
	.DEBUG-LINE 7,1480,1
?L3:	FSET? GL-PRSO,FL-READABLE \?L4
	.DEBUG-LINE 7,1481,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,1482,1
	PRINTR " has something written on it."
	.DEBUG-LINE 7,1484,1
?L4:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1485,1
	PRINTI " on "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1486,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-OUTSIDE"
	.FUNCT V-LOOK-OUTSIDE
	.DEBUG-LINE 7,1490,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1491,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1492,1
	RETURN 2
	.DEBUG-LINE 7,1493,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,1494,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L4
	.DEBUG-LINE 7,1495,1
	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1496,1
	PRINTR " outside."
	.DEBUG-LINE 7,1498,1
	.DEBUG-LINE 7,1499,1
?L4:	PRINTR "You are outside."
	.DEBUG-LINE 7,1500,1
?L3:	FSET? GL-PRSO,FL-DOOR \?L7
	.DEBUG-LINE 7,1501,1
	FSET? GL-PRSO,FL-OPENED \?L8
	.DEBUG-LINE 7,1502,1
	ICALL1 RT-CANT-SEE-MUCH-MSG
	RTRUE
	.DEBUG-LINE 7,1504,1
?L8:	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSO
	.DEBUG-LINE 7,1505,1
	RTRUE
	.DEBUG-LINE 7,1507,1
?L7:	PRINTI "You cannot look out of "
	ICALL1 RT-A-PRINT
	.DEBUG-LINE 7,1508,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-THRU"
	.FUNCT V-LOOK-THRU
	.DEBUG-LINE 7,1512,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1513,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1514,1
	RETURN 2
	.DEBUG-LINE 7,1515,1
?L1:	EQUAL? GL-P-PRSA-WORD,W?EXAMINE,W?X \?L3
	EQUAL? GL-PRSI,TH-STETHOSCOPE \?L3
	FSET? GL-PRSO,FL-PERSON \?L3
	.DEBUG-LINE 7,1518,1
	CALL RT-PERFORM,V?LISTEN,GL-PRSO,GL-PRSI >STACK
	RSTACK
	.DEBUG-LINE 7,1519,1
?L3:	ZERO? GL-PRSI /?L5
	FSET? GL-PRSI,FL-TRANSPARENT /?L4
	.DEBUG-LINE 7,1521,1
	PRINTI "You can't look through "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1522,1
	PRINTR "."
	.DEBUG-LINE 7,1523,1
?L4:	ZERO? GL-PRSI /?L5
	FSET? GL-PRSI,FL-TRANSPARENT \?L5
	.DEBUG-LINE 7,1525,1
	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1526,1
	PRINTI " through "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1527,1
	PRINTR "."
	.DEBUG-LINE 7,1529,1
?L5:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1530,1
	.DEBUG-LINE 7,1531,1
	PRINTR "at all."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-THRU-SWP"
	.FUNCT V-LOOK-THRU-SWP
	.DEBUG-LINE 7,1535,1
	CALL RT-PERFORM,V?LOOK-THRU,GL-PRSI,GL-PRSO >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-UNDER"
	.FUNCT V-LOOK-UNDER
	.DEBUG-LINE 7,1539,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1540,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1541,1
	RETURN 2
	.DEBUG-LINE 7,1542,1
?L1:	IN? GL-PRSO,CH-PLAYER \?L3
	.DEBUG-LINE 7,1543,1
	PRINTI "You are already "
	.DEBUG-LINE 7,1544,1
	FSET? GL-PRSO,FL-WORN \?L4
	.DEBUG-LINE 7,1545,1
	PRINTI "wearing"
	JUMP ?L6
	.DEBUG-LINE 7,1547,1
?L4:	PRINTI "holding"
	.DEBUG-LINE 7,1548,1
	.DEBUG-LINE 7,1549,1
?L6:	PRINTR " that."
	.DEBUG-LINE 7,1551,1
?L3:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1552,1
	PRINTI " under "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1553,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOK-UP","X"
	.FUNCT V-LOOK-UP,X
	SET 'X,0
	.DEBUG-LINE 7,1557,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,1558,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,1559,1
	RETURN 2
	.DEBUG-LINE 7,1560,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,1561,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L4
	.DEBUG-LINE 7,1562,1
	PUTP TH-FLOOR-ETC,P?OBJ-NOUN,W?CEILING
	.DEBUG-LINE 7,1563,1
	ICALL RT-PERFORM,V?EXAMINE,TH-FLOOR-ETC
	.DEBUG-LINE 7,1564,1
	RTRUE
	.DEBUG-LINE 7,1565,1
?L4:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,1566,1
	.DEBUG-LINE 7,1567,1
	PRINTR " up there."
	.DEBUG-LINE 7,1569,1
?L3:	PRINTI "You cannot look up "
	ICALL1 RT-A-PRINT
	.DEBUG-LINE 7,1570,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOOSEN"
	.FUNCT V-LOOSEN
	.DEBUG-LINE 7,1574,1
	PRINTI "That would"
	.DEBUG-LINE 7,1575,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,1576,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LOWER"
	.FUNCT V-LOWER
	.DEBUG-LINE 7,1580,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1581,1
	ICALL2 RT-DO-WALK,P?DOWN
	.DEBUG-LINE 7,1582,1
	RTRUE
	.DEBUG-LINE 7,1584,1
?L1:	ICALL1 V-RAISE
	.DEBUG-LINE 7,1585,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LAND"
	.FUNCT V-LAND
	.DEBUG-LINE 7,1589,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1590,1
	IN? CH-PLAYER,TH-BOAT \?L3
	.DEBUG-LINE 7,1591,1
	ICALL1 RT-LAND-BOAT
	RTRUE
	.DEBUG-LINE 7,1593,1
	.DEBUG-LINE 7,1595,1
?L3:	PRINTR "Very good. Next week, we'll learn the word for water."
	.DEBUG-LINE 7,1596,1
?L1:	EQUAL? GL-PRSO,TH-BOAT \?L6
	.DEBUG-LINE 7,1597,1
	IN? CH-PLAYER,TH-BOAT \?L7
	.DEBUG-LINE 7,1598,1
	ICALL1 RT-LAND-BOAT
	RTRUE
	.DEBUG-LINE 7,1600,1
?L7:	PRINT K-MUST-BE-IN-BOAT-MSG
	PRINTR "land it."
	.DEBUG-LINE 7,1602,1
?L6:	PRINTI "You can't land "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1603,1
	PRINTR "!"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LAND-BOAT"
	.FUNCT RT-LAND-BOAT
	.DEBUG-LINE 7,1606,1
	IN? TH-BOAT,RM-THE-EMBANKMENT \?L1
	.DEBUG-LINE 7,1607,1
	PRINTR "The boat is already on the Embankment."
	.DEBUG-LINE 7,1608,1
?L1:	IN? TH-BOAT,RM-OUTSIDE-TRAITORS-GATE \?L3
	.DEBUG-LINE 7,1609,1
	PRINTR "The boat is already at Traitors Gate."
	.DEBUG-LINE 7,1610,1
?L3:	IN? TH-ANCHOR,TH-BOAT /?L4
	.DEBUG-LINE 7,1611,1
	PRINTR "You can't land the boat. The anchor seems to be doing its job."
	.DEBUG-LINE 7,1613,1
?L4:	IN? TH-BOAT,RM-THAMES-ONE \?L5
	.DEBUG-LINE 7,1614,1
	ICALL SOUNDS,S-BOATING,S-STOP
	.DEBUG-LINE 7,1615,1
	PRINTI "You land the boat on the Embankment."
	CRLF
	.DEBUG-LINE 7,1616,1
	MOVE TH-BOAT,RM-THE-EMBANKMENT
	.DEBUG-LINE 7,1617,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	RTRUE
	.DEBUG-LINE 7,1618,1
?L5:	IN? TH-BOAT,RM-THAMES-FOUR \?L6
	.DEBUG-LINE 7,1619,1
	ICALL SOUNDS,S-BOATING,S-STOP
	.DEBUG-LINE 7,1620,1
	PRINTI "You land the boat outside Traitors Gate."
	CRLF
	.DEBUG-LINE 7,1621,1
	MOVE TH-BOAT,RM-OUTSIDE-TRAITORS-GATE
	.DEBUG-LINE 7,1622,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	RTRUE
	.DEBUG-LINE 7,1624,1
?L6:	PRINTI "There doesn't seem to be any place to land the boat."
	CRLF
	.DEBUG-LINE 7,1626,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 7,1627,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LAMP-OFF"
	.FUNCT V-LAMP-OFF
	.DEBUG-LINE 7,1631,1
	ICALL2 V-LAMP-ON,1
	.DEBUG-LINE 7,1632,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LAMP-ON","OFF?"
	.FUNCT V-LAMP-ON,OFF?
	ASSIGNED? 'OFF? /?L12
	SET 'OFF?,0
	.DEBUG-LINE 7,1636,1
?L12:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1637,1
	PRINTI "couldn't "
	.DEBUG-LINE 7,1638,1
	EQUAL? GL-P-PRSA-WORD,W?EXTINGUISH \?L1
	.DEBUG-LINE 7,1639,1
	PRINTI "extinguish"
	JUMP ?L3
	.DEBUG-LINE 7,1641,1
?L1:	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,1642,1
?L3:	PRINTI " that"
	.DEBUG-LINE 7,1643,1
	ZERO? OFF? /?L13
	EQUAL? GL-P-PRSA-WORD,W?CLOSE,W?SHUT,W?TURN \?L4
	.DEBUG-LINE 7,1645,1
	PRINTI " off"
	JUMP ?L7
	.DEBUG-LINE 7,1646,1
?L4:	ZERO? OFF? /?L13
	EQUAL? GL-P-PRSA-WORD,W?BLOW,W?PUT \?L6
	.DEBUG-LINE 7,1648,1
	PRINTI " out"
	JUMP ?L7
	.DEBUG-LINE 7,1649,1
?L6:	ZERO? OFF? \?L7
?L13:	EQUAL? GL-P-PRSA-WORD,W?TURN \?L7
	.DEBUG-LINE 7,1651,1
	PRINTI " on"
	.DEBUG-LINE 7,1652,1
?L7:	EQUAL? GL-PRSI,0,TH-HANDS /?L9
	.DEBUG-LINE 7,1653,1
	PRINTI ", "
	ICALL2 DPRINT,GL-PRSI
	PRINTI " or no "
	ICALL2 DPRINT,GL-PRSI
	.DEBUG-LINE 7,1654,1
	.DEBUG-LINE 7,1655,1
?L9:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-LAUNCH"
	.FUNCT V-LAUNCH
	.DEBUG-LINE 7,1659,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1660,1
	IN? CH-PLAYER,TH-BOAT /?L5
	LOC TH-BOAT >STACK
	LOC CH-PLAYER >STACK
	EQUAL? STACK,STACK \?L3
	.DEBUG-LINE 7,1662,1
?L5:	ICALL1 RT-LAUNCH-BOAT
	RTRUE
	.DEBUG-LINE 7,1664,1
	.DEBUG-LINE 7,1666,1
?L3:	PRINTR "That usually works better when one is in a boat."
	.DEBUG-LINE 7,1667,1
?L1:	EQUAL? GL-PRSO,TH-BOAT \?L7
	.DEBUG-LINE 7,1668,1
	ICALL1 RT-LAUNCH-BOAT
	RTRUE
	.DEBUG-LINE 7,1670,1
?L7:	PRINTI "You can't launch "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1672,1
	PRINTR ". Perhaps you meant to throw it?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LAUNCH-BOAT"
	.FUNCT RT-LAUNCH-BOAT
	.DEBUG-LINE 7,1675,1
	IN? TH-ANCHOR,TH-BOAT /?L1
	.DEBUG-LINE 7,1676,1
	ICALL2 RT-THIS-IS-IT,TH-ANCHOR
	.DEBUG-LINE 7,1677,1
	PRINTR "The anchor is restraining the boat."
	.DEBUG-LINE 7,1678,1
?L1:	IN? CH-PLAYER,TH-BOAT /?L3
	.DEBUG-LINE 7,1679,1
	PRINTI "You push the boat into the Thames, and then watch as it slowly floats away. Too bad you weren't in it."
	CRLF
	.DEBUG-LINE 7,1682,1
	REMOVE TH-BOAT
	RTRUE
	.DEBUG-LINE 7,1683,1
?L3:	IN? TH-BOAT,RM-THE-EMBANKMENT \?L4
	.DEBUG-LINE 7,1684,1
	PRINTI "The boat slips away from the Embankment. You are now in the middle of the Thames."
	CRLF
	.DEBUG-LINE 7,1687,1
	ICALL SOUNDS,S-BOATING,S-START
	.DEBUG-LINE 7,1688,1
	MOVE TH-BOAT,RM-THAMES-ONE
	RTRUE
	.DEBUG-LINE 7,1689,1
?L4:	IN? TH-BOAT,RM-OUTSIDE-TRAITORS-GATE \?L5
	.DEBUG-LINE 7,1690,1
	PRINTI "The boat slips out into the river."
	CRLF
	.DEBUG-LINE 7,1691,1
	ICALL SOUNDS,S-BOATING,S-START
	.DEBUG-LINE 7,1692,1
	MOVE TH-BOAT,RM-THAMES-FOUR
	RTRUE
	.DEBUG-LINE 7,1694,1
	.DEBUG-LINE 7,1696,1
?L5:	PRINTR "You are already on the Thames. You don't need to launch the boat again."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-MAKE"
	.FUNCT V-MAKE
	.DEBUG-LINE 7,1700,1
	EQUAL? GL-PRSO,TH-RUBBINGS \?L1
	.DEBUG-LINE 7,1701,1
	PRINTI "[To make a rubbing, put a blank piece of paper on a tomb, and then rub the paper with the crayon.]"
	CRLF
	.DEBUG-LINE 7,1704,1
	RETURN 2
	.DEBUG-LINE 7,1706,1
?L1:	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,1707,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ECHO"
	.FUNCT V-ECHO
	.DEBUG-LINE 7,1711,1
	EQUAL? GL-P-PRSA-WORD,W?MARX \?L1
	.DEBUG-LINE 7,1712,1
	PRINTR "Cocoanuts."
	.DEBUG-LINE 7,1713,1
?L1:	EQUAL? GL-P-PRSA-WORD,W?CHICO \?L3
	.DEBUG-LINE 7,1714,1
	PRINTR """Wattsa matta you? You needa de password? I sell it you."""
	.DEBUG-LINE 7,1716,1
?L3:	EQUAL? GL-P-PRSA-WORD,W?GROUCHO \?L4
	.DEBUG-LINE 7,1717,1
	PRINTR """Say the secret woid, and the guy will let you in."""
	.DEBUG-LINE 7,1719,1
?L4:	EQUAL? GL-P-PRSA-WORD,W?GUMMO \?L5
	.DEBUG-LINE 7,1720,1
	PRINTR "This isn't a trivia game. Get back to work."
	.DEBUG-LINE 7,1721,1
?L5:	EQUAL? GL-P-PRSA-WORD,W?HARPO \?L6
	.DEBUG-LINE 7,1722,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,1723,1
?L6:	EQUAL? GL-P-PRSA-WORD,W?ZEPPO \?L7
	.DEBUG-LINE 7,1724,1
	PRINTR "Did you really think saying ""Zeppo"" was going to get you anywhere?"
	.DEBUG-LINE 7,1726,1
?L7:	EQUAL? GL-P-PRSA-WORD,W?PUNT \?L8
	.DEBUG-LINE 7,1727,1
	PRINTR "But it's not even fourth down!"
	.DEBUG-LINE 7,1729,1
?L8:	EQUAL? GL-P-PRSA-WORD,W?HUM,W?WHISTLE,W?SING \?L9
	.DEBUG-LINE 7,1730,1
	PRINTI "You "
	PRINTB GL-P-PRSA-WORD
	PRINTR " tunelessly for a few moments until you remember that you're tone deaf and know next to nothing about music."
	.DEBUG-LINE 7,1733,1
?L9:	EQUAL? GL-P-PRSA-WORD,W?ECHO \FALSE
	.DEBUG-LINE 7,1734,1
	PRINTR "ECHO...Echo...echo...."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-MELT"
	.FUNCT V-MELT
	.DEBUG-LINE 7,1738,1
	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,1739,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-MOVE"
	.FUNCT V-MOVE
	.DEBUG-LINE 7,1743,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1744,1
	ICALL1 V-WALK-AROUND
	.DEBUG-LINE 7,1745,1
	RTRUE
	.DEBUG-LINE 7,1746,1
?L1:	FSET? GL-PRSO,FL-TAKEABLE \?L3
	.DEBUG-LINE 7,1747,1
	PRINTI "Moving "
	ICALL1 RT-THEO-PRINT
	PRINTI " would"
	CALL2 RT-PICK-NEXT,GL-NO-POINT-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,1748,1
	PRINTR "."
	.DEBUG-LINE 7,1750,1
?L3:	PRINTI "You cannot possibly move "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1751,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-MUNG"
	.FUNCT V-MUNG
	.DEBUG-LINE 7,1755,1
	ICALL2 RT-NO-POINT-MSG,STR?156
	.DEBUG-LINE 7,1756,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-OPEN"
	.FUNCT V-OPEN
	.DEBUG-LINE 7,1760,1
	FSET? GL-PRSO,FL-OPENABLE /?L1
	.DEBUG-LINE 7,1761,1
	ICALL1 RT-CANT-OPEN-PRSO-MSG
	.DEBUG-LINE 7,1762,1
	RTRUE
	.DEBUG-LINE 7,1763,1
?L1:	FSET? GL-PRSO,FL-OPENED \?L3
	.DEBUG-LINE 7,1764,1
	ICALL2 RT-ITS-ALREADY-MSG,STR?108
	.DEBUG-LINE 7,1765,1
	RTRUE
	.DEBUG-LINE 7,1766,1
?L3:	FSET? GL-PRSO,FL-LOCKED \?L4
	.DEBUG-LINE 7,1767,1
	ICALL1 RT-OBJECT-IS-LOCKED-MSG
	.DEBUG-LINE 7,1768,1
	RTRUE
	.DEBUG-LINE 7,1770,1
?L4:	ICALL1 RT-YOU-OPEN-MSG
	.DEBUG-LINE 7,1771,1
	FSET? GL-PRSO,FL-CONTAINER \TRUE
	.DEBUG-LINE 7,1772,1
	ZERO? GL-NOW-LIT? \?L8
	.DEBUG-LINE 7,1773,1
	PRINTR "It is too dark to see inside."
	.DEBUG-LINE 7,1775,1
?L8:	PRINTI "Inside you see "
	.DEBUG-LINE 7,1776,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,1777,1
	.DEBUG-LINE 7,1778,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-OPEN-WITH"
	.FUNCT V-OPEN-WITH
	.DEBUG-LINE 7,1782,1
	FSET? GL-PRSO,FL-OPENABLE /?L1
	.DEBUG-LINE 7,1783,1
	ICALL1 RT-CANT-OPEN-PRSO-MSG
	.DEBUG-LINE 7,1784,1
	RTRUE
	.DEBUG-LINE 7,1785,1
?L1:	FSET? GL-PRSO,FL-OPENED \?L3
	.DEBUG-LINE 7,1786,1
	ICALL2 RT-ITS-ALREADY-MSG,STR?108
	.DEBUG-LINE 7,1787,1
	RTRUE
	.DEBUG-LINE 7,1788,1
?L3:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1789,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1790,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PADDLE"
	.FUNCT V-PADDLE
	.DEBUG-LINE 7,1794,1
	IN? GL-WINNER,TH-BOAT \?L1
	.DEBUG-LINE 7,1795,1
	EQUAL? GL-PRSO,TH-BOAT,TH-INTDIR \?L3
	.DEBUG-LINE 7,1796,1
	PRINT K-BETTER-SUCCESS-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,1798,1
?L3:	CALL1 V-HIT >STACK
	RSTACK
	.DEBUG-LINE 7,1799,1
?L1:	EQUAL? GL-PRSO,TH-INTDIR \?L6
	.DEBUG-LINE 7,1800,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,1801,1
	PRINTR "not in a boat."
	.DEBUG-LINE 7,1803,1
?L6:	CALL1 V-HIT >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PADDLE-WITH"
	.FUNCT V-PADDLE-WITH
	.DEBUG-LINE 7,1807,1
	EQUAL? GL-PRSI,TH-VIOLIN \?L1
	.DEBUG-LINE 7,1808,1
	PRINTR "How could you even THINK of using such a beautiful instrument in such a manner?"
	.DEBUG-LINE 7,1811,1
?L1:	IN? GL-WINNER,TH-BOAT \?L3
	.DEBUG-LINE 7,1812,1
	EQUAL? GL-PRSO,TH-INTDIR \?L4
	.DEBUG-LINE 7,1813,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,1814,1
	PRINTR "not in a boat."
	.DEBUG-LINE 7,1816,1
?L4:	PRINT K-BETTER-SUCCESS-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,1817,1
?L3:	EQUAL? GL-PRSO,TH-INTDIR \?L7
	.DEBUG-LINE 7,1818,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1819,1
	PRINTI "can't paddle anywhere with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 7,1821,1
?L7:	CALL1 V-HIT >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PASSWORD","WRD"
	.FUNCT V-PASSWORD,WRD
	.DEBUG-LINE 7,1825,1
	GET GL-P-NAMW,0 >WRD
	.DEBUG-LINE 7,1826,1
	EQUAL? WRD,W?SWORDFISH \?L1
	.DEBUG-LINE 7,1827,1
	CALL2 RT-PERFORM,V?SWORDFISH >STACK
	RSTACK
	.DEBUG-LINE 7,1828,1
?L1:	EQUAL? WRD,W?PARR \?L3
	.DEBUG-LINE 7,1829,1
	CALL2 RT-PERFORM,V?PARR >STACK
	RSTACK
	.DEBUG-LINE 7,1830,1
?L3:	EQUAL? WRD,W?CLEVES \?L4
	.DEBUG-LINE 7,1831,1
	CALL2 RT-PERFORM,V?CLEVES >STACK
	RSTACK
	.DEBUG-LINE 7,1832,1
?L4:	EQUAL? WRD,W?ARAGON \?L5
	.DEBUG-LINE 7,1833,1
	CALL2 RT-PERFORM,V?ARAGON >STACK
	RSTACK
	.DEBUG-LINE 7,1834,1
?L5:	EQUAL? WRD,W?HOWARD \?L6
	.DEBUG-LINE 7,1835,1
	CALL2 RT-PERFORM,V?HOWARD >STACK
	RSTACK
	.DEBUG-LINE 7,1836,1
?L6:	EQUAL? WRD,W?SEYMOUR \?L7
	.DEBUG-LINE 7,1837,1
	CALL2 RT-PERFORM,V?SEYMOUR >STACK
	RSTACK
	.DEBUG-LINE 7,1838,1
?L7:	EQUAL? WRD,W?BOLEYN \?L8
	.DEBUG-LINE 7,1839,1
	CALL2 RT-PERFORM,V?BOLEYN >STACK
	RSTACK
	.DEBUG-LINE 7,1840,1
?L8:	EQUAL? WRD,W?GIN \?L9
	.DEBUG-LINE 7,1841,1
	CALL2 RT-PERFORM,V?GIN >STACK
	RSTACK
	.DEBUG-LINE 7,1843,1
?L9:	PRINTR """No, it isn't."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PAY"
	.FUNCT V-PAY
	.DEBUG-LINE 7,1847,1
	ICALL RT-PERFORM,V?GIVE,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,1848,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PICK"
	.FUNCT V-PICK
	.DEBUG-LINE 7,1852,1
	FSET? GL-PRSO,FL-OPENABLE \?L1
	.DEBUG-LINE 7,1853,1
	ICALL2 RT-YOURE-NOT-A-MSG,STR?157
	RTRUE
	.DEBUG-LINE 7,1855,1
?L1:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,1856,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PLAY"
	.FUNCT V-PLAY
	.DEBUG-LINE 7,1860,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,1861,1
	PRINTI "That would"
	.DEBUG-LINE 7,1862,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	RTRUE
	.DEBUG-LINE 7,1864,1
?L1:	ICALL2 RT-NO-POINT-MSG,STR?158
	.DEBUG-LINE 7,1865,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PLUG"
	.FUNCT V-PLUG
	.DEBUG-LINE 7,1869,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1870,1
	PRINTI "cannot "
	.DEBUG-LINE 7,1871,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,1872,1
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " into "
	.DEBUG-LINE 7,1873,1
	ZERO? GL-PRSI /?L1
	.DEBUG-LINE 7,1874,1
	ICALL1 RT-THEI-PRINT
	JUMP ?L3
	.DEBUG-LINE 7,1876,1
?L1:	PRINTI "anything"
	.DEBUG-LINE 7,1877,1
	.DEBUG-LINE 7,1878,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POCKET"
	.FUNCT V-POCKET
	.DEBUG-LINE 7,1882,1
	ICALL RT-PERFORM,V?PUT,GL-PRSO,TH-POCKET
	.DEBUG-LINE 7,1883,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POINT"
	.FUNCT V-POINT
	.DEBUG-LINE 7,1887,1
	ICALL2 RT-NO-POINT-MSG,STR?159
	.DEBUG-LINE 7,1888,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POINT-AT"
	.FUNCT V-POINT-AT
	.DEBUG-LINE 7,1892,1
	ICALL2 RT-NO-POINT-MSG,STR?160
	.DEBUG-LINE 7,1893,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POINT-AT-SWP"
	.FUNCT V-POINT-AT-SWP
	.DEBUG-LINE 7,1897,1
	ICALL2 RT-NO-POINT-MSG,STR?160
	.DEBUG-LINE 7,1898,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POUR"
	.FUNCT V-POUR
	.DEBUG-LINE 7,1902,1
	EQUAL? GL-PRSO,TH-HANDS \?L1
	.DEBUG-LINE 7,1903,1
	PRINTI "[To do that, just DROP EVERYTHING.]"
	CRLF
	.DEBUG-LINE 7,1904,1
	RETURN 2
	.DEBUG-LINE 7,1905,1
?L1:	EQUAL? GL-PRSO,TH-POCKET \?L3
	.DEBUG-LINE 7,1906,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?161,TH-CLOTHES
	.DEBUG-LINE 7,1907,1
	RTRUE
	.DEBUG-LINE 7,1908,1
?L3:	FSET? GL-PRSO,FL-SURFACE \?L4
	.DEBUG-LINE 7,1909,1
	ICALL2 RT-EMPTY-PRSO-MSG,0
	.DEBUG-LINE 7,1910,1
	RTRUE
	.DEBUG-LINE 7,1911,1
?L4:	FSET? GL-PRSO,FL-CONTAINER \?L5
	.DEBUG-LINE 7,1912,1
	FSET? GL-PRSO,FL-OPENED \?L6
	.DEBUG-LINE 7,1913,1
	ICALL2 RT-EMPTY-PRSO-MSG,0
	.DEBUG-LINE 7,1914,1
	RTRUE
	.DEBUG-LINE 7,1915,1
?L6:	ICALL1 RT-ITS-CLOSED-MSG
	.DEBUG-LINE 7,1916,1
	RTRUE
	.DEBUG-LINE 7,1918,1
?L5:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1919,1
	PRINTI "cannot empty "
	.DEBUG-LINE 7,1920,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,1921,1
	.DEBUG-LINE 7,1922,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-POUR-FROM"
	.FUNCT V-POUR-FROM
	.DEBUG-LINE 7,1926,1
	EQUAL? GL-PRSI,TH-HANDS \?L1
	.DEBUG-LINE 7,1927,1
	ICALL RT-PERFORM,V?DROP,GL-PRSO
	.DEBUG-LINE 7,1928,1
	RTRUE
	.DEBUG-LINE 7,1929,1
?L1:	EQUAL? GL-PRSI,TH-POCKET \?L3
	.DEBUG-LINE 7,1930,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?161,TH-CLOTHES
	.DEBUG-LINE 7,1931,1
	RTRUE
	.DEBUG-LINE 7,1932,1
?L3:	FSET? GL-PRSI,FL-CONTAINER /?L11
	FSET? GL-PRSI,FL-SURFACE /?L4
	.DEBUG-LINE 7,1934,1
	PRINTI "You cannot"
	.DEBUG-LINE 7,1935,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,1936,1
	PRINTI " things from "
	ICALL2 RT-A-PRINT,GL-PRSI
	.DEBUG-LINE 7,1937,1
	PRINTR "."
	.DEBUG-LINE 7,1938,1
?L4:	FSET? GL-PRSI,FL-CONTAINER \?L5
?L11:	FSET? GL-PRSI,FL-OPENED /?L5
	.DEBUG-LINE 7,1940,1
	ICALL2 RT-ITS-CLOSED-MSG,GL-PRSI
	.DEBUG-LINE 7,1941,1
	RTRUE
	.DEBUG-LINE 7,1942,1
?L5:	IN? GL-PRSO,GL-PRSI \?L6
	.DEBUG-LINE 7,1943,1
	FSET? GL-PRSO,FL-TAKEABLE \?L7
	.DEBUG-LINE 7,1944,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " "
	.DEBUG-LINE 7,1945,1
	ICALL1 RT-LANDS-AT-YOUR-FEET-MSG
	.DEBUG-LINE 7,1946,1
	RTRUE
	.DEBUG-LINE 7,1947,1
?L7:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,1948,1
	RTRUE
	.DEBUG-LINE 7,1950,1
?L6:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,1951,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 7,1952,1
	PRINTI "in "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1953,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PRAY"
	.FUNCT V-PRAY
	.DEBUG-LINE 7,1957,1
	.DEBUG-LINE 7,1958,1
	PRINTR "Good idea. You could use the help."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PULL"
	.FUNCT V-PULL
	.DEBUG-LINE 7,1962,1
	ICALL2 RT-NO-POINT-MSG,STR?162
	.DEBUG-LINE 7,1963,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUSH"
	.FUNCT V-PUSH
	.DEBUG-LINE 7,1967,1
	ICALL2 RT-NO-POINT-MSG,STR?163
	.DEBUG-LINE 7,1968,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUSH-TO"
	.FUNCT V-PUSH-TO
	.DEBUG-LINE 7,1972,1
	EQUAL? GL-PRSO,TH-HANDS \?L1
	ZERO? GL-PRSI /?L1
	.DEBUG-LINE 7,1974,1
	ICALL RT-PERFORM,V?REACH-IN,GL-PRSI
	.DEBUG-LINE 7,1975,1
	RTRUE
	.DEBUG-LINE 7,1976,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,1977,1
	PRINTI "cannot push "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1978,1
	PRINTR " around like that."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUT","L","WRD"
	.FUNCT V-PUT,L,WRD
	.DEBUG-LINE 7,1982,1
	LOC GL-PRSO >L
	.DEBUG-LINE 7,1983,1
	EQUAL? L,GLOBAL-OBJECTS \?L1
	.DEBUG-LINE 7,1984,1
	PRINTI "That would"
	.DEBUG-LINE 7,1985,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,1986,1
?L1:	FSET? GL-PRSO,FL-BODYPART \?L3
	.DEBUG-LINE 7,1987,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,1988,1
	RTRUE
	.DEBUG-LINE 7,1989,1
?L3:	CALL RT-IDENTIFY-FLOOR?,W?FLOOR,GL-PRSI >STACK
	ZERO? STACK \?L5
	CALL RT-IDENTIFY-FLOOR?,W?GROUND,GL-PRSI >STACK
	ZERO? STACK /?L4
	.DEBUG-LINE 7,1991,1
?L5:	MOVE GL-PRSO,GL-PLACE-CUR
	.DEBUG-LINE 7,1992,1
	ZERO? GL-P-MULT? /?L6
	.DEBUG-LINE 7,1993,1
	PRINTR "Done."
	.DEBUG-LINE 7,1995,1
?L6:	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 7,1996,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,1997,1
	ICALL2 RT-IN-ON-MSG,GL-PRSI
	.DEBUG-LINE 7,1998,1
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,1999,1
	PRINTR "."
	.DEBUG-LINE 7,2000,1
?L4:	ZERO? L /?L10
	ZERO? GL-PRSI /?L9
	FSET? GL-PRSI,FL-SURFACE /?L9
	FSET? GL-PRSI,FL-CONTAINER /?L9
	FSET? GL-PRSI,FL-OPENED /?L11
	FSET? GL-PRSI,FL-OPENABLE /?L9
	.DEBUG-LINE 7,2006,1
?L10:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2007,1
	RTRUE
	.DEBUG-LINE 7,2008,1
?L9:	FSET? GL-PRSI,FL-OPENED /?L11
	FSET? GL-PRSI,FL-SURFACE /?L11
	.DEBUG-LINE 7,2010,1
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 7,2011,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 7,2012,1
	.DEBUG-LINE 7,2013,1
	PRINTR "open."
	.DEBUG-LINE 7,2014,1
?L11:	CALL RT-ROOM-IN-ON-MSG?,GL-PRSO,GL-PRSI >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,2015,1
	EQUAL? L,GL-WINNER /?L13
	.DEBUG-LINE 7,2016,1
	PRINTI "Maybe"
	.DEBUG-LINE 7,2017,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 7,2018,1
	PRINTI "should take "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2019,1
	ICALL2 RT-OUT-OFF-MSG,L
	.DEBUG-LINE 7,2020,1
	ICALL2 RT-THEO-PRINT,L
	.DEBUG-LINE 7,2021,1
	PRINTR " first."
	.DEBUG-LINE 7,2023,1
?L13:	MOVE GL-PRSO,GL-PRSI
	.DEBUG-LINE 7,2024,1
	FSET GL-PRSO,FL-TOUCHED
	.DEBUG-LINE 7,2025,1
	FSET? GL-PRSI,FL-CONTAINER \?L15
	CALL2 RT-PUT-OUT,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,2028,1
?L15:	ZERO? GL-P-MULT? /?L17
	.DEBUG-LINE 7,2029,1
	PRINTR "Done."
	.DEBUG-LINE 7,2031,1
?L17:	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 7,2032,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2033,1
	ICALL2 RT-IN-ON-MSG,GL-PRSI
	.DEBUG-LINE 7,2034,1
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUT-BEHIND"
	.FUNCT V-PUT-BEHIND
	.DEBUG-LINE 7,2038,1
	.DEBUG-LINE 7,2039,1
	PRINTR "That hiding place is too obvious."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUT-ON"
	.FUNCT V-PUT-ON
	.DEBUG-LINE 7,2043,1
	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,2044,1
	ICALL RT-PERFORM,V?WEAR,GL-PRSO
	.DEBUG-LINE 7,2045,1
	RTRUE
	.DEBUG-LINE 7,2046,1
?L1:	ICALL1 V-PUT
	.DEBUG-LINE 7,2047,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PUT-UNDER"
	.FUNCT V-PUT-UNDER
	.DEBUG-LINE 7,2051,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2052,1
	PRINTI "cannot put anything under "
	.DEBUG-LINE 7,2053,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,2054,1
	.DEBUG-LINE 7,2055,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-QUESTION"
	.FUNCT V-QUESTION
	.DEBUG-LINE 7,2059,1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,2060,1
	ICALL RT-TO-DO-THING-USE-MSG,STR?167,STR?166
	.DEBUG-LINE 7,2061,1
	RETURN 2
	.DEBUG-LINE 7,2062,1
?L1:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,2063,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RAISE"
	.FUNCT V-RAISE
	.DEBUG-LINE 7,2067,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,2068,1
	ICALL1 V-STAND
	.DEBUG-LINE 7,2069,1
	RTRUE
	.DEBUG-LINE 7,2071,1
?L1:	ICALL2 RT-NO-POINT-MSG,STR?168
	.DEBUG-LINE 7,2072,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-REACH-IN","OBJ"
	.FUNCT V-REACH-IN,OBJ
	.DEBUG-LINE 7,2076,1
	FIRST? GL-PRSO >OBJ /?L1
	.DEBUG-LINE 7,2077,1
?L1:	FSET? GL-PRSO,FL-PERSON /?L4
	FSET? GL-PRSO,FL-ALIVE \?L2
	.DEBUG-LINE 7,2079,1
?L4:	ICALL2 RT-YOURE-NOT-A-MSG,STR?154
	.DEBUG-LINE 7,2080,1
	RTRUE
	.DEBUG-LINE 7,2081,1
?L2:	FSET? GL-PRSO,FL-DOOR \?L5
	.DEBUG-LINE 7,2082,1
	FSET? GL-PRSO,FL-OPENED \?L6
	.DEBUG-LINE 7,2083,1
	PRINTI "You reach into "
	ICALL1 RT-THEO-PRINT
	PRINTI ", but experience nothing "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,2085,1
	PRINTR "."
	.DEBUG-LINE 7,2086,1
?L6:	ICALL1 RT-ITS-CLOSED-MSG
	.DEBUG-LINE 7,2087,1
	RTRUE
	.DEBUG-LINE 7,2088,1
?L5:	FSET? GL-PRSO,FL-CONTAINER /?L9
	.DEBUG-LINE 7,2089,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2090,1
	RTRUE
	.DEBUG-LINE 7,2091,1
?L9:	FSET? GL-PRSO,FL-OPENED /?L10
	.DEBUG-LINE 7,2092,1
	.DEBUG-LINE 7,2093,1
	PRINTR "It's not open."
	.DEBUG-LINE 7,2094,1
?L10:	ZERO? OBJ /?L12
	FSET? OBJ,FL-TAKEABLE /?L11
	.DEBUG-LINE 7,2096,1
?L12:	FSET? GL-PRSO,FL-PLURAL \?L13
	FSET? GL-PRSO,FL-COLLECTIVE /?L13
	.DEBUG-LINE 7,2098,1
	PRINTI "They're"
	JUMP ?L15
	.DEBUG-LINE 7,2100,1
?L13:	PRINTI "It's"
	.DEBUG-LINE 7,2101,1
	.DEBUG-LINE 7,2102,1
?L15:	PRINTR " empty."
	.DEBUG-LINE 7,2104,1
?L11:	SET 'GL-P-IT-OBJECT,OBJ
	.DEBUG-LINE 7,2105,1
	PRINTI "You "
	.DEBUG-LINE 7,2106,1
	EQUAL? GL-PRSO,TH-EARS \?L17
	.DEBUG-LINE 7,2107,1
	PRINTI "put your hands to "
	JUMP ?L19
	.DEBUG-LINE 7,2109,1
?L17:	PRINTI "reach into "
	.DEBUG-LINE 7,2110,1
?L19:	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2111,1
	PRINTR ". There's something in there."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-READ"
	.FUNCT V-READ
	.DEBUG-LINE 7,2115,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,2116,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,2117,1
	RETURN 2
	.DEBUG-LINE 7,2118,1
?L1:	FSET? GL-PRSO,FL-READABLE /?L3
	.DEBUG-LINE 7,2119,1
	ICALL1 RT-HOW-READ-MSG
	.DEBUG-LINE 7,2120,1
	.DEBUG-LINE 7,2121,1
	PRINTR "?"
	.DEBUG-LINE 7,2123,1
	.DEBUG-LINE 7,2124,1
?L3:	PRINTR "There's nothing written on it."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-READ-TO"
	.FUNCT V-READ-TO
	.DEBUG-LINE 7,2128,1
	ZERO? GL-NOW-LIT? \?L1
	.DEBUG-LINE 7,2129,1
	PRINT K-TOO-DARK-MSG
	CRLF
	.DEBUG-LINE 7,2130,1
	RETURN 2
	.DEBUG-LINE 7,2131,1
?L1:	FSET? GL-PRSO,FL-READABLE /?L3
	.DEBUG-LINE 7,2132,1
	ICALL1 RT-HOW-READ-MSG
	.DEBUG-LINE 7,2133,1
	PRINTI " to "
	ICALL2 RT-A-PRINT,GL-PRSI
	.DEBUG-LINE 7,2134,1
	PRINTR "?"
	.DEBUG-LINE 7,2135,1
?L3:	EQUAL? GL-WINNER,CH-PLAYER \?L4
	.DEBUG-LINE 7,2136,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSI,STR?169
	.DEBUG-LINE 7,2137,1
	RTRUE
	.DEBUG-LINE 7,2139,1
	.DEBUG-LINE 7,2140,1
?L4:	PRINTR "Maybe you ought to do it."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-READ-TO-SWP"
	.FUNCT V-READ-TO-SWP
	.DEBUG-LINE 7,2144,1
	ICALL RT-PERFORM,V?READ-TO,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2145,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-REFUSE"
	.FUNCT V-REFUSE
	.DEBUG-LINE 7,2149,1
	FSET? GL-PRSO,FL-TAKEABLE /?L1
	.DEBUG-LINE 7,2150,1
	PRINTI "That would"
	.DEBUG-LINE 7,2151,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2152,1
	RTRUE
	.DEBUG-LINE 7,2153,1
?L1:	PRINTI "How could you turn down such a tempting "
	ICALL2 DPRINT,GL-PRSO
	.DEBUG-LINE 7,2154,1
	PRINTR "?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RELEASE"
	.FUNCT V-RELEASE
	.DEBUG-LINE 7,2158,1
	IN? GL-PRSO,GL-WINNER \?L1
	.DEBUG-LINE 7,2159,1
	ICALL RT-PERFORM,V?DROP,GL-PRSO
	.DEBUG-LINE 7,2160,1
	RTRUE
	.DEBUG-LINE 7,2162,1
?L1:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L4
	.DEBUG-LINE 7,2163,1
	PRINTI "You aren't "
	JUMP ?L6
	.DEBUG-LINE 7,2165,1
?L4:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2166,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2167,1
	.DEBUG-LINE 7,2168,1
?L6:	PRINTR "confined by anything."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-REPAIR"
	.FUNCT V-REPAIR
	.DEBUG-LINE 7,2172,1
	EQUAL? GL-PRSO,TH-LAMP,TH-ETHERIUM-AMPOULE \?L1
	FSET? GL-PRSO,FL-BROKEN \?L1
	.DEBUG-LINE 7,2174,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2175,1
	PRINTR " is hopelessly beyond repair."
	.DEBUG-LINE 7,2176,1
?L1:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L3
	.DEBUG-LINE 7,2177,1
	PRINTI "You aren't "
	JUMP ?L4
	.DEBUG-LINE 7,2179,1
?L3:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2180,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2181,1
	.DEBUG-LINE 7,2182,1
?L4:	PRINTR "in need of repair."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-REPLACE"
	.FUNCT V-REPLACE
	.DEBUG-LINE 7,2186,1
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,2187,1
	.DEBUG-LINE 7,2188,1
	PRINTR "Easily done."
	.DEBUG-LINE 7,2190,1
?L1:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2191,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSO
	.DEBUG-LINE 7,2192,1
	.DEBUG-LINE 7,2193,1
	PRINTR "need replacement."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-REPLY","WHO"
	.FUNCT V-REPLY,WHO
	.DEBUG-LINE 7,2197,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,2198,1
	RETURN 2
	.DEBUG-LINE 7,2199,1
?L1:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,2200,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RESCUE"
	.FUNCT V-RESCUE
	.DEBUG-LINE 7,2204,1
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,2206,1
	EQUAL? GL-WINNER,CH-PLAYER \?L3
	.DEBUG-LINE 7,2207,1
	ICALL1 V-HINT
	.DEBUG-LINE 7,2208,1
	RTRUE
	.DEBUG-LINE 7,2209,1
?L3:	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,2210,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2211,1
?L1:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2212,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSO
	.DEBUG-LINE 7,2213,1
	.DEBUG-LINE 7,2214,1
	PRINTR "need any help."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RIDE"
	.FUNCT V-RIDE
	.DEBUG-LINE 7,2218,1
	FSET? GL-PRSO,FL-ALIVE \?L1
	.DEBUG-LINE 7,2219,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?170
	.DEBUG-LINE 7,2220,1
	RTRUE
	.DEBUG-LINE 7,2222,1
	.DEBUG-LINE 7,2223,1
?L1:	PRINTR "You cannot ride that."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RING"
	.FUNCT V-RING
	.DEBUG-LINE 7,2227,1
	EQUAL? GL-PRSO,TH-BELL \?L1
	.DEBUG-LINE 7,2229,1
	CALL2 RT-ALARM-SET?,RT-I-SWING-BELL >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 7,2230,1
	PRINTR "The bell is already ringing."
	.DEBUG-LINE 7,2232,1
?L3:	PRINTR "The bell is too heavy for you to move, but your effort makes it vibrate softly."
	.DEBUG-LINE 7,2235,1
?L1:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2236,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RIP"
	.FUNCT V-RIP
	.DEBUG-LINE 7,2240,1
	PRINTI "That would"
	.DEBUG-LINE 7,2241,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2242,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ROB"
	.FUNCT V-ROB
	.DEBUG-LINE 7,2246,1
	ICALL RT-PERFORM,V?STEAL,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2247,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ROW"
	.FUNCT V-ROW
	.DEBUG-LINE 7,2251,1
	IN? CH-PLAYER,TH-BOAT \?L1
	.DEBUG-LINE 7,2252,1
	PRINTR "You'd have better success if you launched the boat first."
	.DEBUG-LINE 7,2254,1
?L1:	EQUAL? GL-PRSO,TH-INTDIR \?L3
	.DEBUG-LINE 7,2255,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,2256,1
	PRINTR "not in a boat."
	.DEBUG-LINE 7,2258,1
?L3:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2259,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RUB-WITH"
	.FUNCT V-RUB-WITH
	.DEBUG-LINE 7,2263,1
	ICALL2 RT-NO-POINT-MSG,STR?171
	.DEBUG-LINE 7,2264,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SAY","WRD"
	.FUNCT V-SAY,WRD
	.DEBUG-LINE 7,2268,1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,2269,1
	CALL1 RT-ANYONE-HERE? >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 7,2270,1
	GET GL-P-NAMW,0 >WRD
	.DEBUG-LINE 7,2272,1
	EQUAL? WRD,W?SWORDFISH \?L5
	.DEBUG-LINE 7,2273,1
	ICALL2 RT-PERFORM,V?SWORDFISH
	RTRUE
	.DEBUG-LINE 7,2274,1
?L5:	EQUAL? WRD,W?PARR \?L7
	.DEBUG-LINE 7,2275,1
	ICALL2 RT-PERFORM,V?PARR
	RTRUE
	.DEBUG-LINE 7,2276,1
?L7:	EQUAL? WRD,W?CLEVES \?L8
	.DEBUG-LINE 7,2277,1
	ICALL2 RT-PERFORM,V?CLEVES
	RTRUE
	.DEBUG-LINE 7,2278,1
?L8:	EQUAL? WRD,W?ARAGON \?L9
	.DEBUG-LINE 7,2279,1
	ICALL2 RT-PERFORM,V?ARAGON
	RTRUE
	.DEBUG-LINE 7,2280,1
?L9:	EQUAL? WRD,W?HOWARD \?L10
	.DEBUG-LINE 7,2281,1
	ICALL2 RT-PERFORM,V?HOWARD
	RTRUE
	.DEBUG-LINE 7,2282,1
?L10:	EQUAL? WRD,W?SEYMOUR \?L11
	.DEBUG-LINE 7,2283,1
	ICALL2 RT-PERFORM,V?SEYMOUR
	RTRUE
	.DEBUG-LINE 7,2284,1
?L11:	EQUAL? WRD,W?BOLEYN \?L12
	.DEBUG-LINE 7,2285,1
	ICALL2 RT-PERFORM,V?BOLEYN
	RTRUE
	.DEBUG-LINE 7,2286,1
?L12:	EQUAL? WRD,W?GIN \?L13
	.DEBUG-LINE 7,2287,1
	ICALL2 RT-PERFORM,V?GIN
	RTRUE
	.DEBUG-LINE 7,2289,1
?L13:	ICALL1 RT-WAY-TO-TALK-MSG
	.DEBUG-LINE 7,2290,1
	RTRUE
	.DEBUG-LINE 7,2291,1
?L3:	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 7,2292,1
	RTRUE
	.DEBUG-LINE 7,2293,1
?L1:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,2294,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SEARCH"
	.FUNCT V-SEARCH
	.DEBUG-LINE 7,2298,1
	FSET? GL-PRSO,FL-CONTAINER \?L1
	.DEBUG-LINE 7,2299,1
	FSET? GL-PRSO,FL-OPENED /?L3
	FSET? GL-PRSO,FL-TRANSPARENT /?L3
	.DEBUG-LINE 7,2301,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?108,GL-PRSO
	.DEBUG-LINE 7,2302,1
	RTRUE
	.DEBUG-LINE 7,2304,1
?L3:	PRINTI "You see "
	.DEBUG-LINE 7,2305,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,2306,1
	PRINTI " inside "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2307,1
	PRINTR "."
	.DEBUG-LINE 7,2308,1
?L1:	FSET? GL-PRSO,FL-SURFACE \?L6
	.DEBUG-LINE 7,2309,1
	PRINTI "You see "
	.DEBUG-LINE 7,2310,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PRSO
	.DEBUG-LINE 7,2311,1
	PRINTI " on "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2312,1
	PRINTR "."
	.DEBUG-LINE 7,2313,1
?L6:	FSET? GL-PRSO,FL-PERSON \?L7
	.DEBUG-LINE 7,2314,1
	ICALL RT-PERFORM,V?USE,GL-PRSO
	.DEBUG-LINE 7,2315,1
	RTRUE
	.DEBUG-LINE 7,2317,1
?L7:	ICALL1 RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,2318,1
	.DEBUG-LINE 7,2319,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SELL"
	.FUNCT V-SELL
	.DEBUG-LINE 7,2323,1
	EQUAL? GL-WINNER,CH-PLAYER /?L1
	.DEBUG-LINE 7,2324,1
	ICALL RT-NOT-LIKELY-MSG,GL-WINNER,STR?172
	.DEBUG-LINE 7,2325,1
	RTRUE
	.DEBUG-LINE 7,2326,1
?L1:	EQUAL? GL-PRSI,GL-PRSO,CH-ME,CH-PLAYER /?L4
	EQUAL? GL-PRSI,GL-WINNER \?L3
	.DEBUG-LINE 7,2327,1
?L4:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2328,1
	RTRUE
	.DEBUG-LINE 7,2329,1
?L3:	FSET? GL-PRSI,FL-PERSON /?L5
	.DEBUG-LINE 7,2330,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSI,STR?173
	.DEBUG-LINE 7,2331,1
	RTRUE
	.DEBUG-LINE 7,2332,1
?L5:	ICALL2 RT-YOURE-NOT-A-MSG,STR?174
	.DEBUG-LINE 7,2333,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SELL-SWP"
	.FUNCT V-SELL-SWP
	.DEBUG-LINE 7,2337,1
	ICALL RT-PERFORM,V?SELL,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2338,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHAKE","X"
	.FUNCT V-SHAKE,X
	.DEBUG-LINE 7,2343,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,2344,1
	ICALL RT-PERFORM,V?ALARM,GL-PRSO
	RTRUE
	.DEBUG-LINE 7,2345,1
?L1:	FSET? GL-PRSO,FL-TAKEABLE /?L3
	FSET? GL-PRSO,FL-TRYTAKE /?L3
	.DEBUG-LINE 7,2347,1
	ICALL2 RT-NO-POINT-MSG,STR?175
	RTRUE
	.DEBUG-LINE 7,2349,1
?L3:	PRINTI "That would"
	.DEBUG-LINE 7,2350,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2351,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHINE-AT"
	.FUNCT V-SHINE-AT
	.DEBUG-LINE 7,2355,1
	PRINTI "You cannot illuminate anything with "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,2356,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHINE-AT-SWP"
	.FUNCT V-SHINE-AT-SWP
	.DEBUG-LINE 7,2360,1
	ICALL RT-PERFORM,V?SHINE-AT,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2361,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHOOT","NUM"
	.FUNCT V-SHOOT,NUM
	.DEBUG-LINE 7,2365,1
	EQUAL? GL-PRSO,TH-GUN \?L1
	.DEBUG-LINE 7,2366,1
	.DEBUG-LINE 7,2367,1
	PRINTR "BANG!! The bullet barely misses your foot."
	.DEBUG-LINE 7,2368,1
?L1:	FSET? GL-PRSO,FL-PERSON /?L4
	EQUAL? GL-PRSO,TH-GENERIC-BODY \?L3
	.DEBUG-LINE 7,2370,1
?L4:	FSET? GL-PRSO,FL-NEEDS-IDENTITY \?L5
	.DEBUG-LINE 7,2371,1
	PUTP GL-PRSO,P?OBJ-NOUN,0
	.DEBUG-LINE 7,2372,1
	PUTP GL-PRSO,P?OBJ-ADJ,0
	.DEBUG-LINE 7,2373,1
?L5:	PRINTI "You shoot "
	.DEBUG-LINE 7,2374,1
	EQUAL? GL-PRSO,TH-GENERIC-BODY /?L8
	.DEBUG-LINE 7,2375,1
	PRINTI "and kill "
	.DEBUG-LINE 7,2376,1
?L8:	ICALL2 RT-THEO-PRINT,GL-PRSO
	PRINTI ". Inspector Lestrade "
	.DEBUG-LINE 7,2377,1
	IN? CH-PLAYER,TH-BOAT \?L11
	.DEBUG-LINE 7,2378,1
	PRINTI "pulls up alongside you in a Scotland Yard launch"
	JUMP ?L13
	.DEBUG-LINE 7,2380,1
?L11:	PRINTI "appears out of nowhere"
	.DEBUG-LINE 7,2381,1
?L13:	PRINTI " and says,"
	.DEBUG-LINE 7,2382,1
	EQUAL? GL-PRSO,CH-HOLMES \?L14
	.DEBUG-LINE 7,2383,1
	PRINT K-PLUG-HIM-MYSELF-MSG
	JUMP ?L16
	.DEBUG-LINE 7,2385,1
?L14:	PRINTI " ""You may be on our side, doctor, but killing people is still against the law. I'm afraid I'm going to have to arrest you."""
	.DEBUG-LINE 7,2388,1
?L16:	CRLF
	CRLF
	PRINT K-LESTRADE-ARRESTS-MSG
	CRLF
	CRLF
	.DEBUG-LINE 7,2389,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 7,2390,1
?L3:	EQUAL? GL-PRSO,TH-SAPPHIRE,TH-EMERALD,TH-OPAL /?L18
	EQUAL? GL-PRSO,TH-RUBY,TH-TOPAZ,TH-GARNET \?L17
	.DEBUG-LINE 7,2392,1
?L18:	REMOVE GL-PRSO
	.DEBUG-LINE 7,2393,1
	PRINTI "You shoot "
	ICALL1 RT-THEO-PRINT
	PRINTR ", which shatters and disappears."
	.DEBUG-LINE 7,2394,1
?L17:	EQUAL? GL-PRSO,TH-CROWN-JEWELS \?L19
	.DEBUG-LINE 7,2395,1
	PRINTI "The jewels shatter and Holmes throws up his arms in exasperation. ""That's it, Watson. You have pushed me to the limit."" He leaps for your throat, and the ensuing struggle attracts the attention of the local constabulary, with what should by now be predictable results."
	CRLF
	CRLF
	.DEBUG-LINE 7,2400,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 7,2401,1
?L19:	EQUAL? GL-PRSO,TH-SHAFT /?L21
	EQUAL? GL-PRSO,PSEUDO-OBJECT \?L20
	GETP PSEUDO-OBJECT,P?ACTION >STACK
	EQUAL? STACK,RT-AC-TH-FIREPLACE \?L20
	.DEBUG-LINE 7,2405,1
?L21:	PRINTI "The bullet disappears into "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 7,2406,1
?L20:	EQUAL? GL-PRSO,TH-INTNUM,TH-INTDIR /?L23
	IN? GL-PRSO,ROOMS \?L22
	.DEBUG-LINE 7,2408,1
?L23:	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 7,2409,1
?L22:	FSET? GL-PRSO,FL-PLURAL \?L24
	.DEBUG-LINE 7,2410,1
	PRINTR "There are so many of them, you don't know where to begin."
	.DEBUG-LINE 7,2411,1
?L24:	FSET? GL-PRSO,FL-MONEY \?L25
	.DEBUG-LINE 7,2412,1
	PRINTI "You take aim at "
	ICALL1 RT-THEO-PRINT
	PRINTR ", but your frugal nature prevents you from going through with it."
	.DEBUG-LINE 7,2416,1
?L25:	GET GL-HOLES,0 >NUM
	.DEBUG-LINE 7,2417,1
	MUL NUM,2 >STACK
	INC 'STACK
	PUT GL-HOLES,STACK,GL-PRSO
	.DEBUG-LINE 7,2418,1
	LOC GL-PRSO >STACK
	EQUAL? STACK,LOCAL-GLOBALS,ROOMS,GLOBAL-OBJECTS \?L27
	.DEBUG-LINE 7,2420,1
	MUL NUM,2 >STACK
	ADD STACK,2 >STACK
	PUT GL-HOLES,STACK,GL-PLACE-CUR
	.DEBUG-LINE 7,2421,1
?L27:	ADD NUM,1 >STACK
	PUT GL-HOLES,0,STACK
	.DEBUG-LINE 7,2422,1
	PRINTI "The bullet puts a neat hole in "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHOOT-SWP"
	.FUNCT V-SHOOT-SWP
	.DEBUG-LINE 7,2426,1
	ICALL RT-PERFORM,V?SHOOT,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2427,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHOW"
	.FUNCT V-SHOW
	.DEBUG-LINE 7,2431,1
	FSET? GL-PRSI,FL-ASLEEP \?L1
	.DEBUG-LINE 7,2432,1
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 7,2433,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSI
	.DEBUG-LINE 7,2434,1
	PRINTI "in no condition to appreciate "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 7,2436,1
?L1:	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L3
	.DEBUG-LINE 7,2437,1
	ICALL RT-PERFORM,V?EXAMINE,GL-PRSO
	RTRUE
	.DEBUG-LINE 7,2439,1
?L3:	ICALL1 RT-CTHEI-PRINT
	PRINTI " glance"
	.DEBUG-LINE 7,2440,1
	ICALL2 RT-S-NOS-MSG,GL-PRSI
	.DEBUG-LINE 7,2441,1
	PRINTI " at "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2442,1
	PRINTR ", but makes no comment."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SHOW-SWP"
	.FUNCT V-SHOW-SWP
	.DEBUG-LINE 7,2446,1
	ICALL RT-PERFORM,V?SHOW,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2447,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SIT"
	.FUNCT V-SIT
	.DEBUG-LINE 7,2451,1
	CALL RT-IDENTIFY-FLOOR?,W?GROUND,GL-PRSO >STACK
	ZERO? STACK \?L3
	CALL RT-IDENTIFY-FLOOR?,W?FLOOR,GL-PRSO >STACK
	ZERO? STACK \?L3
	EQUAL? GL-PRSO,ROOMS /?L3
	FSET? GL-PRSO,FL-SURFACE \?L1
	.DEBUG-LINE 7,2455,1
?L3:	PRINT K-NO-RESTING-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,2457,1
?L1:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2458,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SMELL","OBJ"
	.FUNCT V-SMELL,OBJ
	SET 'OBJ,0
	.DEBUG-LINE 7,2462,1
	CALL RT-IDENTIFY-FLOOR?,W?SKY,GL-PRSO >STACK
	ZERO? STACK \?L3
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,2466,1
?L3:	PRINTI "You do not smell anything "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,2468,1
	PRINTR "."
	.DEBUG-LINE 7,2476,1
?L1:	EQUAL? GL-PRSO,TH-BUNG,TH-MALMSEY,TH-MALMSEY-POOL /?L5
	EQUAL? GL-PRSO,TH-BUTT-OF-MALMSEY,TH-GARNET \?L4
	.DEBUG-LINE 7,2477,1
?L5:	PRINT K-EAU-DE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 7,2479,1
?L4:	PRINTI "It smells just like "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,2480,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SMOKE"
	.FUNCT V-SMOKE
	.DEBUG-LINE 7,2484,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2485,1
	PRINTI "cannot smoke "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2486,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SPIN"
	.FUNCT V-SPIN
	.DEBUG-LINE 7,2490,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,2491,1
	PRINT K-DIZZY-MSG
	.DEBUG-LINE 7,2492,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2494,1
?L1:	PRINTI "You cannot spin "
	.DEBUG-LINE 7,2495,1
	ICALL1 RT-SAY-HIM-HER-THEM-IT-MSG
	.DEBUG-LINE 7,2496,1
	.DEBUG-LINE 7,2497,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-STAND"
	.FUNCT V-STAND
	.DEBUG-LINE 7,2501,1
	.DEBUG-LINE 7,2502,1
	PRINTR "You are already standing."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-STAND-ON"
	.FUNCT V-STAND-ON
	.DEBUG-LINE 7,2506,1
	PRINTI "Standing on "
	ICALL1 RT-THEO-PRINT
	PRINTI " would"
	.DEBUG-LINE 7,2507,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2508,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-STAND-UNDER"
	.FUNCT V-STAND-UNDER
	.DEBUG-LINE 7,2512,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2513,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-STEAL"
	.FUNCT V-STEAL
	.DEBUG-LINE 7,2517,1
	PRINT K-THEFT-MSG
	.DEBUG-LINE 7,2518,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-STRIKE"
	.FUNCT V-STRIKE
	.DEBUG-LINE 7,2522,1
	ICALL1 V-HIT
	.DEBUG-LINE 7,2523,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SWIM"
	.FUNCT V-SWIM
	.DEBUG-LINE 7,2527,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,2528,1
	EQUAL? GL-PLACE-CUR,RM-THE-EMBANKMENT,RM-SWAN-LANE,RM-LONDON-BRIDGE \?L3
	.DEBUG-LINE 7,2529,1
	PRINTR "Yuck! Have you looked at that water?"
	.DEBUG-LINE 7,2531,1
?L3:	PRINT K-NO-SWIM-MSG
	.DEBUG-LINE 7,2532,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2533,1
?L1:	EQUAL? GL-PRSO,TH-INTDIR \?L6
	ZERO? GL-P-DIRECTION /?L6
	EQUAL? GL-WINNER,CH-PLAYER \?L6
	.DEBUG-LINE 7,2536,1
	PRINTI "You cannot "
	.DEBUG-LINE 7,2537,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,2538,1
	.DEBUG-LINE 7,2539,1
	PRINTR " that way from here."
	.DEBUG-LINE 7,2541,1
?L6:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2542,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SWING"
	.FUNCT V-SWING
	.DEBUG-LINE 7,2546,1
	ZERO? GL-PRSI \?L1
	.DEBUG-LINE 7,2547,1
	PRINTI "That would"
	.DEBUG-LINE 7,2548,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2549,1
	RTRUE
	.DEBUG-LINE 7,2551,1
?L1:	ICALL RT-PERFORM,V?KILL,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2552,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TAKE","L"
	.FUNCT V-TAKE,L
	.DEBUG-LINE 7,2556,1
	LOC GL-PRSO >STACK
	EQUAL? GLOBAL-OBJECTS,STACK \?L1
	.DEBUG-LINE 7,2557,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2558,1
	RTRUE
	.DEBUG-LINE 7,2559,1
?L1:	ZERO? GL-PRSI /?L3
	.DEBUG-LINE 7,2560,1
	LOC GL-PRSI >STACK
	EQUAL? GLOBAL-OBJECTS,STACK \?L7
	.DEBUG-LINE 7,2561,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2562,1
	RTRUE
	.DEBUG-LINE 7,2563,1
?L3:	FSET? GL-PRSO,FL-WORN \?L7
	.DEBUG-LINE 7,2564,1
	ICALL RT-PERFORM,V?TAKE-OFF,GL-PRSO
	.DEBUG-LINE 7,2565,1
	RTRUE
	.DEBUG-LINE 7,2566,1
?L7:	CALL1 RT-ITAKE >L
	.DEBUG-LINE 7,2567,1
	ZERO? L /TRUE
	.DEBUG-LINE 7,2568,1
	ZERO? GL-P-MULT? /?L11
	.DEBUG-LINE 7,2569,1
	PRINTI "Taken."
	CRLF
	JUMP ?L15
	.DEBUG-LINE 7,2570,1
?L11:	FSET? L,FL-CONTAINER /?L14
	FSET? L,FL-SURFACE /?L14
	FSET? L,FL-PERSON /?L14
	FSET? L,FL-ALIVE \?L13
	.DEBUG-LINE 7,2574,1
?L14:	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 7,2575,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2576,1
	ICALL2 RT-OUT-OFF-MSG,L
	.DEBUG-LINE 7,2577,1
	ICALL2 RT-THEO-PRINT,L
	PRINTI "."
	CRLF
	JUMP ?L15
	.DEBUG-LINE 7,2579,1
?L13:	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 7,2580,1
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,2581,1
?L15:	GETP GL-PRSO,P?VALUE >L
	.DEBUG-LINE 7,2582,1
	ZERO? L /TRUE
	.DEBUG-LINE 7,2583,1
	PUTP GL-PRSO,P?VALUE,0
	.DEBUG-LINE 7,2584,1
	ICALL1 RT-TOPAZ-MSG
	.DEBUG-LINE 7,2585,1
	ICALL2 RT-UPDATE-SCORE,L
	.DEBUG-LINE 7,2586,1
	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 7,2587,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TAKE-OFF"
	.FUNCT V-TAKE-OFF
	.DEBUG-LINE 7,2591,1
	EQUAL? GL-PRSO,TH-CLOTHES,TH-FEET \?L1
	.DEBUG-LINE 7,2592,1
	PRINT K-INAPPROPRIATE-MSG
	.DEBUG-LINE 7,2593,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2594,1
?L1:	FSET? GL-PRSO,FL-TAKEABLE \?L3
	.DEBUG-LINE 7,2595,1
	IN? GL-PRSO,GL-WINNER \?L4
	FSET? GL-PRSO,FL-WORN \?L4
	.DEBUG-LINE 7,2597,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 7,2598,1
	PRINTI "You take off "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2599,1
	PRINTR "."
	.DEBUG-LINE 7,2601,1
?L4:	ICALL RT-PERFORM,V?TAKE,GL-PRSO
	.DEBUG-LINE 7,2602,1
	RTRUE
	.DEBUG-LINE 7,2603,1
?L3:	FSET? GL-PRSO,FL-VEHICLE \?L7
	.DEBUG-LINE 7,2604,1
	ICALL RT-PERFORM,V?EXIT,GL-PRSO
	.DEBUG-LINE 7,2605,1
	RTRUE
	.DEBUG-LINE 7,2607,1
?L7:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2608,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TAKE-WITH"
	.FUNCT V-TAKE-WITH
	.DEBUG-LINE 7,2612,1
	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,2613,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TASTE"
	.FUNCT V-TASTE
	.DEBUG-LINE 7,2617,1
	ICALL RT-PERFORM,V?EAT,GL-PRSO
	.DEBUG-LINE 7,2618,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TELL","N","M","WRD"
	.FUNCT V-TELL,N,M,WRD
	.DEBUG-LINE 7,2622,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,2623,1
	RETURN 2
	.DEBUG-LINE 7,2624,1
?L1:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L3
	.DEBUG-LINE 7,2625,1
	EQUAL? GL-WINNER,CH-PLAYER \?L4
	.DEBUG-LINE 7,2626,1
	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 7,2627,1
	RTRUE
	.DEBUG-LINE 7,2629,1
?L4:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,2630,1
	RTRUE
	.DEBUG-LINE 7,2632,1
?L3:	SET 'GL-P-QCONTEXT-TH,GL-PRSO
	.DEBUG-LINE 7,2633,1
	LOC GL-PRSO >GL-P-QCONTEXT-RM
	.DEBUG-LINE 7,2634,1
	ZERO? GL-P-CONT /?L8
	.DEBUG-LINE 7,2635,1
	SET 'GL-WINNER,GL-PRSO
	.DEBUG-LINE 7,2636,1
	ICALL2 RT-THIS-IS-IT,GL-PRSO
	.DEBUG-LINE 7,2637,1
	SET 'GL-CLOCK-WAIT,1
	.DEBUG-LINE 7,2640,1
	SET 'N,GL-P-CONT
	SET 'M,GL-P-LEN
	.DEBUG-LINE 7,2641,1
?L10:	GET GL-P-P-LEX,N >WRD
	EQUAL? WRD,W?$QUOTE \?L12
	.DEBUG-LINE 7,2642,1
	PUT GL-P-P-LEX,N,W?THE
	JUMP ?L14
	.DEBUG-LINE 7,2643,1
?L12:	EQUAL? WRD,W?THEN,W?$PERIOD /TRUE
	.DEBUG-LINE 7,2645,1
?L14:	ADD N,K-P-LEXELEN >N
	.DEBUG-LINE 7,2646,1
	DLESS? 'M,1 \?L10
	.DEBUG-LINE 7,2647,1
	RTRUE
	.DEBUG-LINE 7,2650,1
?L8:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,2651,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TELL-ABOUT"
	.FUNCT V-TELL-ABOUT
	.DEBUG-LINE 7,2655,1
	CALL1 RT-WHO-WHAT-WHERE-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,2656,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TELL-WHO"
	.FUNCT V-TELL-WHO
	.DEBUG-LINE 7,2662,1
	.DEBUG-LINE 7,2663,1
	PRINTR "You must use TELL ME ABOUT SOMETHING or TELL CHARACTER ABOUT SOMETHING."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-THANK"
	.FUNCT V-THANK
	.DEBUG-LINE 7,2667,1
	CALL1 RT-ANYONE-HERE? >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 7,2668,1
	.DEBUG-LINE 7,2669,1
	PRINTR "[There's nobody here to thank.]"
	.DEBUG-LINE 7,2670,1
?L1:	EQUAL? GL-WINNER,CH-PLAYER \?L3
	.DEBUG-LINE 7,2672,1
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L4
	.DEBUG-LINE 7,2673,1
	PRINTI "Patting yourself on the back"
	PRINT K-WONT-HELP-MSG
	.DEBUG-LINE 7,2674,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2675,1
?L4:	FSET? GL-PRSO,FL-ASLEEP \?L6
	.DEBUG-LINE 7,2676,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2677,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 7,2678,1
	PRINTR "in any condition to accept your thanks."
	.DEBUG-LINE 7,2680,1
	.DEBUG-LINE 7,2681,1
?L6:	PRINTR """You're welcome."""
	.DEBUG-LINE 7,2683,1
?L3:	ICALL1 RT-FOOLISH-TO-TALK-MSG
	.DEBUG-LINE 7,2684,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-THROUGH"
	.FUNCT V-THROUGH
	.DEBUG-LINE 7,2688,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,2689,1
	ICALL2 RT-DO-WALK,P?IN
	.DEBUG-LINE 7,2690,1
	RTRUE
	.DEBUG-LINE 7,2692,1
?L1:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2693,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-THROW"
	.FUNCT V-THROW
	.DEBUG-LINE 7,2697,1
	EQUAL? GL-P-PRSA-WORD,W?PUT \?L1
	EQUAL? GL-PRSO,TH-HANDS,TH-FEET \?L1
	.DEBUG-LINE 7,2699,1
	FSET? GL-PRSI,FL-DOOR \?L3
	.DEBUG-LINE 7,2700,1
	FSET? GL-PRSI,FL-OPENED \?L5
	.DEBUG-LINE 7,2701,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 7,2702,1
	ICALL1 RT-THEO-PRINT
	PRINTI " through "
	ICALL1 RT-THEI-PRINT
	PRINTR ", but can't reach anything on the other side."
	.DEBUG-LINE 7,2705,1
?L5:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 7,2706,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSI
	.DEBUG-LINE 7,2707,1
	PRINTR "closed."
	.DEBUG-LINE 7,2709,1
?L3:	ICALL1 RT-IMPOSSIBLE-MSG
	RTRUE
	.DEBUG-LINE 7,2710,1
?L1:	IN? GL-PRSO,GLOBAL-OBJECTS \?L9
	.DEBUG-LINE 7,2711,1
	ICALL1 RT-IMPOSSIBLE-MSG
	RTRUE
	.DEBUG-LINE 7,2712,1
?L9:	CALL1 RT-IDROP-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,2713,1
	FSET? CH-HOLMES,FL-ASLEEP \?L20
	EQUAL? GL-PRSI,CH-HOLMES,TH-PHIAL,TH-SYRINGE /?L13
	EQUAL? GL-PRSI,TH-MOROCCO-CASE \?L20
	.DEBUG-LINE 7,2715,1
?L13:	EQUAL? GL-PRSO,TH-KNIFE \?L14
	.DEBUG-LINE 7,2716,1
	EQUAL? GL-PRSI,CH-HOLMES \?L16
	.DEBUG-LINE 7,2717,1
	PRINTI "Holmes absentmindedly dodges the knife"
	JUMP ?L18
	.DEBUG-LINE 7,2718,1
?L16:	EQUAL? GL-PRSI,TH-PHIAL,TH-SYRINGE,TH-MOROCCO-CASE \?L18
	.DEBUG-LINE 7,2719,1
	PRINTI "Holmes casually moves "
	ICALL1 RT-THEI-PRINT
	PRINTI " out of harm's way"
	.DEBUG-LINE 7,2721,1
	.DEBUG-LINE 7,2722,1
?L18:	PRINTR " and continues staring at the phial."
	.DEBUG-LINE 7,2724,1
?L14:	PRINTI "Holmes absentmindedly catches "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2727,1
	PRINTR " with his free hand and bops you over the head with it before letting it fall to the ground. He then continues staring at the phial."
	.DEBUG-LINE 7,2728,1
?L20:	ICALL1 RT-CTHEO-PRINT
	PRINTI " miss"
	.DEBUG-LINE 7,2729,1
	ICALL2 RT-ES-NOES-MSG,GL-PRSO
	.DEBUG-LINE 7,2730,1
	PRINTI " "
	ICALL1 RT-THEI-PRINT
	PRINTI " by a mile and land"
	.DEBUG-LINE 7,2731,1
	ICALL2 RT-S-NOS-MSG,GL-PRSI
	.DEBUG-LINE 7,2732,1
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /?L24
	EQUAL? GL-PLACE-CUR,RM-THAMES-FOUR,RM-THAMES-FIVE \?L22
	.DEBUG-LINE 7,2734,1
?L24:	PRINTI " in the water."
	.DEBUG-LINE 7,2735,1
	MOVE GL-PRSO,LG-WATER
	.DEBUG-LINE 7,2736,1
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON \?L25
	.DEBUG-LINE 7,2737,1
	ICALL1 RT-KILL-PIGEON
	.DEBUG-LINE 7,2738,1
?L25:	PRINTR " Plop."
	.DEBUG-LINE 7,2740,1
?L22:	PRINTI " on the "
	.DEBUG-LINE 7,2741,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L29
	.DEBUG-LINE 7,2742,1
	PRINTI "floor"
	JUMP ?L31
	.DEBUG-LINE 7,2744,1
?L29:	PRINTI "ground"
	.DEBUG-LINE 7,2745,1
	.DEBUG-LINE 7,2746,1
?L31:	PRINTR " nearby."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-THROW-SWP"
	.FUNCT V-THROW-SWP
	.DEBUG-LINE 7,2750,1
	ICALL RT-PERFORM,V?THROW,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2751,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-THROW-OVER"
	.FUNCT V-THROW-OVER
	.DEBUG-LINE 7,2755,1
	PRINTI "That would"
	.DEBUG-LINE 7,2756,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2757,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TIE"
	.FUNCT V-TIE
	.DEBUG-LINE 7,2761,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2762,1
	PRINTI "cannot possibly tie "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2763,1
	ZERO? GL-PRSI /?L1
	.DEBUG-LINE 7,2764,1
	PRINTI " to "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,2765,1
	.DEBUG-LINE 7,2766,1
?L1:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TIE-UP"
	.FUNCT V-TIE-UP
	.DEBUG-LINE 7,2770,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2771,1
	PRINTI "cannot tie up "
	.DEBUG-LINE 7,2772,1
	EQUAL? GL-PRSI,0,ROOMS \?L1
	.DEBUG-LINE 7,2773,1
	PRINTI "that"
	JUMP ?L3
	.DEBUG-LINE 7,2775,1
?L1:	PRINTI "anything with "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,2776,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TIP"
	.FUNCT V-TIP
	.DEBUG-LINE 7,2780,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,2781,1
	ICALL RT-CYOU-MSG,STR?179,STR?178
	.DEBUG-LINE 7,2782,1
	PRINTI "confidentially, ""Buy low, sell high."""
	CRLF
	CRLF
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2783,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSO
	.DEBUG-LINE 7,2784,1
	.DEBUG-LINE 7,2785,1
	PRINTR "look impressed."
	.DEBUG-LINE 7,2787,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2788,1
	.DEBUG-LINE 7,2789,1
	PRINTR "can't do that."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TOUCH"
	.FUNCT V-TOUCH
	.DEBUG-LINE 7,2793,1
	ICALL2 RT-NO-POINT-MSG,STR?180
	.DEBUG-LINE 7,2794,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TOUCH-TO"
	.FUNCT V-TOUCH-TO
	.DEBUG-LINE 7,2798,1
	EQUAL? GL-PRSO,TH-HANDS \?L1
	.DEBUG-LINE 7,2799,1
	ICALL RT-PERFORM,V?TOUCH,GL-PRSI
	.DEBUG-LINE 7,2800,1
	RTRUE
	.DEBUG-LINE 7,2801,1
?L1:	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 7,2802,1
	ICALL1 RT-THEO-PRINT
	PRINTI " next to "
	ICALL1 RT-THEI-PRINT
	PRINTI ", but nothing "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,2803,1
	PRINTR " happens."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TOUCH-TO-SWP"
	.FUNCT V-TOUCH-TO-SWP
	.DEBUG-LINE 7,2807,1
	ICALL RT-PERFORM,V?TOUCH-TO,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,2808,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TRANSLATE"
	.FUNCT V-TRANSLATE
	.DEBUG-LINE 7,2812,1
	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 7,2813,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TUNE-TO"
	.FUNCT V-TUNE-TO
	.DEBUG-LINE 7,2817,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2818,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TURN"
	.FUNCT V-TURN
	.DEBUG-LINE 7,2822,1
	FSET? GL-PRSO,FL-TAKEABLE /?L1
	FSET? GL-PRSO,FL-TRYTAKE /?L1
	.DEBUG-LINE 7,2824,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2825,1
	RTRUE
	.DEBUG-LINE 7,2827,1
?L1:	ICALL2 RT-NO-POINT-MSG,STR?181
	.DEBUG-LINE 7,2828,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TURN-DOWN"
	.FUNCT V-TURN-DOWN
	.DEBUG-LINE 7,2832,1
	ICALL1 V-REFUSE
	.DEBUG-LINE 7,2833,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TURN-TO"
	.FUNCT V-TURN-TO
	.DEBUG-LINE 7,2837,1
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,2838,1
	ICALL RT-PERFORM,V?WATCH,GL-PRSO
	.DEBUG-LINE 7,2839,1
	RTRUE
	.DEBUG-LINE 7,2841,1
?L1:	ICALL RT-CYOU-MSG,STR?133,STR?132
	.DEBUG-LINE 7,2842,1
	PRINTI "see "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2843,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-TURN-UP"
	.FUNCT V-TURN-UP
	.DEBUG-LINE 7,2847,1
	ICALL1 V-LOOK-UNDER
	.DEBUG-LINE 7,2848,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNDRESS"
	.FUNCT V-UNDRESS
	.DEBUG-LINE 7,2852,1
	EQUAL? GL-PRSO,ROOMS /?L3
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,2854,1
?L3:	PRINT K-INAPPROPRIATE-MSG
	.DEBUG-LINE 7,2855,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,2857,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2858,1
	PRINTI "cannot undress "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,2859,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNFOLD"
	.FUNCT V-UNFOLD
	.DEBUG-LINE 7,2863,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2864,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2865,1
	.DEBUG-LINE 7,2866,1
	PRINTR "folded up."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNLOCK"
	.FUNCT V-UNLOCK
	.DEBUG-LINE 7,2870,1
	FSET? GL-PRSO,FL-OPENABLE /?L3
	FSET? GL-PRSO,FL-CONTAINER \?L1
	.DEBUG-LINE 7,2872,1
?L3:	FSET? GL-PRSO,FL-OPENED /?L6
	FSET? GL-PRSO,FL-LOCKED /?L4
	.DEBUG-LINE 7,2874,1
?L6:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2875,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2876,1
	.DEBUG-LINE 7,2877,1
	PRINTR "locked."
	.DEBUG-LINE 7,2879,1
?L4:	ICALL RT-THING-WONT-LOCK-MSG,GL-PRSI,GL-PRSO,1
	.DEBUG-LINE 7,2880,1
	RTRUE
	.DEBUG-LINE 7,2882,1
?L1:	ICALL2 RT-CANT-LOCK-MSG,1
	.DEBUG-LINE 7,2883,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNPLUG"
	.FUNCT V-UNPLUG
	.DEBUG-LINE 7,2887,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2888,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2889,1
	PRINTI "connected to "
	.DEBUG-LINE 7,2890,1
	ZERO? GL-PRSI /?L1
	.DEBUG-LINE 7,2891,1
	ICALL1 RT-THEI-PRINT
	JUMP ?L3
	.DEBUG-LINE 7,2893,1
?L1:	PRINTI "anything"
	.DEBUG-LINE 7,2894,1
	.DEBUG-LINE 7,2895,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNSCREW-FROM"
	.FUNCT V-UNSCREW-FROM
	.DEBUG-LINE 7,2899,1
	EQUAL? GL-PRSO,GL-PRSI \?L1
	.DEBUG-LINE 7,2900,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,2901,1
	RTRUE
	.DEBUG-LINE 7,2902,1
?L1:	IN? GL-PRSO,GL-PRSI /?L3
	.DEBUG-LINE 7,2903,1
	FSET? GL-PRSI,FL-ALIVE \?L4
	.DEBUG-LINE 7,2904,1
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 7,2905,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSI
	.DEBUG-LINE 7,2906,1
	PRINTI "have "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2907,1
	PRINTR "."
	.DEBUG-LINE 7,2908,1
?L4:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2909,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,2910,1
	ICALL RT-IN-ON-MSG,GL-PRSI,0
	.DEBUG-LINE 7,2911,1
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,2912,1
	PRINTR "."
	.DEBUG-LINE 7,2914,1
?L3:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2915,1
	PRINTI "cannot unscrew "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2916,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNTIE"
	.FUNCT V-UNTIE
	.DEBUG-LINE 7,2920,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2921,1
	PRINTI "cannot untie "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,2922,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-USE"
	.FUNCT V-USE
	.DEBUG-LINE 7,2926,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,2927,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,2928,1
	PRINTR " might resent that."
	.DEBUG-LINE 7,2930,1
?L1:	PRINTI "[You must specify what you want to do with "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,2931,1
	PRINTR ".]"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-USE-ON"
	.FUNCT V-USE-ON
	.DEBUG-LINE 7,2935,1
	PRINTI "Using "
	ICALL1 RT-THEO-PRINT
	PRINTI " on "
	ICALL1 RT-THEI-PRINT
	PRINTI " would"
	.DEBUG-LINE 7,2936,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,2937,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WAIT","H","M","S","N"
	.FUNCT V-WAIT,H,M,S,N
	.DEBUG-LINE 7,2941,1
	EQUAL? GL-P-NUMBER,-1 \?L1
	.DEBUG-LINE 7,2942,1
	SET 'N,1
	JUMP ?L3
	.DEBUG-LINE 7,2944,1
?L1:	SET 'N,GL-P-NUMBER
	.DEBUG-LINE 7,2945,1
?L3:	EQUAL? GL-PRSO,TH-TIME \?L4
	.DEBUG-LINE 7,2946,1
	GETP GL-PRSO,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?MINUTE,W?MINUTES \?L6
	.DEBUG-LINE 7,2948,1
	SET 'H,0
	.DEBUG-LINE 7,2949,1
	SET 'M,N
	JUMP ?L14
	.DEBUG-LINE 7,2951,1
?L6:	SET 'H,N
	.DEBUG-LINE 7,2952,1
	SET 'M,0
	JUMP ?L14
	.DEBUG-LINE 7,2953,1
?L4:	EQUAL? GL-PRSO,TH-INTNUM \?L9
	.DEBUG-LINE 7,2954,1
	SET 'H,0
	.DEBUG-LINE 7,2955,1
	SET 'M,N
	.DEBUG-LINE 7,2956,1
	PRINTI "["
	PRINTN M
	PRINTI " minute"
	.DEBUG-LINE 7,2957,1
	EQUAL? M,1 /?L10
	.DEBUG-LINE 7,2958,1
	PRINTI "s"
	.DEBUG-LINE 7,2959,1
?L10:	PRINTI "]"
	CRLF
	CRLF
	JUMP ?L14
	.DEBUG-LINE 7,2960,1
?L9:	EQUAL? GL-PRSO,ROOMS /?L13
	.DEBUG-LINE 7,2961,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,2962,1
	.DEBUG-LINE 7,2963,1
	PRINTR "can't wait for that."
	.DEBUG-LINE 7,2965,1
?L13:	SET 'H,0
	.DEBUG-LINE 7,2966,1
	SET 'M,10
	.DEBUG-LINE 7,2967,1
?L14:	SET 'S,0
	.DEBUG-LINE 7,2968,1
	PRINTI "Time passes..."
	CRLF
	.DEBUG-LINE 7,2969,1
	ICALL RT-CLOCK-JMP,H,M,S
	.DEBUG-LINE 7,2970,1
	ICALL2 RT-TIME-OF-DAY-MSG,1
	.DEBUG-LINE 7,2971,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WALK","PT","PTS","STR","OBJ","RM"
	.FUNCT V-WALK,PT,PTS,STR,OBJ,RM
	.DEBUG-LINE 7,2975,1
	GETPT GL-PLACE-CUR,GL-PRSO >PT
	.DEBUG-LINE 7,2976,1
	ZERO? GL-P-WALK-DIR \?L1
	.DEBUG-LINE 7,2977,1
	PRINTR "[You must specify a direction.]"
	.DEBUG-LINE 7,2978,1
?L1:	ZERO? PT /?L3
	.DEBUG-LINE 7,2979,1
	PTSIZE PT >PTS
	.DEBUG-LINE 7,2982,1
	EQUAL? PTS,K-UEXIT \?L4
	.DEBUG-LINE 7,2983,1
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L8
	.DEBUG-LINE 7,2986,1
	LOC GL-WINNER >STACK
	ICALL RT-PERFORM,V?EXIT,STACK
	.DEBUG-LINE 7,2987,1
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L8
	.DEBUG-LINE 7,2988,1
	RETURN 2
	.DEBUG-LINE 7,2989,1
?L8:	GETB PT,K-REXIT >RM
	.DEBUG-LINE 7,2990,1
	ICALL2 RT-GOTO,RM
	.DEBUG-LINE 7,2991,1
	RTRUE
	.DEBUG-LINE 7,2992,1
?L4:	EQUAL? PTS,K-NEXIT \?L12
	.DEBUG-LINE 7,2993,1
	GET PT,K-NEXITSTR >STR
	.DEBUG-LINE 7,2994,1
	PRINT STR
	CRLF
	.DEBUG-LINE 7,2995,1
	RETURN 2
	.DEBUG-LINE 7,2996,1
?L12:	EQUAL? PTS,K-PEXIT \?L13
	.DEBUG-LINE 7,2997,1
	GET PT,K-PEXITRTN >STACK
	CALL1 STACK >RM
	.DEBUG-LINE 7,2998,1
	ZERO? RM /?L14
	.DEBUG-LINE 7,2999,1
	ICALL2 RT-GOTO,RM
	.DEBUG-LINE 7,3000,1
	RTRUE
	.DEBUG-LINE 7,3002,1
?L14:	RETURN 2
	.DEBUG-LINE 7,3003,1
?L13:	EQUAL? PTS,K-CEXIT \?L17
	.DEBUG-LINE 7,3004,1
	GETB PT,K-CEXITFLG >STACK
	VALUE STACK >STACK
	ZERO? STACK /?L18
	.DEBUG-LINE 7,3005,1
	GETB PT,K-REXIT >RM
	.DEBUG-LINE 7,3006,1
	ICALL2 RT-GOTO,RM
	.DEBUG-LINE 7,3007,1
	RTRUE
	.DEBUG-LINE 7,3008,1
?L18:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3009,1
	PRINTI "cannot go that way."
	CRLF
	.DEBUG-LINE 7,3010,1
	RETURN 2
	.DEBUG-LINE 7,3011,1
?L17:	EQUAL? PTS,K-DEXIT \FALSE
	.DEBUG-LINE 7,3012,1
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L24
	.DEBUG-LINE 7,3015,1
	LOC GL-WINNER >STACK
	ICALL RT-PERFORM,V?EXIT,STACK
	.DEBUG-LINE 7,3016,1
	LOC GL-WINNER >STACK
	FSET? STACK,FL-VEHICLE \?L24
	.DEBUG-LINE 7,3017,1
	RETURN 2
	.DEBUG-LINE 7,3018,1
?L24:	ADD PT,1 >STACK
	GET STACK,0 >OBJ
	.DEBUG-LINE 7,3019,1
	FSET? OBJ,FL-OPENED \?L28
	.DEBUG-LINE 7,3020,1
	GETB PT,K-REXIT >RM
	.DEBUG-LINE 7,3021,1
	ICALL2 RT-GOTO,RM
	.DEBUG-LINE 7,3022,1
	RTRUE
	.DEBUG-LINE 7,3024,1
?L28:	PRINTI "The door is not open."
	CRLF
	.DEBUG-LINE 7,3025,1
	RETURN 2
	.DEBUG-LINE 7,3026,1
?L3:	EQUAL? GL-P-WALK-DIR,P?OUT \?L32
	FSET? GL-PLACE-CUR,FL-INDOORS /?L32
	.DEBUG-LINE 7,3028,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,3029,1
	PRINTI "already outside."
	CRLF
	.DEBUG-LINE 7,3030,1
	RETURN 2
	.DEBUG-LINE 7,3031,1
?L32:	EQUAL? GL-P-WALK-DIR,P?IN \?L33
	FSET? GL-PLACE-CUR,FL-INDOORS \?L33
	.DEBUG-LINE 7,3033,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,3034,1
	PRINTI "already inside."
	CRLF
	.DEBUG-LINE 7,3035,1
	RETURN 2
	.DEBUG-LINE 7,3037,1
?L33:	PRINTI "You cannot go that way."
	CRLF
	.DEBUG-LINE 7,3038,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WALK-AROUND"
	.FUNCT V-WALK-AROUND
	.DEBUG-LINE 7,3042,1
	PRINTI "[Which way do you want to go?]"
	CRLF
	.DEBUG-LINE 7,3043,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WALK-TO"
	.FUNCT V-WALK-TO
	.DEBUG-LINE 7,3047,1
	EQUAL? GL-PRSO,TH-INTDIR \?L1
	.DEBUG-LINE 7,3048,1
	ICALL2 RT-DO-WALK,GL-P-DIRECTION
	.DEBUG-LINE 7,3049,1
	RTRUE
	.DEBUG-LINE 7,3050,1
?L1:	EQUAL? GL-PRSO,TH-RIGHT,TH-LEFT /?L4
	IN? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,3052,1
?L4:	PRINT K-BE-MORE-SPECIFIC-MSG
	.DEBUG-LINE 7,3053,1
	CRLF
	RTRUE
	.DEBUG-LINE 7,3055,1
?L3:	ICALL1 V-FOLLOW
	.DEBUG-LINE 7,3056,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WATCH"
	.FUNCT V-WATCH
	.DEBUG-LINE 7,3060,1
	FSET? GL-PRSO,FL-PERSON \?L1
	.DEBUG-LINE 7,3061,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 7,3062,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 7,3063,1
	PRINTI "doing anything "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	JUMP ?L3
	.DEBUG-LINE 7,3065,1
?L1:	PRINTI "Nothing "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	PRINTI " is happening"
	.DEBUG-LINE 7,3066,1
	.DEBUG-LINE 7,3067,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WAVE-AT"
	.FUNCT V-WAVE-AT
	.DEBUG-LINE 7,3071,1
	CALL1 RT-WHO-WHAT-WHERE-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,3072,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WEAR"
	.FUNCT V-WEAR
	.DEBUG-LINE 7,3078,1
	IN? GL-PRSO,GL-WINNER \?L4
	FSET? GL-PRSO,FL-WORN /?L3
?L4:	EQUAL? GL-PRSO,TH-CLOTHES \?L1
	.DEBUG-LINE 7,3081,1
?L3:	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 7,3082,1
	PRINTI "already wearing "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3083,1
	PRINTR "."
	.DEBUG-LINE 7,3084,1
?L1:	FSET? GL-PRSO,FL-CLOTHING /?L5
	.DEBUG-LINE 7,3085,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3086,1
	PRINTI "cannot wear "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3087,1
	PRINTR "."
	.DEBUG-LINE 7,3088,1
?L5:	CALL2 RT-DONT-HAVE-MSG,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,3091,1
	FSET GL-PRSO,FL-WORN
	.DEBUG-LINE 7,3092,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 7,3093,1
	PRINTI "on "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3094,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WEDGE"
	.FUNCT V-WEDGE
	.DEBUG-LINE 7,3098,1
	ICALL RT-PERFORM,V?LOOSEN,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,3099,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WEIGH"
	.FUNCT V-WEIGH
	.DEBUG-LINE 7,3103,1
	.DEBUG-LINE 7,3104,1
	PRINTR "You haven't got any scales to weigh things with."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WHAT"
	.FUNCT V-WHAT
	.DEBUG-LINE 7,3108,1
	CALL1 RT-WHO-WHAT-WHERE-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,3109,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WHERE"
	.FUNCT V-WHERE
	.DEBUG-LINE 7,3115,1
	CALL1 RT-WHO-WHAT-WHERE-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,3116,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WHO"
	.FUNCT V-WHO
	.DEBUG-LINE 7,3122,1
	CALL1 RT-WHO-WHAT-WHERE-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 7,3123,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WIND"
	.FUNCT V-WIND
	.DEBUG-LINE 7,3129,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3130,1
	PRINTI "cannot wind "
	ICALL2 RT-A-PRINT,GL-PRSO
	.DEBUG-LINE 7,3131,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WRAP-AROUND"
	.FUNCT V-WRAP-AROUND
	.DEBUG-LINE 7,3135,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3136,1
	PRINTI "could not possibly "
	.DEBUG-LINE 7,3137,1
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 7,3138,1
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " around "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 7,3139,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-WRAP-AROUND-SWP"
	.FUNCT V-WRAP-AROUND-SWP
	.DEBUG-LINE 7,3143,1
	ICALL RT-PERFORM,V?WRAP-AROUND,GL-PRSI,GL-PRSO
	.DEBUG-LINE 7,3144,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-YELL"
	.FUNCT V-YELL
	.DEBUG-LINE 7,3148,1
	EQUAL? GL-PRSO,ROOMS \?L1
	.DEBUG-LINE 7,3149,1
	EQUAL? GL-P-PRSA-WORD,W?CRY \?L3
	.DEBUG-LINE 7,3150,1
	.DEBUG-LINE 7,3152,1
	PRINTR "Awww. Don't cry. You'll figure it out eventually."
	.DEBUG-LINE 7,3154,1
	.DEBUG-LINE 7,3158,1
?L3:	PRINTR "The idea of the primal scream as a technique to relieve anxiety will not be discovered for eighty years. But if it makes you feel better, go right ahead."
	.DEBUG-LINE 7,3160,1
?L1:	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?111
	.DEBUG-LINE 7,3161,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-SEE-MUCH-MSG"
	.FUNCT RT-CANT-SEE-MUCH-MSG
	.DEBUG-LINE 7,3166,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3167,1
	.DEBUG-LINE 7,3168,1
	PRINTR "cannot see much from here."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-MONEY-MSG"
	.FUNCT RT-NO-MONEY-MSG
	.DEBUG-LINE 7,3171,1
	ICALL RT-CYOU-MSG,STR?133,STR?132
	.DEBUG-LINE 7,3172,1
	.DEBUG-LINE 7,3173,1
	PRINTR "have any money."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IN-VEHICLE-MSG"
	.FUNCT RT-IN-VEHICLE-MSG
	.DEBUG-LINE 7,3176,1
	IN? CH-PLAYER,TH-HANSOM-CAB /?L3
	IN? CH-PLAYER,TH-GROWLER-CAB \?L1
	.DEBUG-LINE 7,3178,1
?L3:	PRINTI " in a cab "
	RTRUE
	.DEBUG-LINE 7,3179,1
?L1:	IN? CH-PLAYER,TH-BOAT \?L4
	.DEBUG-LINE 7,3180,1
	PRINTI " in a boat "
	RTRUE
	.DEBUG-LINE 7,3182,1
?L4:	PRINTI " standing "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DRIVE-WALK-MSG?"
	.FUNCT RT-DRIVE-WALK-MSG?
	.DEBUG-LINE 7,3185,1
	IN? CH-PLAYER,TH-HANSOM-CAB /?L3
	IN? CH-PLAYER,TH-GROWLER-CAB \?L1
	.DEBUG-LINE 7,3187,1
?L3:	PRINTI " drive "
	RTRUE
	.DEBUG-LINE 7,3189,1
?L1:	PRINTI " walk "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALREADY-IN-ROOM-MSG"
	.FUNCT RT-ALREADY-IN-ROOM-MSG
	.DEBUG-LINE 7,3192,1
	PRINTI "You are already in "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOT-IN-ROOM-MSG"
	.FUNCT RT-NOT-IN-ROOM-MSG
	.DEBUG-LINE 7,3195,1
	PRINTI "You are not in "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OBJECT-IS-LOCKED-MSG"
	.FUNCT RT-OBJECT-IS-LOCKED-MSG
	.DEBUG-LINE 7,3198,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3199,1
	.DEBUG-LINE 7,3200,1
	PRINTR "cannot do that. It is locked."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NOTHING-INTERESTING-MSG"
	.FUNCT RT-NOTHING-INTERESTING-MSG
	.DEBUG-LINE 7,3203,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 7,3204,1
	PRINTI "not see anything "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,3205,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WASTE-OF-TIME-MSG"
	.FUNCT RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,3208,1
	CALL2 RT-PICK-NEXT,GL-NO-POINT-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,3209,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FOG-MSG"
	.FUNCT RT-FOG-MSG
	.DEBUG-LINE 7,3212,1
	CALL2 RT-PICK-NEXT,GL-FOG-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,3213,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ITS-RIGHT-HERE-MSG"
	.FUNCT RT-ITS-RIGHT-HERE-MSG
	.DEBUG-LINE 7,3216,1
	ICALL1 RT-SAY-ITS-MSG
	.DEBUG-LINE 7,3217,1
	.DEBUG-LINE 7,3218,1
	PRINTR "right here in front of you."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WHO-WHAT-WHERE-MSG"
	.FUNCT RT-WHO-WHAT-WHERE-MSG
	.DEBUG-LINE 7,3221,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 7,3224,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT,V?WHERE \?L4
	.DEBUG-LINE 7,3224,1
	PUSH GL-WINNER
	JUMP ?L5
?L4:	PUSH 0
?L5:	ICALL2 RT-NO-RESPONSE-MSG,STACK
	.DEBUG-LINE 7,3225,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HI-BYE-MSG"
	.FUNCT RT-HI-BYE-MSG
	.DEBUG-LINE 7,3228,1
	CALL1 RT-FOOLISH-TO-TALK-MSG >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,3229,1
	RETURN 2
	.DEBUG-LINE 7,3230,1
?L1:	EQUAL? GL-PRSO,ROOMS \?L3
	.DEBUG-LINE 7,3231,1
	ICALL1 RT-TALK-TO-SELF-MSG
	.DEBUG-LINE 7,3232,1
	RTRUE
	.DEBUG-LINE 7,3234,1
?L3:	ICALL1 RT-NO-RESPONSE-MSG
	.DEBUG-LINE 7,3235,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-RESPONSE-MSG","WHO"
	.FUNCT RT-NO-RESPONSE-MSG,WHO
	ASSIGNED? 'WHO /?L4
	SET 'WHO,0
	.DEBUG-LINE 7,3238,1
?L4:	ZERO? WHO \?L1
	.DEBUG-LINE 7,3239,1
	SET 'WHO,GL-PRSO
	.DEBUG-LINE 7,3240,1
?L1:	ICALL2 RT-CTHEO-PRINT,WHO
	.DEBUG-LINE 7,3241,1
	ICALL2 RT-DONT-DOESNT-MSG,WHO
	.DEBUG-LINE 7,3242,1
	.DEBUG-LINE 7,3243,1
	PRINTR "respond."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TAKE-OFF-PRSO-FIRST-MSG"
	.FUNCT RT-TAKE-OFF-PRSO-FIRST-MSG
	.DEBUG-LINE 7,3246,1
	PRINTI "[taking off "
	ICALL1 RT-THEO-PRINT
	PRINTI " first]"
	CRLF
	.DEBUG-LINE 7,3247,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 7,3248,1
	EQUAL? GL-PRSO,TH-WATSONS-HAT \?L1
	.DEBUG-LINE 7,3249,1
	FSET TH-WATSONS-HAT,FL-OPENED
	RTRUE
	.DEBUG-LINE 7,3250,1
?L1:	EQUAL? GL-PRSO,TH-SUIT-OF-ARMOUR \TRUE
	.DEBUG-LINE 7,3251,1
	MOVE TH-SUIT-OF-ARMOUR,GL-PLACE-CUR
	.DEBUG-LINE 7,3252,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-DROPPED-MSG"
	.FUNCT RT-SAY-DROPPED-MSG
	.DEBUG-LINE 7,3255,1
	ZERO? GL-P-MULT? /?L1
	.DEBUG-LINE 7,3256,1
	.DEBUG-LINE 7,3257,1
	PRINTR "Dropped."
	.DEBUG-LINE 7,3259,1
?L1:	ICALL RT-CYOU-MSG,STR?183,STR?182
	.DEBUG-LINE 7,3260,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3261,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FOOLISH-TO-TALK-MSG"
	.FUNCT RT-FOOLISH-TO-TALK-MSG
	.DEBUG-LINE 7,3264,1
	EQUAL? GL-WINNER,CH-ME,CH-PLAYER /?L1
	.DEBUG-LINE 7,3265,1
	ICALL2 RT-CTHEO-PRINT,GL-WINNER
	.DEBUG-LINE 7,3266,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-WINNER
	.DEBUG-LINE 7,3267,1
	.DEBUG-LINE 7,3268,1
	PRINTR "respond."
	.DEBUG-LINE 7,3269,1
?L1:	EQUAL? GL-PRSO,0,ROOMS /FALSE
	.DEBUG-LINE 7,3271,1
	FSET? GL-PRSO,FL-ALIVE /?L4
	.DEBUG-LINE 7,3272,1
	ICALL RT-NOT-LIKELY-MSG,GL-PRSO,STR?111
	.DEBUG-LINE 7,3273,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 7,3274,1
	RTRUE
	.DEBUG-LINE 7,3275,1
?L4:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER,GL-PRSI /?L6
	EQUAL? GL-PRSO,GL-WINNER \?L5
	.DEBUG-LINE 7,3276,1
?L6:	PRINTI "That would"
	.DEBUG-LINE 7,3277,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 7,3278,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 7,3279,1
	RTRUE
	.DEBUG-LINE 7,3281,1
?L5:	ICALL2 RT-THIS-IS-IT,GL-PRSO
	.DEBUG-LINE 7,3282,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOU-MSG","WRD1","WRD2","PRONOUN?"
	.FUNCT RT-YOU-MSG,WRD1,WRD2,PRONOUN?
	ASSIGNED? 'WRD1 /?L20
	SET 'WRD1,0
?L20:	ASSIGNED? 'WRD2 /?L21
	SET 'WRD2,0
?L21:	ASSIGNED? 'PRONOUN? /?L22
	SET 'PRONOUN?,0
	.DEBUG-LINE 7,3285,1
?L22:	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,3286,1
	PRINTI " you "
	.DEBUG-LINE 7,3287,1
	ZERO? WRD1 /FALSE
	.DEBUG-LINE 7,3288,1
	PRINT WRD1
	PRINTI " "
	RTRUE
	.DEBUG-LINE 7,3290,1
?L1:	PRINTI " "
	.DEBUG-LINE 7,3291,1
	ZERO? PRONOUN? /?L7
	.DEBUG-LINE 7,3292,1
	FSET? GL-WINNER,FL-PLURAL \?L9
	FSET? GL-WINNER,FL-COLLECTIVE /?L9
	.DEBUG-LINE 7,3294,1
	PRINTI "they"
	JUMP ?L16
	.DEBUG-LINE 7,3295,1
?L9:	FSET? GL-WINNER,FL-PERSON \?L11
	.DEBUG-LINE 7,3296,1
	FSET? GL-WINNER,FL-FEMALE \?L12
	.DEBUG-LINE 7,3297,1
	PRINTI "she"
	JUMP ?L16
	.DEBUG-LINE 7,3299,1
?L12:	PRINTI "he"
	JUMP ?L16
	.DEBUG-LINE 7,3301,1
?L11:	PRINTI "it"
	JUMP ?L16
	.DEBUG-LINE 7,3303,1
?L7:	ICALL2 RT-THEO-PRINT,GL-WINNER
	.DEBUG-LINE 7,3304,1
?L16:	PRINTI " "
	.DEBUG-LINE 7,3305,1
	ZERO? WRD2 /FALSE
	.DEBUG-LINE 7,3306,1
	PRINT WRD2
	PRINTI " "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CYOU-MSG","WRD1","WRD2","PRONOUN?"
	.FUNCT RT-CYOU-MSG,WRD1,WRD2,PRONOUN?
	ASSIGNED? 'WRD1 /?L20
	SET 'WRD1,0
?L20:	ASSIGNED? 'WRD2 /?L21
	SET 'WRD2,0
?L21:	ASSIGNED? 'PRONOUN? /?L22
	SET 'PRONOUN?,0
	.DEBUG-LINE 7,3309,1
?L22:	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 7,3310,1
	PRINTI "You "
	.DEBUG-LINE 7,3311,1
	ZERO? WRD1 /FALSE
	.DEBUG-LINE 7,3312,1
	PRINT WRD1
	PRINTI " "
	RTRUE
	.DEBUG-LINE 7,3314,1
?L1:	ZERO? PRONOUN? /?L7
	.DEBUG-LINE 7,3314,1
	FSET? GL-WINNER,FL-PLURAL \?L9
	FSET? GL-WINNER,FL-COLLECTIVE /?L9
	.DEBUG-LINE 7,3316,1
	PRINTI "They"
	JUMP ?L16
	.DEBUG-LINE 7,3317,1
?L9:	FSET? GL-WINNER,FL-PERSON \?L11
	.DEBUG-LINE 7,3318,1
	FSET? GL-WINNER,FL-FEMALE \?L12
	.DEBUG-LINE 7,3319,1
	PRINTI "She"
	JUMP ?L16
	.DEBUG-LINE 7,3321,1
?L12:	PRINTI "He"
	JUMP ?L16
	.DEBUG-LINE 7,3323,1
?L11:	PRINTI "It"
	JUMP ?L16
	.DEBUG-LINE 7,3325,1
?L7:	ICALL2 RT-CTHEO-PRINT,GL-WINNER
	.DEBUG-LINE 7,3326,1
?L16:	PRINTI " "
	.DEBUG-LINE 7,3327,1
	ZERO? WRD2 /FALSE
	.DEBUG-LINE 7,3328,1
	PRINT WRD2
	PRINTI " "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ITS-ALREADY-MSG","STR"
	.FUNCT RT-ITS-ALREADY-MSG,STR
	.DEBUG-LINE 7,3331,1
	PRINTI "It is already "
	PRINT STR
	.DEBUG-LINE 7,3332,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOURE-NOT-A-MSG","STR"
	.FUNCT RT-YOURE-NOT-A-MSG,STR
	.DEBUG-LINE 7,3335,1
	PRINTI "You're a general practitioner, not a "
	PRINT STR
	.DEBUG-LINE 7,3336,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-POINT-MSG","STR"
	.FUNCT RT-NO-POINT-MSG,STR
	.DEBUG-LINE 7,3339,1
	PRINT STR
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " would"
	CALL2 RT-PICK-NEXT,GL-NO-POINT-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 7,3340,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IS-ARE-MSG","THING"
	.FUNCT RT-IS-ARE-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3343,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3344,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3345,1
?L1:	EQUAL? THING,CH-ME,CH-PLAYER /?L6
	FSET? THING,FL-PLURAL \?L4
	FSET? THING,FL-COLLECTIVE /?L4
	.DEBUG-LINE 7,3348,1
?L6:	PRINTI " are "
	RTRUE
	.DEBUG-LINE 7,3350,1
?L4:	PRINTI " is "
	.DEBUG-LINE 7,3351,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ISNT-ARENT-MSG","THING"
	.FUNCT RT-ISNT-ARENT-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3354,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3355,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3356,1
?L1:	EQUAL? THING,CH-ME,CH-PLAYER /?L6
	FSET? THING,FL-PLURAL \?L4
	FSET? THING,FL-COLLECTIVE /?L4
	.DEBUG-LINE 7,3359,1
?L6:	PRINTI " are not "
	RTRUE
	.DEBUG-LINE 7,3361,1
?L4:	PRINTI " is not "
	.DEBUG-LINE 7,3362,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-S-NOS-MSG","THING"
	.FUNCT RT-S-NOS-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3365,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3366,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3367,1
?L1:	EQUAL? THING,CH-ME,CH-PLAYER /TRUE
	FSET? THING,FL-PLURAL \?L6
	FSET? THING,FL-COLLECTIVE \TRUE
	.DEBUG-LINE 7,3370,1
?L6:	PRINTI "s"
	.DEBUG-LINE 7,3371,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ES-NOES-MSG","THING"
	.FUNCT RT-ES-NOES-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3374,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3375,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3376,1
?L1:	EQUAL? THING,CH-ME,CH-PLAYER /TRUE
	FSET? THING,FL-PLURAL \?L6
	FSET? THING,FL-COLLECTIVE \TRUE
	.DEBUG-LINE 7,3379,1
?L6:	PRINTI "es"
	.DEBUG-LINE 7,3380,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DONT-DOESNT-MSG","THING"
	.FUNCT RT-DONT-DOESNT-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3383,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3384,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3385,1
?L1:	EQUAL? THING,CH-ME,CH-PLAYER /?L6
	FSET? THING,FL-PLURAL \?L4
	FSET? THING,FL-COLLECTIVE /?L4
	.DEBUG-LINE 7,3388,1
?L6:	PRINTI " do not "
	RTRUE
	.DEBUG-LINE 7,3390,1
?L4:	PRINTI " does not "
	.DEBUG-LINE 7,3391,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-ITS-MSG","THING"
	.FUNCT RT-SAY-ITS-MSG,THING
	ASSIGNED? 'THING /?L9
	SET 'THING,0
	.DEBUG-LINE 7,3394,1
?L9:	ZERO? THING \?L1
	.DEBUG-LINE 7,3395,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3396,1
?L1:	FSET? THING,FL-PLURAL \?L4
	FSET? THING,FL-COLLECTIVE /?L4
	.DEBUG-LINE 7,3398,1
	PRINTI "They are "
	.DEBUG-LINE 7,3399,1
	RTRUE
	.DEBUG-LINE 7,3400,1
?L4:	FSET? THING,FL-PERSON \?L7
	FSET? THING,FL-FEMALE \?L6
	.DEBUG-LINE 7,3402,1
	PRINTI "She is "
	.DEBUG-LINE 7,3403,1
	RTRUE
	.DEBUG-LINE 7,3404,1
?L6:	FSET? THING,FL-PERSON \?L7
	FSET? THING,FL-FEMALE /?L7
	.DEBUG-LINE 7,3406,1
	PRINTI "He is "
	.DEBUG-LINE 7,3407,1
	RTRUE
	.DEBUG-LINE 7,3409,1
?L7:	PRINTI "It is "
	.DEBUG-LINE 7,3410,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-HIM-HER-THEM-IT-MSG","THING"
	.FUNCT RT-SAY-HIM-HER-THEM-IT-MSG,THING
	ASSIGNED? 'THING /?L15
	SET 'THING,0
	.DEBUG-LINE 7,3413,1
?L15:	ZERO? THING \?L1
	.DEBUG-LINE 7,3414,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3415,1
?L1:	EQUAL? THING,CH-PLAYER,CH-ME \?L4
	.DEBUG-LINE 7,3416,1
	EQUAL? GL-WINNER,CH-PLAYER,CH-ME \?L6
	.DEBUG-LINE 7,3417,1
	PRINTI "yourself"
	RTRUE
	.DEBUG-LINE 7,3419,1
?L6:	PRINTI "you"
	RTRUE
	.DEBUG-LINE 7,3420,1
?L4:	FSET? THING,FL-PLURAL \?L9
	FSET? THING,FL-COLLECTIVE /?L9
	.DEBUG-LINE 7,3422,1
	PRINTI "them"
	RTRUE
	.DEBUG-LINE 7,3423,1
?L9:	FSET? THING,FL-PERSON \?L10
	.DEBUG-LINE 7,3424,1
	FSET? THING,FL-FEMALE \?L11
	.DEBUG-LINE 7,3425,1
	PRINTI "her"
	RTRUE
	.DEBUG-LINE 7,3427,1
?L11:	PRINTI "him"
	RTRUE
	.DEBUG-LINE 7,3429,1
?L10:	PRINTI "it"
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOUR-MSG","THING"
	.FUNCT RT-YOUR-MSG,THING
	ASSIGNED? 'THING /?L12
	SET 'THING,0
	.DEBUG-LINE 7,3432,1
?L12:	ZERO? THING \?L1
	.DEBUG-LINE 7,3433,1
	SET 'THING,GL-WINNER
	.DEBUG-LINE 7,3434,1
?L1:	EQUAL? THING,CH-PLAYER,CH-ME \?L4
	.DEBUG-LINE 7,3435,1
	PRINTI "your "
	RTRUE
	.DEBUG-LINE 7,3436,1
?L4:	FSET? THING,FL-PLURAL \?L6
	FSET? THING,FL-COLLECTIVE /?L6
	.DEBUG-LINE 7,3438,1
	PRINTI "their "
	RTRUE
	.DEBUG-LINE 7,3439,1
?L6:	FSET? THING,FL-PERSON \?L7
	.DEBUG-LINE 7,3441,1
	FSET? THING,FL-FEMALE \?L8
	.DEBUG-LINE 7,3442,1
	PRINTI "her "
	RTRUE
	.DEBUG-LINE 7,3444,1
?L8:	PRINTI "his "
	RTRUE
	.DEBUG-LINE 7,3446,1
?L7:	PRINTI "its "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ITS-CLOSED-MSG","THING"
	.FUNCT RT-ITS-CLOSED-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3449,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3450,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3451,1
?L1:	ICALL2 RT-CTHEO-PRINT,THING
	.DEBUG-LINE 7,3452,1
	ICALL2 RT-IS-ARE-MSG,THING
	.DEBUG-LINE 7,3453,1
	.DEBUG-LINE 7,3454,1
	PRINTR "closed."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WHY-SHOOT-MSG","OBJ"
	.FUNCT RT-WHY-SHOOT-MSG,OBJ
	ASSIGNED? 'OBJ /?L4
	SET 'OBJ,0
	.DEBUG-LINE 7,3457,1
?L4:	ZERO? OBJ \?L1
	.DEBUG-LINE 7,3458,1
	SET 'OBJ,GL-PRSO
	.DEBUG-LINE 7,3459,1
?L1:	PRINTI "Why would"
	.DEBUG-LINE 7,3460,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 7,3461,1
	PRINTI "want to shoot the poor, little, innocent "
	ICALL2 DPRINT,OBJ
	PRINTR "?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HOW-READ-MSG","THING"
	.FUNCT RT-HOW-READ-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3464,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3465,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3466,1
?L1:	PRINTI "How can"
	.DEBUG-LINE 7,3467,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 7,3468,1
	PRINTI "read "
	ICALL2 RT-A-PRINT,THING
	.DEBUG-LINE 7,3469,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ALREADY-HAVE-PRSO-MSG","THING"
	.FUNCT RT-ALREADY-HAVE-PRSO-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3472,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3473,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3474,1
?L1:	ICALL RT-CYOU-MSG,STR?185,STR?184
	.DEBUG-LINE 7,3475,1
	ICALL2 RT-A-PRINT,THING
	.DEBUG-LINE 7,3476,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-OPEN-PRSO-MSG","THING"
	.FUNCT RT-CANT-OPEN-PRSO-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3479,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3480,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3481,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3482,1
	PRINTI "could not possibly open "
	ICALL2 RT-THEO-PRINT,THING
	.DEBUG-LINE 7,3483,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-CLOSE-THAT-MSG","THING"
	.FUNCT RT-CANT-CLOSE-THAT-MSG,THING
	ASSIGNED? 'THING /?L7
	SET 'THING,0
	.DEBUG-LINE 7,3486,1
?L7:	ZERO? THING \?L1
	.DEBUG-LINE 7,3487,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3488,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3489,1
	PRINTI "cannot close "
	.DEBUG-LINE 7,3490,1
	ZERO? THING /?L4
	.DEBUG-LINE 7,3491,1
	ICALL2 RT-THEO-PRINT,THING
	JUMP ?L6
	.DEBUG-LINE 7,3493,1
?L4:	ICALL2 DPRINT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 7,3494,1
	.DEBUG-LINE 7,3495,1
?L6:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-GOOD-SURFACE-MSG","THING"
	.FUNCT RT-NO-GOOD-SURFACE-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3498,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3499,1
	SET 'THING,GL-PRSI
	.DEBUG-LINE 7,3500,1
?L1:	PRINTI "There is no good surface on "
	ICALL2 RT-THEO-PRINT,THING
	.DEBUG-LINE 7,3501,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LANDS-AT-YOUR-FEET-MSG","THING"
	.FUNCT RT-LANDS-AT-YOUR-FEET-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3504,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3505,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3506,1
?L1:	PRINTI "land"
	.DEBUG-LINE 7,3507,1
	ICALL2 RT-S-NOS-MSG,THING
	.DEBUG-LINE 7,3508,1
	PRINTI " at your feet."
	CRLF
	.DEBUG-LINE 7,3509,1
	MOVE THING,GL-PLACE-CUR
	.DEBUG-LINE 7,3510,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OPEN-CLOSED-MSG","THING"
	.FUNCT RT-OPEN-CLOSED-MSG,THING
	ASSIGNED? 'THING /?L7
	SET 'THING,0
	.DEBUG-LINE 7,3513,1
?L7:	ZERO? THING \?L1
	.DEBUG-LINE 7,3514,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3515,1
?L1:	ICALL2 RT-CTHEO-PRINT,THING
	.DEBUG-LINE 7,3516,1
	ICALL2 RT-IS-ARE-MSG,THING
	.DEBUG-LINE 7,3517,1
	FSET? THING,FL-OPENED \?L4
	.DEBUG-LINE 7,3518,1
	PRINTI "open"
	JUMP ?L6
	.DEBUG-LINE 7,3520,1
?L4:	PRINTI "closed"
	.DEBUG-LINE 7,3521,1
?L6:	PRINTI "."
	.DEBUG-LINE 7,3522,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOU-OPEN-MSG","THING"
	.FUNCT RT-YOU-OPEN-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3525,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3526,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3527,1
?L1:	FSET THING,FL-OPENED
	.DEBUG-LINE 7,3528,1
	ICALL RT-CYOU-MSG,STR?108,STR?186
	.DEBUG-LINE 7,3529,1
	ICALL2 RT-THEO-PRINT,THING
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-YOU-CLOSE-MSG","THING"
	.FUNCT RT-YOU-CLOSE-MSG,THING
	ASSIGNED? 'THING /?L4
	SET 'THING,0
	.DEBUG-LINE 7,3532,1
?L4:	ZERO? THING \?L1
	.DEBUG-LINE 7,3533,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3534,1
?L1:	FCLEAR THING,FL-OPENED
	.DEBUG-LINE 7,3535,1
	ICALL RT-CYOU-MSG,STR?153,STR?187
	.DEBUG-LINE 7,3536,1
	ICALL2 RT-THEO-PRINT,THING
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IN-ON-MSG","THING","SPACE?"
	.FUNCT RT-IN-ON-MSG,THING,SPACE?
	ASSIGNED? 'THING /?L11
	SET 'THING,0
?L11:	ASSIGNED? 'SPACE? /?L12
	SET 'SPACE?,1
	.DEBUG-LINE 7,3539,1
?L12:	ZERO? THING \?L1
	.DEBUG-LINE 7,3540,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3541,1
?L1:	ZERO? SPACE? /?L4
	.DEBUG-LINE 7,3542,1
	PRINTI " "
	.DEBUG-LINE 7,3543,1
?L4:	FSET? THING,FL-CONTAINER \?L7
	.DEBUG-LINE 7,3544,1
	PRINTI "in"
	JUMP ?L10
	.DEBUG-LINE 7,3545,1
?L7:	FSET? THING,FL-SURFACE \?L9
	.DEBUG-LINE 7,3546,1
	PRINTI "on"
	JUMP ?L10
	.DEBUG-LINE 7,3548,1
?L9:	PRINTI "held by"
	.DEBUG-LINE 7,3549,1
?L10:	PRINTI " "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CIN-CON-MSG","THING"
	.FUNCT RT-CIN-CON-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3552,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3553,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3554,1
?L1:	FSET? THING,FL-SURFACE \?L4
	.DEBUG-LINE 7,3555,1
	PRINTI "On "
	RTRUE
	.DEBUG-LINE 7,3556,1
?L4:	FSET? THING,FL-CONTAINER \?L6
	.DEBUG-LINE 7,3557,1
	PRINTI "In "
	RTRUE
	.DEBUG-LINE 7,3559,1
?L6:	PRINTI "Held by "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-OUT-OFF-MSG","THING"
	.FUNCT RT-OUT-OFF-MSG,THING
	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3562,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3563,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3564,1
?L1:	FSET? THING,FL-SURFACE \?L4
	.DEBUG-LINE 7,3565,1
	PRINTI " off of "
	RTRUE
	.DEBUG-LINE 7,3566,1
?L4:	FSET? THING,FL-CONTAINER \?L6
	.DEBUG-LINE 7,3567,1
	PRINTI " out of "
	RTRUE
	.DEBUG-LINE 7,3569,1
?L6:	PRINTI " from "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-LOCK-MSG","UN?","THING"
	.FUNCT RT-CANT-LOCK-MSG,UN?,THING
	ASSIGNED? 'UN? /?L7
	SET 'UN?,0
?L7:	ASSIGNED? 'THING /?L8
	SET 'THING,0
	.DEBUG-LINE 7,3572,1
?L8:	ZERO? THING \?L1
	.DEBUG-LINE 7,3573,1
	SET 'THING,GL-PRSO
	.DEBUG-LINE 7,3574,1
?L1:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3575,1
	PRINTI "cannot "
	.DEBUG-LINE 7,3576,1
	ZERO? UN? /?L4
	.DEBUG-LINE 7,3577,1
	PRINTI "un"
	.DEBUG-LINE 7,3578,1
?L4:	PRINTI "lock "
	ICALL2 RT-A-PRINT,THING
	.DEBUG-LINE 7,3579,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THING-WONT-LOCK-MSG","THING","CLOSED-THING","UN?"
	.FUNCT RT-THING-WONT-LOCK-MSG,THING,CLOSED-THING,UN?
	ASSIGNED? 'UN? /?L4
	SET 'UN?,0
	.DEBUG-LINE 7,3582,1
?L4:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3583,1
	PRINTI "cannot "
	.DEBUG-LINE 7,3584,1
	ZERO? UN? /?L1
	.DEBUG-LINE 7,3585,1
	PRINTI "un"
	.DEBUG-LINE 7,3586,1
?L1:	PRINTI "lock "
	ICALL2 RT-THEO-PRINT,CLOSED-THING
	PRINTI " with "
	ICALL2 RT-THEO-PRINT,THING
	.DEBUG-LINE 7,3587,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DONT-HAVE-MSG","OBJ","L","O"
	.FUNCT RT-DONT-HAVE-MSG,OBJ,L,O
	.DEBUG-LINE 7,3590,1
	LOC OBJ >L
	.DEBUG-LINE 7,3591,1
	ZERO? L /?L7
	.DEBUG-LINE 7,3592,1
	EQUAL? L,GL-WINNER /FALSE
	.DEBUG-LINE 7,3594,1
	IN? L,CH-PLAYER \?L7
	EQUAL? GL-WINNER,CH-PLAYER \?L7
	.DEBUG-LINE 7,3596,1
	SET 'O,GL-PRSO
	.DEBUG-LINE 7,3597,1
	SET 'GL-PRSO,OBJ
	.DEBUG-LINE 7,3598,1
	CALL2 RT-ITAKE,0 >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 7,3599,1
	PRINTI "[taking "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3600,1
	ICALL2 RT-OUT-OFF-MSG,L
	.DEBUG-LINE 7,3601,1
	ICALL2 RT-THEO-PRINT,L
	PRINTI " first]"
	CRLF
	.DEBUG-LINE 7,3602,1
	SET 'GL-PRSO,O
	.DEBUG-LINE 7,3603,1
	ICALL2 RT-THIS-IS-IT,GL-PRSO
	.DEBUG-LINE 7,3604,1
	RFALSE
	.DEBUG-LINE 7,3606,1
?L5:	SET 'GL-PRSO,O
	.DEBUG-LINE 7,3607,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3608,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?177,OBJ
	.DEBUG-LINE 7,3609,1
	ICALL2 RT-OUT-OFF-MSG,L
	.DEBUG-LINE 7,3610,1
	ICALL2 RT-THEO-PRINT,L
	.DEBUG-LINE 7,3611,1
	PRINTR " first."
	.DEBUG-LINE 7,3612,1
?L7:	ICALL1 RT-WINNER-NOT-HOLDING-MSG
	.DEBUG-LINE 7,3613,1
	ZERO? OBJ /?L9
	.DEBUG-LINE 7,3618,1
	ICALL2 RT-THEO-PRINT,OBJ
	JUMP ?L13
	.DEBUG-LINE 7,3620,1
?L9:	ICALL2 RT-THEO-PRINT,TH-NOT-HERE-OBJECT
	.DEBUG-LINE 7,3621,1
	.DEBUG-LINE 7,3622,1
?L13:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ROOM-IN-ON-MSG?","OBJ1","OBJ2"
	.FUNCT RT-ROOM-IN-ON-MSG?,OBJ1,OBJ2
	.DEBUG-LINE 7,3625,1
	CALL RT-OBJ-TOO-LARGE?,OBJ1,OBJ2 >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 7,3626,1
	PRINTI "There is not enough room"
	.DEBUG-LINE 7,3627,1
	ICALL2 RT-IN-ON-MSG,OBJ2
	.DEBUG-LINE 7,3628,1
	ICALL2 RT-THEO-PRINT,OBJ2
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IMPOSSIBLE-PUT-IN-ON-MSG","OBJ"
	.FUNCT RT-IMPOSSIBLE-PUT-IN-ON-MSG,OBJ
	.DEBUG-LINE 7,3631,1
	ZERO? OBJ \?L1
	.DEBUG-LINE 7,3632,1
	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 7,3633,1
?L1:	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	EQUAL? GL-PRSI,OBJ \FALSE
	.DEBUG-LINE 7,3635,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,3636,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CANT-PUT-IN-ON-MSG","OBJ"
	.FUNCT RT-CANT-PUT-IN-ON-MSG,OBJ
	.DEBUG-LINE 7,3641,1
	ZERO? OBJ \?L1
	.DEBUG-LINE 7,3642,1
	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 7,3643,1
?L1:	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	EQUAL? GL-PRSI,OBJ \FALSE
	.DEBUG-LINE 7,3645,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3646,1
	PRINTI "cannot put "
	ICALL1 RT-THEO-PRINT
	PRINTI " "
	.DEBUG-LINE 7,3647,1
	FSET? GL-PRSO,FL-CONTAINER \?L6
	.DEBUG-LINE 7,3648,1
	PRINTI "in"
	JUMP ?L10
	.DEBUG-LINE 7,3649,1
?L6:	FSET? GL-PRSO,FL-SURFACE \?L8
	.DEBUG-LINE 7,3650,1
	PRINTI "on"
	JUMP ?L10
	.DEBUG-LINE 7,3651,1
?L8:	EQUAL? GL-PRSA,V?PUT \?L9
	.DEBUG-LINE 7,3652,1
	PRINTI "in"
	JUMP ?L10
	.DEBUG-LINE 7,3654,1
?L9:	PRINTI "on"
	.DEBUG-LINE 7,3655,1
?L10:	PRINTI " "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CHECK-MOVE-MSG?","SRC","DEST","PTR","OLOC","CNT"
	.FUNCT RT-CHECK-MOVE-MSG?,SRC,DEST,PTR,OLOC,CNT
	.DEBUG-LINE 7,3658,1
	ZERO? DEST /FALSE
	.DEBUG-LINE 7,3659,1
	SET 'PTR,GL-LOC-TRAIL
	.DEBUG-LINE 7,3660,1
	SET 'OLOC,DEST
	.DEBUG-LINE 7,3662,1
?L3:	PUT PTR,0,OLOC
	.DEBUG-LINE 7,3663,1
	INC 'CNT
	.DEBUG-LINE 7,3664,1
	ZERO? OLOC /?L4
	IN? OLOC,ROOMS /?L4
	IN? OLOC,LOCAL-GLOBALS /?L4
	IN? OLOC,GLOBAL-OBJECTS /?L4
	.DEBUG-LINE 7,3669,1
	LOC OLOC >OLOC
	.DEBUG-LINE 7,3670,1
	ADD PTR,2 >PTR
	.DEBUG-LINE 7,3671,1
	EQUAL? OLOC,DEST \?L3
	.DEBUG-LINE 7,3673,1
?L4:	INTBL? SRC,GL-LOC-TRAIL,CNT >STACK \FALSE
	.DEBUG-LINE 7,3674,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3675,1
	PRINTI "cannot put "
	ICALL2 RT-THEO-PRINT,SRC
	.DEBUG-LINE 7,3676,1
	ICALL2 RT-IN-ON-MSG,SRC
	.DEBUG-LINE 7,3677,1
	PRINTI "itself, or"
	.DEBUG-LINE 7,3678,1
	ICALL2 RT-IN-ON-MSG,SRC
	.DEBUG-LINE 7,3679,1
	PRINTI "something that is already"
	.DEBUG-LINE 7,3680,1
	ICALL2 RT-IN-ON-MSG,SRC
	.DEBUG-LINE 7,3681,1
	.DEBUG-LINE 7,3682,1
	PRINTR "it."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EMPTY-PRSO-MSG","DEST","OBJ","NXT","X"
	.FUNCT RT-EMPTY-PRSO-MSG,DEST,OBJ,NXT,X
	.DEBUG-LINE 7,3685,1
	FIRST? GL-PRSO >OBJ /?L2
	.DEBUG-LINE 7,3687,1
	PRINTI "There is nothing"
	.DEBUG-LINE 7,3688,1
	ICALL2 RT-IN-ON-MSG,GL-PRSO
	.DEBUG-LINE 7,3689,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 7,3690,1
	PRINTR "."
	.DEBUG-LINE 7,3691,1
?L2:	SET 'GL-P-MULT?,1
	.DEBUG-LINE 7,3693,1
?L5:	ZERO? OBJ /?L6
	.DEBUG-LINE 7,3695,1
	ICALL2 RT-CTHEO-PRINT,OBJ
	PRINTI ": "
	.DEBUG-LINE 7,3696,1
	NEXT? OBJ >NXT /?L10
	.DEBUG-LINE 7,3697,1
?L10:	EQUAL? DEST,CH-PLAYER \?L11
	.DEBUG-LINE 7,3698,1
	CALL RT-PERFORM,V?TAKE,OBJ,GL-PRSO >X
	.DEBUG-LINE 7,3699,1
	EQUAL? X,FATAL-VALUE \?L22
	.DEBUG-LINE 7,3700,1
	JUMP ?L6
	.DEBUG-LINE 7,3701,1
?L11:	ZERO? DEST \?L16
	.DEBUG-LINE 7,3702,1
	FSET? GL-PRSO,FL-PLURAL \?L17
	FSET? GL-PRSO,FL-COLLECTIVE /?L17
	.DEBUG-LINE 7,3704,1
	PRINTI "They "
	JUMP ?L19
	.DEBUG-LINE 7,3706,1
?L17:	PRINTI "It "
	.DEBUG-LINE 7,3707,1
?L19:	ICALL1 RT-LANDS-AT-YOUR-FEET-MSG
	JUMP ?L22
	.DEBUG-LINE 7,3708,1
?L16:	CALL RT-ROOM-IN-ON-MSG?,OBJ,DEST >STACK
	ZERO? STACK \?L22
	.DEBUG-LINE 7,3709,1
	CALL RT-CHECK-MOVE-MSG?,OBJ,DEST >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 7,3712,1
	MOVE OBJ,DEST
	.DEBUG-LINE 7,3713,1
	PRINTI "Done."
	CRLF
	.DEBUG-LINE 7,3714,1
?L22:	SET 'OBJ,NXT
	JUMP ?L5
	.DEBUG-LINE 7,3715,1
?L6:	SET 'GL-P-MULT?,0
	.DEBUG-LINE 7,3716,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IDROP-MSG","L","?TMP"
	.FUNCT RT-IDROP-MSG,L,?TMP
	.DEBUG-LINE 7,3719,1
	LOC GL-PRSO >L
	.DEBUG-LINE 7,3720,1
	ZERO? L /?L3
	EQUAL? GL-PRSO,GL-WINNER,CH-ME,CH-PLAYER \?L1
	.DEBUG-LINE 7,3722,1
?L3:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 7,3723,1
	RFALSE
	.DEBUG-LINE 7,3724,1
?L1:	EQUAL? L,GL-WINNER /?L4
	.DEBUG-LINE 7,3725,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 7,3726,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?177,GL-PRSO
	.DEBUG-LINE 7,3727,1
	ICALL2 RT-OUT-OFF-MSG,L
	.DEBUG-LINE 7,3728,1
	ICALL2 RT-THEO-PRINT,L
	PRINTI " first."
	CRLF
	.DEBUG-LINE 7,3729,1
	RFALSE
	.DEBUG-LINE 7,3730,1
?L4:	FSET? GL-PRSO,FL-WORN \?L5
	IN? GL-PRSO,GL-WINNER \?L5
	.DEBUG-LINE 7,3732,1
	ICALL1 RT-TAKE-OFF-PRSO-FIRST-MSG
	.DEBUG-LINE 7,3733,1
?L5:	EQUAL? GL-PRSA,V?THROW \?L7
	.DEBUG-LINE 7,3734,1
	SET '?TMP,GL-PRSO
	CALL2 RT-META-LOC,GL-WINNER >STACK
	MOVE ?TMP,STACK
	RTRUE
	.DEBUG-LINE 7,3736,1
?L7:	LOC GL-WINNER >STACK
	MOVE GL-PRSO,STACK
	.DEBUG-LINE 7,3737,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PRINT-CONTENTS-1","THING","OBJ","CNT","TMP"
	.FUNCT RT-PRINT-CONTENTS-1,THING,OBJ,CNT,TMP
	SET 'CNT,0
	.DEBUG-LINE 7,3740,1
	ICALL RT-MOVE-NODESC-OBJS,THING,TH-Y-OBJECT
	.DEBUG-LINE 7,3741,1
	FIRST? THING >OBJ \?L3
	.DEBUG-LINE 7,3745,1
?L4:	FSET OBJ,FL-SEEN
	.DEBUG-LINE 7,3746,1
	PRINTI "  "
	ICALL2 RT-A-PRINT,OBJ
	.DEBUG-LINE 7,3747,1
	FSET? OBJ,FL-LIGHTED \?L7
	.DEBUG-LINE 7,3748,1
	PRINTI " (providing light)"
	.DEBUG-LINE 7,3749,1
?L7:	PRINTI "."
	CRLF
	.DEBUG-LINE 7,3750,1
	INC 'CNT
	.DEBUG-LINE 7,3751,1
	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 7,3752,1
?L3:	ZERO? CNT \?L11
	.DEBUG-LINE 7,3753,1
	PRINTI "  nothing."
	CRLF
	.DEBUG-LINE 7,3754,1
?L11:	ICALL RT-MOVE-ALL,TH-Y-OBJECT,THING
	.DEBUG-LINE 7,3755,1
	FIRST? THING >OBJ \TRUE
	.DEBUG-LINE 7,3760,1
?L17:	CALL2 RT-SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L20
	.DEBUG-LINE 7,3761,1
	ICALL2 RT-PRINT-CONTENTS-3,OBJ
	.DEBUG-LINE 7,3762,1
?L20:	NEXT? OBJ >OBJ /?L17
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PRINT-CONTENTS-2","THING","OBJ","CNT"
	.FUNCT RT-PRINT-CONTENTS-2,THING,OBJ,CNT
	SET 'CNT,0
	.DEBUG-LINE 7,3766,1
	ICALL RT-MOVE-NODESC-OBJS,THING,TH-Y-OBJECT
	.DEBUG-LINE 7,3767,1
	FIRST? THING >OBJ /?L4
	JUMP ?L3
	.DEBUG-LINE 7,3769,1
?L1:	ZERO? OBJ /?L3
	.DEBUG-LINE 7,3771,1
?L4:	FSET OBJ,FL-SEEN
	.DEBUG-LINE 7,3772,1
	ICALL2 RT-A-PRINT,OBJ
	.DEBUG-LINE 7,3773,1
	FSET? OBJ,FL-LIGHTED \?L7
	.DEBUG-LINE 7,3774,1
	PRINTI " (providing light)"
	.DEBUG-LINE 7,3775,1
?L7:	INC 'CNT
	.DEBUG-LINE 7,3776,1
	NEXT? OBJ >OBJ \?L3
	.DEBUG-LINE 7,3778,1
	NEXT? OBJ >STACK /?L15
?L15:	ZERO? STACK \?L13
	.DEBUG-LINE 7,3779,1
	PRINTI " and "
	JUMP ?L1
	.DEBUG-LINE 7,3781,1
?L13:	PRINTI ", "
	JUMP ?L1
	.DEBUG-LINE 7,3782,1
?L3:	ZERO? CNT \?L18
	.DEBUG-LINE 7,3783,1
	PRINTI "nothing"
	.DEBUG-LINE 7,3784,1
?L18:	ICALL RT-MOVE-ALL,TH-Y-OBJECT,THING
	.DEBUG-LINE 7,3785,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PRINT-CONTENTS-3","THING","OBJ","FIRST","CNT"
	.FUNCT RT-PRINT-CONTENTS-3,THING,OBJ,FIRST,CNT
	SET 'FIRST,1
	SET 'CNT,0
	.DEBUG-LINE 7,3788,1
	FIRST? THING >OBJ \TRUE
	.DEBUG-LINE 7,3792,1
?L4:	FSET? OBJ,FL-NODESC /?L6
	.DEBUG-LINE 7,3793,1
	ZERO? FIRST /?L7
	.DEBUG-LINE 7,3794,1
	SET 'FIRST,0
	.DEBUG-LINE 7,3795,1
	LOC OBJ >STACK
	ICALL2 RT-CIN-CON-MSG,STACK
	.DEBUG-LINE 7,3796,1
	LOC OBJ >STACK
	ICALL2 RT-THEO-PRINT,STACK
	PRINTI " you see:"
	CRLF
	.DEBUG-LINE 7,3797,1
?L7:	PRINTI "  "
	ICALL2 RT-A-PRINT,OBJ
	CRLF
	.DEBUG-LINE 7,3798,1
?L6:	NEXT? OBJ >OBJ /?L4
	.DEBUG-LINE 7,3799,1
	FIRST? THING >OBJ \TRUE
	.DEBUG-LINE 7,3804,1
?L15:	CALL2 RT-SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L18
	.DEBUG-LINE 7,3805,1
	ICALL2 RT-PRINT-CONTENTS-3,OBJ
	.DEBUG-LINE 7,3806,1
?L18:	NEXT? OBJ >OBJ /?L15
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DO-WALK","DIR1","DIR2","DIR3","X"
	.FUNCT RT-DO-WALK,DIR1,DIR2,DIR3,X
	ASSIGNED? 'DIR2 /?L7
	SET 'DIR2,0
?L7:	ASSIGNED? 'DIR3 /?L8
	SET 'DIR3,0
	.DEBUG-LINE 7,3809,1
?L8:	SET 'GL-P-WALK-DIR,DIR1
	.DEBUG-LINE 7,3810,1
	CALL RT-PERFORM,V?WALK,DIR1 >X
	.DEBUG-LINE 7,3811,1
	ZERO? DIR2 /?L3
	EQUAL? X,0,FATAL-VALUE /?L3
	.DEBUG-LINE 7,3813,1
	SET 'GL-P-WALK-DIR,DIR2
	.DEBUG-LINE 7,3814,1
	CALL RT-PERFORM,V?WALK,DIR2 >X
	.DEBUG-LINE 7,3815,1
	ZERO? DIR3 /?L3
	EQUAL? X,0,FATAL-VALUE /?L3
	.DEBUG-LINE 7,3817,1
	SET 'GL-P-WALK-DIR,DIR3
	.DEBUG-LINE 7,3818,1
	CALL RT-PERFORM,V?WALK,DIR3 >X
	.DEBUG-LINE 7,3819,1
?L3:	RETURN X
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WHO-SAYS?","?TMP"
	.FUNCT RT-WHO-SAYS?,?TMP
	.DEBUG-LINE 7,3822,1
	SET '?TMP,GL-PLACE-CUR
	CALL2 RT-META-LOC,CH-HOLMES >STACK
	EQUAL? ?TMP,STACK \?L1
	FSET? CH-HOLMES,FL-ASLEEP /?L1
	FSET? CH-HOLMES,FL-LOCKED /?L1
	.DEBUG-LINE 7,3825,1
	RETURN CH-HOLMES
	.DEBUG-LINE 7,3826,1
?L1:	SET '?TMP,GL-PLACE-CUR
	CALL2 RT-META-LOC,CH-WIGGINS >STACK
	EQUAL? ?TMP,STACK \FALSE
	FSET? CH-WIGGINS,FL-ASLEEP /FALSE
	FSET? CH-WIGGINS,FL-LOCKED /FALSE
	.DEBUG-LINE 7,3829,1
	RETURN CH-WIGGINS
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TRANSCRIPT","STR"
	.FUNCT RT-TRANSCRIPT,STR
	.DEBUG-LINE 7,3834,1
	DIROUT K-D-SCR-OFF
	.DEBUG-LINE 7,3835,1
	CRLF
	PRINTI "Transcript: "
	PRINT STR
	CRLF
	.DEBUG-LINE 7,3836,1
	ICALL1 RT-VERSION-MSG
	.DEBUG-LINE 7,3837,1
	DIROUT K-D-SCR-ON
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-QSR","KEY"
	.FUNCT RT-QSR,KEY
	.DEBUG-LINE 7,3840,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 7,3841,1
	PRINTI "The game is no longer afoot."
	CRLF
	CRLF
	.DEBUG-LINE 7,3843,1
?L1:	PRINTI "Do you wish to: (1) Quit, (2) Restart, (3) Restore, (4) Hints"
	.DEBUG-LINE 7,3844,1
	ZERO? GL-CAN-UNDO /?L3
	.DEBUG-LINE 7,3845,1
	PRINTI ", (5) Undo"
	.DEBUG-LINE 7,3846,1
?L3:	PRINTI " ?"
	CRLF
	.DEBUG-LINE 7,3847,1
	INPUT 1 >KEY
	.DEBUG-LINE 7,3848,1
	EQUAL? KEY,49 \?L6
	.DEBUG-LINE 7,3849,1
	QUIT
	.DEBUG-LINE 7,3851,1
?L6:	EQUAL? KEY,50 \?L8
	.DEBUG-LINE 7,3852,1
	RESTART
	.DEBUG-LINE 7,3854,1
?L8:	EQUAL? KEY,51 \?L9
	.DEBUG-LINE 7,3855,1
	ZERO? GL-DEBUG-FLAG /?L10
	.DEBUG-LINE 7,3857,1
?L10:	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 7,3858,1
	PUTB GL-OOPS-INBUF,1,0
	.DEBUG-LINE 7,3859,1
	RESTORE >STACK
	.DEBUG-LINE 7,3860,1
	PRINTI "Restore failed."
	CRLF
	JUMP ?L1
	.DEBUG-LINE 7,3861,1
?L9:	EQUAL? KEY,52 \?L13
	.DEBUG-LINE 7,3862,1
	ICALL1 V-HINT
	.DEBUG-LINE 7,3864,1
	JUMP ?L1
	.DEBUG-LINE 7,3865,1
?L13:	EQUAL? KEY,53 \?L1
	ZERO? GL-CAN-UNDO /?L1
	.DEBUG-LINE 7,3867,1
	ICALL1 V-UNDO
	JUMP ?L1
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-YES"
	.FUNCT V-YES
	.DEBUG-LINE 7,3870,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	.DEBUG-LINE 7,3871,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-NO"
	.FUNCT V-NO
	.DEBUG-LINE 7,3874,1
	PRINT K-PITY-MSG
	CRLF
	.DEBUG-LINE 7,3875,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-MAYBE"
	.FUNCT V-MAYBE
	.DEBUG-LINE 7,3878,1
	PRINT K-MAYBE-MSG
	CRLF
	.DEBUG-LINE 7,3879,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-DESC-LEVEL"
	.FUNCT V-DESC-LEVEL
	.DEBUG-LINE 7,3882,1
	PRINTI "["
	.DEBUG-LINE 7,3883,1
	EQUAL? GL-P-PRSA-WORD,W?VERBOSE \?L1
	.DEBUG-LINE 7,3884,1
	SET 'GL-DESC-LEVEL,2
	.DEBUG-LINE 7,3885,1
	PRINTI "Verbose"
	JUMP ?L4
	.DEBUG-LINE 7,3886,1
?L1:	EQUAL? GL-P-PRSA-WORD,W?BRIEF \?L3
	.DEBUG-LINE 7,3887,1
	SET 'GL-DESC-LEVEL,1
	.DEBUG-LINE 7,3888,1
	PRINTI "Brief"
	JUMP ?L4
	.DEBUG-LINE 7,3889,1
?L3:	EQUAL? GL-P-PRSA-WORD,W?SUPER,W?SUPERBRIEF \?L4
	.DEBUG-LINE 7,3890,1
	SET 'GL-DESC-LEVEL,0
	.DEBUG-LINE 7,3891,1
	PRINTI "Superbrief"
	.DEBUG-LINE 7,3892,1
?L4:	PRINTI " descriptions]"
	CRLF
	.DEBUG-LINE 7,3893,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-QUIT"
	.FUNCT V-QUIT
	.DEBUG-LINE 7,3896,1
	PRINTI "[Your score is "
	PRINTN GL-SCORE-CUR
	PRINTI " out of "
	PRINTN GL-SCORE-MAX
	PRINTI ", which earns you a ranking of "
	CALL2 RT-RANK-STR,GL-SCORE-CUR >STACK
	PRINT STACK
	PRINTI ".]"
	CRLF
	CRLF
	.DEBUG-LINE 7,3898,1
	PRINTI "Are you sure you want to quit?"
	.DEBUG-LINE 7,3899,1
	CALL1 RT-GET-YES-NO? >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,3900,1
	QUIT
	.DEBUG-LINE 7,3904,1
?L1:	CRLF
	PRINTI "Continuing."
	CRLF
	.DEBUG-LINE 7,3905,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RESTART"
	.FUNCT V-RESTART
	.DEBUG-LINE 7,3908,1
	PRINTI "Are you sure you want to restart?"
	.DEBUG-LINE 7,3909,1
	CALL1 RT-GET-YES-NO? >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 7,3910,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 7,3911,1
	RESTART
	.DEBUG-LINE 7,3915,1
?L1:	CRLF
	PRINTI "Continuing."
	CRLF
	.DEBUG-LINE 7,3916,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SAVE","X","WHO"
	.FUNCT V-SAVE,X,WHO
	.DEBUG-LINE 7,3919,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 7,3920,1
	EQUAL? WHO,CH-HOLMES \?L1
	.DEBUG-LINE 7,3921,1
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINTI " nods in approval and says, ""A wise move, Watson. These are dangerous times."""
	CRLF
	CRLF
	JUMP ?L3
	.DEBUG-LINE 7,3924,1
?L1:	EQUAL? WHO,CH-WIGGINS \?L3
	.DEBUG-LINE 7,3925,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINTI " glances around in alarm and says, ""Do you know somefing I don't know?"""
	CRLF
	CRLF
	.DEBUG-LINE 7,3928,1
?L3:	ZERO? GL-DEBUG-FLAG /?L5
	.DEBUG-LINE 7,3930,1
?L5:	SET 'GL-SCORE-STS,-1
	.DEBUG-LINE 7,3931,1
	SET 'GL-MOVES-STS,-1
	.DEBUG-LINE 7,3932,1
	SET 'GL-PLACE-STS,-1
	.DEBUG-LINE 7,3933,1
	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 7,3934,1
	PUTB GL-OOPS-INBUF,1,0
	.DEBUG-LINE 7,3935,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 7,3935,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 7,3937,1
	SAVE >X
	.DEBUG-LINE 7,3938,1
	ZERO? SOUND-ON? /?L8
	.DEBUG-LINE 7,3939,1
	ICALL1 CHECK-LOOPING
	.DEBUG-LINE 7,3940,1
?L8:	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 7,3941,1
	ZERO? X \?L11
	.DEBUG-LINE 7,3942,1
	PRINTI "Save failed."
	CRLF
	.DEBUG-LINE 7,3943,1
	RETURN 2
	.DEBUG-LINE 7,3944,1
?L11:	EQUAL? X,1 \?L13
	.DEBUG-LINE 7,3945,1
	PRINTI "Save completed."
	CRLF
	.DEBUG-LINE 7,3946,1
	RETURN 2
	.DEBUG-LINE 7,3949,1
?L13:	PRINTI "Restore completed."
	CRLF
	CRLF
	.DEBUG-LINE 7,3950,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 7,3951,1
	EQUAL? WHO,CH-HOLMES \?L15
	.DEBUG-LINE 7,3952,1
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINTI " looks up and says impatiently, ""Where have you been, Watson? We have work to do."""
	CRLF
	CRLF
	JUMP ?L17
	.DEBUG-LINE 7,3955,1
?L15:	EQUAL? WHO,CH-WIGGINS \?L17
	.DEBUG-LINE 7,3956,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINTI " jumps nervously and then says, ""Crikey! You scared me. Don't sneak up on people that way."""
	CRLF
	CRLF
	.DEBUG-LINE 7,3959,1
?L17:	ICALL RT-DESC-ALL,0,1
	.DEBUG-LINE 7,3960,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-RESTORE"
	.FUNCT V-RESTORE
	.DEBUG-LINE 7,3963,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 7,3963,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 7,3966,1
	ZERO? GL-DEBUG-FLAG /?L1
	.DEBUG-LINE 7,3968,1
?L1:	ICALL1 RT-P-CLEAR
	.DEBUG-LINE 7,3969,1
	PUTB GL-OOPS-INBUF,1,0
	.DEBUG-LINE 7,3970,1
	RESTORE >STACK
	.DEBUG-LINE 7,3971,1
	GET 0,8 >STACK
	BTST STACK,4 \?L4
	.DEBUG-LINE 7,3972,1
	ICALL2 RT-INIT-SCREEN,1
	.DEBUG-LINE 7,3973,1
	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 7,3974,1
	GET 0,8 >STACK
	BAND STACK,-5 >STACK
	PUT 0,8,STACK
	.DEBUG-LINE 7,3975,1
?L4:	PRINTI "Restore failed."
	CRLF
	.DEBUG-LINE 7,3976,1
	ZERO? SOUND-ON? /?L7
	.DEBUG-LINE 7,3977,1
	ICALL1 CHECK-LOOPING
	.DEBUG-LINE 7,3980,1
?L7:	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SCRIPT"
	.FUNCT V-SCRIPT
	.DEBUG-LINE 7,3983,1
	PRINTI "[Scripting "
	.DEBUG-LINE 7,3984,1
	EQUAL? GL-P-PRSA-WORD,W?SCRIPT \?L1
	.DEBUG-LINE 7,3985,1
	PRINTI "on"
	JUMP ?L3
	.DEBUG-LINE 7,3987,1
?L1:	PRINTI "off"
	.DEBUG-LINE 7,3988,1
?L3:	PRINTI "]"
	CRLF
	.DEBUG-LINE 7,3989,1
	EQUAL? GL-P-PRSA-WORD,W?SCRIPT \?L4
	.DEBUG-LINE 7,3990,1
	DIROUT K-D-PRN-ON
	.DEBUG-LINE 7,3991,1
	ICALL2 RT-TRANSCRIPT,STR?188
	JUMP ?L6
	.DEBUG-LINE 7,3993,1
?L4:	ICALL2 RT-TRANSCRIPT,STR?189
	.DEBUG-LINE 7,3994,1
	DIROUT K-D-PRN-OFF
	.DEBUG-LINE 7,3995,1
?L6:	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-VERSION"
	.FUNCT V-VERSION
	.DEBUG-LINE 7,3998,1
	ICALL1 RT-VERSION-MSG
	.DEBUG-LINE 7,3999,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-INVENTORY","POCKET","PLOC","OBJ","NXT","OLDIT"
	.FUNCT V-INVENTORY,POCKET,PLOC,OBJ,NXT,OLDIT
	SET 'POCKET,0
	.DEBUG-LINE 7,4002,1
	SET 'OLDIT,GL-P-IT-OBJECT
	.DEBUG-LINE 7,4003,1
	LOC TH-POCKET >PLOC
	.DEBUG-LINE 7,4004,1
	FIRST? TH-POCKET >POCKET /?L1
	.DEBUG-LINE 7,4005,1
?L1:	REMOVE TH-POCKET
	.DEBUG-LINE 7,4006,1
	FIRST? CH-PLAYER >OBJ /?L5
	JUMP ?L4
	.DEBUG-LINE 7,4008,1
?L2:	ZERO? OBJ /?L4
	.DEBUG-LINE 7,4011,1
?L5:	NEXT? OBJ >NXT /?L8
	.DEBUG-LINE 7,4012,1
?L8:	FSET? OBJ,FL-WORN \?L9
	EQUAL? OBJ,TH-COTTON-BALLS,TH-STETHOSCOPE /?L9
	.DEBUG-LINE 7,4014,1
	MOVE OBJ,TH-X-OBJECT
	.DEBUG-LINE 7,4015,1
?L9:	SET 'OBJ,NXT
	JUMP ?L2
	.DEBUG-LINE 7,4016,1
?L4:	FIRST? TH-X-OBJECT >STACK \?L12
	.DEBUG-LINE 7,4017,1
	PRINTI "You are wearing:"
	CRLF
	.DEBUG-LINE 7,4018,1
	ICALL2 RT-PRINT-CONTENTS-1,TH-X-OBJECT
	.DEBUG-LINE 7,4019,1
?L12:	FSET? TH-COTTON-BALLS,FL-WORN /?L17
	FSET? TH-STETHOSCOPE,FL-WORN \?L20
	.DEBUG-LINE 7,4021,1
?L17:	PRINTI "You have in your ears:"
	CRLF
	PRINTI "  "
	.DEBUG-LINE 7,4022,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L18
	.DEBUG-LINE 7,4023,1
	MOVE TH-COTTON-BALLS,TH-X-OBJECT
	.DEBUG-LINE 7,4024,1
	ICALL2 RT-A-PRINT,TH-COTTON-BALLS
	PRINTI "."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 7,4026,1
?L18:	MOVE TH-STETHOSCOPE,TH-X-OBJECT
	.DEBUG-LINE 7,4027,1
	ICALL2 RT-A-PRINT,TH-STETHOSCOPE
	PRINTI "."
	CRLF
	.DEBUG-LINE 7,4028,1
?L20:	FSET? TH-WATSONS-COAT,FL-WORN \?L22
	FIRST? TH-POCKET >STACK \?L22
	.DEBUG-LINE 7,4031,1
	PRINTI "Your pocket contains:"
	CRLF
	.DEBUG-LINE 7,4032,1
	ICALL2 RT-PRINT-CONTENTS-1,TH-POCKET
	.DEBUG-LINE 7,4033,1
?L22:	PRINTI "You are holding:"
	CRLF
	.DEBUG-LINE 7,4034,1
	ICALL2 RT-PRINT-CONTENTS-1,CH-PLAYER
	.DEBUG-LINE 7,4048,1
	ICALL RT-MOVE-ALL,TH-X-OBJECT,CH-PLAYER
	.DEBUG-LINE 7,4050,1
	MOVE TH-POCKET,PLOC
	.DEBUG-LINE 7,4051,1
	SET 'GL-P-IT-OBJECT,OLDIT
	.DEBUG-LINE 7,4052,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-NOTIFY"
	.FUNCT V-NOTIFY
	.DEBUG-LINE 7,4055,1
	ZERO? GL-SCORE-MSG \?L1
	SET 'GL-SCORE-MSG,1
	JUMP ?L2
?L1:	SET 'GL-SCORE-MSG,0
	.DEBUG-LINE 7,4056,1
?L2:	PRINTI "[Score Notification "
	.DEBUG-LINE 7,4057,1
	ZERO? GL-SCORE-MSG /?L3
	.DEBUG-LINE 7,4058,1
	PRINTI "Enabled"
	JUMP ?L5
	.DEBUG-LINE 7,4060,1
?L3:	PRINTI "Disabled"
	.DEBUG-LINE 7,4061,1
?L5:	PRINTI "]"
	CRLF
	.DEBUG-LINE 7,4062,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SCORE"
	.FUNCT V-SCORE
	.DEBUG-LINE 7,4065,1
	PRINTI "[You have "
	PRINTN GL-SCORE-CUR
	PRINTI " out of "
	PRINTN GL-SCORE-MAX
	PRINTI " points, which earns you a ranking of "
	CALL2 RT-RANK-STR,GL-SCORE-CUR >STACK
	PRINT STACK
	PRINTI ".]"
	CRLF
	.DEBUG-LINE 7,4068,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-UNDO"
	.FUNCT V-UNDO
	.DEBUG-LINE 7,4071,1
	SET 'SOUND-QUEUED?,0
	.DEBUG-LINE 7,4071,1
	ICALL1 KILL-SOUNDS
	.DEBUG-LINE 7,4074,1
	SET 'GL-PLACE-STS,0
	.DEBUG-LINE 7,4075,1
	IRESTORE >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 7,4076,1
	PRINTI "[UNDO failed.]"
	CRLF
	JUMP ?L3
	.DEBUG-LINE 7,4078,1
?L1:	PRINTI "[UNDO is not available.]"
	CRLF
	.DEBUG-LINE 7,4079,1
?L3:	ZERO? SOUND-ON? /FALSE
	.DEBUG-LINE 7,4080,1
	CALL1 CHECK-LOOPING >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LIBRARIAN-SAYS-MSG"
	.FUNCT RT-LIBRARIAN-SAYS-MSG
	.DEBUG-LINE 8,259,1
	FSET? CH-LIBRARIAN,FL-OPENED /?L1
	.DEBUG-LINE 8,260,1
	PRINTI """"
	CALL2 RT-PICK-NEXT,GL-LIBRARIAN-TXT1 >STACK
	PRINT STACK
	PRINTR "."""
	.DEBUG-LINE 8,262,1
?L1:	PRINTI """"
	CALL2 RT-PICK-NEXT,GL-LIBRARIAN-TXT2 >STACK
	PRINT STACK
	.DEBUG-LINE 8,263,1
	PRINTR """"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TELL-ABOUT?","PERSON","?TMP"
	.FUNCT RT-TELL-ABOUT?,PERSON,?TMP
	.DEBUG-LINE 8,266,1
	EQUAL? GL-PRSA,V?ASK-ABOUT /?L4
	PUSH 0
	JUMP ?L6
?L4:	EQUAL? GL-PRSO,PERSON /?L5
	PUSH 0
	JUMP ?L6
?L5:	PUSH 1
?L6:	POP '?TMP
	ZERO? ?TMP /?L2
	RETURN ?TMP
?L2:	EQUAL? GL-PRSA,V?TELL-ABOUT /?L9
	PUSH 0
	JUMP ?L12
?L9:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER /?L10
	PUSH 0
	JUMP ?L12
?L10:	EQUAL? GL-WINNER,PERSON /?L11
	PUSH 0
	JUMP ?L12
?L11:	PUSH 1
?L12:	POP '?TMP
	ZERO? ?TMP /?L7
	RETURN ?TMP
?L7:	EQUAL? GL-PRSA,V?WHO /?L15
	PUSH 0
	JUMP ?L18
?L15:	FSET? GL-PRSO,FL-PERSON /?L16
	PUSH 0
	JUMP ?L18
?L16:	EQUAL? GL-WINNER,PERSON /?L17
	PUSH 0
	JUMP ?L18
?L17:	PUSH 1
?L18:	POP '?TMP
	ZERO? ?TMP /?L13
	RETURN ?TMP
?L13:	EQUAL? GL-PRSA,V?WHAT \FALSE
	EQUAL? GL-WINNER,PERSON \FALSE
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WHO-WHAT-FAIL?"
	.FUNCT RT-WHO-WHAT-FAIL?
	.DEBUG-LINE 8,279,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \FALSE
	.DEBUG-LINE 8,280,1
	PRINTR """Sorry. I don't know what you're talking about."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-NO-CONDITION-MSG","PERSON","STR"
	.FUNCT RT-NO-CONDITION-MSG,PERSON,STR
	ASSIGNED? 'STR /?L4
	SET 'STR,0
	.DEBUG-LINE 8,283,1
?L4:	ICALL2 RT-CTHEO-PRINT,PERSON
	.DEBUG-LINE 8,284,1
	ICALL2 RT-IS-ARE-MSG,PERSON
	.DEBUG-LINE 8,285,1
	PRINTI "in no condition to "
	.DEBUG-LINE 8,286,1
	ZERO? STR /?L1
	.DEBUG-LINE 8,287,1
	PRINT STR
	JUMP ?L3
	.DEBUG-LINE 8,289,1
?L1:	PRINTI "respond"
	.DEBUG-LINE 8,290,1
?L3:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-HOLMES","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-HOLMES,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L118
	SET 'CONTEXT,0
	.DEBUG-LINE 8,294,1
?L118:	ICALL2 RT-THIS-IS-IT,CH-HOLMES
	.DEBUG-LINE 8,295,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,296,1
	ICALL2 RT-THIS-IS-IT,CH-HOLMES
	.DEBUG-LINE 8,297,1
	FSET? CH-HOLMES,FL-ASLEEP \?L3
	.DEBUG-LINE 8,298,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 8,304,1
	PRINTR " is slouched on the sofa, lost in a black mood of despair. He is pale and emaciated, and his sharp eyes burn with fever. He is staring at a phial that he holds in one hand. His free hand rests near a hypodermic syringe in a neat morocco case at his side. You realize that he is fighting a depression brought on by what he calls ""the dull routine of existence."""
	.DEBUG-LINE 8,305,1
?L3:	FSET? CH-HOLMES,FL-LOCKED \?L5
	.DEBUG-LINE 8,306,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINT K-SECURELY-BOUND-MSG
	JUMP ?L14
	.DEBUG-LINE 8,308,1
?L5:	FSET? CH-MORIARTY,FL-LOCKED \?L6
	.DEBUG-LINE 8,309,1
	PRINTI "Despite his cool exterior, you can tell that Holmes is excited about nearing the end of the chase"
	JUMP ?L14
	.DEBUG-LINE 8,312,1
?L6:	IN? CH-HOLMES,TH-BOAT \?L7
	.DEBUG-LINE 8,313,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINT K-SEASICK-MSG
	JUMP ?L14
	.DEBUG-LINE 8,314,1
?L7:	IN? CH-HOLMES,TH-HANSOM-CAB /?L9
	IN? CH-HOLMES,TH-GROWLER-CAB \?L8
	.DEBUG-LINE 8,316,1
?L9:	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINT K-SITTING-QUIETLY-MSG
	JUMP ?L14
	.DEBUG-LINE 8,318,1
?L8:	IN? CH-HOLMES,TH-SOFA \?L10
	.DEBUG-LINE 8,319,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINTI " is sitting on the sofa, gazing intently at you"
	JUMP ?L14
	.DEBUG-LINE 8,321,1
?L10:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL,RM-PARLOUR,RM-VESTIBULE /?L12
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY,RM-HOLMES-BEDROOM \?L11
	.DEBUG-LINE 8,323,1
?L12:	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	CALL2 RT-PICK-NEXT,GL-HOLMES-HOUSE-LOOK-TXT >STACK
	PRINT STACK
	JUMP ?L14
	.DEBUG-LINE 8,325,1
?L11:	FSET? GL-PLACE-CUR,FL-INDOORS \?L13
	.DEBUG-LINE 8,326,1
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	CALL2 RT-PICK-NEXT,GL-HOLMES-INDOORS-LOOK-TXT >STACK
	PRINT STACK
	JUMP ?L14
	.DEBUG-LINE 8,329,1
?L13:	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	CALL2 RT-PICK-NEXT,GL-HOLMES-OUTDOORS-LOOK-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 8,331,1
?L14:	PRINTI "."
	CRLF
	.DEBUG-LINE 8,332,1
	RETURN 2
	.DEBUG-LINE 8,333,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-HOLMES >STACK
	ZERO? STACK /?L15
	.DEBUG-LINE 8,334,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L16
	.DEBUG-LINE 8,335,1
	SET 'OBJ,GL-PRSO
	JUMP ?L18
	.DEBUG-LINE 8,337,1
?L16:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,338,1
?L18:	CALL2 RT-HOLMES-DESCRIBE-MSG?,OBJ >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 8,341,1
	PRINTR """You must draw your own inferences, Watson."""
	.DEBUG-LINE 8,343,1
?L15:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L22
	.DEBUG-LINE 8,344,1
	RETURN 2
	.DEBUG-LINE 8,345,1
?L22:	EQUAL? CONTEXT,K-M-WINNER \?L23
	.DEBUG-LINE 8,346,1
	FSET? CH-HOLMES,FL-ASLEEP \?L24
	.DEBUG-LINE 8,347,1
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINT K-SEEMS-TO-HEAR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,348,1
?L24:	EQUAL? GL-PRSA,V?HELLO \?L26
	.DEBUG-LINE 8,349,1
	PRINTR "Holmes returns your greeting."
	.DEBUG-LINE 8,350,1
?L26:	EQUAL? GL-PRSA,V?GOODBYE \?L27
	.DEBUG-LINE 8,351,1
	PRINTR """Farewell for now, Watson."""
	.DEBUG-LINE 8,352,1
?L27:	EQUAL? GL-PRSA,V?THANK \?L28
	.DEBUG-LINE 8,353,1
	PRINTR """No need for thanks, Watson. The work itself is my reward."""
	.DEBUG-LINE 8,355,1
?L28:	EQUAL? GL-PRSA,V?WHERE \?L29
	.DEBUG-LINE 8,356,1
	EQUAL? GL-PRSO,TH-STETHOSCOPE \?L30
	FSET? TH-STETHOSCOPE,FL-TOUCHED /?L30
	.DEBUG-LINE 8,358,1
	PRINT K-CUSTOMARILY-KEEP-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,359,1
?L30:	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK /?L32
	.DEBUG-LINE 8,360,1
	PRINTI """There's your problem in a nutshell, Watson. You see, but you do not observe. "
	.DEBUG-LINE 8,363,1
	EQUAL? GL-PRSO,CH-HOLMES \?L33
	.DEBUG-LINE 8,364,1
	PRINTI "I am "
	JUMP ?L36
	.DEBUG-LINE 8,365,1
?L33:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L35
	.DEBUG-LINE 8,366,1
	PRINTI "You are "
	JUMP ?L36
	.DEBUG-LINE 8,368,1
?L35:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 8,369,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 8,370,1
?L36:	PRINTR "right here!"""
	.DEBUG-LINE 8,372,1
?L32:	PRINT K-WORK-OUT-YOURSELF-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,373,1
?L29:	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L38
	.DEBUG-LINE 8,374,1
	PRINT K-WORK-OUT-YOURSELF-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,375,1
?L38:	EQUAL? GL-PRSA,V?YES \?L39
	.DEBUG-LINE 8,376,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,377,1
?L39:	EQUAL? GL-PRSA,V?NO \?L40
	.DEBUG-LINE 8,378,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,379,1
?L40:	EQUAL? GL-PRSA,V?MAYBE \?L41
	.DEBUG-LINE 8,380,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,381,1
?L41:	EQUAL? GL-PRSA,V?TAKE \?L44
	EQUAL? GL-PRSO,TH-BREATH /?L43
?L44:	EQUAL? GL-PRSA,V?INHALE \?L42
	.DEBUG-LINE 8,384,1
?L43:	FSET? TH-BREATH,FL-LOCKED \?L45
	.DEBUG-LINE 8,385,1
	.DEBUG-LINE 8,387,1
	PRINTR "Holmes seems to be holding his breath already."
	.DEBUG-LINE 8,388,1
?L45:	PRINTI "Holmes hears your whispered instruction, and as you draw a deep breath, he surreptitiously does the same."
	CRLF
	.DEBUG-LINE 8,391,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,2,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-EXHALE,STACK
	.DEBUG-LINE 8,392,1
	FSET TH-BREATH,FL-LOCKED
	.DEBUG-LINE 8,393,1
	SET 'GL-CLOCK-WAIT,1
	.DEBUG-LINE 8,394,1
	RTRUE
	.DEBUG-LINE 8,395,1
?L42:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L48
	FSET? CH-HOLMES,FL-LOCKED \?L48
	.DEBUG-LINE 8,397,1
	PRINTR "Holmes can't do that. He is tied up."
	.DEBUG-LINE 8,398,1
?L48:	EQUAL? GL-PRSA,V?TAKE,V?WEAR \?L49
	EQUAL? GL-PRSO,TH-RING /?L50
	EQUAL? GL-PRSO,TH-ETHERIUM-AMPOULE \?L49
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN /?L49
	.DEBUG-LINE 8,403,1
?L50:	PRINT K-PLEASE-KEEP-IT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,404,1
?L49:	EQUAL? GL-PRSA,V?RAISE,V?TAKE \?L51
	EQUAL? GL-PRSO,CH-PLAYER,CH-ME \?L51
	.DEBUG-LINE 8,406,1
	PRINTI "Holmes struggles to lift you"
	.DEBUG-LINE 8,407,1
	IN? CH-PLAYER,TH-BOAT \?L52
	.DEBUG-LINE 8,408,1
	PRINTI ", the boat starts to rock violently"
	.DEBUG-LINE 8,409,1
?L52:	PRINTR ", then he thinks better of it and abandons the attempt."
	.DEBUG-LINE 8,411,1
?L51:	EQUAL? GL-PRSA,V?TAKE,V?GUESS,V?DROP /FALSE
	EQUAL? GL-PRSA,V?GIVE-SWP /FALSE
	.DEBUG-LINE 8,413,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON /?L58
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?OPEN,V?SEARCH \?L57
?L58:	EQUAL? GL-PRSO,TH-MAIL \?L57
	.DEBUG-LINE 8,415,1
	PRINTR "Holmes glances at the envelopes and shrugs. ""They are of no consequence, Watson."""
	.DEBUG-LINE 8,418,1
?L57:	EQUAL? GL-PRSA,V?PLAY \?L59
	EQUAL? GL-PRSO,TH-VIOLIN \?L59
	.DEBUG-LINE 8,420,1
	IN? TH-VIOLIN,CH-HOLMES /?L60
	.DEBUG-LINE 8,421,1
	PRINTI "Holmes is not holding "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 8,423,1
?L60:	ICALL2 SOUNDS,S-VIOLIN
	.DEBUG-LINE 8,424,1
	PRINTR "Holmes pauses for a moment in meditation, then lifts the violin to his chin and plays a brief, haunting melody whose melancholy notes fill the air with beauty. Then, just as quickly, he is finished."
	.DEBUG-LINE 8,428,1
?L59:	EQUAL? GL-PRSA,V?GIVE \?L63
	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L63
	.DEBUG-LINE 8,430,1
	IN? GL-PRSO,CH-HOLMES \?L64
	.DEBUG-LINE 8,431,1
	MOVE GL-PRSO,CH-PLAYER
	.DEBUG-LINE 8,432,1
	PRINTI "Holmes gives you "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 8,433,1
?L64:	EQUAL? GL-PRSO,TH-RING \?L66
	IN? TH-RING,LOCAL-GLOBALS \?L66
	.DEBUG-LINE 8,435,1
	PRINTR "Holmes says, ""I haven't mentioned any ring, Watson."""
	.DEBUG-LINE 8,438,1
?L66:	PRINTI "Holmes says, ""I do not have "
	ICALL1 RT-THEO-PRINT
	PRINTR "."""
	.DEBUG-LINE 8,440,1
?L63:	EQUAL? GL-PRSA,V?FOLLOW \?L68
	.DEBUG-LINE 8,441,1
	IN? CH-HOLMES,TH-SOFA \?L69
	.DEBUG-LINE 8,442,1
	PRINTR "Holmes says, ""We shouldn't leave until we have spoken with our visitor."""
	.DEBUG-LINE 8,445,1
?L69:	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L71
	.DEBUG-LINE 8,446,1
	PRINTI "Holmes says, ""Lead the way, Watson."""
	CRLF
	.DEBUG-LINE 8,448,1
	SET 'GL-PUPPY,CH-HOLMES
	RETURN GL-PUPPY
	.DEBUG-LINE 8,450,1
?L71:	PRINTR "Holmes says, ""We should remain together, Watson."""
	.DEBUG-LINE 8,453,1
?L68:	PRINTR """Come now, Watson. You must try it yourself."""
	.DEBUG-LINE 8,454,1
?L23:	ZERO? GL-NOW-PRSI? /?L119
	.DEBUG-LINE 8,455,1
	EQUAL? GL-PRSA,V?GIVE \?L75
	.DEBUG-LINE 8,456,1
	EQUAL? GL-PRSO,TH-NEWSPAPER \?L77
	FSET? CH-HOLMES,FL-ASLEEP \?L79
	.DEBUG-LINE 8,458,1
	RFALSE
	.DEBUG-LINE 8,459,1
?L77:	FSET? CH-HOLMES,FL-ASLEEP \?L79
	.DEBUG-LINE 8,460,1
	PRINTI "Holmes glances at "
	ICALL1 RT-THEO-PRINT
	PRINTR ", but it doesn't seem to arouse his interest."
	.DEBUG-LINE 8,462,1
?L79:	FSET? CH-HOLMES,FL-LOCKED \?L80
	.DEBUG-LINE 8,463,1
	PRINTR "Holmes's hands aren't free. You can't give him anything."
	.DEBUG-LINE 8,465,1
?L80:	EQUAL? GL-PRSO,TH-RING /?L82
	EQUAL? GL-PRSO,TH-ETHERIUM-AMPOULE \?L81
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN /?L81
	.DEBUG-LINE 8,469,1
?L82:	PRINT K-PLEASE-KEEP-IT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,471,1
?L81:	MOVE GL-PRSO,CH-HOLMES
	.DEBUG-LINE 8,472,1
	ICALL RT-CYOU-MSG,STR?191,STR?190
	.DEBUG-LINE 8,473,1
	ICALL1 RT-THEO-PRINT
	PRINTI " to him. He examines it briefly and says, "
	.DEBUG-LINE 8,475,1
	CALL2 RT-HOLMES-DESCRIBE-MSG?,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 8,478,1
	PRINTR """Hmmph."""
	.DEBUG-LINE 8,479,1
?L75:	EQUAL? GL-PRSA,V?SHOW \FALSE
	.DEBUG-LINE 8,480,1
	EQUAL? GL-PRSO,TH-NEWSPAPER \?L88
	FSET? CH-HOLMES,FL-ASLEEP /FALSE
	.DEBUG-LINE 8,483,1
?L88:	CALL2 RT-HOLMES-DESCRIBE-MSG?,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 8,486,1
	PRINTI "Holmes glances at "
	ICALL1 RT-THEO-PRINT
	PRINTR ", but makes no comment."
	.DEBUG-LINE 8,489,1
?L119:	EQUAL? GL-PRSA,V?DIAGNOSE \?L94
	.DEBUG-LINE 8,490,1
	FSET? CH-HOLMES,FL-ASLEEP \FALSE
	.DEBUG-LINE 8,491,1
	PRINTR "He is in a trance-like state as he stares at the phial. You quickly realize that unless he hears something of interest, he will turn to the deadly drug to relieve his boredom."
	.DEBUG-LINE 8,494,1
?L94:	EQUAL? GL-PRSA,V?HIT,V?ALARM \?L99
	.DEBUG-LINE 8,495,1
	FSET? CH-HOLMES,FL-ASLEEP \FALSE
	.DEBUG-LINE 8,496,1
	PRINT K-HOLMES-DISTRACTION-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,497,1
?L99:	EQUAL? GL-PRSA,V?ASK-FOR \?L103
	.DEBUG-LINE 8,498,1
	FSET? CH-HOLMES,FL-ASLEEP \?L104
	.DEBUG-LINE 8,499,1
	PRINTR "Holmes does not respond."
	.DEBUG-LINE 8,500,1
?L104:	FSET? CH-HOLMES,FL-LOCKED \?L106
	.DEBUG-LINE 8,501,1
	PRINTR "Holmes can't give you anything. He is tied up."
	.DEBUG-LINE 8,503,1
?L106:	EQUAL? GL-PRSI,TH-RING \?L107
	IN? TH-RING,LOCAL-GLOBALS \?L107
	.DEBUG-LINE 8,505,1
	PRINTR "Holmes says, ""I haven't mentioned any ring, Watson."""
	.DEBUG-LINE 8,507,1
?L107:	IN? GL-PRSI,CH-HOLMES \?L108
	.DEBUG-LINE 8,508,1
	MOVE GL-PRSI,CH-PLAYER
	.DEBUG-LINE 8,509,1
	PRINTI "Holmes gives you "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 8,511,1
?L108:	PRINTI "Holmes says, ""I do not have "
	ICALL1 RT-THEI-PRINT
	PRINTR "."""
	.DEBUG-LINE 8,513,1
?L103:	EQUAL? GL-PRSA,V?TELL-ABOUT \FALSE
	.DEBUG-LINE 8,514,1
	EQUAL? GL-PRSI,LG-TOWER,TH-NEWSPAPER,CH-PRIME-MINISTER \?L111
	FSET? CH-HOLMES,FL-ASLEEP \?L113
	.DEBUG-LINE 8,517,1
	FSET GL-PRSI,FL-HOLMES-TOLD
	.DEBUG-LINE 8,518,1
	CALL1 RT-WAKE-UP-HOLMES >STACK
	RSTACK
	.DEBUG-LINE 8,519,1
?L111:	FSET? CH-HOLMES,FL-ASLEEP \?L113
	.DEBUG-LINE 8,520,1
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINT K-SEEMS-TO-HEAR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,521,1
?L113:	FSET? GL-PRSI,FL-HOLMES-TOLD /?L114
	.DEBUG-LINE 8,522,1
	FSET GL-PRSI,FL-HOLMES-TOLD
	.DEBUG-LINE 8,523,1
	PRINTR "Holmes nods thoughtfully and says, ""Most interesting, old fellow."""
	.DEBUG-LINE 8,526,1
?L114:	PRINTI """Don't be tedious, Watson. You have mentioned "
	.DEBUG-LINE 8,528,1
	ICALL2 RT-SAY-HIM-HER-THEM-IT-MSG,GL-PRSI
	.DEBUG-LINE 8,529,1
	PRINTR " to me already."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HOLMES-SAYS-AGRA-MSG"
	.FUNCT RT-HOLMES-SAYS-AGRA-MSG
	.DEBUG-LINE 8,532,1
	PRINTI " says, ""It's obviously not one of the Crown Jewels, Watson. In fact, this gem belongs to the Agra treasure, which was stolen in India many years ago and has never been recovered."""
	CRLF
	CRLF
	PRINTR """The case grows more complex, Watson. We are in more danger than I had at first suspected."" He removes a ring from one of his long, slender fingers and hands it to you. ""Here, Watson. Take this signet ring of mine. If anything should happen to me, take it to my brother Mycroft at the Diogenes Club. He'll tell you what to do."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HOLMES-DESCRIBE-MSG?","OBJ","WRD"
	.FUNCT RT-HOLMES-DESCRIBE-MSG?,OBJ,WRD
	.DEBUG-LINE 8,544,1
	FSET? CH-HOLMES,FL-ASLEEP \?L1
	.DEBUG-LINE 8,545,1
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINT K-SEEMS-TO-HEAR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,546,1
?L1:	FSET? CH-MORIARTY,FL-LOCKED \?L3
	.DEBUG-LINE 8,547,1
	PRINTR """There is no time for questions, Watson. We must get the Crown Jewels to Buckingham Palace before nine o'clock."""
	.DEBUG-LINE 8,550,1
?L3:	EQUAL? GL-PRSA,V?WHO \?L4
	EQUAL? GL-PRSO,CH-HOLMES \?L4
	.DEBUG-LINE 8,552,1
	PRINTR """Watson, as my biographer, you know me as well as anyone."""
	.DEBUG-LINE 8,554,1
?L4:	EQUAL? OBJ,CH-MORIARTY \?L5
	.DEBUG-LINE 8,555,1
	FSET? CH-HOLMES,FL-LOCKED \?L6
	.DEBUG-LINE 8,556,1
	PRINTR """He appears to have the upper hand, Watson."""
	.DEBUG-LINE 8,559,1
?L6:	PRINTR """He is the Napoleon of crime, Watson. He is the organizer of half that is evil and of nearly all that is undetected in this great city."""
	.DEBUG-LINE 8,562,1
?L5:	CALL RT-IDENTIFY-EVENT?,W?MYCROFT,OBJ >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 8,563,1
	PRINTR """Mycroft is my older brother, of whom you have heard me speak. As you know, he is a highly placed official within Her Majesty's government. Because of the confidential nature of his work, you cannot call upon him in his offices. However, he is usually to be found in his club, just off Trafalgar Square."""
	.DEBUG-LINE 8,569,1
?L9:	EQUAL? OBJ,CH-HOLMES \?L10
	.DEBUG-LINE 8,570,1
	PRINTR """I'm well, Watson. Thank you for asking."""
	.DEBUG-LINE 8,571,1
?L10:	EQUAL? OBJ,CH-PRIME-MINISTER \?L11
	.DEBUG-LINE 8,572,1
	IN? CH-PRIME-MINISTER,RM-HOLMES-STUDY \?L12
	.DEBUG-LINE 8,573,1
	PRINTR """Hush, my friend. Wait until we're alone."""
	.DEBUG-LINE 8,574,1
?L12:	FSET? CH-PRIME-MINISTER,FL-SEEN /?L14
	.DEBUG-LINE 8,575,1
	PRINTR """I haven't seen this visitor of whom you speak, Watson, but surely it is obvious that he has come because the Crown Jewels have been stolen from the Tower of London."""
	.DEBUG-LINE 8,580,1
?L14:	PRINTR """Surely you recognized him, old fellow. He is the Prime Minister of England."""
	.DEBUG-LINE 8,583,1
?L11:	EQUAL? OBJ,CH-QUEEN \?L16
	.DEBUG-LINE 8,584,1
	PRINTR """She must be worried, Watson. We must get the gems back for her."""
	.DEBUG-LINE 8,586,1
?L16:	EQUAL? OBJ,CH-WIGGINS \?L17
	.DEBUG-LINE 8,587,1
	PRINTR """Surely you remember him, dear fellow. He is the head of the Baker Street Irregulars."""
	.DEBUG-LINE 8,590,1
?L17:	CALL RT-IDENTIFY-EVENT?,W?LESTRADE,OBJ >STACK
	ZERO? STACK /?L18
	.DEBUG-LINE 8,591,1
	PRINTR """Be kind to him, Watson. He has delusions of adequacy."""
	.DEBUG-LINE 8,593,1
?L18:	CALL RT-IDENTIFY-EVENT?,W?THEFT,OBJ >STACK
	ZERO? STACK /?L19
	.DEBUG-LINE 8,594,1
	PRINTR """We must recover the jewels and return them to the Palace. The alternative is too horrible to consider."""
	.DEBUG-LINE 8,597,1
?L19:	EQUAL? OBJ,TH-CROWN-JEWELS \?L20
	.DEBUG-LINE 8,598,1
	PRINTR """We must recover them and return them to the Palace. The alternative is too horrible to consider."""
	.DEBUG-LINE 8,601,1
?L20:	EQUAL? OBJ,LG-TOWER /?L22
	CALL RT-IDENTIFY-EVENT?,W?THEFT,OBJ >STACK
	ZERO? STACK /?L21
	.DEBUG-LINE 8,603,1
?L22:	PRINTR """The Tower is the safest stronghold in the nation. Our adversary must be formidable indeed."""
	.DEBUG-LINE 8,606,1
?L21:	CALL RT-IDENTIFY-EVENT?,W?JUBILEE,OBJ >STACK
	ZERO? STACK /?L23
	.DEBUG-LINE 8,607,1
	PRINTR """The Coronation Day festivities begin Monday morning at 9:00. We must recover the Crown Jewels before then."""
	.DEBUG-LINE 8,610,1
?L23:	EQUAL? OBJ,LG-TOMBS-ABBEY \?L24
	.DEBUG-LINE 8,611,1
	PRINTR """It is the burial place of our royalty, Watson. The spiritual centre of the empire."""
	.DEBUG-LINE 8,614,1
?L24:	CALL RT-IDENTIFY-EVENT?,W?PASSWORD,OBJ >STACK
	ZERO? STACK /?L25
	.DEBUG-LINE 8,615,1
	FSET? CH-HOLMES,FL-LOCKED \?L26
	.DEBUG-LINE 8,616,1
	PRINTR """Obviously you were able to deduce it without my help, Watson. Good show!"""
	.DEBUG-LINE 8,619,1
?L26:	PRINTR """Patience, old fellow. We are not yet in possession of all the facts."""
	.DEBUG-LINE 8,621,1
?L25:	EQUAL? OBJ,TH-WALL /?L30
	CALL RT-IDENTIFY-FLOOR?,W?GROUND,OBJ >STACK
	ZERO? STACK \?L30
	CALL RT-IDENTIFY-FLOOR?,W?FLOOR,OBJ >STACK
	ZERO? STACK /?L29
	.DEBUG-LINE 8,624,1
?L30:	PRINTR """No need to ask about that, old fellow. I'll tell you straight away if I find anything of interest."""
	.DEBUG-LINE 8,627,1
?L29:	CALL RT-IDENTIFY-FLOOR?,W?SKY,OBJ >STACK
	ZERO? STACK /?L31
	.DEBUG-LINE 8,628,1
	PRINTI "Holmes glances up and says, ""It's an uncommonly fine "
	.DEBUG-LINE 8,629,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L32
	.DEBUG-LINE 8,630,1
	PRINTI "night"
	JUMP ?L36
	.DEBUG-LINE 8,631,1
?L32:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L34
	.DEBUG-LINE 8,632,1
	PRINTI "morning"
	JUMP ?L36
	.DEBUG-LINE 8,633,1
?L34:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L35
	.DEBUG-LINE 8,634,1
	PRINTI "day"
	JUMP ?L36
	.DEBUG-LINE 8,636,1
?L35:	PRINTI "evening"
	.DEBUG-LINE 8,637,1
?L36:	PRINTR ", Watson."""
	.DEBUG-LINE 8,638,1
?L31:	EQUAL? OBJ,TH-STETHOSCOPE \?L37
	FSET? TH-STETHOSCOPE,FL-TOUCHED /?L37
	.DEBUG-LINE 8,640,1
	PRINT K-CUSTOMARILY-KEEP-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,641,1
?L37:	CALL RT-IDENTIFY-EVENT?,W?HENRY,OBJ >STACK
	ZERO? STACK /?L38
	.DEBUG-LINE 8,642,1
	PRINTR """He was the son of John of Gaunt, and the father of Henry V."""
	.DEBUG-LINE 8,644,1
?L38:	CALL RT-IDENTIFY-EVENT?,W?WELLINGTON,OBJ >STACK
	ZERO? STACK /?L39
	.DEBUG-LINE 8,645,1
	PRINTR """My dear fellow, your memory is fading prematurely. Surely you remember that the Duke of Wellington was the hero of the battle of Waterloo."""
	.DEBUG-LINE 8,649,1
?L39:	CALL RT-IDENTIFY-EVENT?,W?TOBY,OBJ >STACK
	ZERO? STACK /?L40
	.DEBUG-LINE 8,650,1
	PRINTI """He is a noble hound whose olfactory prowess is unrivaled."
	.DEBUG-LINE 8,652,1
	FSET? CH-SHERMAN,FL-SEEN \?L41
	.DEBUG-LINE 8,653,1
	PRINTI " It is unfortunate that he is unavailable to help us in our quest."
	.DEBUG-LINE 8,655,1
?L41:	PRINTR """"
	.DEBUG-LINE 8,656,1
?L40:	CALL RT-IDENTIFY-EVENT?,W?AGRA,OBJ >STACK
	ZERO? STACK /?L44
	.DEBUG-LINE 8,657,1
	PRINTR """The Agra treasure disappeared during the Sepoy rebellion in India. Clearly it has found its way to London."""
	.DEBUG-LINE 8,660,1
?L44:	CALL RT-IDENTIFY-EVENT?,W?KIDNAPPING,OBJ >STACK
	ZERO? STACK /?L45
	.DEBUG-LINE 8,661,1
	BAND MYCROFT-STATE,MYCROFT-SEEN >STACK
	ZERO? STACK \?L46
	.DEBUG-LINE 8,662,1
	PRINT K-NEVER-THEORIZE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,664,1
?L46:	PRINTR """The professor was as surprised as we, Watson. Evidently it was a mistake on the part of one of his minions."""
	.DEBUG-LINE 8,667,1
?L45:	EQUAL? OBJ,CH-HUDSON \?L49
	.DEBUG-LINE 8,668,1
	PRINTR """A splendid housekeeper, Watson, although she worries about me too much."""
	.DEBUG-LINE 8,671,1
?L49:	EQUAL? OBJ,CH-PLAYER,CH-ME \?L50
	.DEBUG-LINE 8,672,1
	PRINTR """Good old Watson! You are the one fixed point in a changing age. I am honoured that you have become my biographer."""
	.DEBUG-LINE 8,675,1
?L50:	EQUAL? OBJ,TH-PHIAL,TH-SYRINGE,TH-LIQUID \?L51
	.DEBUG-LINE 8,676,1
	PRINTR "Holmes gives you a grateful look and says, ""We need no longer worry about that, Watson, thanks to your timely intervention."""
	.DEBUG-LINE 8,679,1
?L51:	FSET? OBJ,FL-SEEN /?L52
	.DEBUG-LINE 8,680,1
	PRINT K-NEVER-THEORIZE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,681,1
?L52:	EQUAL? OBJ,CH-MATCH-SNIFFING-DOG \?L53
	.DEBUG-LINE 8,682,1
	PRINTR """It's not the Hound of the Baskervilles. But I certainly wouldn't care to make it angry."""
	.DEBUG-LINE 8,685,1
?L53:	EQUAL? OBJ,CH-TUSSAUDS-GUARD \?L54
	.DEBUG-LINE 8,686,1
	PRINTR """Beyond the obvious facts that he is left-handed, ate kippers for breakfast, and had a poor night's sleep, I can tell you that he is a good, honest workman. Britain could use more like him."""
	.DEBUG-LINE 8,690,1
?L54:	EQUAL? OBJ,CH-TRAINED-PIGEON \?L55
	.DEBUG-LINE 8,691,1
	PRINTI """A fine bird, Watson."
	.DEBUG-LINE 8,692,1
	CALL2 RT-VISIBLE?,CH-TRAINED-PIGEON >STACK
	ZERO? STACK /?L56
	.DEBUG-LINE 8,693,1
	PRINTI " Note the broad band on his wing that distinguishes his breed from all others."
	.DEBUG-LINE 8,696,1
?L56:	PRINTR """"
	.DEBUG-LINE 8,697,1
?L55:	EQUAL? OBJ,CH-SHERMAN \?L59
	.DEBUG-LINE 8,698,1
	PRINTR """Oh, he's an old friend of mine. He has an extraordinary bloodhound named Toby who has been of invaluable assistance to me in the past."""
	.DEBUG-LINE 8,701,1
?L59:	EQUAL? OBJ,CH-BANK-GUARD \?L60
	.DEBUG-LINE 8,702,1
	PRINTR """Watch him carefully, Watson. He is a petty criminal on the lowest rung of Moriarty's organization. He's not to be trusted."""
	.DEBUG-LINE 8,705,1
?L60:	EQUAL? OBJ,CH-AKBAR \?L61
	.DEBUG-LINE 8,706,1
	PRINTR """He is the gentleman from India whom we discussed earlier."""
	.DEBUG-LINE 8,708,1
?L61:	EQUAL? OBJ,CH-DENKEEPER \?L62
	.DEBUG-LINE 8,709,1
	PRINTR """Be careful of him Watson. He is one of Moriarty's minions."""
	.DEBUG-LINE 8,711,1
?L62:	EQUAL? OBJ,CH-LIBRARIAN \?L63
	.DEBUG-LINE 8,712,1
	PRINTR """He's just a harmless old fellow who is starved for companionship. It's a wonder he hasn't retired and joined his twin brother who lives in New Zealand."""
	.DEBUG-LINE 8,716,1
?L63:	EQUAL? OBJ,CH-URCHINS \?L64
	.DEBUG-LINE 8,717,1
	PRINTR """They're all members of the Baker Street Irregulars."""
	.DEBUG-LINE 8,719,1
?L64:	EQUAL? OBJ,CH-VENDOR \?L65
	.DEBUG-LINE 8,720,1
	PRINTR """He's harmless enough, although his goods are terribly overpriced."""
	.DEBUG-LINE 8,722,1
?L65:	EQUAL? OBJ,CH-GROWLER-CABBIE \?L66
	.DEBUG-LINE 8,723,1
	PRINTR """He doesn't seem very bright, does he?"""
	.DEBUG-LINE 8,725,1
?L66:	EQUAL? OBJ,CH-HANSOM-CABBIE \?L67
	.DEBUG-LINE 8,726,1
	PRINTR """It's clear that he has a loving wife and that he is a retired marine sergeant. Beyond that I can tell you little."""
	.DEBUG-LINE 8,729,1
?L67:	EQUAL? OBJ,CH-BUTLER \?L68
	.DEBUG-LINE 8,730,1
	PRINTR """He's a supercilious old coot who ought to be stuffed."""
	.DEBUG-LINE 8,732,1
?L68:	EQUAL? OBJ,CH-NANNIES \?L69
	.DEBUG-LINE 8,733,1
	PRINTR """They are the backbone of the empire, Watson."""
	.DEBUG-LINE 8,735,1
?L69:	EQUAL? OBJ,CH-PALACE-GUARD \?L70
	.DEBUG-LINE 8,736,1
	PRINTR """He is obviously one of the Queen's finest - dedicated, loyal, and completely incorruptible."""
	.DEBUG-LINE 8,739,1
?L70:	EQUAL? OBJ,CH-TOWER-GUARD \?L71
	.DEBUG-LINE 8,740,1
	PRINTR """I can tell you little about him, other than that he is incorruptible, he lives near Wandsworth Common, and he once worked in a tin mine."""
	.DEBUG-LINE 8,743,1
?L71:	EQUAL? OBJ,CH-ELIZA-DOOLITTLE \?L72
	.DEBUG-LINE 8,744,1
	FSET? CH-ELIZA-DOOLITTLE,FL-ASLEEP \?L73
	.DEBUG-LINE 8,745,1
	PRINTR """I bow to your medical expertise, doctor. What is your diagnosis?"""
	.DEBUG-LINE 8,748,1
?L73:	PRINTR """You saved her life, Watson. Professor Higgins will be most grateful."""
	.DEBUG-LINE 8,750,1
?L72:	EQUAL? OBJ,LG-RAVENS \?L76
	.DEBUG-LINE 8,751,1
	PRINTR """According to the legend, when the ravens leave the Tower of London, the British Empire will fall."""
	.DEBUG-LINE 8,754,1
?L76:	EQUAL? OBJ,TH-GUN,TH-TOBACCO,TH-PERSIAN-SLIPPER /?L78
	EQUAL? OBJ,TH-MAGNIFYING-GLASS,TH-LAMP,TH-BED /?L78
	EQUAL? OBJ,TH-BEDSIDE-TABLE,TH-PIPE \?L77
	.DEBUG-LINE 8,757,1
?L78:	PRINTR """Surely you remember it, Watson. Little has changed in the time since you left."""
	.DEBUG-LINE 8,760,1
?L77:	EQUAL? OBJ,TH-WATSONS-HAT,TH-STETHOSCOPE,TH-POCKET /?L80
	EQUAL? OBJ,TH-WATSONS-COAT,TH-BLACK-BAG,TH-CAB-WHISTLE \?L79
	.DEBUG-LINE 8,762,1
?L80:	PRINTR """Other than the obvious fact that it belongs to you, I can tell you nothing."""
	.DEBUG-LINE 8,763,1
?L79:	EQUAL? OBJ,TH-BLUE-PILL-BOTTLE,TH-BROWN-PILL-BOTTLE,TH-ORANGE-PILL /?L82
	EQUAL? OBJ,TH-YELLOW-PILL \?L81
	.DEBUG-LINE 8,765,1
?L82:	PRINTR """Surely you know more about it than I, Doctor."""
	.DEBUG-LINE 8,767,1
?L81:	EQUAL? OBJ,TH-LAB-EQUIPMENT,TH-ETHERIUM-GAS,TH-ETHERIUM-AMPOULE /?L84
	EQUAL? OBJ,TH-WORKBENCH \?L83
	.DEBUG-LINE 8,769,1
?L84:	PRINTR "Holmes glances around quickly and then whispers, ""I know I can trust your discretion, Watson, but you must promise to keep this under your hat. I have been conducting secret experiments for the government at Mycroft's request, and I have developed a new knockout gas that I call 'etherium.' It is an extremely powerful derivative of ether, and one ampoule of it will render unconscious an entire room of people for several hours. It has no harmful side effects, but it is highly explosive and extremely dangerous to use near open flames. You may keep it if you wish, but please carry it in a secure place, safe from prying eyes."""
	.DEBUG-LINE 8,779,1
?L83:	EQUAL? OBJ,TH-CHARLES-STATUE \?L85
	.DEBUG-LINE 8,780,1
	PRINTR """He is the only English king to have been beheaded."""
	.DEBUG-LINE 8,782,1
?L85:	EQUAL? OBJ,TH-WILLIAM-STATUE \?L86
	.DEBUG-LINE 8,783,1
	PRINTR """They say when he first came ashore, he stumbled and fell, and his soldiers took it as a bad omen. But then he arose with two fistfuls of sand and shouted, 'See! Already I have taken my kingdom into my grasp.' His men cheered and they marched on to victory at the Battle of Hastings."""
	.DEBUG-LINE 8,788,1
?L86:	EQUAL? OBJ,TH-WALTER-STATUE \?L87
	.DEBUG-LINE 8,789,1
	PRINTR """His chivalry did him no good. Although a favourite of the Queen for many years, his life ended on the executioner's block."""
	.DEBUG-LINE 8,792,1
?L87:	EQUAL? OBJ,TH-VIOLIN \?L88
	.DEBUG-LINE 8,793,1
	PRINTR """It's a Stradivarius."""
	.DEBUG-LINE 8,794,1
?L88:	EQUAL? OBJ,TH-RING \?L89
	.DEBUG-LINE 8,795,1
	PRINTR """It's an heirloom that's been in my family for generations."""
	.DEBUG-LINE 8,797,1
?L89:	EQUAL? OBJ,TH-TRINKETS \?L90
	.DEBUG-LINE 8,798,1
	PRINTR """They've been marked up for the Jubilee. I certainly wouldn't pay full price for them."""
	.DEBUG-LINE 8,801,1
?L90:	EQUAL? OBJ,TH-WESTMINSTER-CLUE \?L91
	.DEBUG-LINE 8,802,1
	PRINTR """Most curious, don't you agree Watson? All thieves unintentionaly leave behind clues that are discernable to the trained eye. But it is highly irregular for a thief to taunt the authorities with an actual message. Especially one with references as obvious as this."""
	.DEBUG-LINE 8,807,1
?L91:	EQUAL? OBJ,TH-RUBY,TH-EMERALD,TH-SAPPHIRE /?L93
	EQUAL? OBJ,TH-GARNET,TH-OPAL,TH-TOPAZ \?L92
	.DEBUG-LINE 8,809,1
?L93:	BTST CH-HOLMES-AUX1,K-HOLMES-GEM? \?L94
	.DEBUG-LINE 8,810,1
	PRINTR """We have already discussed the significance of these gems, Watson."""
	.DEBUG-LINE 8,812,1
?L94:	FSET? OBJ,FL-TOUCHED \?L96
	.DEBUG-LINE 8,813,1
	BOR CH-HOLMES-AUX1,K-HOLMES-GEM? >CH-HOLMES-AUX1
	.DEBUG-LINE 8,815,1
	MOVE TH-RING,CH-PLAYER
	.DEBUG-LINE 8,816,1
	FSET TH-RING,FL-SEEN
	.DEBUG-LINE 8,817,1
	FSET TH-RING,FL-TOUCHED
	.DEBUG-LINE 8,818,1
	FCLEAR TH-RING,FL-NODESC
	.DEBUG-LINE 8,819,1
	PRINTI "Holmes"
	.DEBUG-LINE 8,820,1
	ICALL1 RT-HOLMES-SAYS-AGRA-MSG
	.DEBUG-LINE 8,821,1
	GETP TH-RING,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 8,822,1
	PUTP TH-RING,P?VALUE,0
	.DEBUG-LINE 8,823,1
	RTRUE
	.DEBUG-LINE 8,825,1
?L96:	PRINTR """We haven't had a good enough look at it yet, old fellow."""
	.DEBUG-LINE 8,827,1
?L92:	EQUAL? OBJ,TH-ASH \FALSE
	.DEBUG-LINE 8,828,1
	PRINTI """"
	.DEBUG-LINE 8,829,1
	CALL2 RT-VISIBLE?,TH-ASH >STACK
	ZERO? STACK /?L99
	.DEBUG-LINE 8,830,1
	PRINTI "Note the characteristic texture, Watson. "
	.DEBUG-LINE 8,831,1
?L99:	PRINTI "It is the ash of a Trichinopoly cigar, which is made from the dark tobacco that grows only in the Madras district of India."
	CRLF
	CRLF
	PRINTR "Unless I miss my guess, Watson, our mastermind friend has joined forces with an Indian accomplice who does his dirty work for him."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-MATCH-SNIFFING-DOG","CONTEXT"
	.FUNCT RT-AC-CH-MATCH-SNIFFING-DOG,CONTEXT
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 8,844,1
?L21:	ICALL2 RT-THIS-IS-IT,CH-MATCH-SNIFFING-DOG
	.DEBUG-LINE 8,845,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,846,1
	ICALL2 RT-CTHEO-PRINT,CH-MATCH-SNIFFING-DOG
	.DEBUG-LINE 8,848,1
	PRINTR " glares back at you menacingly."
	.DEBUG-LINE 8,849,1
?L1:	EQUAL? CONTEXT,K-M-WINNER \?L4
	.DEBUG-LINE 8,850,1
	ICALL2 RT-CTHEO-PRINT,CH-MATCH-SNIFFING-DOG
	PRINT K-GNAWS-MSG
	.DEBUG-LINE 8,851,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,852,1
?L4:	ZERO? GL-NOW-PRSI? /?L22
	.DEBUG-LINE 8,853,1
	EQUAL? GL-PRSA,V?GIVE,V?SHOW \FALSE
	EQUAL? GL-PRSO,TH-TOBACCO /?L10
	FSET? GL-PRSO,FL-BURNABLE \?L10
	FSET? GL-PRSO,FL-LIGHTED /?L9
?L10:	EQUAL? GL-PRSO,TH-MATCH \?L11
	FSET? GL-PRSO,FL-BURNABLE /?L9
?L11:	EQUAL? GL-PRSO,TH-LAMP \FALSE
	.DEBUG-LINE 8,860,1
?L9:	IXCALL SOUNDS,S-BARK,S-START,8,4
	.DEBUG-LINE 8,861,1
	ICALL1 RT-CTHEI-PRINT
	PRINTI " barks loudly at "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 8,862,1
	PRINTR "."
	.DEBUG-LINE 8,866,1
?L22:	EQUAL? GL-PRSA,V?TOUCH,V?KICK \?L14
	.DEBUG-LINE 8,867,1
	.DEBUG-LINE 8,869,1
	PRINTR "A quick snap and a glimpse of flashing teeth changes your mind."
	.DEBUG-LINE 8,870,1
?L14:	EQUAL? GL-PRSA,V?LISTEN \?L16
	.DEBUG-LINE 8,871,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " growls at you."
	CRLF
	.DEBUG-LINE 8,872,1
	ICALL2 SOUNDS,S-GROWL
	.DEBUG-LINE 8,873,1
	RTRUE
	.DEBUG-LINE 8,874,1
?L16:	EQUAL? GL-PRSA,V?ASK-FOR,V?ASK-ABOUT \?L17
	.DEBUG-LINE 8,875,1
	ICALL2 RT-CTHEO-PRINT,CH-MATCH-SNIFFING-DOG
	PRINT K-GNAWS-MSG
	.DEBUG-LINE 8,876,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,877,1
?L17:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	EQUAL? GL-PRSO,CH-MATCH-SNIFFING-DOG \FALSE
	.DEBUG-LINE 8,879,1
	ICALL RT-CYOU-MSG,STR?193,STR?192
	.DEBUG-LINE 8,880,1
	PRINTI "the unfortunate dog. The guard, enraged by this callous behavior, wrestles you to the ground and calls for a policeman. Lestrade pops up out of nowhere and says, ""Tut, tut. Killing a poor defenceless dog now, is it? You should be ashamed of yourself."""
	CRLF
	CRLF
	PRINTI "He hauls you away and enrolls you in a six-month course sponsored by the RSPCA which teaches you to love animals and eat vegetables. You emerge from the course a better man. Unfortunately no one cares because by then the country has gone to the dogs."
	CRLF
	CRLF
	.DEBUG-LINE 8,889,1
	ICALL1 RT-QSR
	.DEBUG-LINE 8,890,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-TUSSAUDS-GUARD","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-TUSSAUDS-GUARD,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L23
	SET 'CONTEXT,0
	.DEBUG-LINE 8,894,1
?L23:	ICALL2 RT-THIS-IS-IT,CH-TUSSAUDS-GUARD
	.DEBUG-LINE 8,895,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,896,1
	ICALL2 RT-CTHEO-PRINT,CH-TUSSAUDS-GUARD
	.DEBUG-LINE 8,900,1
	PRINTR " has his collar turned up against the cold. He is pacing back and forth, puffing on a cigarette, and stamping his feet, all in a futile effort to keep warm."
	.DEBUG-LINE 8,901,1
?L1:	EQUAL? GL-PRSA,V?ASK-FOR \?L3
	EQUAL? GL-PRSI,TH-CIGARETTE \?L3
	.DEBUG-LINE 8,903,1
	PRINTR """Sorry, sir. I'm running low."""
	.DEBUG-LINE 8,904,1
?L3:	EQUAL? GL-PRSA,V?ASK-ABOUT \?L4
	EQUAL? GL-PRSI,TH-CIGARETTE \?L4
	.DEBUG-LINE 8,906,1
	PRINTR """I'm a chain smoker. Fortunately, the dog doesn't seem to mind."""
	.DEBUG-LINE 8,907,1
?L4:	CALL2 RT-TELL-ABOUT?,CH-TUSSAUDS-GUARD >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 8,908,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L6
	.DEBUG-LINE 8,909,1
	SET 'OBJ,GL-PRSO
	JUMP ?L8
	.DEBUG-LINE 8,911,1
?L6:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,912,1
?L8:	PRINT K-ON-DUTY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,913,1
?L5:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 8,914,1
	RETURN 2
	.DEBUG-LINE 8,915,1
?L9:	EQUAL? CONTEXT,K-M-WINNER \?L10
	.DEBUG-LINE 8,916,1
	EQUAL? GL-PRSA,V?WHERE \?L11
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK /?L11
	.DEBUG-LINE 8,918,1
	.DEBUG-LINE 8,919,1
	PRINTR """Right here, sir."""
	.DEBUG-LINE 8,920,1
?L11:	EQUAL? GL-PRSA,V?YES \?L13
	.DEBUG-LINE 8,921,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,922,1
?L13:	EQUAL? GL-PRSA,V?NO \?L14
	.DEBUG-LINE 8,923,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,924,1
?L14:	EQUAL? GL-PRSA,V?MAYBE \?L15
	.DEBUG-LINE 8,925,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,927,1
?L15:	PRINT K-ON-DUTY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,928,1
?L10:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 8,929,1
	EQUAL? GL-PRSA,V?TAKE \FALSE
	.DEBUG-LINE 8,930,1
	CALL RT-IMPOLITE-MSG,STR?195,STR?194 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PIGEON-PANIC"
	.FUNCT RT-PIGEON-PANIC
	.DEBUG-LINE 8,935,1
	MOVE CH-TRAINED-PIGEON,CH-PLAYER
	.DEBUG-LINE 8,936,1
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTR " flies about in a panic for a few moments and then flies right back into your hands."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PIGEON-FLY"
	.FUNCT RT-PIGEON-FLY
	.DEBUG-LINE 8,941,1
	PRINTI " flies up into the air"
	.DEBUG-LINE 8,942,1
	EQUAL? GL-PLACE-CUR,RM-TRAFALGAR-SQUARE \?L6
	.DEBUG-LINE 8,943,1
	SET 'CH-TRAINED-PIGEON-AUX3,TH-RED-GLASS
	.DEBUG-LINE 8,944,1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-SHOWN-RUBY \?L5
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-GET-RUBY \?L3
	.DEBUG-LINE 8,946,1
	PRINTI ", gets "
	ICALL2 RT-THEO-PRINT,TH-RUBY
	PRINTI ","
	.DEBUG-LINE 8,947,1
	SET 'CH-TRAINED-PIGEON-AUX3,TH-RUBY
	JUMP ?L6
	.DEBUG-LINE 8,948,1
?L3:	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-SHOWN-RUBY \?L5
	.DEBUG-LINE 8,949,1
	PRINTI ", sees "
	ICALL2 RT-THEO-PRINT,TH-RUBY
	PRINTI " and "
	ICALL2 RT-A-PRINT,TH-RED-GLASS
	PRINTI " that you didn't see, chooses "
	ICALL2 RT-THEO-PRINT,TH-RED-GLASS
	PRINTI ","
	JUMP ?L6
	.DEBUG-LINE 8,951,1
?L5:	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-GET-RUBY \?L6
	.DEBUG-LINE 8,952,1
	PRINTI ", sees "
	ICALL2 RT-A-PRINT,TH-RED-GLASS
	PRINTI " that you didn't see, gets it,"
	.DEBUG-LINE 8,954,1
?L6:	ZERO? CH-TRAINED-PIGEON-AUX3 /?L9
	.DEBUG-LINE 8,955,1
	FSET CH-TRAINED-PIGEON-AUX3,FL-TAKEABLE
	.DEBUG-LINE 8,956,1
	MOVE CH-TRAINED-PIGEON-AUX3,CH-TRAINED-PIGEON
	.DEBUG-LINE 8,957,1
?L9:	MOVE CH-TRAINED-PIGEON,GL-PLACE-CUR
	.DEBUG-LINE 8,958,1
	FSET CH-TRAINED-PIGEON,FL-NODESC
	.DEBUG-LINE 8,959,1
	SET 'CH-TRAINED-PIGEON-AUX2,1
	.DEBUG-LINE 8,960,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PIGEON-CIRCLE,STACK
	.DEBUG-LINE 8,961,1
	PRINTR " and starts to circle high over your head."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-TRAINED-PIGEON","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-TRAINED-PIGEON,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L76
	SET 'CONTEXT,0
	.DEBUG-LINE 8,965,1
?L76:	ICALL2 RT-THIS-IS-IT,CH-TRAINED-PIGEON
	.DEBUG-LINE 8,966,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,967,1
	IN? CH-TRAINED-PIGEON,CH-SHERMAN \?L3
	.DEBUG-LINE 8,968,1
	ICALL2 DPRINT,CH-SHERMAN
	PRINTI " is holding "
	ICALL2 RT-THEO-PRINT,CH-TRAINED-PIGEON
	JUMP ?L10
	.DEBUG-LINE 8,969,1
?L3:	ZERO? CH-TRAINED-PIGEON-AUX2 \TRUE
	.DEBUG-LINE 8,972,1
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	.DEBUG-LINE 8,973,1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-SHOWN-RUBY \?L7
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-GET-RUBY \?L7
	.DEBUG-LINE 8,977,1
	PRINTI " trembles with excitement"
	JUMP ?L10
	.DEBUG-LINE 8,978,1
?L7:	BAND CH-TRAINED-PIGEON-AUX1,3 >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 8,981,1
	PRINTI " looks interested"
	JUMP ?L10
	.DEBUG-LINE 8,983,1
?L9:	PRINTI " doesn't seem interested in anything"
	.DEBUG-LINE 8,984,1
	.DEBUG-LINE 8,985,1
?L10:	PRINTR "."
	.DEBUG-LINE 8,986,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-TRAINED-PIGEON >STACK
	ZERO? STACK /?L11
	.DEBUG-LINE 8,987,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L12
	.DEBUG-LINE 8,988,1
	SET 'OBJ,GL-PRSO
	JUMP ?L14
	.DEBUG-LINE 8,990,1
?L12:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,991,1
?L14:	PRINT K-CONFUSED-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,992,1
?L11:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L15
	.DEBUG-LINE 8,993,1
	RETURN 2
	.DEBUG-LINE 8,994,1
?L15:	EQUAL? CONTEXT,K-M-WINNER \?L16
	.DEBUG-LINE 8,995,1
	EQUAL? GL-PRSA,V?TAKE \?L17
	EQUAL? GL-PRSO,TH-RUBY \?L17
	.DEBUG-LINE 8,997,1
	ICALL2 RT-THIS-IS-IT,TH-RUBY
	.DEBUG-LINE 8,998,1
	ICALL2 RT-PIGEON-INTEREST,K-PIGEON-GET-RUBY
	RTRUE
	.DEBUG-LINE 8,1000,1
?L17:	PRINT K-CONFUSED-MSG
	.DEBUG-LINE 8,1001,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,1002,1
?L16:	EQUAL? GL-PRSA,V?PUT \?L20
	ZERO? GL-NOW-PRSI? \?L20
	.DEBUG-LINE 8,1004,1
	EQUAL? GL-PRSI,TH-SHAFT \?L21
	.DEBUG-LINE 8,1005,1
	SET 'CH-TRAINED-PIGEON-AUX1,0
	.DEBUG-LINE 8,1006,1
	ICALL1 RT-PIGEON-PANIC
	RTRUE
	.DEBUG-LINE 8,1007,1
?L21:	EQUAL? GL-PRSI,TH-POCKET \?L24
	FSET? GL-PLACE-CUR,FL-INDOORS \?L23
	.DEBUG-LINE 8,1009,1
?L24:	ICALL1 RT-PIGEON-PANIC
	RTRUE
	.DEBUG-LINE 8,1011,1
?L23:	PRINTI "As soon as"
	.DEBUG-LINE 8,1012,1
	ICALL RT-YOU-MSG,STR?197,STR?196
	.DEBUG-LINE 8,1013,1
	PRINTI "go of it, the pigeon"
	.DEBUG-LINE 8,1014,1
	ICALL1 RT-PIGEON-FLY
	.DEBUG-LINE 8,1015,1
	RTRUE
	.DEBUG-LINE 8,1016,1
?L20:	EQUAL? GL-PRSA,V?DROP,V?RELEASE,V?THROW \?L26
	ZERO? GL-NOW-PRSI? \?L26
	.DEBUG-LINE 8,1018,1
	IN? CH-TRAINED-PIGEON,CH-PLAYER \?L27
	.DEBUG-LINE 8,1019,1
	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-LOSE-INTEREST
	.DEBUG-LINE 8,1020,1
	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-IMPATIENT
	.DEBUG-LINE 8,1021,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L29
	.DEBUG-LINE 8,1022,1
	ICALL1 RT-PIGEON-PANIC
	.DEBUG-LINE 8,1023,1
	SET 'CH-TRAINED-PIGEON-AUX1,0
	RTRUE
	.DEBUG-LINE 8,1025,1
?L29:	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	.DEBUG-LINE 8,1026,1
	ICALL1 RT-PIGEON-FLY
	RTRUE
	.DEBUG-LINE 8,1028,1
?L27:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 8,1029,1
	.DEBUG-LINE 8,1030,1
	PRINTR "would have to be holding the pigeon."
	.DEBUG-LINE 8,1031,1
?L26:	EQUAL? GL-PRSA,V?TAKE \?L33
	.DEBUG-LINE 8,1032,1
	ZERO? CH-TRAINED-PIGEON-AUX2 /?L34
	.DEBUG-LINE 8,1033,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 8,1034,1
	PRINTI "cannot reach "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 8,1035,1
	PRINTR "."
	.DEBUG-LINE 8,1036,1
?L34:	IN? CH-TRAINED-PIGEON,CH-SHERMAN \FALSE
	.DEBUG-LINE 8,1037,1
	ICALL RT-IMPOLITE-MSG,STR?195,STR?194
	.DEBUG-LINE 8,1038,1
	RTRUE
	.DEBUG-LINE 8,1039,1
?L33:	EQUAL? GL-PRSA,V?ASK-FOR \?L38
	ZERO? GL-NOW-PRSI? /?L38
	.DEBUG-LINE 8,1041,1
	ICALL1 RT-GET-PIGEON
	.DEBUG-LINE 8,1042,1
	RTRUE
	.DEBUG-LINE 8,1043,1
?L38:	EQUAL? GL-PRSA,V?SHOW \?L39
	ZERO? GL-NOW-PRSI? /?L39
	.DEBUG-LINE 8,1045,1
	EQUAL? GL-PRSO,TH-RUBY \?L40
	.DEBUG-LINE 8,1046,1
	ICALL2 RT-THIS-IS-IT,TH-RUBY
	.DEBUG-LINE 8,1047,1
	ICALL2 RT-PIGEON-INTEREST,K-PIGEON-SHOWN-RUBY
	RTRUE
	.DEBUG-LINE 8,1049,1
?L40:	PRINTI "The pigeon doesn't seem to be interested in "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 8,1051,1
	PRINTR "."
	.DEBUG-LINE 8,1052,1
?L39:	EQUAL? GL-PRSA,V?KILL,V?SHOOT \?L43
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON \?L43
	.DEBUG-LINE 8,1054,1
	EQUAL? GL-PRSI,TH-GUN /?L46
	EQUAL? GL-PRSA,V?SHOOT \?L44
	.DEBUG-LINE 8,1056,1
?L46:	CALL RT-META-IN?,GL-PRSO,CH-PLAYER >STACK
	ZERO? STACK /?L47
	.DEBUG-LINE 8,1057,1
	PRINT K-DROP-IT-FIRST-MSG
	.DEBUG-LINE 8,1058,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,1060,1
?L47:	ZERO? CH-TRAINED-PIGEON-AUX2 /?L50
	.DEBUG-LINE 8,1061,1
	PRINTI "Flap. Flap. Flap. Thud."
	CRLF
	JUMP ?L62
	.DEBUG-LINE 8,1063,1
?L50:	PRINTI "You shoot "
	ICALL1 RT-THEO-PRINT
	PRINTI " and it dies."
	CRLF
	JUMP ?L62
	.DEBUG-LINE 8,1064,1
?L44:	EQUAL? GL-PRSI,TH-KNIFE /?L54
	EQUAL? GL-P-PRSA-WORD,W?STAB \?L53
	.DEBUG-LINE 8,1066,1
?L54:	ZERO? CH-TRAINED-PIGEON-AUX2 /?L55
	.DEBUG-LINE 8,1067,1
	PRINTI "You throw "
	ICALL1 RT-THEI-PRINT
	PRINTI " at "
	ICALL1 RT-THEO-PRINT
	PRINTI ". Fortunately, it misses and falls on the ground nearby."
	CRLF
	.DEBUG-LINE 8,1069,1
	MOVE GL-PRSI,GL-PLACE-CUR
	.DEBUG-LINE 8,1070,1
	RTRUE
	.DEBUG-LINE 8,1072,1
?L55:	PRINTI "You slice "
	ICALL1 RT-THEO-PRINT
	PRINTI " into luncheon meat and cry out, ""Squab, anyone?"""
	CRLF
	JUMP ?L62
	.DEBUG-LINE 8,1074,1
?L53:	EQUAL? GL-PRSI,TH-HANDS \?L58
	.DEBUG-LINE 8,1075,1
	ZERO? CH-TRAINED-PIGEON-AUX2 /?L59
	.DEBUG-LINE 8,1076,1
	.DEBUG-LINE 8,1077,1
	PRINTR "You can't reach the pigeon."
	.DEBUG-LINE 8,1079,1
?L59:	PRINTI "You throttle the poor bird."
	CRLF
	JUMP ?L62
	.DEBUG-LINE 8,1081,1
?L58:	PRINTI "You can't kill "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 8,1082,1
	PRINTR "."
	.DEBUG-LINE 8,1083,1
?L62:	ZERO? CH-TRAINED-PIGEON-AUX2 /?L63
	ZERO? CH-TRAINED-PIGEON-AUX3 /?L63
	.DEBUG-LINE 8,1085,1
	MOVE CH-TRAINED-PIGEON-AUX3,GL-PLACE-CUR
	.DEBUG-LINE 8,1086,1
?L63:	ICALL1 RT-KILL-PIGEON
	.DEBUG-LINE 8,1087,1
	RTRUE
	.DEBUG-LINE 8,1088,1
?L43:	EQUAL? GL-PRSA,V?TOUCH \?L66
	ZERO? GL-NOW-PRSI? \?L66
	.DEBUG-LINE 8,1090,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " coos and nuzzles your hand."
	.DEBUG-LINE 8,1091,1
?L66:	EQUAL? GL-PRSA,V?CALL \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 8,1093,1
	CALL RT-META-IN?,CH-TRAINED-PIGEON,GL-WINNER >STACK
	ZERO? STACK /?L68
	.DEBUG-LINE 8,1094,1
	ICALL RT-CYOU-MSG,STR?185,STR?184
	.DEBUG-LINE 8,1095,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 8,1096,1
	PRINTR "."
	.DEBUG-LINE 8,1097,1
?L68:	ZERO? CH-TRAINED-PIGEON-AUX2 /?L70
	.DEBUG-LINE 8,1098,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " ignores "
	.DEBUG-LINE 8,1099,1
	EQUAL? GL-WINNER,CH-PLAYER,CH-ME \?L71
	.DEBUG-LINE 8,1100,1
	PRINTI "you"
	JUMP ?L73
	.DEBUG-LINE 8,1102,1
?L71:	ICALL2 RT-THEO-PRINT,GL-WINNER
	.DEBUG-LINE 8,1103,1
	.DEBUG-LINE 8,1104,1
?L73:	PRINTR ", intent on its task."
	.DEBUG-LINE 8,1106,1
?L70:	ICALL1 RT-CTHEO-PRINT
	PRINTI " looks at"
	.DEBUG-LINE 8,1107,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 8,1108,1
	.DEBUG-LINE 8,1109,1
	PRINTR "briefly, then loses interest."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-SHERMAN","CONTEXT","OBJ","OBJ1","P-OBJ","WHO"
	.FUNCT RT-AC-CH-SHERMAN,CONTEXT,OBJ,OBJ1,P-OBJ,WHO
	ASSIGNED? 'CONTEXT /?L56
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1112,1
?L56:	ICALL2 RT-THIS-IS-IT,CH-SHERMAN
	.DEBUG-LINE 8,1113,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1114,1
	FSET? CH-SHERMAN,FL-ASLEEP \FALSE
	.DEBUG-LINE 8,1115,1
	.DEBUG-LINE 8,1116,1
	PRINTR "Sherman is quite unconscious."
	.DEBUG-LINE 8,1119,1
?L1:	SET 'P-OBJ,CH-TRAINED-PIGEON-AUX3
	.DEBUG-LINE 8,1120,1
	EQUAL? CONTEXT,K-M-WINNER \?L7
	FSET? CH-SHERMAN,FL-ASLEEP \?L7
	.DEBUG-LINE 8,1122,1
	CALL2 RT-NO-CONDITION-MSG,GL-WINNER >STACK
	RSTACK
	.DEBUG-LINE 8,1123,1
?L7:	CALL2 RT-TELL-ABOUT?,CH-SHERMAN >STACK
	ZERO? STACK /?L9
	.DEBUG-LINE 8,1124,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L10
	.DEBUG-LINE 8,1125,1
	SET 'OBJ,GL-PRSO
	JUMP ?L12
	.DEBUG-LINE 8,1127,1
?L10:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1128,1
?L12:	FSET? CH-SHERMAN,FL-ASLEEP \?L13
	.DEBUG-LINE 8,1129,1
	ICALL2 RT-NO-CONDITION-MSG,CH-SHERMAN
	RTRUE
	.DEBUG-LINE 8,1130,1
?L13:	EQUAL? OBJ,CH-TRAINED-PIGEON \?L15
	.DEBUG-LINE 8,1131,1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-TIRED \?L16
	.DEBUG-LINE 8,1132,1
	IN? P-OBJ,CH-SHERMAN \?L18
	.DEBUG-LINE 8,1133,1
	PRINTI "Sherman says, ""He came back with "
	ICALL2 RT-A-PRINT,P-OBJ
	PRINTI ". I don't know where he found it."" He gives you "
	ICALL2 RT-THEO-PRINT,P-OBJ
	PRINTI "."
	CRLF
	.DEBUG-LINE 8,1136,1
	ICALL2 RT-PIGEON-OBJ,P-OBJ
	RTRUE
	.DEBUG-LINE 8,1138,1
?L18:	PRINTR """He's resting now."""
	.DEBUG-LINE 8,1140,1
	.DEBUG-LINE 8,1144,1
?L16:	PRINTR """He's a wonderful bird. All you have to do is show him something and tell him to get it, and away he goes. The only catch is, he only seems to like things that are red."""
	.DEBUG-LINE 8,1145,1
?L15:	CALL RT-IDENTIFY-EVENT?,W?TOBY,OBJ >STACK
	ZERO? STACK /?L22
	.DEBUG-LINE 8,1146,1
	.DEBUG-LINE 8,1149,1
	PRINTR """He seems to have a cold, which in his line of work renders him completely useless."""
	.DEBUG-LINE 8,1150,1
?L22:	EQUAL? OBJ,CH-SHERMAN \?L23
	.DEBUG-LINE 8,1151,1
	PRINTR """I'm well. Thank you for asking."""
	.DEBUG-LINE 8,1152,1
?L23:	EQUAL? OBJ,CH-HOLMES \?L24
	.DEBUG-LINE 8,1153,1
	.DEBUG-LINE 8,1155,1
	PRINTR """Sherlock and me? We've been mates for years."""
	.DEBUG-LINE 8,1156,1
?L24:	EQUAL? OBJ,P-OBJ \?L25
	IN? P-OBJ,CH-SHERMAN \?L25
	.DEBUG-LINE 8,1158,1
	PRINTI "Sherman says, ""The pigeon came back with "
	ICALL2 RT-A-PRINT,P-OBJ
	PRINTI ". I don't know where he found it."" He gives you "
	ICALL2 RT-THEO-PRINT,P-OBJ
	PRINTI "."
	CRLF
	.DEBUG-LINE 8,1161,1
	ICALL2 RT-PIGEON-OBJ,P-OBJ
	RTRUE
	.DEBUG-LINE 8,1163,1
?L25:	PRINTI """I don't know anything about "
	ICALL2 RT-THEO-PRINT,OBJ
	.DEBUG-LINE 8,1164,1
	PRINTR "."""
	.DEBUG-LINE 8,1165,1
?L9:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L27
	.DEBUG-LINE 8,1166,1
	RETURN 2
	.DEBUG-LINE 8,1167,1
?L27:	EQUAL? CONTEXT,K-M-WINNER \?L28
	EQUAL? GL-PRSA,V?TAKE \?L28
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON /?L29
	CALL RT-IDENTIFY-EVENT?,W?TOBY,GL-PRSO >STACK
	ZERO? STACK /?L28
	.DEBUG-LINE 8,1171,1
?L29:	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 8,1172,1
	ICALL RT-PERFORM,V?ASK-FOR,CH-SHERMAN,GL-PRSO
	.DEBUG-LINE 8,1173,1
	RTRUE
	.DEBUG-LINE 8,1174,1
?L28:	EQUAL? GL-PRSA,V?ASK-FOR \?L32
	ZERO? GL-NOW-PRSI? \?L32
	SET 'OBJ1,GL-PRSI
	ZERO? OBJ1 \?L31
?L32:	EQUAL? GL-PRSA,V?GIVE \?L30
	EQUAL? GL-PRSI,CH-ME,CH-PLAYER \?L30
	EQUAL? CONTEXT,K-M-WINNER \?L30
	SET 'OBJ1,GL-PRSO
	ZERO? OBJ1 /?L30
	.DEBUG-LINE 8,1181,1
?L31:	FSET? CH-SHERMAN,FL-ASLEEP \?L33
	.DEBUG-LINE 8,1182,1
	ICALL2 RT-NO-CONDITION-MSG,CH-SHERMAN
	RTRUE
	.DEBUG-LINE 8,1183,1
?L33:	EQUAL? OBJ1,CH-TRAINED-PIGEON \?L35
	.DEBUG-LINE 8,1184,1
	ICALL1 RT-GET-PIGEON
	RTRUE
	.DEBUG-LINE 8,1185,1
?L35:	CALL RT-IDENTIFY-EVENT?,W?TOBY,OBJ1 >STACK
	ZERO? STACK /?L36
	.DEBUG-LINE 8,1186,1
	PRINTR """He's not well enough to work."""
	.DEBUG-LINE 8,1187,1
?L36:	EQUAL? OBJ1,P-OBJ \?L37
	.DEBUG-LINE 8,1188,1
	IN? P-OBJ,CH-SHERMAN \?L38
	.DEBUG-LINE 8,1189,1
	PRINTI "Sherman says, ""Oh, yes. The pigeon came back with "
	ICALL2 RT-A-PRINT,P-OBJ
	PRINTI ". I don't know where he found it."" He gives you "
	ICALL2 RT-THEO-PRINT,P-OBJ
	PRINTI "."
	CRLF
	.DEBUG-LINE 8,1192,1
	ICALL2 RT-PIGEON-OBJ,P-OBJ
	RTRUE
	.DEBUG-LINE 8,1194,1
?L38:	PRINTR """I already gave it to you."""
	.DEBUG-LINE 8,1195,1
?L37:	IN? GL-PRSI,CH-SHERMAN \?L41
	.DEBUG-LINE 8,1196,1
	PRINTI "He gives you "
	ICALL2 RT-THEO-PRINT,OBJ1
	PRINTI "."
	CRLF
	.DEBUG-LINE 8,1197,1
	MOVE OBJ1,CH-PLAYER
	.DEBUG-LINE 8,1198,1
	ICALL2 RT-THIS-IS-IT,OBJ1
	.DEBUG-LINE 8,1199,1
	FSET OBJ1,FL-SEEN
	.DEBUG-LINE 8,1200,1
	FSET OBJ1,FL-TOUCHED
	.DEBUG-LINE 8,1201,1
	FCLEAR OBJ1,FL-NODESC
	RTRUE
	.DEBUG-LINE 8,1203,1
?L41:	PRINTI """I don't have "
	ICALL2 RT-A-PRINT,OBJ1
	.DEBUG-LINE 8,1204,1
	PRINTR "."""
	.DEBUG-LINE 8,1205,1
?L30:	EQUAL? GL-PRSA,V?TAKE \?L43
	ZERO? GL-NOW-PRSI? /?L43
	.DEBUG-LINE 8,1207,1
	ICALL RT-IMPOLITE-MSG,STR?195,STR?194
	.DEBUG-LINE 8,1208,1
	RTRUE
	.DEBUG-LINE 8,1209,1
?L43:	EQUAL? CONTEXT,K-M-WINNER \FALSE
	.DEBUG-LINE 8,1210,1
	EQUAL? GL-PRSA,V?HELLO \?L45
	.DEBUG-LINE 8,1211,1
	PRINTR """Hello, Dr Watson."""
	.DEBUG-LINE 8,1212,1
?L45:	EQUAL? GL-PRSA,V?GOODBYE \?L47
	.DEBUG-LINE 8,1213,1
	PRINTR """Goodbye, Dr Watson."""
	.DEBUG-LINE 8,1214,1
?L47:	EQUAL? GL-PRSA,V?THANK \?L48
	.DEBUG-LINE 8,1215,1
	PRINTR """You're welcome."""
	.DEBUG-LINE 8,1216,1
?L48:	EQUAL? GL-PRSA,V?GIVE-SWP /FALSE
	.DEBUG-LINE 8,1218,1
	EQUAL? GL-PRSA,V?YES \?L50
	.DEBUG-LINE 8,1219,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1220,1
?L50:	EQUAL? GL-PRSA,V?WHERE \?L51
	CALL2 RT-VISIBLE?,GL-PRSO >STACK
	ZERO? STACK /?L51
	.DEBUG-LINE 8,1222,1
	.DEBUG-LINE 8,1223,1
	PRINTR """Right here, Doctor."""
	.DEBUG-LINE 8,1224,1
?L51:	EQUAL? GL-PRSA,V?NO \?L52
	.DEBUG-LINE 8,1225,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1226,1
?L52:	EQUAL? GL-PRSA,V?MAYBE \?L53
	.DEBUG-LINE 8,1227,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1229,1
?L53:	ICALL2 RT-CTHEO-PRINT,CH-SHERMAN
	PRINTR " says, ""Unfortunately, I won't be able to help you with that."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-PRIME-MINISTER","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-PRIME-MINISTER,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L31
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1234,1
?L31:	ICALL2 RT-THIS-IS-IT,CH-PRIME-MINISTER
	.DEBUG-LINE 8,1236,1
	EQUAL? CONTEXT,K-M-CONT \?L1
	.DEBUG-LINE 8,1237,1
	.DEBUG-LINE 8,1238,1
	PRINTR "You should be ashamed of yourself."
	.DEBUG-LINE 8,1239,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 8,1240,1
	PRINTI "He is an elderly man with bushy eyebrows and muttonchop whiskers."
	.DEBUG-LINE 8,1242,1
	FSET? CH-PRIME-MINISTER,FL-ASLEEP \?L4
	.DEBUG-LINE 8,1243,1
	PRINTI " He is also unconscious, thanks to you."
	.DEBUG-LINE 8,1244,1
	.DEBUG-LINE 8,1245,1
?L4:	CRLF
	RTRUE
	.DEBUG-LINE 8,1246,1
?L3:	EQUAL? CONTEXT,K-M-WINNER \?L7
	FSET? GL-WINNER,FL-ASLEEP \?L7
	.DEBUG-LINE 8,1248,1
	ICALL2 RT-NO-CONDITION-MSG,GL-WINNER
	RFALSE
	.DEBUG-LINE 8,1249,1
?L7:	CALL2 RT-TELL-ABOUT?,CH-PRIME-MINISTER >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 8,1250,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L9
	.DEBUG-LINE 8,1251,1
	SET 'OBJ,GL-PRSO
	JUMP ?L11
	.DEBUG-LINE 8,1253,1
?L9:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1254,1
?L11:	EQUAL? OBJ,CH-QUEEN \?L12
	.DEBUG-LINE 8,1255,1
	PRINTR """It was she herself who suggested consulting Mr Holmes."""
	.DEBUG-LINE 8,1257,1
?L12:	EQUAL? OBJ,TH-WESTMINSTER-CLUE \?L14
	.DEBUG-LINE 8,1258,1
	PRINTR """We are all baffled by it. That is why we have come to Mr Holmes."""
	.DEBUG-LINE 8,1260,1
?L14:	EQUAL? OBJ,LG-TOWER \?L15
	.DEBUG-LINE 8,1261,1
	PRINTR """Naturally we have closed it until the investigation is terminated. No one has been allowed to leave since the theft was discovered."""
	.DEBUG-LINE 8,1264,1
?L15:	EQUAL? OBJ,CH-HOLMES \?L16
	.DEBUG-LINE 8,1265,1
	PRINTR """We learned of his talents from his brother, Mycroft."""
	.DEBUG-LINE 8,1267,1
?L16:	CALL RT-IDENTIFY-EVENT?,W?MYCROFT,OBJ >STACK
	ZERO? STACK /?L17
	.DEBUG-LINE 8,1268,1
	PRINTR """As you are no doubt aware, his involvement with the government is too sensitive for me to discuss."""
	.DEBUG-LINE 8,1270,1
?L17:	EQUAL? OBJ,CH-HUDSON \?L18
	.DEBUG-LINE 8,1271,1
	PRINTR """She was good enough to serve me tea while I waited. Splendid woman."""
	.DEBUG-LINE 8,1273,1
?L18:	EQUAL? OBJ,CH-MORIARTY \?L19
	.DEBUG-LINE 8,1274,1
	PRINTR """I don't believe I'm familiar with that name."""
	.DEBUG-LINE 8,1275,1
?L19:	EQUAL? OBJ,TH-CROWN-JEWELS /?L21
	CALL RT-IDENTIFY-EVENT?,W?THEFT,OBJ >STACK
	ZERO? STACK /?L20
	.DEBUG-LINE 8,1277,1
?L21:	PRINTR """If the theft is discovered, the public's faith in this government will be shattered. I shall be forced to resign."""
	.DEBUG-LINE 8,1280,1
	.DEBUG-LINE 8,1281,1
?L20:	PRINTR """Come, Doctor. Let us stick to the essentials."""
	.DEBUG-LINE 8,1282,1
?L8:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L23
	.DEBUG-LINE 8,1283,1
	RETURN 2
	.DEBUG-LINE 8,1284,1
?L23:	EQUAL? CONTEXT,K-M-WINNER \FALSE
	.DEBUG-LINE 8,1285,1
	EQUAL? GL-PRSA,V?YES \?L25
	.DEBUG-LINE 8,1286,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RFALSE
	.DEBUG-LINE 8,1287,1
?L25:	EQUAL? GL-PRSA,V?NO \?L27
	.DEBUG-LINE 8,1288,1
	PRINT K-PITY-MSG
	CRLF
	RFALSE
	.DEBUG-LINE 8,1289,1
?L27:	EQUAL? GL-PRSA,V?MAYBE \?L28
	.DEBUG-LINE 8,1290,1
	PRINT K-MAYBE-MSG
	CRLF
	RFALSE
	.DEBUG-LINE 8,1292,1
	.DEBUG-LINE 8,1294,1
?L28:	PRINTR """Surely, Doctor, we should not waste our time on such trivial activities."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-AKBAR","CONTEXT","HAT","OBJ","WRD","ADJ"
	.FUNCT RT-AC-CH-AKBAR,CONTEXT,HAT,OBJ,WRD,ADJ
	ASSIGNED? 'CONTEXT /?L57
	SET 'CONTEXT,0
?L57:	SET 'HAT,0
	.DEBUG-LINE 8,1298,1
	ICALL2 RT-THIS-IS-IT,CH-AKBAR
	.DEBUG-LINE 8,1300,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1301,1
	.DEBUG-LINE 8,1303,1
	PRINTR "He is a tall, dark-skinned Indian who wears a white turban."
	.DEBUG-LINE 8,1304,1
?L1:	EQUAL? CONTEXT,K-M-WINNER \?L3
	FSET? GL-WINNER,FL-ASLEEP \?L3
	.DEBUG-LINE 8,1306,1
	CALL2 RT-NO-CONDITION-MSG,GL-WINNER >STACK
	RSTACK
	.DEBUG-LINE 8,1307,1
?L3:	CALL2 RT-TELL-ABOUT?,CH-AKBAR >STACK
	ZERO? STACK /?L4
	.DEBUG-LINE 8,1308,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L5
	.DEBUG-LINE 8,1308,1
	SET 'OBJ,GL-PRSO
	JUMP ?L7
	.DEBUG-LINE 8,1309,1
?L5:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1310,1
?L7:	FSET? CH-AKBAR,FL-ASLEEP \?L8
	.DEBUG-LINE 8,1311,1
	CALL2 RT-NO-CONDITION-MSG,CH-AKBAR >STACK
	RSTACK
	.DEBUG-LINE 8,1313,1
?L8:	PRINTI """I know little"
	.DEBUG-LINE 8,1314,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L11
	.DEBUG-LINE 8,1315,1
	PRINTI ", honoured sir"
	.DEBUG-LINE 8,1316,1
?L11:	PRINTR ". I have only been in your country a short distance."""
	.DEBUG-LINE 8,1318,1
?L4:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L14
	.DEBUG-LINE 8,1319,1
	RETURN 2
	.DEBUG-LINE 8,1320,1
?L14:	EQUAL? CONTEXT,K-M-WINNER \?L15
	.DEBUG-LINE 8,1321,1
	FSET? CH-AKBAR,FL-ASLEEP \?L16
	.DEBUG-LINE 8,1322,1
	CALL2 RT-NO-CONDITION-MSG,CH-AKBAR >STACK
	RSTACK
	.DEBUG-LINE 8,1323,1
?L16:	EQUAL? GL-PRSA,V?YES \?L18
	.DEBUG-LINE 8,1324,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1325,1
?L18:	EQUAL? GL-PRSA,V?NO \?L19
	.DEBUG-LINE 8,1326,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1327,1
?L19:	EQUAL? GL-PRSA,V?MAYBE \?L20
	.DEBUG-LINE 8,1328,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1330,1
?L20:	CALL RT-NOT-LIKELY-MSG,CH-AKBAR,STR?198 >STACK
	RSTACK
	.DEBUG-LINE 8,1331,1
?L15:	ZERO? GL-NOW-PRSI? \?L58
	.DEBUG-LINE 8,1332,1
	EQUAL? GL-PRSA,V?CALL \?L23
	.DEBUG-LINE 8,1339,1
	FSET? CH-AKBAR,FL-ASLEEP \?L25
	.DEBUG-LINE 8,1340,1
	CALL2 RT-NO-CONDITION-MSG,CH-AKBAR >STACK
	RSTACK
	.DEBUG-LINE 8,1342,1
?L25:	PRINTI """I am here"
	.DEBUG-LINE 8,1343,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L28
	.DEBUG-LINE 8,1344,1
	PRINTI ", sahib"
	.DEBUG-LINE 8,1345,1
?L28:	PRINTR ". What is it you wish?"""
	.DEBUG-LINE 8,1346,1
?L23:	EQUAL? GL-PRSA,V?TELL-ABOUT \FALSE
	.DEBUG-LINE 8,1347,1
	GET GL-P-NAMW,1 >WRD
	.DEBUG-LINE 8,1348,1
	GET GL-P-ADJW,1 >ADJ
	.DEBUG-LINE 8,1349,1
	FSET? CH-AKBAR,FL-ASLEEP \?L32
	.DEBUG-LINE 8,1350,1
	CALL2 RT-NO-CONDITION-MSG,CH-AKBAR >STACK
	RSTACK
	.DEBUG-LINE 8,1351,1
?L32:	EQUAL? WRD,W?SWORDFISH,W?PASSWORD,W?HUSH \?L34
	.DEBUG-LINE 8,1352,1
	PRINTR """Passwords are for others. I must have something tangible."""
	.DEBUG-LINE 8,1354,1
?L34:	EQUAL? WRD,W?GIN \?L35
	.DEBUG-LINE 8,1355,1
	PRINTR """No thank you. My religion forbids alcoholic beverages."""
	.DEBUG-LINE 8,1357,1
?L35:	CALL RT-IDENTIFY-EVENT?,W?PASSWORD,GL-PRSI >STACK
	ZERO? STACK /?L36
	.DEBUG-LINE 8,1358,1
	PRINTR """She sounds interesting. Can she make curried mongoose?"""
	.DEBUG-LINE 8,1360,1
?L36:	EQUAL? GL-PRSI,TH-GARNET \?L37
	.DEBUG-LINE 8,1361,1
	PRINTR """I must see it before I believe it."""
	.DEBUG-LINE 8,1362,1
?L37:	EQUAL? GL-PRSI,TH-ASH \?L38
	.DEBUG-LINE 8,1363,1
	PRINTR "Akbar hesitates, then says, ""I do not know what you are talking about."""
	.DEBUG-LINE 8,1366,1
?L38:	PRINTI """"
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 8,1367,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSI
	.DEBUG-LINE 8,1368,1
	PRINTR "interest me."""
	.DEBUG-LINE 8,1370,1
?L58:	EQUAL? GL-PRSA,V?GIVE,V?SHOW \FALSE
	EQUAL? GL-PRSO,TH-GARNET \FALSE
	.DEBUG-LINE 8,1372,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,50,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-OUT-OF-TIME,STACK
	.DEBUG-LINE 8,1373,1
	FSET? TH-WATSONS-HAT,FL-WORN /?L44
	SET 'HAT,0
	JUMP ?L45
?L44:	SET 'HAT,1
	.DEBUG-LINE 8,1374,1
?L45:	CALL RT-META-IN?,TH-BOX-KEY,CH-PLAYER >STACK
	ZERO? STACK /?L46
	.DEBUG-LINE 8,1375,1
	REMOVE TH-BOX-KEY
	.DEBUG-LINE 8,1376,1
?L46:	ICALL RT-MOVE-ALL,CH-PLAYER,RM-LAIR
	.DEBUG-LINE 8,1377,1
	ICALL RT-MOVE-ALL,TH-LAPEL,RM-LAIR
	.DEBUG-LINE 8,1378,1
	ICALL RT-MOVE-ALL,TH-POCKET,RM-LAIR
	.DEBUG-LINE 8,1379,1
	ICALL RT-MOVE-ALL,TH-WATSONS-COAT,RM-LAIR
	.DEBUG-LINE 8,1380,1
	ICALL RT-MOVE-ALL,TH-EARS,RM-LAIR
	.DEBUG-LINE 8,1381,1
	MOVE TH-LAPEL,TH-WATSONS-COAT
	.DEBUG-LINE 8,1382,1
	MOVE TH-POCKET,TH-WATSONS-COAT
	.DEBUG-LINE 8,1383,1
	MOVE TH-WATSONS-COAT,CH-PLAYER
	.DEBUG-LINE 8,1384,1
	ZERO? HAT /?L49
	.DEBUG-LINE 8,1385,1
	MOVE TH-WATSONS-HAT,CH-PLAYER
	JUMP ?L51
	.DEBUG-LINE 8,1387,1
?L49:	FCLEAR TH-WATSONS-HAT,FL-WORN
	.DEBUG-LINE 8,1388,1
?L51:	FCLEAR TH-CAB-WHISTLE,FL-WORN
	.DEBUG-LINE 8,1389,1
	FCLEAR TH-STETHOSCOPE,FL-WORN
	.DEBUG-LINE 8,1390,1
	MOVE CH-AKBAR,RM-LAIR
	.DEBUG-LINE 8,1391,1
	REMOVE CH-WIGGINS
	.DEBUG-LINE 8,1392,1
	PRINTI "Akbar takes "
	ICALL1 RT-THEO-PRINT
	PRINTI " and examines it closely. Then he "
	.DEBUG-LINE 8,1393,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L52
	.DEBUG-LINE 8,1394,1
	PRINTI "says, ""I must ask you to come with me, sir. But first, I ask that you give me all that you carry."" He takes everything you give him, and then apologizes as he places a blindfold over your eyes. He"
	JUMP ?L54
	.DEBUG-LINE 8,1399,1
?L52:	PRINTI "grabs you by the arm and drags you into a back room. He frisks you and takes away everything you are carrying. Then he blindfolds you and"
	.DEBUG-LINE 8,1402,1
?L54:	PRINTI " leads you down a series of long winding corridors. You hear a door close behind you, and when he finally removes the blindfold, you are standing in Moriarty's lair. Akbar locks the door behind you, drops the key on Moriarty's desk, and piles most of what you were carrying onto the floor."
	CRLF
	.DEBUG-LINE 8,1407,1
	ICALL2 RT-UPDATE-SCORE,5
	.DEBUG-LINE 8,1408,1
	CRLF
	.DEBUG-LINE 8,1409,1
	CALL2 RT-GOTO,RM-LAIR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-MORIARTY","CONTEXT","OBJ","WRD","ADJ","OFF"
	.FUNCT RT-AC-CH-MORIARTY,CONTEXT,OBJ,WRD,ADJ,OFF
	ASSIGNED? 'CONTEXT /?L38
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1413,1
?L38:	ICALL2 RT-THIS-IS-IT,CH-MORIARTY
	.DEBUG-LINE 8,1414,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1415,1
	.DEBUG-LINE 8,1418,1
	PRINTR "The Professor has a high domed forehead that rises above heavily lidded, almost reptilian eyes."
	.DEBUG-LINE 8,1419,1
?L1:	EQUAL? CONTEXT,K-M-WINNER \?L3
	FSET? GL-WINNER,FL-ASLEEP \?L3
	.DEBUG-LINE 8,1421,1
	CALL2 RT-NO-CONDITION-MSG,GL-WINNER >STACK
	RSTACK
	.DEBUG-LINE 8,1422,1
?L3:	CALL2 RT-TELL-ABOUT?,CH-MORIARTY >STACK
	ZERO? STACK /?L4
	.DEBUG-LINE 8,1423,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L5
	.DEBUG-LINE 8,1424,1
	SET 'OBJ,GL-PRSO
	JUMP ?L7
	.DEBUG-LINE 8,1426,1
?L5:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1427,1
?L7:	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L8
	SET 'OFF,0
	JUMP ?L10
?L8:	SET 'OFF,1
	.DEBUG-LINE 8,1428,1
?L10:	GET GL-P-NAMW,OFF >WRD
	.DEBUG-LINE 8,1429,1
	GET GL-P-ADJW,OFF >ADJ
	.DEBUG-LINE 8,1430,1
	FSET? CH-MORIARTY,FL-ASLEEP \?L11
	.DEBUG-LINE 8,1431,1
	CALL2 RT-NO-CONDITION-MSG,CH-MORIARTY >STACK
	RSTACK
	.DEBUG-LINE 8,1432,1
?L11:	FSET? CH-MORIARTY,FL-LOCKED \?L13
	.DEBUG-LINE 8,1433,1
	PRINTR "The Professor's cold, reptilian eyes glare at you in silent hatred."
	.DEBUG-LINE 8,1435,1
?L13:	EQUAL? OBJ,CH-MORIARTY \?L14
	.DEBUG-LINE 8,1436,1
	PRINTR """I am a mathematical machine, Doctor. I think. I plan. And as you and the 'great' Sherlock Holmes have now learned, all who oppose me suffer inexorable destruction."""
	.DEBUG-LINE 8,1440,1
?L14:	EQUAL? OBJ,CH-HOLMES,CH-BANK-GUARD /?L16
	CALL RT-IDENTIFY-EVENT?,W?KIDNAPPING,OBJ >STACK
	ZERO? STACK /?L15
	.DEBUG-LINE 8,1442,1
?L16:	PRINTR """Holmes is a worthy adversary, Doctor. And his kidnapping was purely accidental. It was nothing more than a blunder on the part of an overeager subordinate. The guard at the bank knew nothing of my plan. He merely saw a chance to capture and deliver to me the famous Sherlock Holmes, and he took it."""
	.DEBUG-LINE 8,1448,1
?L15:	EQUAL? OBJ,CH-AKBAR \?L17
	.DEBUG-LINE 8,1449,1
	PRINTR """A trusted associate who was sensible enough to see the advantages of joining forces with me."""
	.DEBUG-LINE 8,1452,1
?L17:	EQUAL? OBJ,TH-CROWN-JEWELS /?L39
	CALL RT-IDENTIFY-EVENT?,W?THEFT,OBJ >STACK
	ZERO? STACK /?L18
	.DEBUG-LINE 8,1454,1
	EQUAL? OBJ,TH-CROWN-JEWELS \?L20
	.DEBUG-LINE 8,1455,1
?L39:	PRINTI """Pretty, are they not? I purloined them"
	JUMP ?L22
	.DEBUG-LINE 8,1458,1
?L20:	PRINTI "I purloined the Crown Jewels"
	.DEBUG-LINE 8,1459,1
?L22:	PRINTR " at the request of a foreign government whose identity need not concern you. My clients care nothing about the Crown Jewels themselves - they wish only to undermine confidence in the British monarchy as a first step towards weakening and ultimately destroying the British Empire."""
	.DEBUG-LINE 8,1464,1
?L18:	EQUAL? OBJ,TH-SAPPHIRE,TH-EMERALD,TH-RUBY /?L24
	EQUAL? OBJ,TH-OPAL,TH-GARNET,TH-TOPAZ /?L24
	CALL RT-IDENTIFY-EVENT?,W?AGRA,OBJ >STACK
	ZERO? STACK /?L23
	.DEBUG-LINE 8,1467,1
?L24:	PRINTR """Merely bait to be used in the hunting of a greater prey."""
	.DEBUG-LINE 8,1469,1
?L23:	EQUAL? OBJ,CH-QUEEN \?L25
	.DEBUG-LINE 8,1470,1
	PRINTR """A foolish old woman. Her empire deserves to fail."""
	.DEBUG-LINE 8,1473,1
?L25:	PRINTI """Your lives and the fate of your precious monarchy hang in the balance, Doctor. Have you nothing better to do than to query me about "
	ICALL2 RT-THEO-PRINT,OBJ
	PRINTR "?"""
	.DEBUG-LINE 8,1477,1
?L4:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L27
	.DEBUG-LINE 8,1478,1
	RETURN 2
	.DEBUG-LINE 8,1479,1
?L27:	EQUAL? CONTEXT,K-M-WINNER \?L28
	.DEBUG-LINE 8,1480,1
	FSET? CH-MORIARTY,FL-ASLEEP \?L29
	.DEBUG-LINE 8,1481,1
	CALL2 RT-NO-CONDITION-MSG,CH-MORIARTY >STACK
	RSTACK
	.DEBUG-LINE 8,1482,1
?L29:	EQUAL? GL-PRSA,V?YES \?L31
	.DEBUG-LINE 8,1483,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1484,1
?L31:	EQUAL? GL-PRSA,V?NO \?L32
	.DEBUG-LINE 8,1485,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1486,1
?L32:	EQUAL? GL-PRSA,V?MAYBE \?L33
	.DEBUG-LINE 8,1487,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1489,1
?L33:	ICALL RT-NOT-LIKELY-MSG,CH-MORIARTY,STR?198
	.DEBUG-LINE 8,1490,1
	RTRUE
	.DEBUG-LINE 8,1491,1
?L28:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 8,1492,1
	.DEBUG-LINE 8,1494,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-HUDSON","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-HUDSON,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L32
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1498,1
?L32:	ICALL2 RT-THIS-IS-IT,CH-HUDSON
	.DEBUG-LINE 8,1507,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1511,1
	FSET? CH-HOLMES,FL-ASLEEP \?L3
	.DEBUG-LINE 8,1512,1
	PRINTR "Mrs Hudson appears agitated. She looks at you and says, ""Mr Holmes is upstairs, Doctor. Please see what you can do for him."""
	.DEBUG-LINE 8,1516,1
	.DEBUG-LINE 8,1518,1
?L3:	PRINTR "Mrs Hudson appears happy that things are back to normal."
	.DEBUG-LINE 8,1519,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-HUDSON >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 8,1520,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L7
	.DEBUG-LINE 8,1521,1
	SET 'OBJ,GL-PRSO
	JUMP ?L9
	.DEBUG-LINE 8,1523,1
?L7:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1524,1
?L9:	FSET? CH-HOLMES,FL-ASLEEP \?L10
	.DEBUG-LINE 8,1525,1
	EQUAL? OBJ,CH-HOLMES \?L12
	.DEBUG-LINE 8,1526,1
	PRINTR """He doesn't eat. He doesn't drink. He doesn't read the newspaper. I'm very worried about him."""
	.DEBUG-LINE 8,1529,1
?L12:	EQUAL? OBJ,CH-PRIME-MINISTER \?L14
	.DEBUG-LINE 8,1530,1
	PRINTR """He seems very worried. I gave him some tea."""
	.DEBUG-LINE 8,1533,1
?L14:	ICALL2 RT-CTHEO-PRINT,CH-HUDSON
	.DEBUG-LINE 8,1537,1
	PRINTR " wrings her hands and looks at you anxiously. ""I'm too worried to think, Doctor. Won't you see what you can do for Mr Holmes?"""
	.DEBUG-LINE 8,1539,1
?L10:	EQUAL? OBJ,CH-HOLMES \?L17
	.DEBUG-LINE 8,1540,1
	PRINTR """He seems much better now, Doctor. Thank you so much."""
	.DEBUG-LINE 8,1543,1
	.DEBUG-LINE 8,1545,1
?L17:	PRINTR """Shouldn't you be asking Mr Holmes?"""
	.DEBUG-LINE 8,1546,1
?L6:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L20
	.DEBUG-LINE 8,1547,1
	RETURN 2
	.DEBUG-LINE 8,1548,1
?L20:	EQUAL? CONTEXT,K-M-WINNER \FALSE
	.DEBUG-LINE 8,1549,1
	EQUAL? GL-PRSA,V?HELLO \?L22
	.DEBUG-LINE 8,1550,1
	PRINTR """Hello, Dr Watson."""
	.DEBUG-LINE 8,1551,1
?L22:	EQUAL? GL-PRSA,V?GOODBYE \?L24
	.DEBUG-LINE 8,1552,1
	PRINTR """Goodbye, Dr Watson."""
	.DEBUG-LINE 8,1553,1
?L24:	EQUAL? GL-PRSA,V?YES \?L25
	.DEBUG-LINE 8,1554,1
	PRINT K-GOOD-SHOW-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1555,1
?L25:	EQUAL? GL-PRSA,V?NO \?L26
	.DEBUG-LINE 8,1556,1
	PRINT K-PITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1557,1
?L26:	EQUAL? GL-PRSA,V?MAYBE \?L27
	.DEBUG-LINE 8,1558,1
	PRINT K-MAYBE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1559,1
?L27:	EQUAL? GL-PRSA,V?THANK \?L28
	.DEBUG-LINE 8,1560,1
	PRINTR """You're quite welcome, Dr Watson."""
	.DEBUG-LINE 8,1561,1
?L28:	FSET? CH-HOLMES,FL-ASLEEP \?L29
	.DEBUG-LINE 8,1562,1
	PRINTR """I'm sorry Doctor, but I cannot do anything for you until you have attended to Mr Holmes."""
	.DEBUG-LINE 8,1566,1
?L29:	PRINTR """I'm sorry. I must get back to my other duties."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-DENKEEPER","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-DENKEEPER,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L18
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1571,1
?L18:	ICALL2 RT-THIS-IS-IT,CH-DENKEEPER
	.DEBUG-LINE 8,1572,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1573,1
	.DEBUG-LINE 8,1575,1
	PRINTR "He is a scrawny character with a weasel-like face and shifty eyes."
	.DEBUG-LINE 8,1576,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-DENKEEPER >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 8,1577,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L4
	.DEBUG-LINE 8,1578,1
	SET 'OBJ,GL-PRSO
	RFALSE
	.DEBUG-LINE 8,1580,1
?L4:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1581,1
	RFALSE
	.DEBUG-LINE 8,1582,1
?L3:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L7
	.DEBUG-LINE 8,1583,1
	RETURN 2
	.DEBUG-LINE 8,1584,1
?L7:	EQUAL? GL-PRSA,V?CALL \?L10
	EQUAL? GL-PRSO,CH-AKBAR /?L9
?L10:	EQUAL? GL-PRSA,V?ASK-FOR,V?ASK-ABOUT \?L8
	EQUAL? GL-PRSI,CH-AKBAR \?L8
	.DEBUG-LINE 8,1588,1
?L9:	FSET? CH-AKBAR,FL-SEEN \?L13
	IN? CH-AKBAR,RM-BAR-OF-GOLD /?L11
	.DEBUG-LINE 8,1590,1
?L13:	ICALL2 RT-CTHEO-PRINT,CH-DENKEEPER
	PRINTI " gives"
	.DEBUG-LINE 8,1591,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 8,1592,1
	PRINTR "a sideways look and says, ""He might be here, and then again he might not. What's the password?"""
	.DEBUG-LINE 8,1596,1
?L11:	ICALL2 RT-CTHEO-PRINT,CH-DENKEEPER
	.DEBUG-LINE 8,1598,1
	PRINTR " says, ""He's right there in front of you."""
	.DEBUG-LINE 8,1599,1
?L8:	EQUAL? GL-PRSA,V?GIVE \?L15
	.DEBUG-LINE 8,1600,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 8,1601,1
	REMOVE GL-PRSO
	.DEBUG-LINE 8,1602,1
	PRINTI "The denkeeper gives you a quick look of surprise, then he shrugs his shoulders and disappears briefly into a back room, returning moments later without "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 8,1606,1
	PRINTR "."
	.DEBUG-LINE 8,1607,1
?L15:	EQUAL? CONTEXT,K-M-WINNER \FALSE
	EQUAL? GL-PRSA,V?SWORDFISH,V?PASSWORD /FALSE
	.DEBUG-LINE 8,1609,1
	ICALL RT-NOT-LIKELY-MSG,CH-DENKEEPER,STR?198
	.DEBUG-LINE 8,1610,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-LIBRARIAN","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-LIBRARIAN,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1615,1
?L11:	ICALL2 RT-THIS-IS-IT,CH-LIBRARIAN
	.DEBUG-LINE 8,1616,1
	CALL2 RT-TELL-ABOUT?,CH-LIBRARIAN >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 8,1617,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L3
	.DEBUG-LINE 8,1618,1
	SET 'OBJ,GL-PRSO
	JUMP ?L5
	.DEBUG-LINE 8,1620,1
?L3:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1621,1
?L5:	PRINTR """Let me finish telling you about this first."""
	.DEBUG-LINE 8,1622,1
?L1:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 8,1623,1
	RETURN 2
	.DEBUG-LINE 8,1624,1
?L6:	EQUAL? CONTEXT,K-M-WINNER \?L7
	EQUAL? GL-PRSA,V?HUSH /?L7
	.DEBUG-LINE 8,1626,1
	.DEBUG-LINE 8,1628,1
	PRINTR """I will in a moment, but first let me finish telling you about this."""
	.DEBUG-LINE 8,1629,1
?L7:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 8,1630,1
	.DEBUG-LINE 8,1632,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-NANNIES","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-NANNIES,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1636,1
?L11:	ICALL2 RT-THIS-IS-IT,CH-NANNIES
	.DEBUG-LINE 8,1637,1
	CALL2 RT-TELL-ABOUT?,CH-NANNIES >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 8,1638,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L3
	.DEBUG-LINE 8,1639,1
	SET 'OBJ,GL-PRSO
	JUMP ?L5
	.DEBUG-LINE 8,1641,1
?L3:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1642,1
?L5:	PRINT K-TOO-HAUGHTY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 8,1643,1
?L1:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 8,1644,1
	RETURN 2
	.DEBUG-LINE 8,1645,1
?L6:	EQUAL? CONTEXT,K-M-WINNER \?L7
	.DEBUG-LINE 8,1646,1
	PRINT K-TOO-HAUGHTY-MSG
	.DEBUG-LINE 8,1647,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,1648,1
?L7:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 8,1649,1
	.DEBUG-LINE 8,1651,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-HOUSEWIVES","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-HOUSEWIVES,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1655,1
?L21:	ICALL2 RT-THIS-IS-IT,CH-HOUSEWIVES
	.DEBUG-LINE 8,1656,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1657,1
	IN? CH-ELIZA-DOOLITTLE,RM-COVENT-GARDEN \?L3
	.DEBUG-LINE 8,1658,1
	PRINTR "The women have gathered in a circle around the girl. They keep looking at you as if they expect you to do something."
	.DEBUG-LINE 8,1661,1
	.DEBUG-LINE 8,1663,1
?L3:	PRINTR "The housewives mill among the stalls, haggling with merchants over prices and looking for bargains."
	.DEBUG-LINE 8,1664,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-HOUSEWIVES >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 8,1665,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L7
	.DEBUG-LINE 8,1666,1
	SET 'OBJ,GL-PRSO
	JUMP ?L9
	.DEBUG-LINE 8,1668,1
?L7:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 8,1669,1
?L9:	PRINTR "The women do not respond."
	.DEBUG-LINE 8,1670,1
?L6:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L10
	.DEBUG-LINE 8,1671,1
	RETURN 2
	.DEBUG-LINE 8,1672,1
?L10:	EQUAL? CONTEXT,K-M-WINNER \?L11
	.DEBUG-LINE 8,1673,1
	IN? CH-ELIZA-DOOLITTLE,RM-COVENT-GARDEN \?L12
	.DEBUG-LINE 8,1674,1
	PRINTR "The women are too upset about the girl to respond."
	.DEBUG-LINE 8,1676,1
?L12:	PRINTR "The housewives, intent on a bargain, ignore you."
	.DEBUG-LINE 8,1677,1
?L11:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 8,1680,1
	EQUAL? GL-PRSA,V?LISTEN \FALSE
	.DEBUG-LINE 8,1681,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 8,1682,1
	PRINTR " are making a lot of noise."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-PALACE-GUARD","CONTEXT"
	.FUNCT RT-AC-CH-PALACE-GUARD,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1688,1
?L10:	ICALL2 RT-THIS-IS-IT,CH-PALACE-GUARD
	.DEBUG-LINE 8,1689,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1690,1
	PRINTI "Looks like any other "
	ICALL2 DPRINT,CH-PALACE-GUARD
	.DEBUG-LINE 8,1691,1
	PRINTR "."
	.DEBUG-LINE 8,1692,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-PALACE-GUARD >STACK
	ZERO? STACK \?L4
	EQUAL? CONTEXT,K-M-WINNER \?L3
	.DEBUG-LINE 8,1694,1
?L4:	ICALL2 RT-CTHEO-PRINT,CH-PALACE-GUARD
	.DEBUG-LINE 8,1695,1
	PRINTR " stares straight ahead."
	.DEBUG-LINE 8,1696,1
?L3:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 8,1697,1
	RETURN 2
	.DEBUG-LINE 8,1698,1
?L5:	EQUAL? GL-PRSA,V?GIVE,V?SHOW \?L8
	EQUAL? GL-PRSO,TH-CROWN-JEWELS /?L7
?L8:	EQUAL? CONTEXT,K-M-WINNER \FALSE
	EQUAL? GL-PRSA,V?TAKE \FALSE
	EQUAL? GL-PRSO,TH-CROWN-JEWELS \FALSE
	.DEBUG-LINE 8,1703,1
?L7:	ICALL2 RT-CTHEO-PRINT,CH-PALACE-GUARD
	PRINTI " examines the regalia closely and then disappears inside the palace. Moments later, he reappears with the Prime Minister, who quickly ushers you and Holmes into the presence of the Queen."
	CRLF
	CRLF
	PRINTI "Overcome by emotion, for a few moments she says nothing. Finally she smiles and says, ""Once again, Mr Holmes, we find ourselves in your debt. Until now you have always refused our offers of gratitude. Do you intend to refuse your Queen yet again?"""
	CRLF
	CRLF
	PRINTI "Holmes returns her smile. ""I do, Your Majesty. But only because your thanks would be misdirected. It is Doctor Watson here who deserves your gratitude."""
	CRLF
	CRLF
	PRINTI "The Queen turns her gaze towards you. ""Indeed? And what reward would you ask of us, Doctor?"""
	CRLF
	CRLF
	PRINTI "Flustered, you stammer something about the service itself being reward enough, and before you know it you have been royally thanked and ushered back out of the palace into Queens Gardens. There, you and Holmes join the cheering multitudes who greet the Queen when, promptly at 9:00 and wearing the full regalia, she steps onto the balcony to begin the Coronation Day festivities."
	CRLF
	.DEBUG-LINE 8,1726,1
	IXCALL SOUNDS,S-FANFARE,S-START,8,1,END-FANFARE
	.DEBUG-LINE 8,1727,1
	ICALL2 RT-UPDATE-SCORE,1
	.DEBUG-LINE 8,1728,1
	CRLF
	PRINTI "[Your score is "
	PRINTN GL-SCORE-CUR
	PRINTI " out of "
	PRINTN GL-SCORE-MAX
	PRINTI ", which earns you a ranking of "
	CALL2 RT-RANK-STR,GL-SCORE-CUR >STACK
	PRINT STACK
	PRINTI ".]"
	CRLF
	CRLF
	.DEBUG-LINE 8,1731,1
	ICALL1 RT-UPDATE-STATUS-LINE
	.DEBUG-LINE 8,1732,1
	ICALL1 RT-QSR
	.DEBUG-LINE 8,1733,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-URCHINS","CONTEXT"
	.FUNCT RT-AC-CH-URCHINS,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1737,1
?L14:	ICALL2 RT-THIS-IS-IT,CH-URCHINS
	.DEBUG-LINE 8,1738,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1739,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L3
	.DEBUG-LINE 8,1740,1
	PRINTI "Despite the hour, the"
	JUMP ?L5
	.DEBUG-LINE 8,1742,1
?L3:	PRINTI "The"
	.DEBUG-LINE 8,1743,1
?L5:	PRINTI " urchins are playing games in the street."
	CRLF
	.DEBUG-LINE 8,1744,1
	FSET? CH-WIGGINS,FL-BROKEN \FALSE
	.DEBUG-LINE 8,1745,1
	CRLF
	PRINT K-URCHIN-MSG
	.DEBUG-LINE 8,1746,1
	CRLF
	RTRUE
	.DEBUG-LINE 8,1747,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-URCHINS >STACK
	ZERO? STACK \?L10
	EQUAL? CONTEXT,K-M-WINNER \?L9
	.DEBUG-LINE 8,1749,1
?L10:	ICALL2 RT-CTHEO-PRINT,CH-URCHINS
	.DEBUG-LINE 8,1750,1
	PRINTR " ignore you."
	.DEBUG-LINE 8,1751,1
?L9:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 8,1752,1
	.DEBUG-LINE 8,1754,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-MEMBERS","CONTEXT"
	.FUNCT RT-AC-CH-MEMBERS,CONTEXT
	ASSIGNED? 'CONTEXT /?L12
	SET 'CONTEXT,0
	.DEBUG-LINE 8,1758,1
?L12:	ICALL2 RT-THIS-IS-IT,CH-MEMBERS
	.DEBUG-LINE 8,1759,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 8,1760,1
	ICALL2 RT-CTHEO-PRINT,CH-MEMBERS
	.DEBUG-LINE 8,1766,1
	PRINTR " are all asleep."
	.DEBUG-LINE 8,1767,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-MEMBERS >STACK
	ZERO? STACK \?L4
	EQUAL? CONTEXT,K-M-WINNER \?L3
	.DEBUG-LINE 8,1773,1
?L4:	ICALL2 RT-CTHEO-PRINT,CH-MEMBERS
	PRINTR " are all asleep."
	.DEBUG-LINE 8,1774,1
?L3:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 8,1777,1
	EQUAL? GL-PRSA,V?ALARM \?L7
	.DEBUG-LINE 8,1778,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 8,1779,1
	PRINTR "can't. No one can."
	.DEBUG-LINE 8,1780,1
?L7:	EQUAL? GL-PRSA,V?LISTEN \FALSE
	.DEBUG-LINE 8,1781,1
	ICALL2 RT-CTHEO-PRINT,CH-MEMBERS
	PRINTR " are all asleep."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-PAPER","TBL","LEN","PTR","OBJ","PAPER","CONT","C-PAPER","HELD","H-PAPER","GND","G-PAPER"
	.FUNCT RT-GN-PAPER,TBL,LEN,PTR,OBJ,PAPER,CONT,C-PAPER,HELD,H-PAPER,GND,G-PAPER
	ASSIGNED? 'LEN /?L31
	SET 'LEN,0
?L31:	SET 'CONT,0
	SET 'C-PAPER,0
	SET 'HELD,0
	SET 'H-PAPER,0
	SET 'GND,0
	SET 'G-PAPER,0
	.DEBUG-LINE 9,15,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,16,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,17,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,18,1
	INTBL? GL-P-IT-OBJECT,PTR,LEN >STACK \?L4
	.DEBUG-LINE 9,19,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,GL-P-IT-OBJECT
	PRINTI "]"
	CRLF
	.DEBUG-LINE 9,20,1
	RETURN GL-P-IT-OBJECT
	.DEBUG-LINE 9,23,1
?L4:	MUL LEN,2 >STACK
	ADD TBL,STACK >STACK
	GRTR? PTR,STACK /?L8
	.DEBUG-LINE 9,26,1
	GET PTR,0 >OBJ
	.DEBUG-LINE 9,28,1
	LOC OBJ >STACK
	FSET? STACK,FL-SURFACE /?L8
	.DEBUG-LINE 9,31,1
	LOC OBJ >STACK
	EQUAL? STACK,CH-PLAYER \?L14
	.DEBUG-LINE 9,32,1
	ZERO? HELD \?L15
	.DEBUG-LINE 9,33,1
	SET 'HELD,1
	.DEBUG-LINE 9,34,1
	SET 'H-PAPER,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,36,1
?L15:	SET 'H-PAPER,0
	JUMP ?L23
	.DEBUG-LINE 9,38,1
?L14:	LOC OBJ >STACK
	EQUAL? STACK,GL-PLACE-CUR \?L18
	.DEBUG-LINE 9,39,1
	ZERO? GND \?L19
	.DEBUG-LINE 9,40,1
	SET 'GND,1
	.DEBUG-LINE 9,41,1
	SET 'G-PAPER,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,43,1
?L19:	SET 'G-PAPER,0
	JUMP ?L23
	.DEBUG-LINE 9,45,1
?L18:	ZERO? CONT \?L22
	LOC OBJ >STACK
	FSET? STACK,FL-CONTAINER \?L22
	.DEBUG-LINE 9,47,1
	LOC OBJ >CONT
	.DEBUG-LINE 9,48,1
	SET 'C-PAPER,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,50,1
?L22:	LOC OBJ >STACK
	FSET? STACK,FL-CONTAINER \?L23
	ZERO? CONT /?L23
	LOC OBJ >STACK
	EQUAL? STACK,CONT /?L23
	.DEBUG-LINE 9,53,1
	SET 'C-PAPER,0
	.DEBUG-LINE 9,54,1
?L23:	ADD PTR,2 >PTR
	JUMP ?L4
	.DEBUG-LINE 9,55,1
?L8:	ZERO? OBJ /?L25
	LOC OBJ >STACK
	FSET? STACK,FL-SURFACE \?L25
	.DEBUG-LINE 9,57,1
	SET 'PAPER,OBJ
	JUMP ?L30
	.DEBUG-LINE 9,58,1
?L25:	ZERO? H-PAPER /?L27
	.DEBUG-LINE 9,59,1
	SET 'PAPER,H-PAPER
	JUMP ?L30
	.DEBUG-LINE 9,60,1
?L27:	ZERO? G-PAPER /?L28
	.DEBUG-LINE 9,61,1
	SET 'PAPER,G-PAPER
	JUMP ?L30
	.DEBUG-LINE 9,62,1
?L28:	ZERO? C-PAPER /FALSE
	.DEBUG-LINE 9,63,1
	SET 'PAPER,C-PAPER
	.DEBUG-LINE 9,66,1
?L30:	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,PAPER
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,67,1
	RETURN PAPER
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-GEM","TBL","LEN","PTR","OBJ","GEM","CONT","C-GEM","HELD","H-GEM","GND","G-GEM"
	.FUNCT RT-GN-GEM,TBL,LEN,PTR,OBJ,GEM,CONT,C-GEM,HELD,H-GEM,GND,G-GEM
	ASSIGNED? 'LEN /?L30
	SET 'LEN,0
?L30:	SET 'CONT,0
	SET 'C-GEM,0
	SET 'HELD,0
	SET 'H-GEM,0
	SET 'GND,0
	SET 'G-GEM,0
	.DEBUG-LINE 9,72,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,73,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,74,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,75,1
	INTBL? GL-P-IT-OBJECT,PTR,LEN >STACK \?L4
	.DEBUG-LINE 9,76,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,GL-P-IT-OBJECT
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,77,1
	RETURN GL-P-IT-OBJECT
	.DEBUG-LINE 9,78,1
?L4:	EQUAL? GL-PLACE-CUR,RM-CLOCK-TOWER \?L6
	IN? TH-SAPPHIRE,TH-CLAPPER \?L6
	.DEBUG-LINE 9,80,1
	RETURN TH-SAPPHIRE
	.DEBUG-LINE 9,83,1
?L6:	MUL LEN,2 >STACK
	ADD TBL,STACK >STACK
	GRTR? PTR,STACK /?L9
	.DEBUG-LINE 9,86,1
	GET PTR,0 >OBJ
	.DEBUG-LINE 9,88,1
	LOC OBJ >STACK
	EQUAL? STACK,CH-PLAYER \?L13
	.DEBUG-LINE 9,89,1
	ZERO? HELD \?L15
	.DEBUG-LINE 9,90,1
	SET 'HELD,1
	.DEBUG-LINE 9,91,1
	SET 'H-GEM,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,93,1
?L15:	SET 'H-GEM,0
	JUMP ?L23
	.DEBUG-LINE 9,95,1
?L13:	LOC OBJ >STACK
	EQUAL? STACK,GL-PLACE-CUR \?L18
	.DEBUG-LINE 9,96,1
	ZERO? GND \?L19
	.DEBUG-LINE 9,97,1
	SET 'GND,1
	.DEBUG-LINE 9,98,1
	SET 'G-GEM,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,100,1
?L19:	SET 'G-GEM,0
	JUMP ?L23
	.DEBUG-LINE 9,102,1
?L18:	LOC OBJ >STACK
	ZERO? STACK /?L22
	ZERO? CONT \?L22
	LOC OBJ >STACK
	FSET? STACK,FL-CONTAINER \?L22
	.DEBUG-LINE 9,105,1
	LOC OBJ >CONT
	.DEBUG-LINE 9,106,1
	SET 'C-GEM,OBJ
	JUMP ?L23
	.DEBUG-LINE 9,108,1
?L22:	LOC OBJ >STACK
	ZERO? STACK /?L23
	LOC OBJ >STACK
	FSET? STACK,FL-CONTAINER \?L23
	ZERO? CONT /?L23
	LOC OBJ >STACK
	EQUAL? STACK,CONT /?L23
	.DEBUG-LINE 9,112,1
	SET 'C-GEM,0
	.DEBUG-LINE 9,113,1
?L23:	ADD PTR,2 >PTR
	JUMP ?L6
	.DEBUG-LINE 9,114,1
?L9:	ZERO? H-GEM /?L25
	.DEBUG-LINE 9,115,1
	SET 'GEM,H-GEM
	JUMP ?L29
	.DEBUG-LINE 9,116,1
?L25:	ZERO? G-GEM /?L27
	.DEBUG-LINE 9,117,1
	SET 'GEM,G-GEM
	JUMP ?L29
	.DEBUG-LINE 9,118,1
?L27:	ZERO? C-GEM /FALSE
	.DEBUG-LINE 9,119,1
	SET 'GEM,C-GEM
	.DEBUG-LINE 9,122,1
?L29:	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,GEM
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,123,1
	RETURN GEM
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-PIGEON","TBL","LEN"
	.FUNCT RT-GN-PIGEON,TBL,LEN
	ASSIGNED? 'LEN /?L4
	SET 'LEN,0
	.DEBUG-LINE 9,127,1
?L4:	FSET? CH-TRAINED-PIGEON,FL-ALIVE /?L1
	.DEBUG-LINE 9,128,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,TH-DEAD-PIGEON
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,129,1
	RETURN TH-DEAD-PIGEON
	.DEBUG-LINE 9,131,1
?L1:	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,132,1
	RETURN CH-TRAINED-PIGEON
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-OAR","TBL","LEN"
	.FUNCT RT-GN-OAR,TBL,LEN
	ASSIGNED? 'LEN /?L4
	SET 'LEN,0
	.DEBUG-LINE 9,135,1
?L4:	EQUAL? GL-P-IT-OBJECT,TH-OAR-1,TH-OAR-2 \?L1
	.DEBUG-LINE 9,136,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,GL-P-IT-OBJECT
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,137,1
	RETURN GL-P-IT-OBJECT
	.DEBUG-LINE 9,139,1
?L1:	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,TH-OAR-2
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,140,1
	RETURN TH-OAR-2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-BOX","TBL","LEN","PTR"
	.FUNCT RT-GN-BOX,TBL,LEN,PTR
	ASSIGNED? 'LEN /?L7
	SET 'LEN,0
	.DEBUG-LINE 9,143,1
?L7:	ZERO? LEN \?L1
	.DEBUG-LINE 9,144,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,145,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,146,1
	INTBL? GL-P-IT-OBJECT,PTR,LEN >STACK \FALSE
	.DEBUG-LINE 9,147,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,GL-P-IT-OBJECT
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,148,1
	RETURN GL-P-IT-OBJECT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-DOOR","TBL","LEN","PTR","OBJ","DOOR"
	.FUNCT RT-GN-DOOR,TBL,LEN,PTR,OBJ,DOOR
	ASSIGNED? 'LEN /?L28
	SET 'LEN,0
?L28:	SET 'OBJ,0
	SET 'DOOR,0
	.DEBUG-LINE 9,153,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,154,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,155,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,157,1
?L4:	MUL LEN,2 >STACK
	ADD TBL,STACK >STACK
	GRTR? PTR,STACK /?L5
	.DEBUG-LINE 9,160,1
	GET PTR,0 >OBJ
	.DEBUG-LINE 9,161,1
	EQUAL? GL-PRSA,V?OPEN \?L9
	.DEBUG-LINE 9,162,1
	FSET? OBJ,FL-OPENED /?L22
	.DEBUG-LINE 9,163,1
	ZERO? DOOR \FALSE
	.DEBUG-LINE 9,164,1
	SET 'DOOR,OBJ
	JUMP ?L22
	.DEBUG-LINE 9,167,1
?L9:	EQUAL? GL-PRSA,V?CLOSE \?L22
	.DEBUG-LINE 9,168,1
	FSET? OBJ,FL-OPENED \?L22
	.DEBUG-LINE 9,169,1
	ZERO? DOOR \FALSE
	.DEBUG-LINE 9,170,1
	SET 'DOOR,OBJ
	.DEBUG-LINE 9,173,1
?L22:	ADD PTR,2 >PTR
	JUMP ?L4
	.DEBUG-LINE 9,174,1
?L5:	ZERO? DOOR /?L25
	.DEBUG-LINE 9,175,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,DOOR
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,176,1
?L25:	RETURN DOOR
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-BOTTLE","TBL","LEN","PTR","OBJ","BOTTLE"
	.FUNCT RT-GN-BOTTLE,TBL,LEN,PTR,OBJ,BOTTLE
	ASSIGNED? 'LEN /?L21
	SET 'LEN,0
?L21:	SET 'BOTTLE,0
	.DEBUG-LINE 9,179,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,180,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,181,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,183,1
?L4:	MUL LEN,2 >STACK
	ADD TBL,STACK >STACK
	GRTR? PTR,STACK /?L5
	.DEBUG-LINE 9,186,1
	GET PTR,0 >OBJ
	.DEBUG-LINE 9,187,1
	EQUAL? GL-PRSA,V?OPEN \?L12
	ZERO? GL-NOW-PRSI? \?L12
	FSET? OBJ,FL-OPENED \?L11
?L12:	EQUAL? GL-PRSA,V?CLOSE \?L13
	ZERO? GL-NOW-PRSI? \?L13
	FSET? OBJ,FL-OPENED /?L11
?L13:	EQUAL? GL-PRSA,V?PUT \?L16
	ZERO? GL-NOW-PRSI? /?L16
	FSET? OBJ,FL-OPENED \?L16
	.DEBUG-LINE 9,196,1
?L11:	ZERO? BOTTLE \FALSE
	.DEBUG-LINE 9,197,1
	SET 'BOTTLE,OBJ
	.DEBUG-LINE 9,200,1
?L16:	ADD PTR,2 >PTR
	JUMP ?L4
	.DEBUG-LINE 9,201,1
?L5:	ZERO? BOTTLE /?L18
	.DEBUG-LINE 9,202,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,BOTTLE
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,203,1
?L18:	RETURN BOTTLE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-PILL","TBL","LEN","PTR","OBJ","PILL"
	.FUNCT RT-GN-PILL,TBL,LEN,PTR,OBJ,PILL
	ASSIGNED? 'LEN /?L21
	SET 'LEN,0
?L21:	SET 'PILL,0
	.DEBUG-LINE 9,206,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,207,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,208,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,209,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L7
	.DEBUG-LINE 9,211,1
?L6:	MUL LEN,2 >STACK
	ADD TBL,STACK >STACK
	GRTR? PTR,STACK /?L7
	.DEBUG-LINE 9,214,1
	GET PTR,0 >OBJ
	.DEBUG-LINE 9,215,1
	CALL2 RT-ACCESSIBLE?,OBJ >STACK
	ZERO? STACK /?L15
	.DEBUG-LINE 9,216,1
	ZERO? PILL \FALSE
	.DEBUG-LINE 9,217,1
	SET 'PILL,OBJ
	.DEBUG-LINE 9,220,1
?L15:	ADD PTR,2 >PTR
	JUMP ?L6
	.DEBUG-LINE 9,221,1
?L7:	ZERO? PILL /?L18
	.DEBUG-LINE 9,222,1
	PRINTI "["
	ICALL2 RT-CTHEO-PRINT,PILL
	PRINTI "]"
	CRLF
	CRLF
	.DEBUG-LINE 9,223,1
?L18:	RETURN PILL
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-TH-CLOTHES","TBL","LEN"
	.FUNCT RT-GN-TH-CLOTHES,TBL,LEN
	ASSIGNED? 'LEN /?L1
	SET 'LEN,0
	.DEBUG-LINE 9,226,1
?L1:	RETURN TH-CLOTHES
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-BODY","TBL","LEN","PTR","OBJ"
	.FUNCT RT-GN-BODY,TBL,LEN,PTR,OBJ
	ASSIGNED? 'LEN /?L13
	SET 'LEN,0
?L13:	SET 'OBJ,0
	.DEBUG-LINE 9,229,1
	ZERO? LEN \?L1
	.DEBUG-LINE 9,230,1
	GET TBL,0 >LEN
	.DEBUG-LINE 9,231,1
?L1:	ADD TBL,2 >PTR
	.DEBUG-LINE 9,232,1
	INTBL? TH-CLOTHES,PTR,LEN >STACK \?L4
	.DEBUG-LINE 9,233,1
	RETURN TH-CLOTHES
	.DEBUG-LINE 9,235,1
?L4:	ZERO? LEN /FALSE
	.DEBUG-LINE 9,237,1
	GET PTR,0 >OBJ
	FSET? OBJ,FL-BODYPART \?L11
	.DEBUG-LINE 9,238,1
	RETURN OBJ
	.DEBUG-LINE 9,239,1
?L11:	ADD PTR,2 >PTR
	.DEBUG-LINE 9,240,1
	DEC 'LEN
	JUMP ?L4
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-INTNUM","TBL","LEN"
	.FUNCT RT-GN-INTNUM,TBL,LEN
	ASSIGNED? 'LEN /?L4
	SET 'LEN,0
	.DEBUG-LINE 9,243,1
?L4:	EQUAL? GL-PRSA,V?WAIT,V?WAIT-FOR \?L1
	.DEBUG-LINE 9,244,1
	RETURN TH-INTNUM
	.DEBUG-LINE 9,246,1
?L1:	RETURN TH-SAFETY-DEPOSIT-BOX
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-ETHERIUM","TBL","LEN"
	.FUNCT RT-GN-ETHERIUM,TBL,LEN
	ASSIGNED? 'LEN /?L5
	SET 'LEN,0
	.DEBUG-LINE 9,249,1
?L5:	EQUAL? GL-PRSA,V?SMELL,V?INHALE \?L1
	.DEBUG-LINE 9,249,1
	RETURN TH-ETHERIUM-GAS
	.DEBUG-LINE 9,250,1
?L1:	EQUAL? GL-PRSA,V?MUNG,V?OPEN,V?LOOK-INSIDE \FALSE
	.DEBUG-LINE 9,250,1
	RETURN TH-ETHERIUM-AMPOULE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-TOWER","TBL","LEN"
	.FUNCT RT-GN-TOWER,TBL,LEN
	ASSIGNED? 'LEN /?L1
	SET 'LEN,0
	.DEBUG-LINE 9,253,1
?L1:	RETURN LG-TOWER
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-221B-BAKER-ST","CONTEXT"
	.FUNCT RT-AC-RM-221B-BAKER-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L37
	SET 'CONTEXT,0
	.DEBUG-LINE 10,13,1
?L37:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,14,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,17,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,18,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 10,19,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,20,1
	RTRUE
	.DEBUG-LINE 10,22,1
?L1:	EQUAL? CONTEXT,K-M-DESC-2 \?L12
	.DEBUG-LINE 10,23,1
	EQUAL? GL-PLACE-PRV,RM-ENTRY-HALL \?L13
	.DEBUG-LINE 10,24,1
	PRINTI "You emerge from the house into"
	JUMP ?L15
	.DEBUG-LINE 10,26,1
?L13:	PRINTI "You"
	.DEBUG-LINE 10,27,1
	ICALL1 RT-DRIVE-WALK-MSG?
	.DEBUG-LINE 10,28,1
	PRINTI "into"
	.DEBUG-LINE 10,29,1
?L15:	PRINTI " Baker Street."
	CRLF
	CRLF
	.DEBUG-LINE 10,30,1
?L12:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L17
	.DEBUG-LINE 10,31,1
	PRINTI "You are"
	.DEBUG-LINE 10,32,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,33,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,0,1,3 \?L19
	.DEBUG-LINE 10,34,1
	PRINTI "in the spill of a gas streetlight "
	.DEBUG-LINE 10,35,1
?L19:	PRINTI "outside Holmes's house. The street "
	.DEBUG-LINE 10,36,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L22
	.DEBUG-LINE 10,37,1
	PRINTI "disappears into the fog"
	JUMP ?L24
	.DEBUG-LINE 10,39,1
?L22:	PRINTI "continues"
	.DEBUG-LINE 10,40,1
?L24:	PRINTI " to the north and south. The door to the house is to the west."
	CRLF
	.DEBUG-LINE 10,42,1
?L17:	EQUAL? CONTEXT,K-M-DESC-1 \?L26
	.DEBUG-LINE 10,43,1
	FSET LG-BAKER-ST-DOOR,FL-SEEN
	.DEBUG-LINE 10,44,1
	FSET CH-PLAYER,FL-SEEN
	.DEBUG-LINE 10,45,1
	CRLF
	.DEBUG-LINE 10,49,1
	PRINTR "You have come in response to an urgent summons from your old landlady, Mrs Hudson. As the fog swirls around you, you huddle into your coat and shiver in the predawn chill."
	.DEBUG-LINE 10,50,1
?L26:	EQUAL? CONTEXT,K-M-DESC-3,K-M-DESC-2 \?L28
	.DEBUG-LINE 10,51,1
	IN? CH-HOLMES,RM-221B-BAKER-ST \FALSE
	.DEBUG-LINE 10,52,1
	ZERO? GL-PUPPY \FALSE
	.DEBUG-LINE 10,53,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINTI " says, ""Ah, there you are Watson. While you were inside I gave our little problem some thought. Obviously the person who stole the Crown Jewels wanted the authorities to turn to me for help, and it is equally obvious that the thief has laid down a trail for me to follow, in hopes of somehow entrapping me."
	CRLF
	CRLF
	PRINTI """So let's play his game, Doctor. But let's play it by our rules. The thief will have tried to anticipate the sequence of my actions, and I'm sure he has laid his trap accordingly. But if "
	.DEBUG-LINE 10,63,1
	HLIGHT K-H-ITL
	.DEBUG-LINE 10,64,1
	PRINTI "you"
	.DEBUG-LINE 10,65,1
	HLIGHT K-H-NRM
	.DEBUG-LINE 10,66,1
	PRINTI " were to guide the course of our investigations, he will certainly be thrown off the scent."
	CRLF
	CRLF
	PRINTI """Therefore, let us take surprise onto our side and rely on your instincts as the man of action I know you to be - despite your frequent modest assertions to the contrary."" He steps to one side and says, ""Lead on, good Doctor. I will follow."" Holmes gestures for you to lead the way."
	CRLF
	.DEBUG-LINE 10,72,1
	SET 'GL-PUPPY,CH-HOLMES
	.DEBUG-LINE 10,73,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 10,74,1
	RTRUE
	.DEBUG-LINE 10,79,1
?L28:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 /FALSE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-ENTRY-HALL","CONTEXT"
	.FUNCT RT-AC-RM-ENTRY-HALL,CONTEXT
	ASSIGNED? 'CONTEXT /?L23
	SET 'CONTEXT,0
	.DEBUG-LINE 10,84,1
?L23:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,85,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,86,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,87,1
	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \?L8
	.DEBUG-LINE 10,88,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,89,1
	RTRUE
	.DEBUG-LINE 10,90,1
?L8:	EQUAL? GL-PLACE-CUR,RM-PARLOUR \?L10
	.DEBUG-LINE 10,91,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,92,1
	RTRUE
	.DEBUG-LINE 10,93,1
?L10:	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \?L11
	.DEBUG-LINE 10,94,1
	ICALL2 RT-DO-WALK,P?DOWN
	.DEBUG-LINE 10,95,1
	RTRUE
	.DEBUG-LINE 10,97,1
?L11:	PRINTI "You'll have to be more explicit."
	CRLF
	.DEBUG-LINE 10,98,1
	RFALSE
	.DEBUG-LINE 10,99,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L14
	.DEBUG-LINE 10,100,1
	FSET CH-HUDSON,FL-SEEN
	.DEBUG-LINE 10,103,1
	FSET RM-ENTRY-HALL,FL-TOUCHED
	.DEBUG-LINE 10,104,1
	CRLF
	PRINTI "You step inside and Mrs Hudson closes the door behind you. The entry hall is just as you remember it - small, underheated, and lit by a feeble gas light. "
	PRINT K-WELL-WORN-MSG
	.DEBUG-LINE 10,107,1
	RTRUE
	.DEBUG-LINE 10,108,1
?L14:	EQUAL? CONTEXT,K-M-DESC-2 \?L15
	.DEBUG-LINE 10,109,1
	EQUAL? GL-PLACE-PRV,RM-221B-BAKER-ST \?L16
	.DEBUG-LINE 10,110,1
	PRINTI "You enter the house and pause in the entry hall. "
	PRINT K-WELL-WORN-MSG
	CRLF
	RFALSE
	.DEBUG-LINE 10,112,1
?L16:	EQUAL? GL-PLACE-PRV,RM-VESTIBULE \?L18
	.DEBUG-LINE 10,113,1
	PRINTI "You descend the stairs into the entry hall. The parlour door is to the north. "
	.DEBUG-LINE 10,116,1
	ICALL2 RT-OPEN-CLOSED-MSG,LG-BAKER-ST-DOOR
	.DEBUG-LINE 10,117,1
	CRLF
	RFALSE
	.DEBUG-LINE 10,119,1
?L18:	PRINTI "You walk out into the entry hall. "
	.DEBUG-LINE 10,120,1
	ICALL2 RT-OPEN-CLOSED-MSG,LG-BAKER-ST-DOOR
	.DEBUG-LINE 10,121,1
	CRLF
	.DEBUG-LINE 10,122,1
	RFALSE
	.DEBUG-LINE 10,123,1
?L15:	EQUAL? CONTEXT,K-M-DESC-3 \?L20
	.DEBUG-LINE 10,124,1
	PRINT K-WELL-WORN-MSG
	PRINTI " "
	.DEBUG-LINE 10,125,1
	ICALL2 RT-OPEN-CLOSED-MSG,LG-BAKER-ST-DOOR
	.DEBUG-LINE 10,126,1
	CRLF
	.DEBUG-LINE 10,127,1
	RFALSE
	.DEBUG-LINE 10,128,1
?L20:	GETP RM-ENTRY-HALL,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?HOUSE \FALSE
	.DEBUG-LINE 10,129,1
	CALL1 RT-AC-LG-HOLMES-HOUSE >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-PARLOUR","CONTEXT"
	.FUNCT RT-AC-RM-PARLOUR,CONTEXT
	ASSIGNED? 'CONTEXT /?L22
	SET 'CONTEXT,0
	.DEBUG-LINE 10,133,1
?L22:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,134,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,135,1
	EQUAL? GL-PRSA,V?ENTER \?L6
	.DEBUG-LINE 10,136,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 10,137,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 10,138,1
	RTRUE
	.DEBUG-LINE 10,139,1
?L6:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,140,1
	EQUAL? GL-PLACE-CUR,RM-PARLOUR \FALSE
	.DEBUG-LINE 10,141,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,142,1
	RTRUE
	.DEBUG-LINE 10,144,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L16
	.DEBUG-LINE 10,145,1
	FSET TH-MATCHBOOK,FL-SEEN
	.DEBUG-LINE 10,146,1
?L16:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L18
	.DEBUG-LINE 10,147,1
	PRINTI "You walk into"
	JUMP ?L20
	.DEBUG-LINE 10,148,1
?L18:	EQUAL? CONTEXT,K-M-DESC-3 \?L20
	.DEBUG-LINE 10,149,1
	PRINTI "You are in"
	.DEBUG-LINE 10,150,1
?L20:	PRINTI " a dreary, late Victorian Era parlour."
	CRLF
	.DEBUG-LINE 10,151,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-VESTIBULE","CONTEXT"
	.FUNCT RT-AC-RM-VESTIBULE,CONTEXT
	ASSIGNED? 'CONTEXT /?L24
	SET 'CONTEXT,0
	.DEBUG-LINE 10,155,1
?L24:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,156,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,157,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,158,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L8
	.DEBUG-LINE 10,159,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,160,1
	RTRUE
	.DEBUG-LINE 10,161,1
?L8:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 10,162,1
	ICALL2 RT-DO-WALK,P?UP
	.DEBUG-LINE 10,163,1
	RTRUE
	.DEBUG-LINE 10,165,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L19
	.DEBUG-LINE 10,166,1
	EQUAL? GL-PLACE-PRV,RM-ENTRY-HALL \?L14
	.DEBUG-LINE 10,167,1
	PRINTI "You climb the stairs"
	JUMP ?L16
	.DEBUG-LINE 10,169,1
?L14:	PRINTI "You leave the study"
	.DEBUG-LINE 10,170,1
?L16:	PRINTI " and pause outside the door"
	.DEBUG-LINE 10,171,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L17
	.DEBUG-LINE 10,172,1
	FSET LG-HOLMES-STUDY-DOOR,FL-SEEN
	.DEBUG-LINE 10,173,1
	PRINTI " to Holmes's study, nervous about what you might find inside. "
	JUMP ?L19
	.DEBUG-LINE 10,176,1
?L17:	PRINTI ". "
	.DEBUG-LINE 10,177,1
?L19:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 \?L21
	.DEBUG-LINE 10,178,1
	PRINTI "You are on a landing at the top of the stairs."
	.DEBUG-LINE 10,179,1
?L21:	CRLF
	CRLF
	PRINTI "Holmes's study is to the north."
	CRLF
	.DEBUG-LINE 10,180,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-HOLMES-STUDY","CONTEXT"
	.FUNCT RT-AC-RM-HOLMES-STUDY,CONTEXT
	ASSIGNED? 'CONTEXT /?L38
	SET 'CONTEXT,0
	.DEBUG-LINE 10,184,1
?L38:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,185,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,186,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,187,1
	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \?L8
	.DEBUG-LINE 10,188,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 10,189,1
	RTRUE
	.DEBUG-LINE 10,190,1
?L8:	EQUAL? GL-PLACE-CUR,RM-HOLMES-BEDROOM \FALSE
	.DEBUG-LINE 10,191,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,192,1
	RTRUE
	.DEBUG-LINE 10,194,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L13
	.DEBUG-LINE 10,195,1
	PRINTI "You step back through time to your bachelor days, when you shared these cluttered digs with the world's only consulting detective. Despite the mess, you can see that the room is unchanged. The fireplace to the north has a pile of letters transfixed to its mantelpiece by a jackknife. Next to them lies Holmes's six-shot revolver, the tobacco slipper, and Holmes's favorite pipe. The violin has been carelessly tossed onto a stack of obviously unread newspapers."
	CRLF
	CRLF
	.DEBUG-LINE 10,203,1
	ICALL2 RT-AC-CH-HOLMES,K-M-DESCFCN
	.DEBUG-LINE 10,204,1
	CRLF
	.DEBUG-LINE 10,205,1
	FSET TH-MANTELPIECE,FL-SEEN
	.DEBUG-LINE 10,206,1
	FSET TH-VIOLIN,FL-SEEN
	.DEBUG-LINE 10,207,1
	FSET TH-NEWSPAPER,FL-SEEN
	.DEBUG-LINE 10,208,1
	FSET TH-SYRINGE,FL-SEEN
	.DEBUG-LINE 10,209,1
	FSET TH-PHIAL,FL-SEEN
	.DEBUG-LINE 10,210,1
	FSET TH-MAIL,FL-SEEN
	.DEBUG-LINE 10,212,1
	FSET TH-GUN,FL-SEEN
	.DEBUG-LINE 10,213,1
	FSET TH-KNIFE,FL-SEEN
	.DEBUG-LINE 10,214,1
	FSET TH-PERSIAN-SLIPPER,FL-SEEN
	.DEBUG-LINE 10,215,1
	FSET TH-PIPE,FL-SEEN
	.DEBUG-LINE 10,216,1
	FSET TH-LIQUID,FL-SEEN
	.DEBUG-LINE 10,217,1
	FSET TH-MOROCCO-CASE,FL-SEEN
	.DEBUG-LINE 10,218,1
	FSET TH-SOFA,FL-SEEN
	.DEBUG-LINE 10,219,1
	FSET CH-HOLMES,FL-SEEN
	.DEBUG-LINE 10,221,1
	FSET LG-HOLMES-BEDROOM-DOOR,FL-SEEN
	.DEBUG-LINE 10,222,1
?L13:	EQUAL? CONTEXT,K-M-DESC-2 \?L15
	.DEBUG-LINE 10,223,1
	PRINTI "You return to Holmes's study, which"
	JUMP ?L17
	.DEBUG-LINE 10,224,1
?L15:	EQUAL? CONTEXT,K-M-DESC-3 \?L17
	.DEBUG-LINE 10,225,1
	PRINTI "The study"
	.DEBUG-LINE 10,226,1
?L17:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 \?L29
	.DEBUG-LINE 10,227,1
	PRINTI " is in its usual disarray."
	CRLF
	.DEBUG-LINE 10,228,1
	FSET? CH-HOLMES,FL-ASLEEP \?L21
	.DEBUG-LINE 10,229,1
	CRLF
	.DEBUG-LINE 10,230,1
	ICALL2 RT-AC-CH-HOLMES,K-M-DESCFCN
	.DEBUG-LINE 10,231,1
?L21:	IN? CH-PRIME-MINISTER,RM-HOLMES-STUDY \?L24
	.DEBUG-LINE 10,232,1
	CRLF
	.DEBUG-LINE 10,233,1
	FSET? CH-PRIME-MINISTER,FL-SEEN /?L26
	.DEBUG-LINE 10,234,1
	FSET CH-PRIME-MINISTER,FL-SEEN
	.DEBUG-LINE 10,235,1
	ICALL2 RT-THIS-IS-IT,CH-PRIME-MINISTER
	.DEBUG-LINE 10,236,1
	PRINTI "You see a distinguished-looking visitor sitting in the armchair. "
	JUMP ?L29
	.DEBUG-LINE 10,239,1
?L26:	PRINTI "The visitor fidgets nervously in his chair. "
	JUMP ?L29
	.DEBUG-LINE 10,241,1
?L24:	CRLF
	.DEBUG-LINE 10,242,1
?L29:	ICALL2 RT-CTHEO-PRINT,LG-HOLMES-BEDROOM-DOOR
	.DEBUG-LINE 10,243,1
	PRINTI " to the west is "
	.DEBUG-LINE 10,244,1
	FSET? LG-HOLMES-BEDROOM-DOOR,FL-OPENED \?L31
	.DEBUG-LINE 10,245,1
	PRINTI "open"
	JUMP ?L33
	.DEBUG-LINE 10,247,1
?L31:	PRINTI "closed"
	.DEBUG-LINE 10,248,1
?L33:	PRINTI ". The only other exit is the door to the south."
	CRLF
	.DEBUG-LINE 10,249,1
	EQUAL? CONTEXT,K-M-DESC-1 /TRUE
	.DEBUG-LINE 10,251,1
	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 /FALSE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-HOLMES-BEDROOM","CONTEXT"
	.FUNCT RT-AC-RM-HOLMES-BEDROOM,CONTEXT
	ASSIGNED? 'CONTEXT /?L20
	SET 'CONTEXT,0
	.DEBUG-LINE 10,256,1
?L20:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,257,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,258,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,259,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 10,260,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,261,1
	RTRUE
	.DEBUG-LINE 10,263,1
?L1:	PRINTI "This is a sparsely furnished room, whose walls are adorned only by scores of pictures of famous criminals. On a disorderly workbench in the corner, a jumble of laboratory equipment suggests that Holmes is in the middle of one of his chemical experiments. "
	.DEBUG-LINE 10,268,1
	IN? TH-ETHERIUM-AMPOULE,TH-WORKBENCH \?L13
	.DEBUG-LINE 10,269,1
	PRINTI "Set off to one side is a single ampoule with a neatly lettered label affixed to it. "
	.DEBUG-LINE 10,272,1
?L13:	PRINTI "The room's only exit is to the east."
	CRLF
	.DEBUG-LINE 10,273,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L16
	.DEBUG-LINE 10,274,1
	FSET TH-BED,FL-SEEN
	.DEBUG-LINE 10,275,1
	FSET TH-BEDSIDE-TABLE,FL-SEEN
	.DEBUG-LINE 10,276,1
	FSET TH-ETHERIUM-AMPOULE,FL-SEEN
	.DEBUG-LINE 10,277,1
	FSET TH-LAB-EQUIPMENT,FL-SEEN
	.DEBUG-LINE 10,278,1
	FSET TH-WORKBENCH,FL-SEEN
	.DEBUG-LINE 10,279,1
	FSET TH-LAMP,FL-SEEN
	.DEBUG-LINE 10,280,1
	FSET TH-MAGNIFYING-GLASS,FL-SEEN
	.DEBUG-LINE 10,282,1
	CRLF
	.DEBUG-LINE 10,284,1
	PRINTR "Next to the bed there is a table, on which you see a lamp and Holmes's favorite magnifying glass. "
	.DEBUG-LINE 10,285,1
?L16:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 /FALSE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-YORK-PLACE","CONTEXT"
	.FUNCT RT-AC-RM-YORK-PLACE,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,290,1
?L11:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,291,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L3
	.DEBUG-LINE 10,292,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 10,293,1
	PRINTI "Through the mist you see"
	JUMP ?L6
	.DEBUG-LINE 10,295,1
?L4:	PRINTI "This is"
	.DEBUG-LINE 10,296,1
?L6:	PRINTI " a quiet, residential street, lined with undistinguished, four storey Georgian houses. To the south, York Place opens up into Baker Street, and Marylebone Road comes in from the east."
	CRLF
	.DEBUG-LINE 10,299,1
?L3:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \FALSE
	.DEBUG-LINE 10,300,1
	CRLF
	PRINTI "The street isn't as quiet as usual, due to the surging crowds of tourists."
	CRLF
	.DEBUG-LINE 10,302,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-MARYLEBONE-RD","CONTEXT","WHO"
	.FUNCT RT-AC-RM-MARYLEBONE-RD,CONTEXT,WHO
	ASSIGNED? 'CONTEXT /?L43
	SET 'CONTEXT,0
	.DEBUG-LINE 10,306,1
?L43:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,307,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,308,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,309,1
	EQUAL? GL-PLACE-CUR,RM-MADAME-TUSSAUDS \FALSE
	.DEBUG-LINE 10,310,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,311,1
	RTRUE
	.DEBUG-LINE 10,313,1
?L1:	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 10,314,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L13
	.DEBUG-LINE 10,315,1
	EQUAL? GL-PLACE-PRV,RM-MADAME-TUSSAUDS \?L15
	.DEBUG-LINE 10,316,1
	PRINTI "You go out the door and are now"
	JUMP ?L18
	.DEBUG-LINE 10,318,1
?L15:	PRINTI "You find yourself"
	JUMP ?L18
	.DEBUG-LINE 10,320,1
?L13:	PRINTI "You are"
	.DEBUG-LINE 10,321,1
?L18:	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,322,1
	PRINTI "in front of Madame Tussaud's famous wax museum. From here the street continues east and west."
	CRLF
	CRLF
	.DEBUG-LINE 10,324,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L19
	.DEBUG-LINE 10,325,1
	PRINTI "The museum is closed for renovations, and there is a guard and a dog patrolling the street outside the entrance, which is just to the north of you. The guard "
	.DEBUG-LINE 10,328,1
	RANDOM 100 >STACK
	LESS? 33,STACK /?L21
	.DEBUG-LINE 10,329,1
	PRINTI "lights"
	JUMP ?L24
	.DEBUG-LINE 10,330,1
?L21:	RANDOM 100 >STACK
	LESS? 50,STACK /?L23
	.DEBUG-LINE 10,331,1
	PRINTI "puffs on"
	JUMP ?L24
	.DEBUG-LINE 10,333,1
?L23:	PRINTI "puts out"
	.DEBUG-LINE 10,334,1
?L24:	PRINTI " a cigarette, tips his hat, and says, """
	.DEBUG-LINE 10,335,1
	EQUAL? GL-PLACE-PRV,RM-MADAME-TUSSAUDS \?L25
	.DEBUG-LINE 10,336,1
	PRINTI "Goodbye"
	JUMP ?L30
	.DEBUG-LINE 10,337,1
?L25:	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L27
	.DEBUG-LINE 10,338,1
	PRINTI "Hello"
	JUMP ?L30
	.DEBUG-LINE 10,339,1
?L27:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L28
	.DEBUG-LINE 10,340,1
	PRINTI "Top of the morning to you"
	JUMP ?L30
	.DEBUG-LINE 10,341,1
?L28:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L29
	.DEBUG-LINE 10,342,1
	PRINTI "Good day"
	JUMP ?L30
	.DEBUG-LINE 10,343,1
?L29:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L30
	.DEBUG-LINE 10,344,1
	PRINTI "Good evening"
	.DEBUG-LINE 10,345,1
?L30:	EQUAL? WHO,CH-HOLMES \?L32
	.DEBUG-LINE 10,346,1
	PRINTI ", Mr Holmes"
	JUMP ?L34
	.DEBUG-LINE 10,348,1
?L32:	PRINTI ", Doctor Watson"
	.DEBUG-LINE 10,349,1
?L34:	PRINTI "."""
	CRLF
	JUMP ?L35
	.DEBUG-LINE 10,350,1
?L19:	EQUAL? CONTEXT,K-M-DESC-3 \?L35
	.DEBUG-LINE 10,351,1
	PRINTI "The guard and the dog are still here, and they show no signs of leaving."
	CRLF
	.DEBUG-LINE 10,353,1
?L35:	IN? CH-PLAYER,TH-HANSOM-CAB /?L37
	IN? CH-PLAYER,TH-GROWLER-CAB /?L37
	.DEBUG-LINE 10,355,1
	ICALL2 SOUNDS,S-GROWL
	.DEBUG-LINE 10,356,1
	CRLF
	PRINTI "The dog growls at you."
	CRLF
	.DEBUG-LINE 10,357,1
?L37:	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,358,1
	FSET CH-TUSSAUDS-GUARD,FL-SEEN
	.DEBUG-LINE 10,359,1
	FSET CH-MATCH-SNIFFING-DOG,FL-SEEN
	.DEBUG-LINE 10,360,1
	FSET TH-CIGARETTE,FL-SEEN
	.DEBUG-LINE 10,361,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-CHAMBER-OF-HORRORS","CONTEXT"
	.FUNCT RT-AC-RM-CHAMBER-OF-HORRORS,CONTEXT
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 10,367,1
?L21:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,368,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,369,1
	EQUAL? GL-PRSA,V?ENTER \?L6
	.DEBUG-LINE 10,370,1
	EQUAL? GL-PLACE-CUR,RM-MADAME-TUSSAUDS \FALSE
	.DEBUG-LINE 10,371,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,372,1
	RTRUE
	.DEBUG-LINE 10,373,1
?L6:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,374,1
	EQUAL? GL-PLACE-CUR,RM-CHAMBER-OF-HORRORS \FALSE
	.DEBUG-LINE 10,375,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,376,1
	RTRUE
	.DEBUG-LINE 10,378,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L16
	.DEBUG-LINE 10,379,1
	FSET TH-CHARLES-STATUE,FL-SEEN
	.DEBUG-LINE 10,380,1
	FSET TH-THOMAS-STATUE,FL-SEEN
	.DEBUG-LINE 10,381,1
	FSET TH-FAWKES-STATUE,FL-SEEN
	.DEBUG-LINE 10,382,1
?L16:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L18
	.DEBUG-LINE 10,383,1
	PRINTI "You enter"
	JUMP ?L20
	.DEBUG-LINE 10,385,1
?L18:	PRINTI "You are in"
	.DEBUG-LINE 10,386,1
?L20:	PRINTI " the Chamber of Horrors. Scattered around the room are wax groupings of some of the most gruesome scenes from English history. The only exit is to the east."
	CRLF
	.DEBUG-LINE 10,389,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-TOTTENHAM-COURT-RD","CONTEXT"
	.FUNCT RT-AC-RM-TOTTENHAM-COURT-RD,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,393,1
?L11:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,395,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,396,1
	FSET LG-SHOPS,FL-SEEN
	.DEBUG-LINE 10,397,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L5
	.DEBUG-LINE 10,398,1
	PRINTI "This part of London is known for its furniture dealers, but all the shops seem to be closed for the Jubilee."
	CRLF
	CRLF
	PRINTI "Marylebone Road goes off to the west here, and Tottenham Court Road continues to the south."
	CRLF
	.DEBUG-LINE 10,403,1
?L5:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L8
	.DEBUG-LINE 10,404,1
	CRLF
	PRINTI "Throngs of shoppers peer in the windows of the closed shops."
	CRLF
	RFALSE
	.DEBUG-LINE 10,407,1
?L8:	CRLF
	.DEBUG-LINE 10,408,1
	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,409,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-ST-GILES-CIRCUS","CONTEXT"
	.FUNCT RT-AC-RM-ST-GILES-CIRCUS,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,413,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,415,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 10,416,1
	PRINTI "You are"
	.DEBUG-LINE 10,417,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,418,1
	PRINTI "in St Giles Circus. Roads lead off in many directions."
	CRLF
	.DEBUG-LINE 10,420,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-OXFORD-ST","CONTEXT"
	.FUNCT RT-AC-RM-OXFORD-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L16
	SET 'CONTEXT,0
	.DEBUG-LINE 10,424,1
?L16:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,426,1
	PRINTI "Oxford Street is London's busiest shopping thoroughfare"
	.DEBUG-LINE 10,427,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 10,428,1
	PRINTI ", although at this hour the street is deserted"
	.DEBUG-LINE 10,429,1
?L4:	PRINTI ". Fashionable emporiums line the street on either side, offering goods from all over the British Empire. Unfortunately, they all seem to be closed for the Jubilee."
	CRLF
	CRLF
	.DEBUG-LINE 10,432,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L7
	.DEBUG-LINE 10,433,1
	PRINTI "Hoards of frustrated tourists mill about, peering in the windows of the closed shops."
	CRLF
	CRLF
	.DEBUG-LINE 10,435,1
?L7:	PRINTI "The street continues to the east and west."
	CRLF
	.DEBUG-LINE 10,436,1
	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,437,1
	FSET LG-SHOPS,FL-SEEN
	.DEBUG-LINE 10,438,1
	CALL2 RT-META-LOC,TH-GROWLER-CAB >STACK
	EQUAL? STACK,RM-OXFORD-ST \TRUE
	IN? CH-PLAYER,TH-GROWLER-CAB /TRUE
	.DEBUG-LINE 10,440,1
	FSET TH-GROWLER-CAB,FL-SEEN
	.DEBUG-LINE 10,441,1
	CRLF
	.DEBUG-LINE 10,442,1
	PRINTR "At a cabstand along the curb you see a growler cab."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-ORCHARD-ST","CONTEXT"
	.FUNCT RT-AC-RM-ORCHARD-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L15
	SET 'CONTEXT,0
	.DEBUG-LINE 10,448,1
?L15:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,450,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L3
	.DEBUG-LINE 10,451,1
	PRINTI "Orchard Street is the southern extension of Baker Street. From here you can see Oxford Street off to the east, Baker Street to the north, and Audley Street "
	.DEBUG-LINE 10,454,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 10,455,1
	PRINTI "fading into the mists"
	JUMP ?L6
	.DEBUG-LINE 10,457,1
?L4:	PRINTI "continuing"
	.DEBUG-LINE 10,458,1
?L6:	PRINTI " to the south."
	CRLF
	CRLF
	.DEBUG-LINE 10,459,1
?L3:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2 \?L8
	.DEBUG-LINE 10,460,1
	PRINTI "Crowds of tourists stream eastward, "
	.DEBUG-LINE 10,461,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L10
	.DEBUG-LINE 10,462,1
	PRINTI "looking forward to spending the day in the shops along Oxford Street."
	CRLF
	RFALSE
	.DEBUG-LINE 10,465,1
?L10:	PRINTI "intent on finding some bargains in the shops on Oxford Street."
	CRLF
	RFALSE
	.DEBUG-LINE 10,467,1
?L8:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L13
	.DEBUG-LINE 10,468,1
	PRINTI "Frustrated tourists stream westward, angered by the closed shops in Oxford Street."
	CRLF
	RFALSE
	.DEBUG-LINE 10,471,1
?L13:	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,472,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-AUDLEY-ST","CONTEXT"
	.FUNCT RT-AC-RM-AUDLEY-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,476,1
?L7:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,477,1
	PRINTI "This is a pleasant street that winds through Mayfair, a fashionable district which takes its name from an ancient fair held there in May of each year."
	CRLF
	CRLF
	PRINTI "To the south is Hyde Park Corner, and to the north is Orchard Street."
	CRLF
	.DEBUG-LINE 10,483,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 10,484,1
	CRLF
	.DEBUG-LINE 10,485,1
	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,486,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-HYDE-PARK-CORNER","CONTEXT"
	.FUNCT RT-AC-RM-HYDE-PARK-CORNER,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 10,490,1
?L17:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,491,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,492,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,493,1
	EQUAL? GL-PLACE-CUR,RM-KENSINGTON-GARDENS \FALSE
	.DEBUG-LINE 10,494,1
	ICALL2 RT-DO-WALK,P?SE
	.DEBUG-LINE 10,495,1
	RTRUE
	.DEBUG-LINE 10,500,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L11
	.DEBUG-LINE 10,501,1
	PRINTI "Hyde Park Corner is dominated by the Wellington Arch, a soaring monument to the ""Iron Duke,"" who defeated Napoleon at the Battle of Waterloo."
	CRLF
	CRLF
	.DEBUG-LINE 10,504,1
?L11:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L14
	.DEBUG-LINE 10,505,1
	PRINTI "Huge crowds of tourists gape up at the Arch."
	CRLF
	CRLF
	JUMP ?L16
	.DEBUG-LINE 10,507,1
?L14:	PRINTI "The arch is enshrouded in fog."
	CRLF
	CRLF
	.DEBUG-LINE 10,508,1
?L16:	PRINTI "Roads lead off in many directions."
	CRLF
	.DEBUG-LINE 10,509,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-KENSINGTON-GARDENS","CONTEXT"
	.FUNCT RT-AC-RM-KENSINGTON-GARDENS,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 10,513,1
?L17:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,514,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,515,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,516,1
	EQUAL? GL-PLACE-CUR,RM-HYDE-PARK-CORNER \FALSE
	.DEBUG-LINE 10,517,1
	ICALL2 RT-DO-WALK,P?NW
	.DEBUG-LINE 10,518,1
	RTRUE
	.DEBUG-LINE 10,520,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L12
	.DEBUG-LINE 10,521,1
	FSET CH-NANNIES,FL-SEEN
	.DEBUG-LINE 10,522,1
	FSET TH-PRAMS,FL-SEEN
	.DEBUG-LINE 10,523,1
	FSET TH-PARK-FLOWERS,FL-SEEN
	.DEBUG-LINE 10,524,1
?L12:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L14
	.DEBUG-LINE 10,525,1
	PRINTI "A tide of perambulators pushed by well-starched nannies surges along the crowded walk. Everywhere you look there are rows and rows of beautiful flowers."
	CRLF
	RFALSE
	.DEBUG-LINE 10,529,1
?L14:	PRINTI "The flower gardens are deserted."
	CRLF
	.DEBUG-LINE 10,530,1
	CRLF
	.DEBUG-LINE 10,531,1
	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,532,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-TRAFALGAR-SQUARE","CONTEXT"
	.FUNCT RT-AC-RM-TRAFALGAR-SQUARE,CONTEXT
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 10,536,1
?L21:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,537,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,538,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,539,1
	EQUAL? GL-PLACE-CUR,RM-DIOGENES-CLUB \FALSE
	.DEBUG-LINE 10,540,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,541,1
	RTRUE
	.DEBUG-LINE 10,543,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L10
	.DEBUG-LINE 10,544,1
	FSET TH-PIGEONS,FL-SEEN
	.DEBUG-LINE 10,545,1
	FSET TH-NELSON-COLUMN,FL-SEEN
	.DEBUG-LINE 10,546,1
	FSET TH-NELSON-EYE,FL-SEEN
	.DEBUG-LINE 10,547,1
	FSET TH-NELSON-STATUE,FL-SEEN
	.DEBUG-LINE 10,548,1
?L10:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L12
	.DEBUG-LINE 10,549,1
	PRINTI "Pigeons, pigeons, everywhere. You are"
	.DEBUG-LINE 10,550,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,551,1
	PRINTI "in one of the great open spaces of London, named for Nelson's naval victory over Napoleon in 1805. Streets come in and go out at all angles, and everywhere you look there are "
	.DEBUG-LINE 10,554,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L14
	.DEBUG-LINE 10,555,1
	PRINTI "people feeding "
	.DEBUG-LINE 10,556,1
?L14:	PRINTI "pigeons."
	CRLF
	CRLF
	PRINTI "The square is dominated by Nelson's Column, a 167 foot tall Corinthian column with"
	PRINT K-NELSON-STATUE-MSG
	CRLF
	CRLF
	PRINTI "The entrance to the Diogenes Club is to the west."
	CRLF
	.DEBUG-LINE 10,562,1
?L12:	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 10,563,1
	CRLF
	.DEBUG-LINE 10,564,1
	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,565,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-DIOGENES-CLUB","CONTEXT"
	.FUNCT RT-AC-RM-DIOGENES-CLUB,CONTEXT
	ASSIGNED? 'CONTEXT /?L25
	SET 'CONTEXT,0
	.DEBUG-LINE 10,569,1
?L25:	EQUAL? CONTEXT,K-M-ENTERED \?L1
	.DEBUG-LINE 10,570,1
	ICALL SOUNDS,S-SNORE,S-START
	JUMP ?L3
	.DEBUG-LINE 10,571,1
?L1:	EQUAL? CONTEXT,K-M-EXIT \?L3
	.DEBUG-LINE 10,572,1
	ICALL SOUNDS,S-SNORE,S-STOP
	.DEBUG-LINE 10,573,1
?L3:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L5
	.DEBUG-LINE 10,574,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,575,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,576,1
	EQUAL? GL-PLACE-CUR,RM-TRAFALGAR-SQUARE \FALSE
	.DEBUG-LINE 10,577,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,578,1
	RTRUE
	.DEBUG-LINE 10,580,1
?L5:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L14
	.DEBUG-LINE 10,581,1
	PRINTI "You enter the hushed atmosphere of the Diogenes Club. The furnishings are aging and opulent. The members are aging and asleep. The only exit is to the east."
	CRLF
	CRLF
	.DEBUG-LINE 10,585,1
	FSET? CH-BUTLER,FL-ASLEEP /?L15
	.DEBUG-LINE 10,586,1
	PRINTI "An ancient butler totters forward to greet you and says in a barely audible whisper, ""May I be of some assistance?"""
	CRLF
	JUMP ?L18
	.DEBUG-LINE 10,590,1
?L15:	PRINT K-EVERYONE-OUT-MSG
	CRLF
	JUMP ?L18
	.DEBUG-LINE 10,592,1
?L14:	PRINTI "You are in the Diogenes Club. "
	.DEBUG-LINE 10,593,1
	FSET? CH-BUTLER,FL-ASLEEP /?L19
	.DEBUG-LINE 10,594,1
	PRINTI "The butler is here, waiting to serve you."
	JUMP ?L21
	.DEBUG-LINE 10,596,1
?L19:	PRINT K-EVERYONE-OUT-MSG
	.DEBUG-LINE 10,597,1
?L21:	CRLF
	.DEBUG-LINE 10,598,1
?L18:	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,599,1
	FSET CH-BUTLER,FL-SEEN
	.DEBUG-LINE 10,600,1
	FSET CH-MEMBERS,FL-SEEN
	.DEBUG-LINE 10,601,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-GREAT-RUSSELL-ST","CONTEXT"
	.FUNCT RT-AC-RM-GREAT-RUSSELL-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,607,1
?L11:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L1
	.DEBUG-LINE 10,608,1
	PRINTI "Great Russell Street is the home of the British Museum, the entrance of which is to the north. There is a sign next to the door."
	CRLF
	CRLF
	PRINTI "To the southwest you can see St Giles Circus."
	CRLF
	RFALSE
	.DEBUG-LINE 10,612,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,614,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,615,1
	EQUAL? GL-PLACE-CUR,RM-BRITISH-MUSEUM \FALSE
	.DEBUG-LINE 10,616,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,617,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BRITISH-MUSEUM","CONTEXT"
	.FUNCT RT-AC-RM-BRITISH-MUSEUM,CONTEXT
	ASSIGNED? 'CONTEXT /?L16
	SET 'CONTEXT,0
	.DEBUG-LINE 10,622,1
?L16:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,623,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,624,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,625,1
	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST \?L6
	.DEBUG-LINE 10,626,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 10,627,1
	RTRUE
	.DEBUG-LINE 10,628,1
?L6:	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM \FALSE
	.DEBUG-LINE 10,629,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,630,1
	RTRUE
	.DEBUG-LINE 10,632,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L11
	.DEBUG-LINE 10,633,1
	EQUAL? GL-PLACE-PRV,RM-GREAT-RUSSELL-ST \?L12
	.DEBUG-LINE 10,634,1
	PRINTI "You walk up the grand staircase and into"
	JUMP ?L15
	.DEBUG-LINE 10,636,1
?L12:	PRINTI "You walk back down the long corridor and return to"
	JUMP ?L15
	.DEBUG-LINE 10,638,1
?L11:	PRINTI "You are standing in"
	.DEBUG-LINE 10,639,1
?L15:	PRINTI " the entrance hall of the museum. All the corridors leading to the exhibit halls are packed with tourists, and there is a steady stream of people going in and out of the street entrance to the south. Only the corridor to the east seems to be of no interest to the sightseers."
	CRLF
	.DEBUG-LINE 10,644,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-GROSVENOR-PLACE","CONTEXT"
	.FUNCT RT-AC-RM-GROSVENOR-PLACE,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 10,648,1
?L14:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,650,1
	PRINTI "This is a pleasant but out-of-the-way street that runs northwest to southeast. Few tourists ever visit here. "
	.DEBUG-LINE 10,653,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,3 \?L4
	.DEBUG-LINE 10,654,1
	PRINTI "Despite the "
	.DEBUG-LINE 10,655,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L6
	.DEBUG-LINE 10,656,1
	PRINTI "early"
	JUMP ?L8
	.DEBUG-LINE 10,658,1
?L6:	PRINTI "late"
	.DEBUG-LINE 10,659,1
?L8:	PRINTI " hour, some"
	JUMP ?L9
	.DEBUG-LINE 10,660,1
?L4:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L9
	.DEBUG-LINE 10,661,1
	PRINTI "Some"
	.DEBUG-LINE 10,662,1
?L9:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L11
	.DEBUG-LINE 10,663,1
	PRINTI " people are standing on the corner."
	CRLF
	RFALSE
	.DEBUG-LINE 10,665,1
?L11:	ICALL1 RT-FOG-MSG
	.DEBUG-LINE 10,666,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-VICTORIA-SQUARE","CONTEXT"
	.FUNCT RT-AC-RM-VICTORIA-SQUARE,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,670,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,672,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 10,673,1
	PRINTI "You come upon"
	JUMP ?L4
	.DEBUG-LINE 10,675,1
?L3:	PRINTI "You are in"
	.DEBUG-LINE 10,676,1
?L4:	PRINTI " Victoria Square. Streets go off in many directions."
	CRLF
	.DEBUG-LINE 10,677,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BROAD-SANCTUARY","CONTEXT"
	.FUNCT RT-AC-RM-BROAD-SANCTUARY,CONTEXT
	ASSIGNED? 'CONTEXT /?L15
	SET 'CONTEXT,0
	.DEBUG-LINE 10,681,1
?L15:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L1
	.DEBUG-LINE 10,682,1
	FSET LG-WESTMINSTER-DOOR,FL-SEEN
	.DEBUG-LINE 10,683,1
	PRINTI "You are"
	.DEBUG-LINE 10,684,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,685,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L3
	.DEBUG-LINE 10,686,1
	PRINTI "in the midst of a crowd of tourists "
	.DEBUG-LINE 10,687,1
?L3:	PRINTI "in front of the west door of Westminster Abbey. The towers of the Abbey"
	.DEBUG-LINE 10,689,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 10,690,1
	PRINTI " loom in the fog"
	JUMP ?L8
	.DEBUG-LINE 10,692,1
?L6:	PRINTI " soar high"
	.DEBUG-LINE 10,693,1
?L8:	PRINTI " above you, and you marvel at this perfect example of Gothic architecture, as generations have done before you."
	CRLF
	CRLF
	.DEBUG-LINE 10,695,1
	ICALL2 RT-OPEN-CLOSED-MSG,LG-WESTMINSTER-DOOR
	.DEBUG-LINE 10,696,1
	CRLF
	.DEBUG-LINE 10,697,1
	CRLF
	.DEBUG-LINE 10,698,1
	PRINTI "On the wall next to the door is a small, discreet sign."
	CRLF
	.DEBUG-LINE 10,699,1
	RFALSE
	.DEBUG-LINE 10,700,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,701,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,702,1
	EQUAL? GL-PLACE-CUR,RM-NAVE \FALSE
	.DEBUG-LINE 10,703,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-PARLIAMENT-SQUARE","CONTEXT"
	.FUNCT RT-AC-RM-PARLIAMENT-SQUARE,CONTEXT
	ASSIGNED? 'CONTEXT /?L15
	SET 'CONTEXT,0
	.DEBUG-LINE 10,707,1
?L15:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L1
	.DEBUG-LINE 10,708,1
	PRINTI "This is an attractive square at the foot of Whitehall. "
	.DEBUG-LINE 10,709,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L3
	.DEBUG-LINE 10,710,1
	PRINTI "Large crowds mill around"
	JUMP ?L5
	.DEBUG-LINE 10,712,1
?L3:	PRINTI "Through the mist you see"
	.DEBUG-LINE 10,713,1
?L5:	PRINTI " the entrance to the Houses of Parliament to the southeast. To the west is Birdcage Walk. Broad Sanctuary goes off to the southwest, and Whitehall "
	.DEBUG-LINE 10,716,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 10,717,1
	PRINTI "disappears into the gloom"
	JUMP ?L8
	.DEBUG-LINE 10,719,1
?L6:	PRINTI "is"
	.DEBUG-LINE 10,720,1
?L8:	PRINTI " to the north."
	CRLF
	RFALSE
	.DEBUG-LINE 10,721,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,722,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,723,1
	EQUAL? GL-PLACE-CUR,RM-PARLIAMENT \FALSE
	.DEBUG-LINE 10,724,1
	ICALL2 RT-DO-WALK,P?NW
	.DEBUG-LINE 10,725,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-PARLIAMENT","CONTEXT"
	.FUNCT RT-AC-RM-PARLIAMENT,CONTEXT
	ASSIGNED? 'CONTEXT /?L30
	SET 'CONTEXT,0
	.DEBUG-LINE 10,729,1
?L30:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,730,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,731,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,732,1
	EQUAL? GL-PLACE-CUR,RM-PARLIAMENT-SQUARE \FALSE
	.DEBUG-LINE 10,733,1
	ICALL2 RT-DO-WALK,P?SE
	.DEBUG-LINE 10,734,1
	RTRUE
	.DEBUG-LINE 10,736,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L10
	.DEBUG-LINE 10,737,1
	EQUAL? GL-PLACE-PRV,RM-PARLIAMENT-SQUARE \?L11
	.DEBUG-LINE 10,738,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L13
	.DEBUG-LINE 10,739,1
	PRINTI "You enter"
	JUMP ?L17
	.DEBUG-LINE 10,741,1
?L13:	PRINTI "You push your way into"
	JUMP ?L17
	.DEBUG-LINE 10,743,1
?L11:	PRINTI "You descend the stairs into"
	JUMP ?L17
	.DEBUG-LINE 10,745,1
?L10:	PRINTI "You are standing in"
	.DEBUG-LINE 10,746,1
?L17:	PRINTI " the "
	.DEBUG-LINE 10,747,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L18
	.DEBUG-LINE 10,748,1
	PRINTI "jam-packed "
	.DEBUG-LINE 10,749,1
?L18:	PRINTI "entrance hall of the House of Commons."
	CRLF
	CRLF
	.DEBUG-LINE 10,750,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L21
	.DEBUG-LINE 10,751,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,3 \?L23
	.DEBUG-LINE 10,752,1
	PRINTI "Despite the "
	.DEBUG-LINE 10,753,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L25
	.DEBUG-LINE 10,754,1
	PRINTI "early"
	JUMP ?L27
	.DEBUG-LINE 10,756,1
?L25:	PRINTI "late"
	.DEBUG-LINE 10,757,1
?L27:	PRINTI " hour, there"
	JUMP ?L28
	.DEBUG-LINE 10,759,1
?L23:	PRINTI "There"
	.DEBUG-LINE 10,760,1
?L28:	PRINTI " are hundreds of people lined up to get in. But"
	JUMP ?L29
	.DEBUG-LINE 10,762,1
?L21:	PRINTI "The Chamber is closed, but"
	.DEBUG-LINE 10,763,1
?L29:	PRINTI " off to one side you see a flight of old stone steps leading up into the darkness."
	CRLF
	.DEBUG-LINE 10,765,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BUCKINGHAM-PALACE-RD","CONTEXT"
	.FUNCT RT-AC-RM-BUCKINGHAM-PALACE-RD,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,769,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,771,1
	PRINTI "Buckingham Palace Road connects Queens Gardens to the northeast with Victoria Square to the southwest."
	CRLF
	.DEBUG-LINE 10,774,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-QUEENS-GARDENS","CONTEXT"
	.FUNCT RT-AC-RM-QUEENS-GARDENS,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,778,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,780,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,781,1
	FSET CH-PALACE-GUARD,FL-SEEN
	.DEBUG-LINE 10,782,1
?L3:	PRINTI "You are"
	.DEBUG-LINE 10,783,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,784,1
	PRINTI "outside the gate to Buckingham Palace."
	CRLF
	.DEBUG-LINE 10,785,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BIRDCAGE-WALK","CONTEXT"
	.FUNCT RT-AC-RM-BIRDCAGE-WALK,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 10,789,1
?L14:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,791,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 10,792,1
	PRINTI "As you enter Birdcage Walk, your attention is diverted to"
	JUMP ?L4
	.DEBUG-LINE 10,795,1
?L3:	PRINTI "You see"
	.DEBUG-LINE 10,796,1
?L4:	PRINTI " a man who has set up a small souvenir stand near where the parade will pass on Tuesday. "
	.DEBUG-LINE 10,798,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L5
	.DEBUG-LINE 10,799,1
	PRINTI "Oblivious to the fact that there are no crowds here to buy his wares"
	JUMP ?L7
	.DEBUG-LINE 10,802,1
?L5:	PRINTI "Hoping to attract the attention of the crowd"
	.DEBUG-LINE 10,803,1
?L7:	PRINTI ", he is waving a handful of overpriced trinkets over his head."
	CRLF
	.DEBUG-LINE 10,805,1
	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,806,1
	FSET CH-VENDOR,FL-SEEN
	.DEBUG-LINE 10,807,1
	FSET TH-TELESCOPE,FL-SEEN
	.DEBUG-LINE 10,808,1
	FSET TH-TRINKETS,FL-SEEN
	.DEBUG-LINE 10,809,1
	CRLF
	PRINTI "As soon as he sees you, the salesman "
	.DEBUG-LINE 10,810,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L10
	.DEBUG-LINE 10,811,1
	PRINTI "ignores everyone else and "
	.DEBUG-LINE 10,812,1
	.DEBUG-LINE 10,817,1
?L10:	PRINTR "says, ""'Ere, Guv. Come early for the parade, 'ave you? There'll be thousands of people, you know. Now at the last Jubilee - about a year and a 'alf ago, as I remembers it - I could 'ardly see a fing. But if you was to buy one of my telescopes, you wouldn't 'ardly 'ave any problem, now would you? 'Ow 'bout it, Guv?"""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THE-MALL","CONTEXT"
	.FUNCT RT-AC-RM-THE-MALL,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,823,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,825,1
	PRINTI "The Mall runs southwest to northeast between the Queens Gardens and Trafalgar Square."
	CRLF
	.DEBUG-LINE 10,828,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-WHITEHALL","CONTEXT"
	.FUNCT RT-AC-RM-WHITEHALL,CONTEXT
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
	.DEBUG-LINE 10,832,1
?L9:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L1
	.DEBUG-LINE 10,833,1
	PRINTI "Impressive government buildings line the street on either side. The street continues north and south, and the entrance to Scotland Yard is to the east."
	CRLF
	RFALSE
	.DEBUG-LINE 10,836,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,837,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,838,1
	EQUAL? GL-PLACE-CUR,RM-SCOTLAND-YARD \FALSE
	.DEBUG-LINE 10,839,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,840,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-SCOTLAND-YARD","CONTEXT"
	.FUNCT RT-AC-RM-SCOTLAND-YARD,CONTEXT
	ASSIGNED? 'CONTEXT /?L22
	SET 'CONTEXT,0
	.DEBUG-LINE 10,845,1
?L22:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,846,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,847,1
	EQUAL? GL-PRSA,V?ENTER \?L5
	.DEBUG-LINE 10,848,1
	EQUAL? GL-PLACE-CUR,RM-THE-BLACK-MUSEUM \?L6
	.DEBUG-LINE 10,849,1
	ICALL1 RT-ALREADY-IN-ROOM-MSG
	.DEBUG-LINE 10,850,1
	RTRUE
	.DEBUG-LINE 10,851,1
?L6:	EQUAL? GL-PLACE-CUR,RM-WHITEHALL \FALSE
	.DEBUG-LINE 10,852,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,853,1
	RTRUE
	.DEBUG-LINE 10,854,1
?L5:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,855,1
	EQUAL? GL-PLACE-CUR,RM-SCOTLAND-YARD \?L11
	.DEBUG-LINE 10,856,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,857,1
	RTRUE
	.DEBUG-LINE 10,858,1
?L11:	EQUAL? GL-PLACE-CUR,RM-THE-BLACK-MUSEUM \FALSE
	.DEBUG-LINE 10,859,1
	ICALL2 RT-DO-WALK,P?UP
	.DEBUG-LINE 10,860,1
	RTRUE
	.DEBUG-LINE 10,862,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L16
	.DEBUG-LINE 10,863,1
	EQUAL? GL-PLACE-PRV,RM-WHITEHALL \?L17
	.DEBUG-LINE 10,864,1
	PRINTI "You walk up the steps and into the building. Inside, it"
	JUMP ?L21
	.DEBUG-LINE 10,866,1
?L17:	EQUAL? GL-PLACE-PRV,RM-THE-BLACK-MUSEUM \?L21
	.DEBUG-LINE 10,867,1
	PRINTI "You return to the ground floor. It"
	JUMP ?L21
	.DEBUG-LINE 10,869,1
?L16:	PRINTI "It"
	.DEBUG-LINE 10,870,1
?L21:	PRINTI " looks just like any other government building - drab and worn. The door to the street is to the west, and you see some steps leading down."
	CRLF
	.DEBUG-LINE 10,873,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THE-BLACK-MUSEUM","CONTEXT"
	.FUNCT RT-AC-RM-THE-BLACK-MUSEUM,CONTEXT
	ASSIGNED? 'CONTEXT /?L18
	SET 'CONTEXT,0
	.DEBUG-LINE 10,877,1
?L18:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,878,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,879,1
	EQUAL? GL-PRSA,V?ENTER \?L5
	.DEBUG-LINE 10,880,1
	EQUAL? GL-PLACE-CUR,RM-SCOTLAND-YARD \FALSE
	.DEBUG-LINE 10,881,1
	ICALL2 RT-DO-WALK,P?DOWN
	.DEBUG-LINE 10,882,1
	RTRUE
	.DEBUG-LINE 10,883,1
?L5:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,884,1
	EQUAL? GL-PLACE-CUR,RM-THE-BLACK-MUSEUM \FALSE
	.DEBUG-LINE 10,885,1
	ICALL2 RT-DO-WALK,P?UP
	.DEBUG-LINE 10,886,1
	RTRUE
	.DEBUG-LINE 10,888,1
?L1:	FSET TH-BLIGH-BOAT,FL-SEEN
	.DEBUG-LINE 10,889,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 10,890,1
	PRINTI "This is the Black Museum, where the Yard keeps relics and mementos of famous crimes."
	CRLF
	CRLF
	PRINTI "Along one wall is a full-size rowboat with a small sign attached to it."
	CRLF
	.DEBUG-LINE 10,895,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-NEW-OXFORD-ST","CONTEXT"
	.FUNCT RT-AC-RM-NEW-OXFORD-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L15
	SET 'CONTEXT,0
	.DEBUG-LINE 10,899,1
?L15:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,901,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 10,902,1
	EQUAL? GL-PLACE-PRV,RM-CHEAPSIDE,RM-ST-GILES-CIRCUS \?L4
	.DEBUG-LINE 10,903,1
	PRINTI "The quality of the neighborhood seems to be "
	.DEBUG-LINE 10,904,1
	EQUAL? GL-PLACE-PRV,RM-ST-GILES-CIRCUS \?L6
	.DEBUG-LINE 10,905,1
	PRINTI "deteriorating"
	JUMP ?L8
	.DEBUG-LINE 10,907,1
?L6:	PRINTI "improving"
	.DEBUG-LINE 10,908,1
?L8:	PRINTI " as you"
	.DEBUG-LINE 10,909,1
	ICALL1 RT-DRIVE-WALK-MSG?
	.DEBUG-LINE 10,910,1
	EQUAL? GL-PLACE-PRV,RM-ST-GILES-CIRCUS \?L9
	.DEBUG-LINE 10,911,1
	PRINTI "eastward"
	JUMP ?L11
	.DEBUG-LINE 10,913,1
?L9:	PRINTI "westward"
	.DEBUG-LINE 10,914,1
?L11:	PRINTI " along"
	JUMP ?L14
	.DEBUG-LINE 10,915,1
?L4:	EQUAL? GL-PLACE-PRV,RM-COVENT-GARDEN \?L12
	.DEBUG-LINE 10,916,1
	PRINTI "You leave Covent Garden and enter"
	JUMP ?L14
	.DEBUG-LINE 10,918,1
?L12:	PRINTI "The cab stops in"
	JUMP ?L14
	.DEBUG-LINE 10,920,1
?L3:	PRINTI "You are"
	.DEBUG-LINE 10,921,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,922,1
	PRINTI "in"
	.DEBUG-LINE 10,923,1
?L14:	PRINTI " New Oxford Street."
	CRLF
	.DEBUG-LINE 10,924,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-COVENT-GARDEN","CONTEXT"
	.FUNCT RT-AC-RM-COVENT-GARDEN,CONTEXT
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 10,928,1
?L21:	EQUAL? CONTEXT,K-M-ENTERED \?L1
	.DEBUG-LINE 10,929,1
	ICALL SOUNDS,S-CROWD,S-START
	JUMP ?L3
	.DEBUG-LINE 10,930,1
?L1:	EQUAL? CONTEXT,K-M-EXIT \?L3
	.DEBUG-LINE 10,931,1
	ICALL SOUNDS,S-CROWD,S-STOP
	.DEBUG-LINE 10,932,1
?L3:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,934,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L7
	.DEBUG-LINE 10,935,1
	PRINTI "You enter"
	JUMP ?L8
	.DEBUG-LINE 10,937,1
?L7:	PRINTI "You are in"
	.DEBUG-LINE 10,938,1
?L8:	PRINTI " Covent Garden, which is the central market for all of London. Everywhere you look there are stalls packed with produce from the English countryside."
	CRLF
	CRLF
	.DEBUG-LINE 10,941,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L9
	.DEBUG-LINE 10,942,1
	PRINTI "Despite the hour, the"
	JUMP ?L11
	.DEBUG-LINE 10,944,1
?L9:	PRINTI "The"
	.DEBUG-LINE 10,945,1
?L11:	PRINTI " open-air market is crowded with housewives who are shopping for fruits and vegetables."
	CRLF
	.DEBUG-LINE 10,947,1
	IN? CH-ELIZA-DOOLITTLE,RM-COVENT-GARDEN \?L12
	.DEBUG-LINE 10,948,1
	CRLF
	.DEBUG-LINE 10,949,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L14
	.DEBUG-LINE 10,950,1
	PRINTI "After looking around for a few moments, you"
	JUMP ?L16
	.DEBUG-LINE 10,952,1
?L14:	PRINTI "You"
	.DEBUG-LINE 10,953,1
?L16:	PRINTI " see a crowd of women gathered around a girl who has collapsed on the ground. Her lifeless hand clutches a bunch of flowers."
	CRLF
	.DEBUG-LINE 10,956,1
?L12:	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,957,1
	FSET CH-ELIZA-DOOLITTLE,FL-SEEN
	.DEBUG-LINE 10,958,1
	FSET CH-HOUSEWIVES,FL-SEEN
	.DEBUG-LINE 10,959,1
	FSET TH-ELIZAS-FLOWERS,FL-SEEN
	.DEBUG-LINE 10,961,1
	FSET TH-ELIZAS-MOUTH,FL-SEEN
	.DEBUG-LINE 10,963,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THE-STRAND","CONTEXT"
	.FUNCT RT-AC-RM-THE-STRAND,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 10,969,1
?L17:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,973,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L4
	.DEBUG-LINE 10,974,1
	PRINTI "You enter"
	JUMP ?L6
	.DEBUG-LINE 10,976,1
?L4:	PRINTI "You are lingering in"
	.DEBUG-LINE 10,977,1
?L6:	PRINTI " the Strand, which is the heart of London's theatre district"
	.DEBUG-LINE 10,978,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L7
	.DEBUG-LINE 10,979,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L9
	.DEBUG-LINE 10,980,1
	PRINTI ", and fight your way through"
	JUMP ?L11
	.DEBUG-LINE 10,982,1
?L9:	PRINTI ", and you are enjoying being in the midst of"
	.DEBUG-LINE 10,983,1
?L11:	PRINTI " the crowds of happy theatre goers"
	JUMP ?L12
	.DEBUG-LINE 10,984,1
?L7:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2 \?L12
	.DEBUG-LINE 10,985,1
	PRINTI "."
	CRLF
	CRLF
	PRINTI "Crowds are gathering in front of the theatres, trying to select a show to see later in the day"
	.DEBUG-LINE 10,987,1
?L12:	PRINTI ". Streets lead off to the north, east, and southwest."
	CRLF
	.DEBUG-LINE 10,988,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 10,989,1
	CRLF
	PRINTI "As you"
	.DEBUG-LINE 10,990,1
	ICALL1 RT-DRIVE-WALK-MSG?
	.DEBUG-LINE 10,991,1
	PRINTI "through the fog, the empty streets seem haunted by the ghosts of actors from years gone by."
	CRLF
	.DEBUG-LINE 10,993,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-FLEET-STREET","CONTEXT"
	.FUNCT RT-AC-RM-FLEET-STREET,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,997,1
?L7:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,999,1
	PRINTI "Fleet Street is the centre of London's thriving newspaper industry"
	.DEBUG-LINE 10,1001,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 10,1002,1
	PRINTI ". The presses roar all night, turning out papers that will be delivered by train around the country the next day."
	CRLF
	JUMP ?L6
	.DEBUG-LINE 10,1006,1
?L4:	PRINTI ", and it is crowded with the thousands of people who put out the nation's newspapers."
	CRLF
	.DEBUG-LINE 10,1008,1
?L6:	CRLF
	PRINTI "A street leads off to the west, and there is a passage south to the Embankment."
	CRLF
	.DEBUG-LINE 10,1011,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THE-EMBANKMENT","CONTEXT"
	.FUNCT RT-AC-RM-THE-EMBANKMENT,CONTEXT
	ASSIGNED? 'CONTEXT /?L20
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1015,1
?L20:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,1016,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,1017,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,1018,1
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE \FALSE
	.DEBUG-LINE 10,1019,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 10,1020,1
	RTRUE
	.DEBUG-LINE 10,1022,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L10
	.DEBUG-LINE 10,1023,1
	PRINTI "You arrive at"
	JUMP ?L11
	.DEBUG-LINE 10,1025,1
?L10:	PRINTI "You are"
	.DEBUG-LINE 10,1026,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,1027,1
	PRINTI "on"
	.DEBUG-LINE 10,1028,1
?L11:	PRINTI " the Victoria Embankment, on the left bank of the Thames. "
	.DEBUG-LINE 10,1029,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \?L12
	.DEBUG-LINE 10,1030,1
	PRINTI "The early morning mist clings to the water and muffles the sounds of the river."
	JUMP ?L16
	.DEBUG-LINE 10,1033,1
?L12:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L14
	.DEBUG-LINE 10,1034,1
	PRINTI "The river is crowded with pleasure boats here for the Jubilee."
	JUMP ?L16
	.DEBUG-LINE 10,1036,1
?L14:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L15
	.DEBUG-LINE 10,1037,1
	PRINTI "The river looks quiet and peaceful in the fading light."
	JUMP ?L16
	.DEBUG-LINE 10,1040,1
?L15:	PRINTI "The river is barely visible through the thick fog."
	.DEBUG-LINE 10,1042,1
?L16:	CRLF
	.DEBUG-LINE 10,1043,1
	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,1044,1
	FSET TH-BOAT,FL-SEEN
	.DEBUG-LINE 10,1045,1
	FSET TH-OAR-1,FL-SEEN
	.DEBUG-LINE 10,1046,1
	FSET TH-OAR-LOCK,FL-SEEN
	.DEBUG-LINE 10,1047,1
	CRLF
	.DEBUG-LINE 10,1050,1
	PRINTR "There is an incredibly old rowboat here. It's got one empty oarlock, and it probably leaks, but it looks as if it might float."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-UPPER-THAMES-ST","CONTEXT"
	.FUNCT RT-AC-RM-UPPER-THAMES-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1056,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1058,1
	PRINTI "Upper Thames Street runs east and west between the Embankment and Lower Thames Street."
	CRLF
	.DEBUG-LINE 10,1061,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-PINCHIN-LANE","CONTEXT"
	.FUNCT RT-AC-RM-PINCHIN-LANE,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1099,1
?L26:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,1100,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,1101,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 10,1102,1
	EQUAL? GL-PLACE-CUR,RM-SHERMANS-HOUSE \FALSE
	.DEBUG-LINE 10,1103,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,1104,1
	RTRUE
	.DEBUG-LINE 10,1106,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L10
	.DEBUG-LINE 10,1107,1
	EQUAL? GL-PLACE-PRV,RM-CHEAPSIDE \?L11
	.DEBUG-LINE 10,1108,1
	PRINTI "You enter"
	JUMP ?L15
	.DEBUG-LINE 10,1109,1
?L11:	EQUAL? GL-PLACE-PRV,RM-SHERMANS-HOUSE \?L13
	.DEBUG-LINE 10,1110,1
	PRINTI "You emerge from Sherman's shop into"
	JUMP ?L15
	.DEBUG-LINE 10,1112,1
?L13:	PRINTI "The cab stops in"
	JUMP ?L15
	.DEBUG-LINE 10,1114,1
?L10:	PRINTI "You are"
	.DEBUG-LINE 10,1115,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,1116,1
	PRINTI "in"
	.DEBUG-LINE 10,1117,1
?L15:	PRINTI " Pinchin Lane, a dingy little alley that runs"
	.DEBUG-LINE 10,1118,1
	EQUAL? GL-PLACE-PRV,RM-CHEAPSIDE \?L16
	.DEBUG-LINE 10,1119,1
	PRINTI " south from"
	JUMP ?L18
	.DEBUG-LINE 10,1121,1
?L16:	PRINTI " north to"
	.DEBUG-LINE 10,1122,1
?L18:	PRINTI " Cheapside."
	CRLF
	CRLF
	PRINTI "To the west is the entrance to "
	.DEBUG-LINE 10,1123,1
	EQUAL? CONTEXT,K-M-DESC-1 /?L21
	FSET? RM-SHERMANS-HOUSE,FL-SEEN /?L19
	.DEBUG-LINE 10,1125,1
?L21:	PRINTI "what looks like a pet shop"
	JUMP ?L22
	.DEBUG-LINE 10,1127,1
?L19:	PRINTI "Sherman's shop"
	.DEBUG-LINE 10,1128,1
?L22:	PRINTI "."
	.DEBUG-LINE 10,1129,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L23
	EQUAL? GL-PLACE-PRV,RM-SHERMANS-HOUSE /?L23
	.DEBUG-LINE 10,1131,1
	PRINTI " Despite the hour, you see a light shining inside."
	CRLF
	RFALSE
	.DEBUG-LINE 10,1133,1
?L23:	CRLF
	.DEBUG-LINE 10,1134,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-CHEAPSIDE","CONTEXT"
	.FUNCT RT-AC-RM-CHEAPSIDE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1138,1
?L4:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 10,1139,1
	PRINTI "This is a ramshackle part of town, with dark alleys leading off the main street, which continues east and west. Pinchin Lane leads off to the south."
	CRLF
	.DEBUG-LINE 10,1142,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BANK-OF-ENGLAND","CONTEXT"
	.FUNCT RT-AC-RM-BANK-OF-ENGLAND,CONTEXT
	ASSIGNED? 'CONTEXT /?L19
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1146,1
?L19:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,1147,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,1148,1
	EQUAL? GL-PRSA,V?ENTER \?L5
	.DEBUG-LINE 10,1149,1
	EQUAL? GL-PLACE-CUR,RM-THREADNEEDLE-ST \FALSE
	.DEBUG-LINE 10,1150,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 10,1151,1
	RTRUE
	.DEBUG-LINE 10,1152,1
?L5:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,1153,1
	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \?L10
	.DEBUG-LINE 10,1154,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 10,1155,1
	RTRUE
	.DEBUG-LINE 10,1156,1
?L10:	EQUAL? GL-PLACE-CUR,RM-BANK-VAULT \FALSE
	.DEBUG-LINE 10,1157,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,1158,1
	RTRUE
	.DEBUG-LINE 10,1160,1
?L1:	FSET LG-BANK-VAULT-DOOR,FL-SEEN
	.DEBUG-LINE 10,1161,1
	FSET TH-DIAL,FL-SEEN
	.DEBUG-LINE 10,1162,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 10,1163,1
	PRINTI "The bank has the eerie silence that normally crowded places have when no one is there. The door to the vault is set into the west wall."
	CRLF
	.DEBUG-LINE 10,1166,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BANK-VAULT","CONTEXT"
	.FUNCT RT-AC-RM-BANK-VAULT,CONTEXT
	ASSIGNED? 'CONTEXT /?L43
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1170,1
?L43:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 10,1171,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 10,1172,1
	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \?L5
	.DEBUG-LINE 10,1173,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L7
	.DEBUG-LINE 10,1174,1
	ICALL2 RT-AC-RM-BANK-VAULT,K-M-DESC-3
	.DEBUG-LINE 10,1175,1
	ICALL2 RT-DESCRIBE-PLACE-CONTENTS,RM-BANK-VAULT
	.DEBUG-LINE 10,1176,1
	RTRUE
	.DEBUG-LINE 10,1178,1
?L7:	PRINTI "It's a huge, reinforced-steel door that's set firmly into the wall."
	CRLF
	CRLF
	.DEBUG-LINE 10,1181,1
	PRINTR "In the middle of the door you see a big shiny dial."
	.DEBUG-LINE 10,1183,1
?L5:	ICALL2 RT-AC-RM-BANK-VAULT,K-M-DESC-3
	.DEBUG-LINE 10,1184,1
	ICALL2 RT-DESCRIBE-PLACE-CONTENTS,RM-BANK-VAULT
	.DEBUG-LINE 10,1185,1
	RTRUE
	.DEBUG-LINE 10,1186,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,1187,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 10,1188,1
	EQUAL? GL-PRSA,V?ENTER \?L13
	.DEBUG-LINE 10,1189,1
	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \FALSE
	.DEBUG-LINE 10,1190,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 10,1191,1
	RTRUE
	.DEBUG-LINE 10,1192,1
?L13:	EQUAL? GL-PRSA,V?EXIT \?L18
	.DEBUG-LINE 10,1193,1
	EQUAL? GL-PLACE-CUR,RM-BANK-VAULT \FALSE
	.DEBUG-LINE 10,1194,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 10,1195,1
	RTRUE
	.DEBUG-LINE 10,1196,1
?L18:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L22
	.DEBUG-LINE 10,1197,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L23
	.DEBUG-LINE 10,1198,1
	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 10,1199,1
	PRINTI "row upon row of "
	ICALL2 DPRINT,TH-BOXES
	.DEBUG-LINE 10,1201,1
	PRINTR "."
	.DEBUG-LINE 10,1203,1
?L23:	ICALL2 RT-CTHEO-PRINT,LG-BANK-VAULT-DOOR
	.DEBUG-LINE 10,1205,1
	PRINTR " is closed."
	.DEBUG-LINE 10,1206,1
?L22:	EQUAL? GL-PRSA,V?UNLOCK \?L26
	.DEBUG-LINE 10,1207,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L27
	.DEBUG-LINE 10,1208,1
	ICALL2 RT-CTHEO-PRINT,LG-BANK-VAULT-DOOR
	PRINTR " is already opened."
	.DEBUG-LINE 10,1211,1
?L27:	PRINT K-HOW-TO-MSG
	.DEBUG-LINE 10,1212,1
	CRLF
	RTRUE
	.DEBUG-LINE 10,1213,1
?L26:	EQUAL? GL-PRSA,V?OPEN \?L30
	.DEBUG-LINE 10,1214,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L31
	.DEBUG-LINE 10,1215,1
	.DEBUG-LINE 10,1216,1
	PRINTR "The vault door is already open."
	.DEBUG-LINE 10,1217,1
?L31:	FSET? TH-DIAL,FL-LOCKED \?L33
	.DEBUG-LINE 10,1218,1
	.DEBUG-LINE 10,1219,1
	PRINTR "The vault door is locked."
	.DEBUG-LINE 10,1221,1
?L33:	FSET LG-BANK-VAULT-DOOR,FL-OPENED
	.DEBUG-LINE 10,1222,1
	.DEBUG-LINE 10,1223,1
	PRINTR "The vault door swings open."
	.DEBUG-LINE 10,1224,1
?L30:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 10,1225,1
	PRINT K-RICOCHET-MSG
	.DEBUG-LINE 10,1226,1
	CRLF
	RTRUE
	.DEBUG-LINE 10,1228,1
?L1:	EQUAL? CONTEXT,K-M-DESC-1 \?L38
	.DEBUG-LINE 10,1229,1
	FSET TH-BOXES,FL-SEEN
	.DEBUG-LINE 10,1230,1
	FSET TH-BOX-LOCK,FL-SEEN
	.DEBUG-LINE 10,1231,1
	FSET TH-SAFETY-DEPOSIT-BOX,FL-SEEN
	.DEBUG-LINE 10,1232,1
?L38:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L40
	.DEBUG-LINE 10,1233,1
	PRINTI "Upon entering, you"
	JUMP ?L42
	.DEBUG-LINE 10,1235,1
?L40:	PRINTI "You"
	.DEBUG-LINE 10,1236,1
?L42:	PRINTI " see rows and rows of safety deposit boxes."
	CRLF
	.DEBUG-LINE 10,1237,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-KING-WILLIAM-ST","CONTEXT"
	.FUNCT RT-AC-RM-KING-WILLIAM-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1241,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1243,1
	PRINTI "King William Street runs northwest to southeast, from Threadneedle Street to Monument."
	CRLF
	.DEBUG-LINE 10,1246,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-MONUMENT","CONTEXT"
	.FUNCT RT-AC-RM-MONUMENT,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1250,1
?L14:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \?L1
	.DEBUG-LINE 10,1251,1
	PRINTI "The intersection is dominated by the Monument, a huge obelisk that commemorates the Great Fire of London. On the side of the monument is a plaque."
	CRLF
	RFALSE
	.DEBUG-LINE 10,1254,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 10,1255,1
	.DEBUG-LINE 10,1258,1
	PRINTR "It's a huge obelisk designed by Christopher Wren that towers 202 feet in the air."
	.DEBUG-LINE 10,1259,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 10,1260,1
	EQUAL? GL-PRSA,V?ENTER \?L5
	.DEBUG-LINE 10,1261,1
	EQUAL? GL-PLACE-CUR,RM-MONUMENT \FALSE
	.DEBUG-LINE 10,1262,1
	PRINTI "You can't go inside "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 10,1263,1
	PRINTR "."
	.DEBUG-LINE 10,1264,1
?L5:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 10,1265,1
	EQUAL? GL-PLACE-CUR,RM-MONUMENT \FALSE
	.DEBUG-LINE 10,1266,1
	PRINTI "You're not in "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 10,1267,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-LOWER-THAMES-ST","CONTEXT"
	.FUNCT RT-AC-RM-LOWER-THAMES-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1272,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1274,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 10,1275,1
	PRINTI "You enter"
	JUMP ?L4
	.DEBUG-LINE 10,1277,1
?L3:	PRINTI "You are in"
	.DEBUG-LINE 10,1278,1
?L4:	PRINTI " Lower Thames Street. Roads lead off in many directions, some more savory than others. There is a set of particularly slovenly stairs leading down to an alley that runs alongside the river."
	CRLF
	.DEBUG-LINE 10,1282,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-TOWER-ENTRANCE","CONTEXT"
	.FUNCT RT-AC-RM-TOWER-ENTRANCE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1286,1
?L4:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 10,1287,1
	PRINTI "You are"
	.DEBUG-LINE 10,1288,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 10,1289,1
	PRINTI "outside the entrance to the Tower of London. Next to the entrance there is a sign."
	CRLF
	.DEBUG-LINE 10,1291,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-SOUTH-AISLE","CONTEXT"
	.FUNCT RT-DF-RM-SOUTH-AISLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1295,1
?L11:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1296,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1297,1
	FSET TH-POPE-TOMB,FL-SEEN
	.DEBUG-LINE 10,1298,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1299,1
	PRINTI "You enter"
	JUMP ?L7
	.DEBUG-LINE 10,1301,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1302,1
?L7:	PRINTI " the South Aisle of the Nave. "
	.DEBUG-LINE 10,1303,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L8
	.DEBUG-LINE 10,1304,1
	PRINTI "In the gloom, you bump into one of the tombs. "
	.DEBUG-LINE 10,1305,1
?L8:	PRINTI "There is an exit to the southeast and a door set into the south wall."
	CRLF
	.DEBUG-LINE 10,1307,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-JERICHO-PARLOUR","CONTEXT"
	.FUNCT RT-DF-RM-JERICHO-PARLOUR,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1311,1
?L11:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1312,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 10,1313,1
	EQUAL? GL-PLACE-PRV,RM-SOUTH-AISLE \?L4
	.DEBUG-LINE 10,1314,1
	PRINTI "From the vastness of the Nave, you pass into"
	JUMP ?L6
	.DEBUG-LINE 10,1317,1
?L4:	PRINTI "You leave the Chamber for"
	.DEBUG-LINE 10,1318,1
?L6:	PRINTI " the more intimate"
	JUMP ?L7
	.DEBUG-LINE 10,1320,1
?L3:	PRINTI "You are in the"
	.DEBUG-LINE 10,1321,1
?L7:	PRINTI " Jericho Parlour"
	.DEBUG-LINE 10,1322,1
	EQUAL? CONTEXT,K-M-DESC-2 \?L8
	EQUAL? GL-PLACE-PRV,RM-JERUSALEM-CHAMBER \?L8
	.DEBUG-LINE 10,1324,1
	PRINTI "."
	CRLF
	JUMP ?L10
	.DEBUG-LINE 10,1326,1
?L8:	PRINTI ", which is the anteroom to the famous Jerusalem Chamber just to the west."
	CRLF
	.DEBUG-LINE 10,1328,1
?L10:	CRLF
	PRINTI "The exit to the Nave is to the north."
	CRLF
	.DEBUG-LINE 10,1329,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-JERUSALEM-CHAMBER","CONTEXT"
	.FUNCT RT-DF-RM-JERUSALEM-CHAMBER,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1333,1
?L7:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1336,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L4
	.DEBUG-LINE 10,1337,1
	PRINTI "You enter"
	JUMP ?L6
	.DEBUG-LINE 10,1339,1
?L4:	PRINTI "You are standing in"
	.DEBUG-LINE 10,1340,1
?L6:	PRINTI " the Jerusalem Chamber, one of the oldest parts of the Abbey. In contrast to the cold and forbidding stone elsewhere in the Abbey, this room is panelled in oak and cedar. Just inside the entrance you see a small sign."
	CRLF
	.DEBUG-LINE 10,1344,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-NORTH-CLOISTER","CONTEXT"
	.FUNCT RT-DF-RM-NORTH-CLOISTER,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1348,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1349,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1350,1
	FSET TH-PACKET-OF-PAPER,FL-SEEN
	.DEBUG-LINE 10,1351,1
	FSET TH-CRAYON,FL-SEEN
	.DEBUG-LINE 10,1352,1
	FSET TH-RUBBINGS,FL-SEEN
	.DEBUG-LINE 10,1353,1
	PRINTI "You enter"
	JUMP ?L4
	.DEBUG-LINE 10,1355,1
?L3:	PRINTI "You are now in"
	.DEBUG-LINE 10,1356,1
?L4:	PRINTI " the North Cloister, which is the brass-rubbing centre of the abbey. On the walls are completed rubbings that others have made."
	.DEBUG-LINE 10,1360,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L5
	.DEBUG-LINE 10,1361,1
	.DEBUG-LINE 10,1363,1
	PRINTR " Someone has left a pacquet of paper and a rubbing crayon here."
	.DEBUG-LINE 10,1365,1
?L5:	CRLF
	.DEBUG-LINE 10,1366,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-SOUTH-TRANSEPT","CONTEXT"
	.FUNCT RT-DF-RM-SOUTH-TRANSEPT,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1370,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1371,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1372,1
	FSET TH-DICKENS-TOMB,FL-SEEN
	.DEBUG-LINE 10,1373,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1374,1
	PRINTI "You enter"
	JUMP ?L7
	.DEBUG-LINE 10,1376,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1377,1
?L7:	PRINTI " the South "
	PRINT K-TRANSEPT-MSG
	CRLF
	CRLF
	PRINT K-SHAFT-OF-LIGHT-MSG
	CRLF
	.DEBUG-LINE 10,1378,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-NORTH-TRANSEPT","CONTEXT"
	.FUNCT RT-DF-RM-NORTH-TRANSEPT,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1382,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1383,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1384,1
	FSET TH-PITT-TOMB,FL-SEEN
	.DEBUG-LINE 10,1385,1
	FSET TH-FIGURES,FL-SEEN
	.DEBUG-LINE 10,1386,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1387,1
	PRINTI "You enter"
	JUMP ?L7
	.DEBUG-LINE 10,1389,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1390,1
?L7:	PRINTI " the North "
	PRINT K-TRANSEPT-MSG
	CRLF
	CRLF
	PRINT K-SHAFT-OF-LIGHT-MSG
	CRLF
	.DEBUG-LINE 10,1391,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-POETS-CORNER","CONTEXT"
	.FUNCT RT-DF-RM-POETS-CORNER,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1395,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1396,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1397,1
	FSET TH-CHAUCER-TOMB,FL-SEEN
	.DEBUG-LINE 10,1398,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1399,1
	PRINTI "You walk into"
	JUMP ?L7
	.DEBUG-LINE 10,1401,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1402,1
?L7:	PRINTI " the hushed, secluded part of the Abbey known as Poets' Corner. The monuments here are dedicated to Britain's literary giants. The oldest of the tombs is that of Geoffrey Chaucer, who died in the year 1400."
	CRLF
	.DEBUG-LINE 10,1406,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-SOUTH-AMBULATORY","CONTEXT"
	.FUNCT RT-DF-RM-SOUTH-AMBULATORY,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1410,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1411,1
	PRINT K-AMBULATORY-MSG
	CRLF
	.DEBUG-LINE 10,1412,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-SANCTUARY","CONTEXT"
	.FUNCT RT-DF-RM-SANCTUARY,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1416,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1417,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1418,1
	FSET TH-ANNE-OF-CLEVES-TOMB,FL-SEEN
	.DEBUG-LINE 10,1419,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1420,1
	PRINTI "You walk into"
	JUMP ?L7
	.DEBUG-LINE 10,1422,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1423,1
?L7:	PRINTI " the Sanctuary. This is where the actual Coronation Ceremony takes place whenever a new monarch is crowned. A modest tomb is near the south wall."
	CRLF
	.DEBUG-LINE 10,1427,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-NORTH-AMBULATORY","CONTEXT"
	.FUNCT RT-DF-RM-NORTH-AMBULATORY,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1431,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1432,1
	PRINT K-AMBULATORY-MSG
	CRLF
	.DEBUG-LINE 10,1433,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-CONFESSOR-CHAPEL","CONTEXT"
	.FUNCT RT-DF-RM-CONFESSOR-CHAPEL,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1437,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1438,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1439,1
	FSET TH-EDWARD-TOMB,FL-SEEN
	.DEBUG-LINE 10,1440,1
	FSET TH-HENRY-V-TOMB,FL-SEEN
	.DEBUG-LINE 10,1441,1
?L3:	PRINTI "The Confessor Chapel is dominated by the tomb of the founder of the Abbey, although there are several other tombs here. It is this chapel that first gave Westminster the name ""Burial place of kings."""
	CRLF
	.DEBUG-LINE 10,1445,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-SOUTH-CHAPEL-AISLE","CONTEXT"
	.FUNCT RT-DF-RM-SOUTH-CHAPEL-AISLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1449,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1450,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1451,1
	FSET TH-MARY-QUEEN-OF-SCOTS-TOMB,FL-SEEN
	.DEBUG-LINE 10,1452,1
?L3:	PRINTI "The South Chapel Aisle is the final resting place of Mary, Queen of Scots."
	CRLF
	.DEBUG-LINE 10,1455,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-NORTH-CHAPEL-AISLE","CONTEXT"
	.FUNCT RT-DF-RM-NORTH-CHAPEL-AISLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1459,1
?L8:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1460,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1461,1
	FSET TH-ELIZABETH-TOMB,FL-SEEN
	.DEBUG-LINE 10,1462,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1463,1
	PRINTI "You enter"
	JUMP ?L7
	.DEBUG-LINE 10,1465,1
?L5:	PRINTI "You are in"
	.DEBUG-LINE 10,1466,1
?L7:	PRINTI " the North Chapel Aisle. There is a very large tomb here."
	CRLF
	.DEBUG-LINE 10,1467,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-INNOCENTS-CORNER","CONTEXT"
	.FUNCT RT-DF-RM-INNOCENTS-CORNER,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1471,1
?L5:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1472,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 10,1473,1
	FSET TH-LITTLE-PRINCES-TOMB,FL-SEEN
	.DEBUG-LINE 10,1474,1
?L3:	PRINTI "This is Innocents' corner, the traditional burial site of royalty who die in infancy. There are several tombs here."
	CRLF
	.DEBUG-LINE 10,1477,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-DRAWBRIDGE","CONTEXT"
	.FUNCT RT-AC-RM-DRAWBRIDGE,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1481,1
?L10:	EQUAL? CONTEXT,K-M-ENTERED \?L1
	.DEBUG-LINE 10,1482,1
	SET 'ALLOW-IN-TOWER,0
	.DEBUG-LINE 10,1483,1
	RFALSE
	.DEBUG-LINE 10,1484,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1486,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L4
	.DEBUG-LINE 10,1487,1
	PRINTI "So far, so good. No one has challenged your right to be here. Maybe the Tower has been left unguarded."
	JUMP ?L9
	.DEBUG-LINE 10,1490,1
?L4:	EQUAL? CONTEXT,K-M-DESC-2 \?L5
	.DEBUG-LINE 10,1491,1
	EQUAL? GL-PLACE-PRV,RM-TOWER-ENTRANCE \?L6
	.DEBUG-LINE 10,1492,1
	PRINTI "You walk back up onto the drawbridge."
	JUMP ?L9
	.DEBUG-LINE 10,1494,1
?L6:	PRINTI "Stung by the guard's rejection, you retrace your steps to the drawbridge."
	JUMP ?L9
	.DEBUG-LINE 10,1497,1
?L5:	PRINTI "You are standing on the drawbridge to the Tower of London."
	.DEBUG-LINE 10,1499,1
?L9:	CRLF
	CRLF
	PRINTI "To the east you see the Byward Tower, and to the west is the Tower Entrance."
	CRLF
	.DEBUG-LINE 10,1502,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-BYWARD-TOWER","CONTEXT"
	.FUNCT RT-DF-RM-BYWARD-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1506,1
?L14:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1508,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1509,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1510,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L6
	.DEBUG-LINE 10,1511,1
	FSET CH-TOWER-GUARD,FL-SEEN
	.DEBUG-LINE 10,1512,1
	FSET LG-RAVENS,FL-SEEN
	.DEBUG-LINE 10,1513,1
	PRINTI "Your luck runs out. "
	.DEBUG-LINE 10,1514,1
?L6:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L8
	.DEBUG-LINE 10,1515,1
	PRINTI "A costumed Yeoman of the Guard steps forward to challenge you."
	CRLF
	.DEBUG-LINE 10,1517,1
?L8:	EQUAL? CONTEXT,K-M-DESC-3 \?L11
	.DEBUG-LINE 10,1518,1
	PRINTI "You are standing in the Byward Tower, which was built by Edward I in the thirteenth century to control access to the fortress. A burly Beefeater stands in your path."
	CRLF
	.DEBUG-LINE 10,1522,1
?L11:	CRLF
	PRINTI "A few of the Tower's famous ravens are perched here, watching your every move."
	CRLF
	.DEBUG-LINE 10,1524,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-OUTER-WARD","CONTEXT"
	.FUNCT RT-DF-RM-OUTER-WARD,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1528,1
?L7:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1530,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1531,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1532,1
	PRINTI "This is the Outer Ward. From here you can go north, south, or west."
	CRLF
	CRLF
	PRINTI "A few of the Tower's famous ravens are perched here, watching your every move."
	CRLF
	.DEBUG-LINE 10,1537,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-BLOODY-TOWER","CONTEXT"
	.FUNCT RT-DF-RM-BLOODY-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1541,1
?L8:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1543,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1544,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1545,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 10,1546,1
	PRINTI "You enter"
	JUMP ?L7
	.DEBUG-LINE 10,1548,1
?L6:	PRINTI "You are in"
	.DEBUG-LINE 10,1549,1
?L7:	PRINTI " the Bloody Tower where, allegedly, the ""Little Princes in the Tower"" met their death. One exit leads north. The other leads south."
	CRLF
	.DEBUG-LINE 10,1552,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-WAKEFIELD-TOWER","CONTEXT"
	.FUNCT RT-DF-RM-WAKEFIELD-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L20
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1556,1
?L20:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1558,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1559,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1560,1
	EQUAL? GL-PLACE-PRV,RM-TOWER-GREEN \?L6
	.DEBUG-LINE 10,1561,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L14
	.DEBUG-LINE 10,1562,1
	PRINTI "You leave the"
	.DEBUG-LINE 10,1563,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,0,1,3 \?L9
	.DEBUG-LINE 10,1564,1
	PRINTI " gloom of the"
	.DEBUG-LINE 10,1565,1
?L9:	PRINTI " Tower Green for the gloom of the Wakefield Tower."
	JUMP ?L14
	.DEBUG-LINE 10,1567,1
?L6:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L14
	.DEBUG-LINE 10,1568,1
	PRINTI "You descend the stairs into the ground floor of the Wakefield Tower."
	.DEBUG-LINE 10,1570,1
?L14:	EQUAL? CONTEXT,K-M-DESC-3 \?L17
	.DEBUG-LINE 10,1571,1
	PRINTI "You see only the thick stone walls of the Wakefield Tower."
	.DEBUG-LINE 10,1572,1
?L17:	CRLF
	.DEBUG-LINE 10,1573,1
	CRLF
	.DEBUG-LINE 10,1574,1
	PRINTI "There is a dark stone staircase leading up, and the only other exit is to the northwest."
	CRLF
	.DEBUG-LINE 10,1576,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-JEWEL-ROOM","CONTEXT"
	.FUNCT RT-DF-RM-JEWEL-ROOM,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1580,1
?L11:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1582,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1583,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1584,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 10,1585,1
	PRINTI "The stairs take you up to"
	JUMP ?L7
	.DEBUG-LINE 10,1587,1
?L6:	PRINTI "You are in"
	.DEBUG-LINE 10,1588,1
?L7:	PRINTI " the Jewel Room of the Tower of London. The case that once held the Regalia is twisted and smashed"
	.DEBUG-LINE 10,1591,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L8
	.DEBUG-LINE 10,1592,1
	FSET TH-MACE,FL-SEEN
	.DEBUG-LINE 10,1593,1
	FSET TH-JEWEL-CASE,FL-SEEN
	.DEBUG-LINE 10,1594,1
	.DEBUG-LINE 10,1596,1
	PRINTR ", and the weapon that the thief used is lying on the ground nearby."
	.DEBUG-LINE 10,1598,1
?L8:	PRINTI "."
	CRLF
	.DEBUG-LINE 10,1599,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-DUNGEON","CONTEXT"
	.FUNCT RT-DF-RM-DUNGEON,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1603,1
?L11:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1605,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1606,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1607,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 10,1608,1
	PRINTI "You inch your way down the dark stairs and arrive"
	JUMP ?L7
	.DEBUG-LINE 10,1610,1
?L6:	PRINTI "You are"
	.DEBUG-LINE 10,1611,1
?L7:	PRINTI " in the oldest part of the Tower, the Dungeon."
	CRLF
	.DEBUG-LINE 10,1612,1
	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 10,1613,1
	FSET TH-SUIT-OF-ARMOUR,FL-SEEN
	.DEBUG-LINE 10,1614,1
	ICALL SOUNDS,S-ARMOR,S-INIT
	.DEBUG-LINE 10,1615,1
	CRLF
	.DEBUG-LINE 10,1618,1
	PRINTR "The room has been converted into museum space, and prominently featured is a man-size suit of armour."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-TORTURE-ROOM","CONTEXT"
	.FUNCT RT-DF-RM-TORTURE-ROOM,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1624,1
?L10:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1626,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1627,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1630,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L7
	.DEBUG-LINE 10,1631,1
	PRINTI "You enter"
	JUMP ?L9
	.DEBUG-LINE 10,1633,1
?L7:	PRINTI "You are in"
	.DEBUG-LINE 10,1634,1
?L9:	PRINTI " the torture room below the Bowyer Tower. Around the walls are hung various instruments of torture. The stairs leading up are the only way out."
	CRLF
	.DEBUG-LINE 10,1638,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-WHITE-TOWER","CONTEXT"
	.FUNCT RT-DF-RM-WHITE-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1642,1
?L7:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1644,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1645,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1646,1
	PRINTI "This is the White Tower, which was started by William the Conqueror in 1078. Exits lead out and down."
	CRLF
	.DEBUG-LINE 10,1649,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-TOWER-GREEN","CONTEXT"
	.FUNCT RT-DF-RM-TOWER-GREEN,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1653,1
?L7:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1655,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1656,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1657,1
	PRINTI "You are on Tower Green, which is at the centre of the Tower of London. Entrances to various towers lie to the northeast, east, southeast, and south. A few ravens are strolling around the green, eyeing you with interest."
	CRLF
	.DEBUG-LINE 10,1662,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-BOWYER-TOWER","CONTEXT"
	.FUNCT RT-DF-RM-BOWYER-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1666,1
?L11:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1668,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1669,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1670,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L6
	.DEBUG-LINE 10,1671,1
	FSET TH-BUNG,FL-SEEN
	.DEBUG-LINE 10,1672,1
	FSET TH-BUTT-OF-MALMSEY,FL-SEEN
	.DEBUG-LINE 10,1673,1
	FSET TH-MALMSEY,FL-SEEN
	.DEBUG-LINE 10,1674,1
?L6:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L8
	.DEBUG-LINE 10,1675,1
	PRINTI "You enter"
	JUMP ?L10
	.DEBUG-LINE 10,1677,1
?L8:	PRINTI "You are in"
	.DEBUG-LINE 10,1678,1
?L10:	PRINTI " the Bowyer Tower. It was in this room that the Duke of Clarence was drowned in a Butt of Malmsey in 1478. The keg still stands over in the corner."
	CRLF
	CRLF
	.DEBUG-LINE 10,1682,1
	PRINTI "Exits lead out and down."
	CRLF
	.DEBUG-LINE 10,1683,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-INSIDE-TRAITORS-GATE","CONTEXT"
	.FUNCT RT-DF-RM-INSIDE-TRAITORS-GATE,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1687,1
?L17:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1689,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1690,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1691,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L6
	.DEBUG-LINE 10,1692,1
	FSET TH-PORTCULLIS-CHAIN,FL-SEEN
	.DEBUG-LINE 10,1693,1
?L6:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L8
	.DEBUG-LINE 10,1694,1
	EQUAL? GL-PLACE-PRV,RM-OUTSIDE-TRAITORS-GATE \?L10
	.DEBUG-LINE 10,1695,1
	PRINTI "You pass under the portcullis"
	JUMP ?L12
	.DEBUG-LINE 10,1697,1
?L10:	PRINTI "You walk south from the Outer Ward"
	.DEBUG-LINE 10,1698,1
?L12:	PRINTI " and find yourself"
	JUMP ?L13
	.DEBUG-LINE 10,1700,1
?L8:	PRINTI "You are"
	.DEBUG-LINE 10,1701,1
?L13:	PRINTI " just north of Traitors Gate. The portcullis is "
	.DEBUG-LINE 10,1702,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L14
	.DEBUG-LINE 10,1703,1
	PRINTI "up"
	JUMP ?L16
	.DEBUG-LINE 10,1705,1
?L14:	PRINTI "down"
	.DEBUG-LINE 10,1706,1
?L16:	PRINTI ". From the wall near the portcullis hangs a chain, and perched on top of the wall are some ravens."
	CRLF
	.DEBUG-LINE 10,1708,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-RM-OUTSIDE-TRAITORS-GATE","CONTEXT"
	.FUNCT RT-DF-RM-OUTSIDE-TRAITORS-GATE,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 10,1712,1
?L14:	EQUAL? CONTEXT,K-M-EXIT \?L1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 10,1714,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 10,1715,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 10,1716,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 10,1717,1
	EQUAL? GL-PLACE-PRV,RM-INSIDE-TRAITORS-GATE \?L7
	.DEBUG-LINE 10,1718,1
	PRINTI "You pass under the portcullis"
	JUMP ?L9
	.DEBUG-LINE 10,1720,1
?L7:	PRINTI "You leave the boat"
	.DEBUG-LINE 10,1721,1
?L9:	PRINTI " and find yourself"
	JUMP ?L10
	.DEBUG-LINE 10,1723,1
?L6:	PRINTI "You are"
	.DEBUG-LINE 10,1724,1
?L10:	PRINTI " just south of Traitors Gate, through which condemned prisoners were brought in to the Tower prior to being executed. The massive iron portcullis is "
	.DEBUG-LINE 10,1728,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L11
	.DEBUG-LINE 10,1729,1
	PRINTI "up"
	JUMP ?L13
	.DEBUG-LINE 10,1731,1
?L11:	PRINTI "down"
	.DEBUG-LINE 10,1732,1
?L13:	PRINTI "."
	CRLF
	.DEBUG-LINE 10,1733,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SURGE"
	.FUNCT RT-SURGE
	.DEBUG-LINE 11,11,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 11,12,1
	PRINTI "The fog is so thick that even your light cannot penetrate it, so you retrace your steps."
	CRLF
	.DEBUG-LINE 11,15,1
	RFALSE
	.DEBUG-LINE 11,17,1
?L1:	PRINTI "Surging crowds of "
	.DEBUG-LINE 11,18,1
	EQUAL? GL-PLACE-CUR,RM-KENSINGTON-GARDENS \?L4
	.DEBUG-LINE 11,19,1
	PRINTI "haughty nannies"
	JUMP ?L7
	.DEBUG-LINE 11,20,1
?L4:	EQUAL? GL-PLACE-CUR,RM-COVENT-GARDEN \?L6
	.DEBUG-LINE 11,21,1
	PRINTI "housewives intent on a bargain"
	JUMP ?L7
	.DEBUG-LINE 11,23,1
?L6:	PRINTI "tourists"
	.DEBUG-LINE 11,24,1
?L7:	PRINTI " block your path."
	CRLF
	.DEBUG-LINE 11,25,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-MADAME-TUSSAUDS","CONTEXT"
	.FUNCT RT-AC-RM-MADAME-TUSSAUDS,CONTEXT
	ASSIGNED? 'CONTEXT /?L25
	SET 'CONTEXT,0
	.DEBUG-LINE 11,29,1
?L25:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,30,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,31,1
	FSET TH-ASH,FL-SEEN
	.DEBUG-LINE 11,32,1
	FSET TH-WILLIAM-STATUE,FL-SEEN
	.DEBUG-LINE 11,33,1
	FSET TH-WALTER-STATUE,FL-SEEN
	.DEBUG-LINE 11,34,1
	FSET TH-ELIZABETH-STATUE,FL-SEEN
	.DEBUG-LINE 11,35,1
	FSET TH-DRAKE-STATUE,FL-SEEN
	.DEBUG-LINE 11,36,1
	FSET TH-JOHN-STATUE,FL-SEEN
	.DEBUG-LINE 11,37,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 11,38,1
	EQUAL? GL-PLACE-PRV,RM-MARYLEBONE-RD \?L8
	.DEBUG-LINE 11,39,1
	PRINTI "You come in off the street and are now standing in"
	JUMP ?L11
	.DEBUG-LINE 11,41,1
?L8:	PRINTI "You leave the Chamber of Horrors and go back into"
	JUMP ?L11
	.DEBUG-LINE 11,43,1
?L6:	PRINTI "You are in"
	.DEBUG-LINE 11,44,1
?L11:	PRINTI " the lobby."
	CRLF
	CRLF
	PRINTI "All around you are wax statues of famous people. To the west is a dark and ominous-looking doorway with a sign over it. The exit to the street is to the south."
	CRLF
	.DEBUG-LINE 11,47,1
	FSET? TH-ASH,FL-ASLEEP \FALSE
	IN? CH-HOLMES,GL-PLACE-CUR \FALSE
	.DEBUG-LINE 11,49,1
	FSET TH-ASH,FL-SEEN
	.DEBUG-LINE 11,50,1
	FCLEAR TH-ASH,FL-ASLEEP
	.DEBUG-LINE 11,51,1
	FCLEAR TH-ASH,FL-NODESC
	.DEBUG-LINE 11,52,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-HOLMES
	PRINTI " drops to his hands and knees and begins a minute examination of the floor. After a few moments he cries, ""Aha! Look here, Watson."" He points to a miniscule speck of ash on the floor."
	CRLF
	.DEBUG-LINE 11,56,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 11,57,1
	RTRUE
	.DEBUG-LINE 11,60,1
?L1:	EQUAL? CONTEXT,K-M-ENTERED \?L15
	FSET? TH-TOBACCO,FL-ASLEEP /?L15
	FSET? TH-TOBACCO,FL-LIGHTED \?L15
	.DEBUG-LINE 11,63,1
	ICALL2 RT-UPDATE-SCORE,1
	.DEBUG-LINE 11,64,1
	FSET TH-TOBACCO,FL-ASLEEP
	RFALSE
	.DEBUG-LINE 11,65,1
?L15:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,66,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 11,67,1
	EQUAL? GL-PLACE-CUR,RM-MARYLEBONE-RD \?L19
	.DEBUG-LINE 11,68,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 11,69,1
	RTRUE
	.DEBUG-LINE 11,70,1
?L19:	EQUAL? GL-PLACE-CUR,RM-CHAMBER-OF-HORRORS \FALSE
	.DEBUG-LINE 11,71,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,72,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-MANUSCRIPT-ROOM","CONTEXT","VALUE"
	.FUNCT RT-AC-RM-MANUSCRIPT-ROOM,CONTEXT,VALUE
	ASSIGNED? 'CONTEXT /?L54
	SET 'CONTEXT,0
	.DEBUG-LINE 11,78,1
?L54:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,79,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 11,80,1
	PRINTI "The deserted corridor leads to"
	JUMP ?L5
	.DEBUG-LINE 11,82,1
?L3:	PRINTI "You are in"
	.DEBUG-LINE 11,83,1
?L5:	PRINTI " the manuscript room, which contains a dusty collection of old books on obscure subjects. "
	.DEBUG-LINE 11,86,1
	IN? CH-LIBRARIAN,RM-MANUSCRIPT-ROOM \?L6
	.DEBUG-LINE 11,87,1
	PRINTI "There is an old librarian here, on whose desk sits a handwritten sign that reads ""Quiet, please."" "
	.DEBUG-LINE 11,90,1
?L6:	PRINTI "There are thousands of books behind glass cases"
	.DEBUG-LINE 11,91,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L9
	.DEBUG-LINE 11,92,1
	PRINTI ", but one is lying unattended on a table"
	.DEBUG-LINE 11,93,1
?L9:	PRINTI ". The only exit is to the west."
	CRLF
	.DEBUG-LINE 11,94,1
	EQUAL? CONTEXT,K-M-DESC-1 \FALSE
	.DEBUG-LINE 11,95,1
	FSET CH-LIBRARIAN,FL-SEEN
	.DEBUG-LINE 11,96,1
	FSET TH-CLUE-BOOK,FL-SEEN
	.DEBUG-LINE 11,98,1
	FSET TH-LIBRARY-TABLE,FL-SEEN
	.DEBUG-LINE 11,99,1
	CRLF
	PRINTI "The librarian - who is as dusty as the books - looks up in surprise as you come in. He "
	.DEBUG-LINE 11,102,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L14
	.DEBUG-LINE 11,103,1
	PRINTI "whispers"
	JUMP ?L16
	.DEBUG-LINE 11,105,1
?L14:	PRINTI "says loudly"
	.DEBUG-LINE 11,106,1
?L16:	PRINTI ", ""Oh, I say! Hello! I don't get many visitors here. Is there something I can help you with? Some information about the Jubilee, perhaps? It's quite rare, you know, for a British ruler to celebrate 50 years on the throne. Unique, in fact. The closest anyone else came was Elizabeth, who ruled 45 years - although our records are somewhat vague before the year 900. The Anglo-Saxon chronicles do get rather sketchy, what? Still, they're the best we have. I think I can find a copy for you somewhere here."""
	CRLF
	CRLF
	.DEBUG-LINE 11,118,1
	PRINTR "The librarian's voice trails off as he bustles from shelf to shelf, squinting at the books to find the one he thinks you want."
	.DEBUG-LINE 11,121,1
?L1:	ZERO? CONTEXT /?L42
	IN? CH-LIBRARIAN,RM-MANUSCRIPT-ROOM \?L18
	FSET? CH-LIBRARIAN,FL-ASLEEP /?L18
	.DEBUG-LINE 11,124,1
	EQUAL? CONTEXT,K-M-ENTERED \?L19
	FSET? CH-LIBRARIAN,FL-OPENED \?L19
	.DEBUG-LINE 11,126,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-LIBRARIAN
	.DEBUG-LINE 11,129,1
	PRINTR " says, ""Welcome back! I have more interesting things to tell you!"""
	.DEBUG-LINE 11,130,1
?L19:	EQUAL? CONTEXT,K-M-EXIT \?L21
	.DEBUG-LINE 11,131,1
	PRINTI "As you leave, the librarian calls out, ""Must you be going? I have so many other interesting things to tell you."""
	CRLF
	CRLF
	.DEBUG-LINE 11,134,1
	FSET CH-LIBRARIAN,FL-OPENED
	RTRUE
	.DEBUG-LINE 11,135,1
?L21:	EQUAL? CONTEXT,K-M-BEG \FALSE
	.DEBUG-LINE 11,136,1
	EQUAL? GL-PRSA,V?WALK,V?EXIT /FALSE
	GET GL-GAME-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-GAME-VERBS+2,STACK >STACK /FALSE
	.DEBUG-LINE 11,139,1
	EQUAL? GL-PRSA,V?WAIT,V?LISTEN \?L26
	.DEBUG-LINE 11,140,1
	PRINTI "The librarian says "
	.DEBUG-LINE 11,141,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L27
	.DEBUG-LINE 11,142,1
	PRINTI "softly"
	JUMP ?L29
	.DEBUG-LINE 11,144,1
?L27:	PRINTI "loudly"
	.DEBUG-LINE 11,145,1
?L29:	PRINTI ", "
	.DEBUG-LINE 11,146,1
	ICALL1 RT-LIBRARIAN-SAYS-MSG
	.DEBUG-LINE 11,147,1
	RTRUE
	.DEBUG-LINE 11,148,1
?L26:	EQUAL? GL-PRSA,V?HUSH \?L30
	.DEBUG-LINE 11,149,1
	PRINTI "The librarian stops in midsentence and gets an embarrassed look on his face. ""Oh, I say. I'm sorry to have rambled on like this, but I do so enjoy speaking with visitors. I get them so seldom, you know. Thank you for listening."""
	CRLF
	CRLF
	PRINTI "He leaves the room, mumbling something to himself about the articulation of the third joint of the hind leg of an extinct species of dung beetle."
	CRLF
	.DEBUG-LINE 11,157,1
	REMOVE CH-LIBRARIAN
	.DEBUG-LINE 11,158,1
	RTRUE
	.DEBUG-LINE 11,159,1
?L30:	EQUAL? GL-PRSA,V?LOOK \?L31
	.DEBUG-LINE 11,160,1
	ICALL RT-DESC-ALL,0,1
	.DEBUG-LINE 11,161,1
	CRLF
	PRINTI "As you look around, the librarian says "
	.DEBUG-LINE 11,162,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L32
	.DEBUG-LINE 11,163,1
	PRINTI "softly"
	JUMP ?L34
	.DEBUG-LINE 11,165,1
?L32:	PRINTI "loudly"
	.DEBUG-LINE 11,166,1
?L34:	PRINTI ", "
	.DEBUG-LINE 11,167,1
	ICALL1 RT-LIBRARIAN-SAYS-MSG
	.DEBUG-LINE 11,168,1
	RTRUE
	.DEBUG-LINE 11,169,1
?L31:	EQUAL? GL-PRSA,V?TELL \?L35
	EQUAL? GL-PRSO,CH-LIBRARIAN /FALSE
	.DEBUG-LINE 11,183,1
?L35:	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK /?L36
	.DEBUG-LINE 11,184,1
	PRINTI "The librarian interrupts you as you attempt to speak, and "
	.DEBUG-LINE 11,186,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L37
	.DEBUG-LINE 11,187,1
	PRINTI "whispers"
	JUMP ?L39
	.DEBUG-LINE 11,189,1
?L37:	PRINTI "says"
	.DEBUG-LINE 11,190,1
?L39:	PRINTI ", "
	.DEBUG-LINE 11,191,1
	ICALL1 RT-LIBRARIAN-SAYS-MSG
	.DEBUG-LINE 11,192,1
	RETURN 2
	.DEBUG-LINE 11,194,1
?L36:	PRINTI "The librarian launches off into another speech, and it distracts you from what you wanted to do. "
	.DEBUG-LINE 11,196,1
	ICALL1 RT-LIBRARIAN-SAYS-MSG
	.DEBUG-LINE 11,197,1
	RTRUE
	.DEBUG-LINE 11,198,1
?L18:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,200,1
?L42:	EQUAL? GL-PRSA,V?ENTER \?L44
	.DEBUG-LINE 11,201,1
	EQUAL? GL-PLACE-CUR,RM-BRITISH-MUSEUM \FALSE
	.DEBUG-LINE 11,202,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,203,1
	RTRUE
	.DEBUG-LINE 11,204,1
?L44:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 11,205,1
	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM \FALSE
	.DEBUG-LINE 11,206,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 11,207,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-VICTORIA-STREET","CONTEXT"
	.FUNCT RT-AC-RM-VICTORIA-STREET,CONTEXT
	ASSIGNED? 'CONTEXT /?L12
	SET 'CONTEXT,0
	.DEBUG-LINE 11,212,1
?L12:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,213,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 11,214,1
	PRINTI "You enter"
	JUMP ?L5
	.DEBUG-LINE 11,216,1
?L3:	PRINTI "You are loitering in"
	.DEBUG-LINE 11,217,1
?L5:	PRINTI " Victoria Street, which runs east and west between Victoria Square and Broad Sanctuary."
	CRLF
	CRLF
	PRINTI "You see a sign outside one of the shops."
	CRLF
	.DEBUG-LINE 11,222,1
	RFALSE
	.DEBUG-LINE 11,223,1
?L1:	EQUAL? CONTEXT,K-M-BEG \?L6
	EQUAL? GL-PRSA,V?WAIT \?L6
	.DEBUG-LINE 11,225,1
	FSET? RM-VICTORIA-STREET,FL-ASLEEP /?L7
	.DEBUG-LINE 11,226,1
	FSET RM-VICTORIA-STREET,FL-ASLEEP
	.DEBUG-LINE 11,227,1
	.DEBUG-LINE 11,230,1
	PRINTR "After a few moments, a constable strolls by, bops you on the head with his billy club, and says, ""Move along, you."""
	.DEBUG-LINE 11,232,1
?L7:	PRINTI "The same constable as before walks by and says, ""You again? That's it, mate. Come along with me."" He bops you on the head again and arrests you on a charge of vagrancy."
	CRLF
	CRLF
	PRINTI "You spend the night in gaol, and in the morning Inspector Lestrade drops by to tell you that there has been a mix-up in the paperwork and you are to be deported to Australia the following day. He gives you a letter to deliver to his sister in Melbourne and wishes you luck."
	CRLF
	CRLF
	.DEBUG-LINE 11,241,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 11,242,1
?L6:	ZERO? CONTEXT \FALSE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-CLOCK-TOWER","CONTEXT"
	.FUNCT RT-AC-RM-CLOCK-TOWER,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 11,246,1
?L14:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,247,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 11,248,1
	PRINTI "The stairs seem to wind up forever. Finally, you emerge into"
	JUMP ?L5
	.DEBUG-LINE 11,251,1
?L3:	PRINTI "You are in"
	.DEBUG-LINE 11,252,1
?L5:	PRINTI " the interior of the clock tower, high above the Houses of Parliament."
	CRLF
	CRLF
	PRINTI "The immense bell known as Big Ben is hanging from the ceiling, suspended over a hollow shaft that is so deep it might as well be bottomless. A wooden railing runs around the shaft for safety."
	CRLF
	CRLF
	PRINTI "Inside the bell, you see an enormous clapper"
	.DEBUG-LINE 11,261,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L6
	.DEBUG-LINE 11,262,1
	FSET TH-BELL,FL-SEEN
	.DEBUG-LINE 11,263,1
	FSET TH-SAPPHIRE,FL-SEEN
	.DEBUG-LINE 11,264,1
	FSET TH-CLAPPER,FL-SEEN
	.DEBUG-LINE 11,265,1
	FSET TH-SHAFT,FL-SEEN
	.DEBUG-LINE 11,266,1
	FSET TH-RAILING,FL-SEEN
	.DEBUG-LINE 11,267,1
	PRINT K-SAPPHIRE-MSG
	.DEBUG-LINE 11,268,1
	CRLF
	RTRUE
	.DEBUG-LINE 11,270,1
?L6:	IN? TH-SAPPHIRE,TH-CLAPPER \?L9
	.DEBUG-LINE 11,271,1
	PRINT K-SAPPHIRE-MSG
	CRLF
	RFALSE
	.DEBUG-LINE 11,273,1
?L9:	PRINTI "."
	CRLF
	.DEBUG-LINE 11,274,1
	RFALSE
	.DEBUG-LINE 11,275,1
?L1:	CALL2 RT-ALARM-SET?,RT-I-SWING-BELL >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 11,276,1
	ICALL1 RT-ZERO-SECONDS
	.DEBUG-LINE 11,277,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THAMES-ONE","CONTEXT"
	.FUNCT RT-AC-RM-THAMES-ONE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 11,283,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,284,1
	PRINTI "You are"
	.DEBUG-LINE 11,285,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,286,1
	PRINTI "on the Thames, just south of the Embankment."
	CRLF
	.DEBUG-LINE 11,287,1
	RFALSE
	.DEBUG-LINE 11,289,1
?L1:	CALL1 RT-PROCESS-BOAT-ON-THAMES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THAMES-TWO","CONTEXT"
	.FUNCT RT-AC-RM-THAMES-TWO,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 11,295,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,296,1
	PRINTI "You are"
	.DEBUG-LINE 11,297,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,298,1
	PRINTI "on the Thames. Downstream you can see London Bridge."
	CRLF
	.DEBUG-LINE 11,299,1
	RFALSE
	.DEBUG-LINE 11,301,1
?L1:	CALL1 RT-PROCESS-BOAT-ON-THAMES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THAMES-THREE","CONTEXT"
	.FUNCT RT-AC-RM-THAMES-THREE,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 11,307,1
?L10:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,308,1
	PRINTI "You are"
	.DEBUG-LINE 11,309,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,310,1
	PRINTI "underneath London Bridge."
	CRLF
	.DEBUG-LINE 11,311,1
	RFALSE
	.DEBUG-LINE 11,312,1
?L1:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-UNDER \?L5
	EQUAL? GL-PRSO,RM-LONDON-BRIDGE /?L4
?L5:	EQUAL? GL-PRSA,V?LOOK-UP \?L3
	EQUAL? GL-PRSO,ROOMS,RM-LONDON-BRIDGE \?L3
	.DEBUG-LINE 11,316,1
?L4:	PRINTI "You see nothing of interest"
	.DEBUG-LINE 11,317,1
	IN? TH-CLUMP-OF-MOSS,RM-THAMES-THREE \?L6
	.DEBUG-LINE 11,318,1
	FSET TH-CLUMP-OF-MOSS,FL-SEEN
	.DEBUG-LINE 11,319,1
	PRINTI ", other than a clump of moss lodged among the supports overhead."
	CRLF
	JUMP ?L8
	.DEBUG-LINE 11,322,1
?L6:	PRINTI "."
	CRLF
	.DEBUG-LINE 11,323,1
?L8:	ICALL1 RT-PROCESS-BOAT-ON-THAMES
	.DEBUG-LINE 11,324,1
	RTRUE
	.DEBUG-LINE 11,326,1
?L3:	CALL1 RT-PROCESS-BOAT-ON-THAMES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THAMES-FOUR","CONTEXT"
	.FUNCT RT-AC-RM-THAMES-FOUR,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 11,332,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,333,1
	PRINTI "You are"
	.DEBUG-LINE 11,334,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,335,1
	PRINTI "on the Thames, just south of Traitor's Gate."
	CRLF
	.DEBUG-LINE 11,336,1
	RFALSE
	.DEBUG-LINE 11,338,1
?L1:	CALL1 RT-PROCESS-BOAT-ON-THAMES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THAMES-FIVE","CONTEXT"
	.FUNCT RT-AC-RM-THAMES-FIVE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 11,344,1
?L4:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,345,1
	PRINTI "You are"
	.DEBUG-LINE 11,346,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,347,1
	PRINTI "on the Thames, in danger of drifting out to sea."
	CRLF
	.DEBUG-LINE 11,348,1
	RFALSE
	.DEBUG-LINE 11,350,1
?L1:	CALL1 RT-PROCESS-BOAT-ON-THAMES >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-SHERMANS-HOUSE","CONTEXT"
	.FUNCT RT-AC-RM-SHERMANS-HOUSE,CONTEXT
	ASSIGNED? 'CONTEXT /?L23
	SET 'CONTEXT,0
	.DEBUG-LINE 11,354,1
?L23:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,355,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,356,1
	ICALL2 RT-THIS-IS-IT,CH-SHERMAN
	.DEBUG-LINE 11,357,1
	FSET CH-SHERMAN,FL-SEEN
	.DEBUG-LINE 11,358,1
	FSET RM-SHERMANS-HOUSE,FL-SEEN
	.DEBUG-LINE 11,359,1
	PRINTI "You enter the cramped quarters of Sherman's shop. The old animal-trainer's eyes brighten up when he sees you."
	CRLF
	CRLF
	.DEBUG-LINE 11,366,1
	PRINTR """You've probably come looking for Toby,"" he says. ""But I'm afraid I won't be able to help you this time. Toby's not feeling too well, and all my other animals are already out on loan. All I have left is a half-trained pigeon."""
	.DEBUG-LINE 11,367,1
?L3:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 11,368,1
	PRINTI "Sherman's shop is dingy and cramped. Dozens of empty cages are stacked up against the walls."
	CRLF
	.DEBUG-LINE 11,370,1
	RFALSE
	.DEBUG-LINE 11,371,1
?L1:	EQUAL? CONTEXT,K-M-ENTERED \?L7
	.DEBUG-LINE 11,374,1
	FSET? RM-SHERMANS-HOUSE,FL-ASLEEP \?L8
	.DEBUG-LINE 11,375,1
	FCLEAR RM-SHERMANS-HOUSE,FL-ASLEEP
	.DEBUG-LINE 11,376,1
	RFALSE
	.DEBUG-LINE 11,380,1
?L8:	FSET? CH-SHERMAN,FL-ASLEEP /FALSE
	.DEBUG-LINE 11,382,1
	FSET? CH-TRAINED-PIGEON,FL-ALIVE \?L11
	.DEBUG-LINE 11,383,1
	CRLF
	PRINTI "Sherman says, ""Welcome back. It's a pleasure to see you again."""
	CRLF
	.DEBUG-LINE 11,385,1
	CALL2 RT-THIS-IS-IT,CH-SHERMAN >STACK
	RSTACK
	.DEBUG-LINE 11,387,1
?L11:	CALL2 RT-SHERMAN-RAGE,1 >STACK
	RSTACK
	.DEBUG-LINE 11,388,1
?L7:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,389,1
	EQUAL? GL-PRSA,V?ENTER \?L14
	.DEBUG-LINE 11,390,1
	EQUAL? GL-PLACE-CUR,RM-PINCHIN-LANE \FALSE
	.DEBUG-LINE 11,391,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 11,392,1
	RTRUE
	.DEBUG-LINE 11,393,1
?L14:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 11,394,1
	EQUAL? GL-PLACE-CUR,RM-SHERMANS-HOUSE \FALSE
	.DEBUG-LINE 11,395,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,396,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-THREADNEEDLE-ST","CONTEXT"
	.FUNCT RT-AC-RM-THREADNEEDLE-ST,CONTEXT
	ASSIGNED? 'CONTEXT /?L31
	SET 'CONTEXT,0
	.DEBUG-LINE 11,400,1
?L31:	ZERO? CONTEXT \?L1
	.DEBUG-LINE 11,401,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 11,402,1
	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \FALSE
	.DEBUG-LINE 11,403,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 11,404,1
	RTRUE
	.DEBUG-LINE 11,406,1
?L1:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L10
	.DEBUG-LINE 11,407,1
	FSET CH-BANK-GUARD,FL-SEEN
	.DEBUG-LINE 11,408,1
	FSET CH-URCHINS,FL-SEEN
	.DEBUG-LINE 11,409,1
	FSET TH-GUARDS-POCKET,FL-SEEN
	.DEBUG-LINE 11,410,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L12
	.DEBUG-LINE 11,411,1
	EQUAL? GL-PLACE-PRV,RM-BANK-OF-ENGLAND \?L14
	.DEBUG-LINE 11,412,1
	PRINTI "You emerge into"
	JUMP ?L16
	.DEBUG-LINE 11,414,1
?L14:	PRINTI "You enter"
	.DEBUG-LINE 11,415,1
?L16:	PRINTI " Threadneedle Street and are now"
	JUMP ?L17
	.DEBUG-LINE 11,417,1
?L12:	PRINTI "You are"
	.DEBUG-LINE 11,418,1
?L17:	PRINTI " in front of the Bank of England. The entrance to the bank is to the north, Cheapside leads off to the west, and King William Street "
	.DEBUG-LINE 11,421,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L18
	.DEBUG-LINE 11,422,1
	PRINTI "disappears off into the darkness"
	JUMP ?L20
	.DEBUG-LINE 11,424,1
?L18:	PRINTI "continues"
	.DEBUG-LINE 11,425,1
?L20:	PRINTI " to the southeast. On the wall is a small sign."
	CRLF
	.DEBUG-LINE 11,426,1
	EQUAL? CONTEXT,K-M-DESC-1 /?L23
	IN? CH-BANK-GUARD,RM-THREADNEEDLE-ST \?L21
	.DEBUG-LINE 11,428,1
?L23:	CRLF
	PRINTI "A bank guard is lounging up against the wall, idly jangling some keys in his pocket while he watches a group of urchins playing in the street."
	CRLF
	.DEBUG-LINE 11,431,1
	FSET? CH-WIGGINS,FL-BROKEN \FALSE
	.DEBUG-LINE 11,432,1
	CRLF
	PRINT K-URCHIN-MSG
	.DEBUG-LINE 11,433,1
	CRLF
	RTRUE
	.DEBUG-LINE 11,435,1
?L21:	CRLF
	PRINTI "A group of urchins is playing in the street."
	CRLF
	.DEBUG-LINE 11,436,1
	RFALSE
	.DEBUG-LINE 11,437,1
?L10:	EQUAL? CONTEXT,K-M-BEG \?L28
	IN? CH-HOLMES,RM-LAIR \?L28
	FSET? TH-TOPAZ,FL-LOCKED /?L28
	.DEBUG-LINE 11,440,1
	ICALL1 RT-WIGGINS-HELP-MSG
	.DEBUG-LINE 11,441,1
	CRLF
	.DEBUG-LINE 11,442,1
	FSET TH-TOPAZ,FL-LOCKED
	RFALSE
	.DEBUG-LINE 11,443,1
?L28:	EQUAL? CONTEXT,K-M-ENTERED \FALSE
	EQUAL? GL-PLACE-PRV,RM-BANK-OF-ENGLAND \FALSE
	FSET? TH-TOPAZ,FL-ASLEEP /FALSE
	.DEBUG-LINE 11,446,1
	ICALL1 RT-KIDNAP
	.DEBUG-LINE 11,447,1
	FSET TH-TOPAZ,FL-ASLEEP
	.DEBUG-LINE 11,448,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-LONDON-BRIDGE","CONTEXT"
	.FUNCT RT-AC-RM-LONDON-BRIDGE,CONTEXT
	ASSIGNED? 'CONTEXT /?L34
	SET 'CONTEXT,0
	.DEBUG-LINE 11,452,1
?L34:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,453,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 11,454,1
	EQUAL? GL-PLACE-PRV,RM-LAIR \?L5
	.DEBUG-LINE 11,455,1
	.DEBUG-LINE 11,460,1
	PRINTR "When you emerge from the lair you are momentarily disoriented, blinking your eyes in the bright sunlight. After a few moments, you realize you are standing on London bridge, but you have no idea from which direction you came."
	.DEBUG-LINE 11,462,1
?L5:	PRINTI "You"
	.DEBUG-LINE 11,463,1
	ICALL1 RT-DRIVE-WALK-MSG?
	.DEBUG-LINE 11,464,1
	PRINTI "up onto"
	JUMP ?L8
	.DEBUG-LINE 11,466,1
?L3:	PRINTI "You are"
	.DEBUG-LINE 11,467,1
	ICALL1 RT-IN-VEHICLE-MSG
	.DEBUG-LINE 11,468,1
	PRINTI "on"
	.DEBUG-LINE 11,469,1
?L8:	PRINTI " London Bridge. "
	.DEBUG-LINE 11,470,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L9
	.DEBUG-LINE 11,471,1
	PRINTI "The view of the river from here is spectacular, and hoards of sightseers are here with you to share the view."
	CRLF
	RFALSE
	.DEBUG-LINE 11,474,1
?L9:	PRINTI "The fog is so dense you can barely see the river from here."
	CRLF
	.DEBUG-LINE 11,476,1
	RFALSE
	.DEBUG-LINE 11,477,1
?L1:	ZERO? CONTEXT \?L14
	EQUAL? GL-PRSA,V?LOOK-UNDER,V?LOOK-DOWN \?L14
	EQUAL? GL-PRSO,RM-LONDON-BRIDGE /?L13
?L14:	EQUAL? CONTEXT,K-M-BEG \?L12
	EQUAL? GL-PRSA,V?LOOK-DOWN \?L12
	EQUAL? GL-PRSO,ROOMS \?L12
	.DEBUG-LINE 11,483,1
	.DEBUG-LINE 11,485,1
?L13:	PRINTR "You see the Thames flowing slowly by, just as it has done for centuries past."
	.DEBUG-LINE 11,486,1
?L12:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,487,1
	ZERO? GL-NOW-PRSI? \?L35
	.DEBUG-LINE 11,488,1
	EQUAL? GL-PRSA,V?ENTER \?L17
	.DEBUG-LINE 11,489,1
	EQUAL? GL-PLACE-CUR,RM-LOWER-THAMES-ST \?L19
	.DEBUG-LINE 11,490,1
	ICALL2 RT-DO-WALK,P?SOUTH
	.DEBUG-LINE 11,491,1
	RTRUE
	.DEBUG-LINE 11,492,1
?L19:	EQUAL? GL-PLACE-CUR,RM-THAMES-THREE \FALSE
	.DEBUG-LINE 11,493,1
	.DEBUG-LINE 11,494,1
	PRINTR "You can't climb onto the bridge."
	.DEBUG-LINE 11,495,1
?L17:	EQUAL? GL-PRSA,V?EXIT \?L23
	.DEBUG-LINE 11,496,1
	EQUAL? GL-PLACE-CUR,RM-LONDON-BRIDGE \FALSE
	.DEBUG-LINE 11,497,1
	ICALL2 RT-DO-WALK,P?NORTH
	.DEBUG-LINE 11,498,1
	RTRUE
	.DEBUG-LINE 11,499,1
?L23:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 11,500,1
	PRINT K-RICOCHET-MSG
	.DEBUG-LINE 11,501,1
	CRLF
	RTRUE
	.DEBUG-LINE 11,503,1
?L35:	IN? CH-PLAYER,TH-BOAT \FALSE
	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	.DEBUG-LINE 11,505,1
	.DEBUG-LINE 11,506,1
	PRINTR "You can't attach anything to the bridge."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-SWAN-LANE","CONTEXT"
	.FUNCT RT-AC-RM-SWAN-LANE,CONTEXT
	ASSIGNED? 'CONTEXT /?L19
	SET 'CONTEXT,0
	.DEBUG-LINE 11,510,1
?L19:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,511,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L3
	.DEBUG-LINE 11,512,1
	EQUAL? GL-PLACE-PRV,RM-LOWER-THAMES-ST \?L5
	.DEBUG-LINE 11,513,1
	PRINTI "With increasing apprehension, you descend"
	JUMP ?L7
	.DEBUG-LINE 11,515,1
?L5:	PRINTI "With considerable relief, you emerge"
	.DEBUG-LINE 11,516,1
?L7:	PRINTI " into"
	JUMP ?L8
	.DEBUG-LINE 11,518,1
?L3:	PRINTI "With increasing apprehension, you are standing in"
	.DEBUG-LINE 11,519,1
?L8:	PRINTI " Swan Lane, which runs along the waterfront of the Thames."
	CRLF
	CRLF
	.DEBUG-LINE 11,520,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L9
	.DEBUG-LINE 11,521,1
	PRINTI "It is a seedy, disreputable, run-down part of town that normally you wouldn't be caught dead in. After a moment's reflection, you wish you hadn't thought of it in quite those terms."
	CRLF
	CRLF
	.DEBUG-LINE 11,524,1
?L9:	PRINTI "To the west is the entrance to one of the least savory buildings you have ever seen. There is a faded sign above the door that informs you that the establishment was, in better days, known as the Bar of Gold."
	CRLF
	CRLF
	PRINTI "Fortunately, it is only a short walk back up the stairs to Lower Thames Street."
	CRLF
	.DEBUG-LINE 11,532,1
	RFALSE
	.DEBUG-LINE 11,533,1
?L1:	EQUAL? CONTEXT,K-M-ENTERED \?L12
	EQUAL? GL-PLACE-PRV,RM-BAR-OF-GOLD \?L12
	IN? CH-WIGGINS,RM-SWAN-LANE \?L12
	.DEBUG-LINE 11,536,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINTI " says, ""Blimey!! I didn't think you would make it out of there alive."""
	CRLF
	.DEBUG-LINE 11,539,1
	SET 'GL-PUPPY,CH-WIGGINS
	RETURN GL-PUPPY
	.DEBUG-LINE 11,542,1
?L12:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,543,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 11,544,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD \FALSE
	.DEBUG-LINE 11,545,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,546,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BAR-OF-GOLD","CONTEXT"
	.FUNCT RT-AC-RM-BAR-OF-GOLD,CONTEXT
	ASSIGNED? 'CONTEXT /?L23
	SET 'CONTEXT,0
	.DEBUG-LINE 11,550,1
?L23:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,551,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,552,1
	FSET CH-DENKEEPER,FL-SEEN
	.DEBUG-LINE 11,553,1
	FSET TH-OPIUM-GAS,FL-SEEN
	.DEBUG-LINE 11,554,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 11,555,1
	PRINTI "After fighting the urge to turn and run, you enter and find yourself "
	JUMP ?L8
	.DEBUG-LINE 11,558,1
?L6:	PRINTI "You are standing - rather nervously - "
	.DEBUG-LINE 11,559,1
?L8:	PRINTI "in the Bar of Gold, the most infamous opium den in London. The proprietor is a most unsavory character who "
	.DEBUG-LINE 11,562,1
	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L9
	.DEBUG-LINE 11,563,1
	PRINTI "gives you a sidelong glance as you enter and then ignores you"
	JUMP ?L11
	.DEBUG-LINE 11,566,1
?L9:	PRINTI "hasn't given you a second look since you came in"
	.DEBUG-LINE 11,567,1
?L11:	PRINTI "."
	CRLF
	.DEBUG-LINE 11,568,1
	RFALSE
	.DEBUG-LINE 11,569,1
?L1:	EQUAL? CONTEXT,K-M-ENTERING \?L12
	EQUAL? GL-PUPPY,CH-WIGGINS \?L12
	.DEBUG-LINE 11,571,1
	ICALL2 RT-THEO-PRINT,CH-WIGGINS
	PRINTI " says, ""You must be stark raving bonkers. That's the most dangerous place in London. I'll wait out here, thank you very much!"""
	CRLF
	CRLF
	.DEBUG-LINE 11,574,1
	SET 'GL-PUPPY,0
	RETURN GL-PUPPY
	.DEBUG-LINE 11,575,1
?L12:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,576,1
	EQUAL? GL-PRSA,V?ENTER \?L14
	.DEBUG-LINE 11,577,1
	EQUAL? GL-PLACE-CUR,RM-SWAN-LANE \FALSE
	.DEBUG-LINE 11,578,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 11,579,1
	RTRUE
	.DEBUG-LINE 11,580,1
?L14:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 11,581,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD \FALSE
	.DEBUG-LINE 11,582,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,583,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-LAIR","CONTEXT"
	.FUNCT RT-AC-RM-LAIR,CONTEXT
	ASSIGNED? 'CONTEXT /?L79
	SET 'CONTEXT,0
	.DEBUG-LINE 11,587,1
?L79:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,588,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,589,1
	FSET CH-MORIARTY,FL-SEEN
	.DEBUG-LINE 11,590,1
	FSET TH-LAIR-KEY,FL-SEEN
	.DEBUG-LINE 11,591,1
	FSET TH-CROWN-JEWELS,FL-SEEN
	.DEBUG-LINE 11,592,1
	FSET TH-MORIARTY-DESK,FL-SEEN
	.DEBUG-LINE 11,593,1
	FSET TH-ROPE,FL-SEEN
	.DEBUG-LINE 11,594,1
	PRINTI "At last you come face to face with the evil Professor. He is sitting placidly behind his desk, looking at you as if you were some botanical specimen."
	CRLF
	CRLF
	PRINTI "As you look around the room, you see Sherlock Holmes tied to a chair. He is only inches away from the Crown Jewels, which Moriarty has spread out on his desk, the better to taunt Holmes."
	CRLF
	CRLF
	PRINTI "Holmes looks up and says, ""Ah, there you are Watson."" He turns his head towards Moriarty and says, ""You see, Professor, you grossly underestimate the intelligence and determination of your fellow countrymen."""
	CRLF
	CRLF
	.DEBUG-LINE 11,609,1
	PRINTR """Watson,"" he continues. ""The Professor and I have just been chatting about why he led us on this merry chase. If you care to ask him, I'm sure he would be happy to fill you in as well."""
	.DEBUG-LINE 11,610,1
?L3:	EQUAL? CONTEXT,K-M-DESC-3 \FALSE
	.DEBUG-LINE 11,611,1
	PRINTI "The room is simply, but elegantly, furnished."
	.DEBUG-LINE 11,612,1
	FSET? CH-HOLMES,FL-LOCKED \?L6
	.DEBUG-LINE 11,613,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 11,614,1
	PRINTI " "
	CALL2 RT-PICK-NEXT,GL-HOLMES-DESC-TXT >STACK
	PRINT STACK
	PRINT K-SECURELY-BOUND-MSG
	PRINTI "."
	.DEBUG-LINE 11,616,1
?L6:	CRLF
	.DEBUG-LINE 11,617,1
	RFALSE
	.DEBUG-LINE 11,618,1
?L1:	EQUAL? CONTEXT,K-M-ENTERED \?L10
	.DEBUG-LINE 11,619,1
	SET 'GL-PUPPY,CH-HOLMES
	.DEBUG-LINE 11,620,1
?L10:	EQUAL? CONTEXT,K-M-BEG \FALSE
	.DEBUG-LINE 11,621,1
	EQUAL? GL-PRSA,V?TAKE,V?SHOW \?L14
	.DEBUG-LINE 11,622,1
	EQUAL? GL-PRSO,TH-BREATH /FALSE
	.DEBUG-LINE 11,624,1
	FSET? GL-PRSO,FL-BODYPART /FALSE
	.DEBUG-LINE 11,626,1
	FSET? GL-PRSO,FL-WORN /FALSE
	.DEBUG-LINE 11,628,1
	FSET? CH-MORIARTY,FL-LOCKED /FALSE
	FSET? CH-MORIARTY,FL-ASLEEP /FALSE
	.DEBUG-LINE 11,630,1
	CALL RT-META-IN?,GL-PRSO,GL-WINNER >STACK
	ZERO? STACK /?L21
	.DEBUG-LINE 11,631,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-TAKE-WATSONS-STUFF,STACK
	.DEBUG-LINE 11,633,1
	MOVE GL-PRSO,GL-WINNER
	.DEBUG-LINE 11,634,1
	PRINTI "Moriarty's normally emotionless features dissolve in rage. He shouts at Akbar, ""Why didn't you take that from him when you brought him in?"""
	CRLF
	CRLF
	PRINTR "The outburst startles Akbar into momentary inaction, but he quickly recovers and starts to come towards you with a violent look in his eyes."
	.DEBUG-LINE 11,642,1
?L21:	PRINTI "Akbar steps in your way"
	.DEBUG-LINE 11,643,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L24
	.DEBUG-LINE 11,644,1
	PRINTI ", says, ""Pardon me, honourable sir,"""
	.DEBUG-LINE 11,645,1
?L24:	PRINTI " and stops you from taking "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 11,646,1
?L14:	EQUAL? GL-PRSA,V?RELEASE \?L28
	EQUAL? GL-PRSO,TH-BREATH /FALSE
	.DEBUG-LINE 11,649,1
?L28:	EQUAL? GL-PRSA,V?UNTIE,V?RELEASE \?L29
	.DEBUG-LINE 11,650,1
	EQUAL? GL-PRSO,TH-ROPE /FALSE
	.DEBUG-LINE 11,652,1
	FSET? GL-PRSO,FL-LOCKED \?L32
	.DEBUG-LINE 11,653,1
	FSET? CH-AKBAR,FL-ASLEEP /?L35
	FSET? CH-AKBAR,FL-LOCKED \?L33
	.DEBUG-LINE 11,655,1
?L35:	FCLEAR GL-PRSO,FL-LOCKED
	.DEBUG-LINE 11,656,1
	ICALL RT-CYOU-MSG,STR?200,STR?199
	.DEBUG-LINE 11,657,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 11,658,1
	EQUAL? GL-PRSO,TH-ROPE-AUX1 \?L36
	.DEBUG-LINE 11,659,1
	SET 'TH-ROPE-AUX1,TH-ROPE-AUX2
	.DEBUG-LINE 11,660,1
	SET 'TH-ROPE-AUX2,-1
	.DEBUG-LINE 11,661,1
	EQUAL? TH-ROPE-AUX1,-1 \?L41
	.DEBUG-LINE 11,662,1
	MOVE TH-ROPE,CH-PLAYER
	.DEBUG-LINE 11,663,1
	FCLEAR TH-ROPE,FL-NODESC
	.DEBUG-LINE 11,664,1
	PRINTI ", keeping "
	ICALL2 RT-THEO-PRINT,TH-ROPE
	JUMP ?L41
	.DEBUG-LINE 11,665,1
?L36:	EQUAL? GL-PRSO,TH-ROPE-AUX2 \?L41
	.DEBUG-LINE 11,666,1
	SET 'TH-ROPE-AUX2,-1
	.DEBUG-LINE 11,667,1
?L41:	PRINTI "."
	CRLF
	.DEBUG-LINE 11,668,1
	EQUAL? GL-PRSO,CH-MORIARTY,CH-AKBAR \TRUE
	FSET? CH-AKBAR,FL-ASLEEP /TRUE
	.DEBUG-LINE 11,670,1
	CRLF
	.DEBUG-LINE 11,671,1
	EQUAL? GL-PRSO,CH-MORIARTY \?L45
	.DEBUG-LINE 11,672,1
	PRINTI "Bad move. As soon as he is free, Moriarty"
	JUMP ?L47
	.DEBUG-LINE 11,675,1
?L45:	PRINTI "Akbar immediately unties Moriarty, who"
	.DEBUG-LINE 11,677,1
?L47:	PRINTI " unlocks his desk and pulls out a pistol. ""Thank you for releasing me, gentlemen,"" he says, waving the gun at you. ""Very sporting of you."" He glances at his pocketwatch. ""We shouldn't have too long to wait."" Minutes later you hear newsboys running through the streets shouting about the resignation of the Prime Minister."
	CRLF
	.DEBUG-LINE 11,683,1
	ICALL1 RT-QSR
	.DEBUG-LINE 11,684,1
	RTRUE
	.DEBUG-LINE 11,686,1
?L33:	CALL1 RT-ROPE-MSG >STACK
	RSTACK
	.DEBUG-LINE 11,687,1
?L32:	EQUAL? GL-PRSA,V?RELEASE /FALSE
	.DEBUG-LINE 11,690,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 11,691,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 11,692,1
	PRINTR "tied up."
	.DEBUG-LINE 11,693,1
?L29:	EQUAL? GL-PRSA,V?TIE-UP \?L52
	EQUAL? GL-PRSI,TH-ROPE,ROOMS /?L52
	.DEBUG-LINE 11,695,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 11,696,1
?L52:	EQUAL? GL-PRSA,V?TIE,V?TIE-UP \FALSE
	EQUAL? GL-PRSO,CH-PLAYER,CH-ME /?L54
	EQUAL? GL-PRSI,CH-PLAYER,CH-ME \?L53
	.DEBUG-LINE 11,699,1
	.DEBUG-LINE 11,700,1
?L54:	PRINTR "We'll assume you're joking."
	.DEBUG-LINE 11,701,1
?L53:	EQUAL? GL-PRSA,V?TIE,V?TIE-UP \FALSE
	.DEBUG-LINE 11,702,1
	CALL2 RT-VISIBLE?,TH-ROPE >STACK
	ZERO? STACK /?L56
	.DEBUG-LINE 11,703,1
	FSET? CH-AKBAR,FL-ASLEEP /?L60
	FSET? CH-AKBAR,FL-LOCKED \?L58
	.DEBUG-LINE 11,705,1
?L60:	EQUAL? CH-HOLMES,GL-PRSI,GL-PRSO \?L61
	.DEBUG-LINE 11,706,1
	.DEBUG-LINE 11,707,1
	PRINTR "Surely you jest."
	.DEBUG-LINE 11,708,1
?L61:	EQUAL? TH-ROPE-AUX1,-1 \?L64
	.DEBUG-LINE 11,709,1
	SET 'TH-ROPE-AUX1,GL-PRSO
	JUMP ?L67
	.DEBUG-LINE 11,710,1
?L64:	EQUAL? TH-ROPE-AUX2,-1 \?L66
	.DEBUG-LINE 11,711,1
	SET 'TH-ROPE-AUX2,GL-PRSO
	JUMP ?L67
	.DEBUG-LINE 11,713,1
?L66:	ICALL2 RT-CTHEO-PRINT,TH-ROPE
	.DEBUG-LINE 11,714,1
	PRINTR " is not long enough."
	.DEBUG-LINE 11,715,1
?L67:	EQUAL? GL-PRSI,ROOMS \?L68
	.DEBUG-LINE 11,716,1
	SET 'GL-PRSI,0
	.DEBUG-LINE 11,717,1
?L68:	MOVE TH-ROPE,GL-PLACE-CUR
	.DEBUG-LINE 11,718,1
	FSET TH-ROPE,FL-NODESC
	.DEBUG-LINE 11,719,1
	FSET GL-PRSO,FL-LOCKED
	.DEBUG-LINE 11,720,1
	EQUAL? GL-PRSI,0,TH-ROPE \?L71
	.DEBUG-LINE 11,721,1
	ICALL RT-CYOU-MSG,STR?202,STR?201
	.DEBUG-LINE 11,722,1
	PRINTI "up "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 11,723,1
?L71:	EQUAL? TH-ROPE-AUX2,-1 /?L73
	.DEBUG-LINE 11,724,1
	ICALL RT-CYOU-MSG,STR?202,STR?201
	.DEBUG-LINE 11,725,1
	PRINTI "up "
	ICALL1 RT-THEO-PRINT
	PRINTI ", but "
	ICALL2 RT-THEO-PRINT,TH-ROPE
	PRINTI " is not long enough to tie up "
	ICALL1 RT-THEI-PRINT
	PRINTR " as well."
	.DEBUG-LINE 11,728,1
?L73:	FSET GL-PRSI,FL-LOCKED
	.DEBUG-LINE 11,729,1
	PRINTI "You tie "
	ICALL1 RT-THEO-PRINT
	PRINTI " to "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 11,731,1
?L58:	CALL1 RT-ROPE-MSG >STACK
	RSTACK
	.DEBUG-LINE 11,733,1
?L56:	PRINTI "You don't have "
	ICALL2 RT-A-PRINT,TH-ROPE
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-NAVE","CONTEXT"
	.FUNCT RT-AC-RM-NAVE,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 11,737,1
?L17:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,738,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,739,1
	FSET TH-NEWTON-TOMB,FL-SEEN
	.DEBUG-LINE 11,740,1
	PRINTI "You enter the Abbey and pause in the Nave, struck by the sheer magnificence of the building. Massive Purbeck columns march the length of the Nave, and they rise in perfect proportion to meet each other in a series of pointed arches that are the hallmark of the Gothic style."
	CRLF
	CRLF
	.DEBUG-LINE 11,749,1
	PRINTR "The interior of the Abbey is dark, cold, and gloomy - but after a few moments your eyes adjust and you can make out a tomb at the far end of the room."
	.DEBUG-LINE 11,750,1
?L3:	EQUAL? CONTEXT,K-M-DESC-2,K-M-DESC-3 \FALSE
	.DEBUG-LINE 11,751,1
	EQUAL? CONTEXT,K-M-DESC-2 \?L6
	.DEBUG-LINE 11,752,1
	EQUAL? GL-PLACE-PRV,RM-BROAD-SANCTUARY \?L8
	.DEBUG-LINE 11,753,1
	PRINTI "You walk through the massive door and find yourself once again in"
	JUMP ?L11
	.DEBUG-LINE 11,756,1
?L8:	PRINTI "You return to"
	JUMP ?L11
	.DEBUG-LINE 11,757,1
?L6:	EQUAL? CONTEXT,K-M-DESC-3 \?L11
	.DEBUG-LINE 11,758,1
	PRINTI "You are standing in"
	.DEBUG-LINE 11,759,1
?L11:	PRINTI " the Nave. Amidst the massive columns, one tomb in particular catches your attention."
	CRLF
	.DEBUG-LINE 11,762,1
	RFALSE
	.DEBUG-LINE 11,763,1
?L1:	EQUAL? CONTEXT,K-M-ENTERED \?L14
	.DEBUG-LINE 11,764,1
	SET 'PLAYER-IN-ABBEY,1
	RFALSE
	.DEBUG-LINE 11,765,1
?L14:	EQUAL? CONTEXT,K-M-EXIT \FALSE
	EQUAL? GL-P-WALK-DIR,P?OUT,P?WEST \FALSE
	.DEBUG-LINE 11,767,1
	SET 'PLAYER-IN-ABBEY,0
	.DEBUG-LINE 11,768,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-EVANGELIST-CHAPEL","CONTEXT"
	.FUNCT RT-AC-RM-EVANGELIST-CHAPEL,CONTEXT
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
	.DEBUG-LINE 11,772,1
?L9:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,773,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,774,1
	FSET TH-BANK-OF-CANDLES,FL-SEEN
	.DEBUG-LINE 11,775,1
	FSET TH-VERE-TOMB,FL-SEEN
	.DEBUG-LINE 11,776,1
	PRINTI "You enter the Evangelist Chapel and wonder what it is about this room that makes you feel it is somehow different from the rest of the Abbey."
	CRLF
	RFALSE
	.DEBUG-LINE 11,780,1
?L3:	EQUAL? CONTEXT,K-M-DESC-2 \?L5
	.DEBUG-LINE 11,781,1
	PRINTI "You return to the welcome warmth provided by the array of candles in the Evangelist Chapel."
	CRLF
	RFALSE
	.DEBUG-LINE 11,784,1
?L5:	PRINTI "Light! Warmth! There is a bank of candles here lit by devoted worshippers. The candles warm the room so effectively that after a few moments you actually become uncomfortable."
	CRLF
	CRLF
	PRINTI "One of the most unusual tombs in the Abbey is here."
	CRLF
	.DEBUG-LINE 11,789,1
	RFALSE
	.DEBUG-LINE 11,790,1
?L1:	EQUAL? CONTEXT,K-M-BEG \FALSE
	.DEBUG-LINE 11,791,1
	ICALL2 RT-PAPER-WARMING,TH-WHITE-PAPER
	.DEBUG-LINE 11,792,1
	ICALL2 RT-PAPER-WARMING,TH-BLUE-PAPER
	.DEBUG-LINE 11,793,1
	ICALL2 RT-PAPER-WARMING,TH-ORANGE-PAPER
	.DEBUG-LINE 11,794,1
	ICALL2 RT-PAPER-WARMING,TH-YELLOW-PAPER
	.DEBUG-LINE 11,795,1
	ICALL2 RT-PAPER-WARMING,TH-BROWN-PAPER
	.DEBUG-LINE 11,796,1
	ICALL2 RT-PAPER-WARMING,TH-GREEN-PAPER
	.DEBUG-LINE 11,797,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-HENRY-VII-CHAPEL","CONTEXT"
	.FUNCT RT-AC-RM-HENRY-VII-CHAPEL,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 11,801,1
?L11:	CALL2 RT-DESCFCN-CONTEXT,CONTEXT >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 11,802,1
	EQUAL? CONTEXT,K-M-DESC-1 \?L3
	.DEBUG-LINE 11,803,1
	FSET TH-HENRY-VII-TOMB,FL-SEEN
	.DEBUG-LINE 11,804,1
?L3:	EQUAL? CONTEXT,K-M-DESC-1,K-M-DESC-2 \?L6
	.DEBUG-LINE 11,805,1
	PRINTI "You enter"
	JUMP ?L8
	.DEBUG-LINE 11,807,1
?L6:	PRINTI "You are in"
	.DEBUG-LINE 11,808,1
?L8:	PRINTI " Henry VII's chapel, which is one of the most beautiful chapels in the world. The ceiling is a masterpiece of delicate fan vaulting, and the Renaissance gilt-bronze tomb is obviously the work of one of the Italian masters."
	CRLF
	.DEBUG-LINE 11,813,1
	RFALSE
	.DEBUG-LINE 11,814,1
?L1:	EQUAL? GL-PRSA,V?LOOK-UP \FALSE
	.DEBUG-LINE 11,815,1
	PRINT K-BREATH-TAKING-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-ENTER-BANK-OF-ENGLAND"
	.FUNCT RT-EX-ENTER-BANK-OF-ENGLAND
	.DEBUG-LINE 11,818,1
	LESS? CH-BANK-GUARD-AUX1,4 \?L1
	.DEBUG-LINE 11,819,1
	PRINTI "The guard stops you as you try to enter. ""Excuse me, sir. You can't go in there. And don't even THINK about trying to bribe me."""
	CRLF
	.DEBUG-LINE 11,822,1
	ICALL2 RT-THIS-IS-IT,CH-BANK-GUARD
	.DEBUG-LINE 11,823,1
	RFALSE
	.DEBUG-LINE 11,824,1
?L1:	IN? TH-BOX-KEY,TH-GUARDS-POCKET \?L3
	.DEBUG-LINE 11,825,1
	PRINTI "Holmes takes you to one side and whispers, ""It is obvious, dear fellow, that it would be pointless to enter the bank with no means of unlocking anything we may find inside."""
	CRLF
	.DEBUG-LINE 11,829,1
	RFALSE
	.DEBUG-LINE 11,831,1
?L3:	IN? CH-BANK-GUARD,RM-THREADNEEDLE-ST \?L5
	.DEBUG-LINE 11,832,1
	PRINTI "As soon as you enter, the guard leaves."
	CRLF
	CRLF
	.DEBUG-LINE 11,833,1
	REMOVE CH-BANK-GUARD
	.DEBUG-LINE 11,834,1
?L5:	RETURN RM-BANK-OF-ENGLAND
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-RM-BUCKINGHAM-PALACE","CONTEXT"
	.FUNCT RT-AC-RM-BUCKINGHAM-PALACE,CONTEXT
	ASSIGNED? 'CONTEXT /?L12
	SET 'CONTEXT,0
	.DEBUG-LINE 11,837,1
?L12:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 11,838,1
	EQUAL? GL-PRSA,V?ENTER \?L3
	.DEBUG-LINE 11,839,1
	EQUAL? GL-PLACE-CUR,RM-QUEENS-GARDENS \FALSE
	.DEBUG-LINE 11,840,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 11,841,1
	RTRUE
	.DEBUG-LINE 11,842,1
?L3:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 11,843,1
	EQUAL? GL-PLACE-CUR,RM-BUCKINGHAM-PALACE \FALSE
	.DEBUG-LINE 11,844,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 11,845,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-ENTER-BUCKINGHAM-PALACE"
	.FUNCT RT-EX-RM-ENTER-BUCKINGHAM-PALACE
	.DEBUG-LINE 11,848,1
	EQUAL? GL-PRSO,P?WEST,P?IN \FALSE
	EQUAL? GL-PLACE-CUR,RM-QUEENS-GARDENS \FALSE
	.DEBUG-LINE 11,850,1
	ICALL2 RT-CTHEO-PRINT,CH-PALACE-GUARD
	PRINTI " steps into your path and says, ""I'm sorry, but I've been instructed to let no one into the Palace unless I receive certain items of interest to the Crown."""
	CRLF
	.DEBUG-LINE 11,854,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-STEER-BOAT"
	.FUNCT RT-EX-RM-STEER-BOAT
	.DEBUG-LINE 11,857,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 11,858,1
	PRINTI "[To move the boat, ROW or PADDLE in a given direction, or LAND it.]"
	CRLF
	.DEBUG-LINE 11,860,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-LAND-BOAT"
	.FUNCT RT-EX-RM-LAND-BOAT
	.DEBUG-LINE 11,863,1
	PRINTI "[Land the Boat.]"
	CRLF
	.DEBUG-LINE 11,864,1
	ICALL1 RT-LAND-BOAT
	.DEBUG-LINE 11,865,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-LAUNCH-BOAT"
	.FUNCT RT-EX-RM-LAUNCH-BOAT
	.DEBUG-LINE 11,868,1
	IN? CH-PLAYER,TH-BOAT \?L1
	.DEBUG-LINE 11,869,1
	PRINTI "[Launch the Boat.]"
	CRLF
	.DEBUG-LINE 11,870,1
	ICALL1 RT-LAUNCH-BOAT
	RFALSE
	.DEBUG-LINE 11,872,1
?L1:	PRINTI "The last man who walked on water was killed by a bunch of Romans. Why don't you play it safe and use a boat?"
	CRLF
	.DEBUG-LINE 11,875,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-PARLOUR-ENTRY"
	.FUNCT RT-EX-PARLOUR-ENTRY
	.DEBUG-LINE 11,878,1
	FSET? CH-HOLMES,FL-ASLEEP \?L1
	.DEBUG-LINE 11,879,1
	ICALL2 RT-CTHEO-PRINT,CH-HUDSON
	PRINT K-HUDSON-WORRIED-MSG
	CRLF
	.DEBUG-LINE 11,880,1
	RFALSE
	.DEBUG-LINE 11,881,1
?L1:	FSET? LG-PARLOUR-DOOR,FL-OPENED /?L3
	.DEBUG-LINE 11,882,1
	ICALL2 RT-CTHEO-PRINT,LG-PARLOUR-DOOR
	PRINTI " is closed."
	CRLF
	.DEBUG-LINE 11,883,1
	RFALSE
	.DEBUG-LINE 11,884,1
?L3:	EQUAL? GL-PRSO,P?NORTH,P?IN \FALSE
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 11,886,1
	RETURN RM-PARLOUR
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-LEAVE-EMBANKMENT"
	.FUNCT RT-EX-LEAVE-EMBANKMENT
	.DEBUG-LINE 11,889,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L1
	.DEBUG-LINE 11,890,1
	PRINT K-HEAVY-ARMOUR-MSG
	CRLF
	.DEBUG-LINE 11,891,1
	RFALSE
	.DEBUG-LINE 11,892,1
?L1:	IN? GL-WINNER,TH-BOAT \?L6
	.DEBUG-LINE 11,893,1
	ICALL RT-PERFORM,V?EXIT,TH-BOAT
	.DEBUG-LINE 11,894,1
	IN? GL-WINNER,RM-THE-EMBANKMENT \FALSE
	.DEBUG-LINE 11,896,1
?L6:	EQUAL? GL-PRSO,P?NORTH \?L10
	EQUAL? GL-PLACE-CUR,RM-THE-EMBANKMENT \?L10
	.DEBUG-LINE 11,898,1
	RETURN RM-FLEET-STREET
	.DEBUG-LINE 11,899,1
?L10:	EQUAL? GL-PRSO,P?EAST \FALSE
	EQUAL? GL-PLACE-CUR,RM-THE-EMBANKMENT \FALSE
	.DEBUG-LINE 11,901,1
	RETURN RM-UPPER-THAMES-ST
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-TH-ROOM","CONTEXT"
	.FUNCT RT-DF-TH-ROOM,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,10,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,11,1
	FSET? GL-PLACE-CUR,FL-INDOORS /?L4
	.DEBUG-LINE 12,12,1
	PRINTR "You're not inside a room."
	.DEBUG-LINE 12,14,1
?L4:	CALL1 V-LOOK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NOT-HERE-OBJECT"
	.FUNCT RT-AC-TH-NOT-HERE-OBJECT
	.DEBUG-LINE 12,18,1
	CALL1 RT-TH-NOT-HERE-OBJECT >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-INTDIR"
	.FUNCT RT-AC-TH-INTDIR
	.DEBUG-LINE 12,22,1
	EQUAL? GL-PRSA,V?SHOOT \?L1
	.DEBUG-LINE 12,23,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,24,1
?L1:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,25,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,26,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TIME","CONTEXT"
	.FUNCT RT-AC-TH-TIME,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 12,29,1
?L11:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,30,1
	GETP TH-TIME,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?MINUTE,W?MINUTES \?L3
	.DEBUG-LINE 12,32,1
	PRINTI "minute"
	RTRUE
	.DEBUG-LINE 12,34,1
?L3:	PRINTI "hour"
	RTRUE
	.DEBUG-LINE 12,35,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,36,1
	EQUAL? GL-PRSA,V?SHOOT \?L7
	.DEBUG-LINE 12,37,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,38,1
	RTRUE
	.DEBUG-LINE 12,39,1
?L7:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 12,40,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,41,1
	RTRUE
	.DEBUG-LINE 12,42,1
?L8:	GET GL-SEE-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-SEE-VERBS+2,STACK >STACK \FALSE
	.DEBUG-LINE 12,43,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,44,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-HANDS"
	.FUNCT RT-AC-TH-HANDS
	.DEBUG-LINE 12,48,1
	ZERO? GL-NOW-PRSI? \?L28
	.DEBUG-LINE 12,49,1
	ZERO? GL-PRSI \?L3
	EQUAL? GL-PRSA,V?TAKE,V?TAKE-OFF \?L3
	FSET? TH-HANDS,FL-LOCKED \?L3
	.DEBUG-LINE 12,52,1
	FCLEAR TH-HANDS,FL-LOCKED
	.DEBUG-LINE 12,53,1
	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 12,54,1
	SET 'HEARD-SWING?,0
	.DEBUG-LINE 12,55,1
	ICALL2 RT-THEO-PRINT,TH-HANDS
	PRINTI " off of "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,56,1
?L3:	EQUAL? GL-PRSI,TH-EARS \FALSE
	.DEBUG-LINE 12,57,1
	EQUAL? GL-PRSA,V?TAKE \?L6
	.DEBUG-LINE 12,58,1
	FSET? TH-HANDS,FL-LOCKED /?L8
	.DEBUG-LINE 12,59,1
	PRINTI "Your hands are not on "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,61,1
?L8:	FCLEAR TH-HANDS,FL-LOCKED
	.DEBUG-LINE 12,62,1
	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 12,63,1
	SET 'HEARD-SWING?,0
	.DEBUG-LINE 12,64,1
	ICALL2 RT-THEO-PRINT,TH-HANDS
	PRINTI " off of "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,66,1
?L6:	EQUAL? GL-PRSA,V?PUT-ON \FALSE
	.DEBUG-LINE 12,67,1
	FSET? TH-HANDS,FL-LOCKED \?L12
	.DEBUG-LINE 12,68,1
	PRINTI "Your hands are already on "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,71,1
?L12:	FSET TH-HANDS,FL-LOCKED
	.DEBUG-LINE 12,72,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,73,1
	ICALL2 RT-THEO-PRINT,TH-HANDS
	PRINTI " on "
	ICALL2 RT-THEO-PRINT,TH-EARS
	.DEBUG-LINE 12,75,1
	PRINTR "."
	.DEBUG-LINE 12,77,1
?L28:	EQUAL? GL-PRSO,TH-EARS \FALSE
	.DEBUG-LINE 12,78,1
	EQUAL? GL-PRSA,V?COVER \FALSE
	.DEBUG-LINE 12,79,1
	FSET? TH-HANDS,FL-LOCKED \?L22
	.DEBUG-LINE 12,80,1
	PRINTI "Your hands are already on "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,82,1
?L22:	FSET TH-HANDS,FL-LOCKED
	.DEBUG-LINE 12,83,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,84,1
	ICALL2 RT-THEO-PRINT,TH-HANDS
	PRINTI " on "
	ICALL2 RT-THEO-PRINT,TH-EARS
	.DEBUG-LINE 12,85,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WATSONS-HEART"
	.FUNCT RT-AC-TH-WATSONS-HEART
	.DEBUG-LINE 12,89,1
	EQUAL? GL-PRSA,V?LISTEN \FALSE
	.DEBUG-LINE 12,90,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L3
	.DEBUG-LINE 12,91,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,92,1
	PRINTI "cannot hear a thing with "
	ICALL2 RT-THEO-PRINT,TH-COTTON-BALLS
	PRINTI " in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	JUMP ?L12
	.DEBUG-LINE 12,94,1
?L3:	FSET? TH-STETHOSCOPE,FL-WORN \?L5
	.DEBUG-LINE 12,95,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD,RM-LAIR,RM-SWAN-LANE \?L6
	PUSH 8
	JUMP ?L8
?L6:	PUSH 6
?L8:	IXCALL SOUNDS,S-HEART2,S-START,STACK,8
	.DEBUG-LINE 12,98,1
	PRINTI "Your heart is beating "
	.DEBUG-LINE 12,99,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD,RM-LAIR,RM-SWAN-LANE \?L9
	.DEBUG-LINE 12,100,1
	PRINTI "so loudly you're surprised everyone can't hear it"
	JUMP ?L12
	.DEBUG-LINE 12,102,1
?L9:	PRINTI "normally"
	JUMP ?L12
	.DEBUG-LINE 12,104,1
?L5:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,105,1
	PRINTI "should wear the stethoscope, first"
	.DEBUG-LINE 12,106,1
	.DEBUG-LINE 12,107,1
?L12:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-EARS"
	.FUNCT RT-AC-TH-EARS
	.DEBUG-LINE 12,111,1
	ZERO? GL-NOW-PRSI? /?L30
	.DEBUG-LINE 12,112,1
	EQUAL? GL-PRSA,V?PUT \?L3
	.DEBUG-LINE 12,113,1
	EQUAL? GL-PRSO,TH-HANDS,TH-STETHOSCOPE /FALSE
	.DEBUG-LINE 12,119,1
	EQUAL? GL-PRSO,TH-COTTON-BALLS \?L7
	.DEBUG-LINE 12,120,1
	FSET? GL-PRSO,FL-WORN \?L8
	.DEBUG-LINE 12,121,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,122,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 12,123,1
	PRINTI "already in "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 12,124,1
?L8:	FSET? TH-STETHOSCOPE,FL-WORN \?L10
	.DEBUG-LINE 12,125,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,126,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?203,TH-STETHOSCOPE
	.DEBUG-LINE 12,127,1
	.DEBUG-LINE 12,128,1
	PRINTR " first."
	.DEBUG-LINE 12,130,1
?L10:	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,131,1
	FSET TH-COTTON-BALLS,FL-WORN
	.DEBUG-LINE 12,132,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,133,1
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 12,135,1
?L7:	PRINTI "You cannot put that in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,136,1
?L3:	EQUAL? GL-PRSA,V?TAKE \?L13
	.DEBUG-LINE 12,137,1
	EQUAL? GL-PRSO,TH-HANDS,TH-STETHOSCOPE /FALSE
	.DEBUG-LINE 12,143,1
	EQUAL? GL-PRSO,TH-COTTON-BALLS \FALSE
	.DEBUG-LINE 12,144,1
	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,145,1
	FCLEAR TH-COTTON-BALLS,FL-WORN
	.DEBUG-LINE 12,146,1
	PRINTR "You take the cotton balls out of your ears."
	.DEBUG-LINE 12,150,1
?L13:	EQUAL? GL-PRSA,V?EMPTY,V?EMPTY-INTO \FALSE
	.DEBUG-LINE 12,151,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,152,1
	PRINTI "cannot empty anything into "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 12,154,1
?L30:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?LOOK-ON,V?EXAMINE \?L21
	.DEBUG-LINE 12,155,1
	PRINT K-EYES-HINGED-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,156,1
?L21:	EQUAL? GL-PRSA,V?REACH-IN,V?SEARCH \FALSE
	.DEBUG-LINE 12,157,1
	FSET? TH-STETHOSCOPE,FL-WORN \?L24
	.DEBUG-LINE 12,158,1
	ICALL RT-CYOU-MSG,STR?205,STR?204
	.DEBUG-LINE 12,159,1
	ICALL2 RT-THEO-PRINT,TH-STETHOSCOPE
	PRINTR "."
	.DEBUG-LINE 12,160,1
?L24:	FSET? TH-COTTON-BALLS,FL-WORN \FALSE
	.DEBUG-LINE 12,161,1
	ICALL RT-CYOU-MSG,STR?205,STR?204
	.DEBUG-LINE 12,162,1
	ICALL2 RT-THEO-PRINT,TH-COTTON-BALLS
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-HEAD"
	.FUNCT RT-AC-TH-HEAD
	.DEBUG-LINE 12,166,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,169,1
	EQUAL? GL-PRSA,V?TOUCH,V?SEARCH \?L4
	FSET? TH-WATSONS-HAT,FL-WORN \?L4
	.DEBUG-LINE 12,171,1
	PRINTI "You are wearing "
	ICALL2 RT-THEO-PRINT,TH-WATSONS-HAT
	PRINTR "."
	.DEBUG-LINE 12,172,1
?L4:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 12,173,1
	PRINT K-EYES-HINGED-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BREATH"
	.FUNCT RT-AC-TH-BREATH
	.DEBUG-LINE 12,177,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,180,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	.DEBUG-LINE 12,181,1
	PRINTI "It is not cold enough to see "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 12,182,1
?L4:	EQUAL? GL-PRSA,V?SMELL \?L6
	.DEBUG-LINE 12,183,1
	PRINTR "It smells no worse than usual."
	.DEBUG-LINE 12,184,1
?L6:	EQUAL? GL-PRSA,V?RELEASE \?L7
	.DEBUG-LINE 12,185,1
	CALL1 V-EXHALE >STACK
	RSTACK
	.DEBUG-LINE 12,200,1
?L7:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,201,1
	PRINTR "It's bad, but it doesn't deserve to die."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CLOTHES"
	.FUNCT RT-AC-TH-CLOTHES
	.DEBUG-LINE 12,205,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L1
	.DEBUG-LINE 12,206,1
	ICALL RT-PERFORM,V?LOOK-INSIDE,TH-POCKET
	.DEBUG-LINE 12,207,1
	RTRUE
	.DEBUG-LINE 12,208,1
?L1:	EQUAL? GL-PRSA,V?PUT \?L3
	EQUAL? GL-PRSI,TH-CLOTHES \?L3
	.DEBUG-LINE 12,210,1
	PRINTI "[in "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	PRINTI "]"
	CRLF
	.DEBUG-LINE 12,211,1
	ICALL RT-PERFORM,V?PUT,GL-PRSO,TH-POCKET
	.DEBUG-LINE 12,212,1
	RTRUE
	.DEBUG-LINE 12,213,1
?L3:	EQUAL? GL-PRSA,V?WEAR \?L4
	.DEBUG-LINE 12,214,1
	.DEBUG-LINE 12,215,1
	PRINTR "You are already wearing them."
	.DEBUG-LINE 12,216,1
?L4:	EQUAL? GL-PRSA,V?TAKE-OFF,V?DROP,V?RAISE \FALSE
	.DEBUG-LINE 12,217,1
	PRINT K-INAPPROPRIATE-MSG
	.DEBUG-LINE 12,218,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WATERMARK","CONTEXT"
	.FUNCT RT-AC-TH-WATERMARK,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 12,224,1
?L14:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,225,1
	CALL2 RT-VISIBLE?,TH-GREEN-PAPER >STACK
	ZERO? STACK \FALSE
	CALL2 RT-VISIBLE?,TH-WHITE-PAPER >STACK
	ZERO? STACK \FALSE
	CALL2 RT-VISIBLE?,TH-BLUE-PAPER >STACK
	ZERO? STACK \FALSE
	CALL2 RT-VISIBLE?,TH-ORANGE-PAPER >STACK
	ZERO? STACK \FALSE
	CALL2 RT-VISIBLE?,TH-YELLOW-PAPER >STACK
	ZERO? STACK \FALSE
	CALL2 RT-VISIBLE?,TH-BROWN-PAPER >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 12,233,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 12,234,1
	PRINTI "not see any "
	ICALL2 DPRINT,TH-WATERMARK
	.DEBUG-LINE 12,235,1
	PRINTR "here."
	.DEBUG-LINE 12,236,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,237,1
	CALL2 RT-VISIBLE?,TH-GREEN-PAPER >STACK
	ZERO? STACK \?L9
	CALL2 RT-VISIBLE?,TH-WHITE-PAPER >STACK
	ZERO? STACK \?L9
	CALL2 RT-VISIBLE?,TH-BLUE-PAPER >STACK
	ZERO? STACK \?L9
	CALL2 RT-VISIBLE?,TH-ORANGE-PAPER >STACK
	ZERO? STACK \?L9
	CALL2 RT-VISIBLE?,TH-YELLOW-PAPER >STACK
	ZERO? STACK \?L9
	CALL2 RT-VISIBLE?,TH-BROWN-PAPER >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 12,243,1
?L9:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,244,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,246,1
?L8:	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 12,247,1
	PRINTI "not see any "
	ICALL2 DPRINT,TH-WATERMARK
	.DEBUG-LINE 12,248,1
	PRINTR " here."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SESAME"
	.FUNCT RT-AC-TH-SESAME
	.DEBUG-LINE 12,252,1
	EQUAL? GL-PRSA,V?OPEN \?L1
	.DEBUG-LINE 12,253,1
	.DEBUG-LINE 12,254,1
	PRINTR "Ali Baba you're not."
	.DEBUG-LINE 12,255,1
?L1:	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 12,256,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,257,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RIGHT"
	.FUNCT RT-AC-TH-RIGHT
	.DEBUG-LINE 12,261,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,262,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 12,263,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,264,1
?L3:	GET GL-SEE-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-SEE-VERBS+2,STACK >STACK \?L5
	.DEBUG-LINE 12,265,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,266,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,267,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LEFT"
	.FUNCT RT-AC-TH-LEFT
	.DEBUG-LINE 12,271,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,272,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 12,273,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,274,1
?L3:	GET GL-SEE-VERBS,0 >STACK
	INTBL? GL-PRSA,GL-SEE-VERBS+2,STACK >STACK \?L5
	.DEBUG-LINE 12,275,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 12,276,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,277,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BULLET-HOLE","NUM","OFF","HOLE","PLACE"
	.FUNCT RT-AC-TH-BULLET-HOLE,NUM,OFF,HOLE,PLACE
	SET 'NUM,0
	SET 'HOLE,0
	.DEBUG-LINE 12,282,1
?L1:	MUL NUM,2 >OFF
	.DEBUG-LINE 12,283,1
	GET GL-HOLES,0 >STACK
	EQUAL? NUM,STACK /?L2
	.DEBUG-LINE 12,285,1
	ADD OFF,1 >STACK
	GET GL-HOLES,STACK >STACK
	CALL2 RT-VISIBLE?,STACK >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 12,286,1
	ADD OFF,2 >STACK
	GET GL-HOLES,STACK >PLACE
	ZERO? PLACE /?L8
	EQUAL? GL-PLACE-CUR,PLACE \?L6
	.DEBUG-LINE 12,288,1
?L8:	SET 'HOLE,1
	.DEBUG-LINE 12,289,1
	JUMP ?L2
	.DEBUG-LINE 12,290,1
?L6:	INC 'NUM
	JUMP ?L1
	.DEBUG-LINE 12,291,1
?L2:	ZERO? HOLE \?L11
	.DEBUG-LINE 12,292,1
	CALL2 RT-CANT-SEE-ANY-MSG,TH-BULLET-HOLE >STACK
	RSTACK
	.DEBUG-LINE 12,293,1
?L11:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,294,1
	PRINT K-ANNIE-OAKELEY-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GENERIC-BODY","CONTEXT","CLASS","ADJ","S1","S2","WHICH"
	.FUNCT RT-AC-TH-GENERIC-BODY,CONTEXT,CLASS,ADJ,S1,S2,WHICH
	ASSIGNED? 'CONTEXT /?L33
	SET 'CONTEXT,0
?L33:	ASSIGNED? 'CLASS /?L34
	SET 'CLASS,0
?L34:	SET 'WHICH,CH-PLAYER
	GETP TH-GENERIC-BODY,P?OBJ-ADJ >ADJ
	.DEBUG-LINE 12,299,1
	EQUAL? ADJ,W?WIGGINS$0027 \?L1
	.DEBUG-LINE 12,300,1
	SET 'WHICH,CH-WIGGINS
	JUMP ?L15
	.DEBUG-LINE 12,301,1
?L1:	EQUAL? ADJ,W?HOLMES$0027,W?HOLMES$0027S \?L3
	.DEBUG-LINE 12,302,1
	SET 'WHICH,CH-HOLMES
	JUMP ?L15
	.DEBUG-LINE 12,303,1
?L3:	EQUAL? ADJ,W?HUDSON$0027S \?L4
	.DEBUG-LINE 12,304,1
	SET 'WHICH,CH-HUDSON
	JUMP ?L15
	.DEBUG-LINE 12,305,1
?L4:	EQUAL? ADJ,W?ELIZA$0027S,W?GIRL$0027S \?L5
	.DEBUG-LINE 12,306,1
	SET 'WHICH,CH-ELIZA-DOOLITTLE
	JUMP ?L15
	.DEBUG-LINE 12,307,1
?L5:	EQUAL? ADJ,W?HER \?L6
	.DEBUG-LINE 12,308,1
	CALL2 RT-VISIBLE?,CH-HUDSON >STACK
	ZERO? STACK /?L7
	.DEBUG-LINE 12,309,1
	SET 'WHICH,CH-HUDSON
	JUMP ?L15
	.DEBUG-LINE 12,311,1
?L7:	SET 'WHICH,CH-ELIZA-DOOLITTLE
	JUMP ?L15
	.DEBUG-LINE 12,312,1
?L6:	EQUAL? ADJ,W?LEFT,W?RIGHT \?L15
	.DEBUG-LINE 12,313,1
	CALL2 RT-VISIBLE?,CH-WIGGINS >STACK
	ZERO? STACK /?L11
	.DEBUG-LINE 12,314,1
	SET 'WHICH,CH-WIGGINS
	JUMP ?L15
	.DEBUG-LINE 12,315,1
?L11:	CALL2 RT-VISIBLE?,CH-HOLMES >STACK
	ZERO? STACK /?L13
	.DEBUG-LINE 12,316,1
	SET 'WHICH,CH-HOLMES
	JUMP ?L15
	.DEBUG-LINE 12,317,1
?L13:	CALL2 RT-VISIBLE?,CH-HUDSON >STACK
	ZERO? STACK /?L14
	.DEBUG-LINE 12,318,1
	SET 'WHICH,CH-HUDSON
	JUMP ?L15
	.DEBUG-LINE 12,319,1
?L14:	CALL2 RT-VISIBLE?,CH-ELIZA-DOOLITTLE >STACK
	ZERO? STACK /?L15
	.DEBUG-LINE 12,320,1
	SET 'WHICH,CH-ELIZA-DOOLITTLE
	.DEBUG-LINE 12,321,1
?L15:	EQUAL? WHICH,CH-WIGGINS \?L18
	.DEBUG-LINE 12,322,1
	SET 'S1,STR?206
	.DEBUG-LINE 12,323,1
	SET 'S2,STR?207
	JUMP ?L23
	.DEBUG-LINE 12,324,1
?L18:	EQUAL? WHICH,CH-HOLMES \?L20
	.DEBUG-LINE 12,325,1
	SET 'S1,STR?208
	.DEBUG-LINE 12,326,1
	SET 'S2,STR?209
	JUMP ?L23
	.DEBUG-LINE 12,327,1
?L20:	EQUAL? WHICH,CH-HUDSON \?L21
	.DEBUG-LINE 12,328,1
	SET 'S1,STR?210
	.DEBUG-LINE 12,329,1
	SET 'S2,STR?211
	JUMP ?L23
	.DEBUG-LINE 12,330,1
?L21:	EQUAL? WHICH,CH-ELIZA-DOOLITTLE \?L22
	.DEBUG-LINE 12,331,1
	SET 'S1,STR?212
	.DEBUG-LINE 12,332,1
	SET 'S2,STR?213
	JUMP ?L23
	.DEBUG-LINE 12,333,1
?L22:	EQUAL? WHICH,CH-PLAYER \?L23
	.DEBUG-LINE 12,334,1
	SET 'S1,STR?214
	.DEBUG-LINE 12,335,1
	SET 'S2,STR?215
	.DEBUG-LINE 12,336,1
?L23:	EQUAL? CONTEXT,K-M-SDESC \?L25
	.DEBUG-LINE 12,337,1
	PRINT S1
	.DEBUG-LINE 12,338,1
	RTRUE
	.DEBUG-LINE 12,339,1
?L25:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,340,1
	CALL2 RT-VISIBLE?,WHICH >STACK
	ZERO? STACK \?L29
	.DEBUG-LINE 12,341,1
	ICALL RT-CANT-SEE-ANY-MSG,0,S1,1
	.DEBUG-LINE 12,342,1
	RETURN 2
	.DEBUG-LINE 12,343,1
?L29:	EQUAL? WHICH,CH-ELIZA-DOOLITTLE \?L31
	.DEBUG-LINE 12,344,1
	PRINTI "[You do not need to refer to"
	.DEBUG-LINE 12,345,1
	ICALL RT-CLAUSE-PRINT,K-P-NC1,K-P-NC1L
	.DEBUG-LINE 12,346,1
	PRINTI ".]"
	CRLF
	.DEBUG-LINE 12,347,1
	RETURN 2
	.DEBUG-LINE 12,349,1
?L31:	PRINTI "[You do not need to refer to any part of "
	PRINT S2
	PRINTI " body.]"
	CRLF
	.DEBUG-LINE 12,351,1
	RETURN 2
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-POCKET"
	.FUNCT RT-AC-TH-POCKET
	.DEBUG-LINE 12,354,1
	EQUAL? GL-PRSA,V?PUT \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	EQUAL? GL-PRSO,TH-PADDLE,TH-MACE,TH-ANCHOR /?L3
	EQUAL? GL-PRSO,TH-LAMP,TH-VIOLIN,TH-PACKET-OF-PAPER /?L3
	EQUAL? GL-PRSO,TH-SUIT-OF-ARMOUR,TH-OAR-1,TH-OAR-2 /?L3
	EQUAL? GL-PRSO,TH-TORCH,TH-WAX-AX,TH-WAX-HEAD \FALSE
	.DEBUG-LINE 12,368,1
?L3:	CALL2 RT-CANT-PUT-IN-ON-MSG,TH-POCKET >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GUN","CONTEXT"
	.FUNCT RT-AC-TH-GUN,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,372,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,373,1
	.DEBUG-LINE 12,374,1
	PRINTR "The gun is a six-shot revolver."
	.DEBUG-LINE 12,375,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,376,1
	EQUAL? GL-PRSA,V?OPEN,V?LOOK-INSIDE,V?SEARCH \FALSE
	.DEBUG-LINE 12,377,1
	.DEBUG-LINE 12,378,1
	PRINTR "The gun is jammed shut. You can't open it."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-KNIFE","CONTEXT"
	.FUNCT RT-AC-TH-KNIFE,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,384,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,385,1
	.DEBUG-LINE 12,386,1
	PRINTR "It's a nasty-looking jackknife."
	.DEBUG-LINE 12,387,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,389,1
	EQUAL? GL-PRSA,V?CUT \?L4
	.DEBUG-LINE 12,390,1
	FSET? TH-KNIFE,FL-OPENED /FALSE
	.DEBUG-LINE 12,391,1
	ICALL2 RT-CTHEO-PRINT,TH-KNIFE
	PRINTR " isn't open."
	.DEBUG-LINE 12,392,1
?L4:	EQUAL? GL-PRSA,V?TAKE \FALSE
	.DEBUG-LINE 12,393,1
	SET 'KNIFE-COLD?,0
	.DEBUG-LINE 12,394,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MAGNIFYING-GLASS","CONTEXT"
	.FUNCT RT-AC-TH-MAGNIFYING-GLASS,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 12,400,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,401,1
	.DEBUG-LINE 12,402,1
	PRINTR "It is of Swiss manufacture, with a precision-ground lens."
	.DEBUG-LINE 12,403,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,404,1
	EQUAL? GL-PRSO,TH-SAPPHIRE,TH-EMERALD,TH-OPAL /FALSE
	EQUAL? GL-PRSO,TH-RUBY,TH-TOPAZ,TH-GARNET /FALSE
	EQUAL? GL-PRSO,TH-WESTMINSTER-CLUE,TH-JEWEL-CASE /FALSE
	.DEBUG-LINE 12,407,1
	SET 'GL-P-IT-OBJECT,TH-MAGNIFYING-GLASS
	.DEBUG-LINE 12,408,1
	ZERO? GL-NOW-PRSI? /?L7
	.DEBUG-LINE 12,409,1
	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	.DEBUG-LINE 12,410,1
	IN? GL-PRSI,CH-PLAYER /?L11
	.DEBUG-LINE 12,411,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?216,GL-PRSI
	.DEBUG-LINE 12,412,1
	RTRUE
	.DEBUG-LINE 12,413,1
?L11:	EQUAL? GL-PRSO,TH-MAGNIFYING-GLASS \?L13
	.DEBUG-LINE 12,414,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,415,1
	RTRUE
	.DEBUG-LINE 12,416,1
?L13:	EQUAL? GL-LASTFOC,GL-PRSO /?L14
	.DEBUG-LINE 12,417,1
	SET 'GL-LASTFOC,GL-PRSO
	.DEBUG-LINE 12,418,1
	PRINTI "You train the magnifying glass on "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,419,1
?L14:	FSET? GL-PRSO,FL-PLURAL \?L16
	FSET? GL-PRSO,FL-COLLECTIVE /?L16
	.DEBUG-LINE 12,421,1
	PRINTI "They appear "
	JUMP ?L20
	.DEBUG-LINE 12,422,1
?L16:	FSET? GL-PRSO,FL-PERSON \?L19
	FSET? GL-PRSO,FL-FEMALE \?L18
	.DEBUG-LINE 12,424,1
	PRINTI "She appears "
	JUMP ?L20
	.DEBUG-LINE 12,425,1
?L18:	FSET? GL-PRSO,FL-PERSON \?L19
	FSET? GL-PRSO,FL-FEMALE /?L19
	.DEBUG-LINE 12,427,1
	PRINTI "He appears "
	JUMP ?L20
	.DEBUG-LINE 12,429,1
?L19:	PRINTI "It appears "
	.DEBUG-LINE 12,430,1
	.DEBUG-LINE 12,431,1
?L20:	PRINTR "much larger now."
	.DEBUG-LINE 12,434,1
?L7:	EQUAL? GL-PRSA,V?SHOOT \?L22
	.DEBUG-LINE 12,435,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,436,1
?L22:	EQUAL? GL-PRSA,V?LOOK-INSIDE \?L23
	.DEBUG-LINE 12,437,1
	.DEBUG-LINE 12,438,1
	PRINTR "Everything appears much larger."
	.DEBUG-LINE 12,439,1
?L23:	EQUAL? GL-PRSA,V?ADJUST,V?PLAY \FALSE
	.DEBUG-LINE 12,440,1
	.DEBUG-LINE 12,441,1
	PRINTR "You cannot adjust a magnifying glass."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-VIOLIN","CONTEXT","WHO"
	.FUNCT RT-AC-TH-VIOLIN,CONTEXT,WHO
	ASSIGNED? 'CONTEXT /?L18
	SET 'CONTEXT,0
	.DEBUG-LINE 12,450,1
?L18:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,451,1
	PRINTR "It is a Stradivarius violin of exceptional quality."
	.DEBUG-LINE 12,452,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,453,1
	EQUAL? GL-PRSA,V?PLAY \FALSE
	.DEBUG-LINE 12,454,1
	IN? TH-VIOLIN,GL-WINNER /?L5
	.DEBUG-LINE 12,455,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,456,1
	PRINTI "not holding "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 12,457,1
	PRINTR "."
	.DEBUG-LINE 12,458,1
?L5:	ICALL2 SOUNDS,S-BADVIOL
	.DEBUG-LINE 12,459,1
	IN? TH-PHIAL,CH-HOLMES \?L8
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L8
	.DEBUG-LINE 12,461,1
	PRINTI "Even the grotesque noises"
	.DEBUG-LINE 12,462,1
	ICALL RT-YOU-MSG,STR?218,STR?217
	.DEBUG-LINE 12,463,1
	.DEBUG-LINE 12,465,1
	PRINTR "with the violin aren't enough to distract Holmes's attention from the phial."
	.DEBUG-LINE 12,466,1
?L8:	CALL1 RT-ANYONE-HERE? >WHO
	.DEBUG-LINE 12,467,1
	ZERO? WHO /?L11
	.DEBUG-LINE 12,468,1
	FSET WHO,FL-ASLEEP
	.DEBUG-LINE 12,469,1
	CALL1 RT-ANYONE-HERE? >STACK
	ZERO? STACK /?L13
	.DEBUG-LINE 12,470,1
	PRINTI "Everyone"
	JUMP ?L15
	.DEBUG-LINE 12,472,1
?L13:	ICALL2 RT-CTHEO-PRINT,WHO
	.DEBUG-LINE 12,473,1
?L15:	FCLEAR WHO,FL-ASLEEP
	.DEBUG-LINE 12,474,1
	PRINTI " grimace"
	.DEBUG-LINE 12,475,1
	ICALL2 RT-S-NOS-MSG,WHO
	.DEBUG-LINE 12,476,1
	PRINTI " in pain and glare"
	.DEBUG-LINE 12,477,1
	ICALL2 RT-S-NOS-MSG,WHO
	.DEBUG-LINE 12,478,1
	PRINTR " at you."
	.DEBUG-LINE 12,480,1
?L11:	PRINTR "Even you cannot abide the grotesque screeches that emanate from the tortured instrument, so you quickly stop."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PHIAL","HITS"
	.FUNCT RT-AC-TH-PHIAL,HITS
	.DEBUG-LINE 12,486,1
	EQUAL? GL-PRSA,V?SHOOT \?L1
	.DEBUG-LINE 12,487,1
	SET 'HITS,TH-PHIAL-AUX1
	.DEBUG-LINE 12,488,1
	ADD 1,HITS >TH-PHIAL-AUX1
	.DEBUG-LINE 12,489,1
	ZERO? HITS \?L3
	.DEBUG-LINE 12,490,1
	PRINTI "Nice shot! The phial explodes. You hear a muffled scream from downstairs as Mrs Hudson lets out a shriek."
	CRLF
	CRLF
	PRINT K-HOLMES-LICKS-MSG
	PRINTI "eyes begin to cloud over from the small dose you have caused him to take."
	CRLF
	CRLF
	PRINT K-ANOTHER-PHIAL-MSG
	.DEBUG-LINE 12,496,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,497,1
?L3:	EQUAL? 1,HITS \?L5
	.DEBUG-LINE 12,498,1
	PRINTI "The phial explodes. From downstairs you hear a dull thud as Mrs Hudson faints and hits the floor."
	CRLF
	CRLF
	PRINT K-HOLMES-LICKS-MSG
	PRINTI "body stiffens as the increased dosage of the drug enters his system."
	CRLF
	CRLF
	PRINT K-ANOTHER-PHIAL-MSG
	CRLF
	CRLF
	.DEBUG-LINE 12,504,1
	PRINTR "As a doctor, you know that another dose may be fatal."
	.DEBUG-LINE 12,505,1
?L5:	EQUAL? 2,HITS \FALSE
	.DEBUG-LINE 12,506,1
	PRINTI "That persistent, are you? Too bad. The chill you caught from the damp air outside causes you to sneeze just as you pull the trigger. You have shot and killed Sherlock Holmes."
	CRLF
	CRLF
	PRINTI "Inspector Lestrade appears at the door and says,"
	PRINT K-PLUG-HIM-MYSELF-MSG
	CRLF
	CRLF
	PRINT K-LESTRADE-ARRESTS-MSG
	CRLF
	CRLF
	.DEBUG-LINE 12,512,1
	ICALL1 RT-QSR
	RFALSE
	.DEBUG-LINE 12,513,1
?L1:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,514,1
	ICALL2 RT-HOLMES-HITS,TH-PHIAL
	.DEBUG-LINE 12,515,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HOLMES-HITS","THING"
	.FUNCT RT-HOLMES-HITS,THING
	.DEBUG-LINE 12,519,1
	PRINTI "Holmes is faster than you are. He moves "
	ICALL2 RT-THEO-PRINT,THING
	PRINTI " beyond your reach and absentmindedly hits you on the head with his free hand."
	CRLF
	CRLF
	PRINTR "Holmes continues staring at the phial."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GREEN-PAPER"
	.FUNCT RT-AC-TH-GREEN-PAPER
	.DEBUG-LINE 12,527,1
	CALL2 RT-PROCESS-PAPER,TH-GREEN-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WHITE-PAPER"
	.FUNCT RT-AC-TH-WHITE-PAPER
	.DEBUG-LINE 12,531,1
	CALL2 RT-PROCESS-PAPER,TH-WHITE-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BLUE-PAPER"
	.FUNCT RT-AC-TH-BLUE-PAPER
	.DEBUG-LINE 12,535,1
	CALL2 RT-PROCESS-PAPER,TH-BLUE-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ORANGE-PAPER"
	.FUNCT RT-AC-TH-ORANGE-PAPER
	.DEBUG-LINE 12,539,1
	CALL2 RT-PROCESS-PAPER,TH-ORANGE-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-YELLOW-PAPER"
	.FUNCT RT-AC-TH-YELLOW-PAPER
	.DEBUG-LINE 12,543,1
	CALL2 RT-PROCESS-PAPER,TH-YELLOW-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BROWN-PAPER"
	.FUNCT RT-AC-TH-BROWN-PAPER
	.DEBUG-LINE 12,547,1
	CALL2 RT-PROCESS-PAPER,TH-BROWN-PAPER >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ELIZABETH-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-ELIZABETH-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,551,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,552,1
	PRINTR "The tomb is that of Elizabeth and her half-sister, Mary Tudor. It is surrounded by twelve black marble pillars, and on the base is an inscription."
	.DEBUG-LINE 12,556,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,558,1
	CALL2 RT-PROCESS-TOMB,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NEWTON-TOMB","CONTEXT","CLASS","WRD"
	.FUNCT RT-AC-TH-NEWTON-TOMB,CONTEXT,CLASS,WRD
	ASSIGNED? 'CONTEXT /?L23
	SET 'CONTEXT,0
?L23:	ASSIGNED? 'CLASS /?L24
	SET 'CLASS,0
	.DEBUG-LINE 12,562,1
?L24:	GETP TH-NEWTON-TOMB,P?OBJ-NOUN >WRD
	EQUAL? WRD,W?STATUE \?L1
	.DEBUG-LINE 12,564,1
	EQUAL? CONTEXT,K-M-SDESC \?L3
	.DEBUG-LINE 12,568,1
	XCALL PRINT-SDESC,STR?219,CLASS,0,0 >STACK
	RSTACK
	.DEBUG-LINE 12,570,1
?L3:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,571,1
	PRINTR "The great mathematician is shown reclining in a pensive mood."
	.DEBUG-LINE 12,574,1
?L1:	EQUAL? WRD,W?CHERUB,W?ANGEL,W?CHERUBS /?L8
	EQUAL? WRD,W?ANGELS \?L7
	.DEBUG-LINE 12,575,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L9
	.DEBUG-LINE 12,576,1
	XCALL PRINT-SDESC,STR?220,CLASS,0,1 >STACK
	RSTACK
	.DEBUG-LINE 12,577,1
?L9:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,578,1
	PRINTR "Cute, aren't they?"
	.DEBUG-LINE 12,581,1
?L7:	EQUAL? WRD,W?DIAGRAM,W?SYSTEM \?L13
	.DEBUG-LINE 12,582,1
	EQUAL? CONTEXT,K-M-SDESC \FALSE
	.DEBUG-LINE 12,583,1
	XCALL PRINT-SDESC,STR?221,CLASS,0,0 >STACK
	RSTACK
	.DEBUG-LINE 12,587,1
?L13:	EQUAL? CONTEXT,K-M-SDESC \?L18
	.DEBUG-LINE 12,588,1
	XCALL PRINT-SDESC,STR?222,CLASS,1,0 >STACK
	RSTACK
	.DEBUG-LINE 12,589,1
?L18:	EQUAL? CONTEXT,K-M-DESCFCN \?L20
	.DEBUG-LINE 12,590,1
	PRINTR "It's a white marble sarcophagus with ""ISAACVS NEWTON   Eques Auratus"" written on the front. Above it is a marble statue of Newton, and a carving of two cherubs who are holding a diagram of the solar system."
	.DEBUG-LINE 12,594,1
?L20:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,596,1
	CALL2 RT-PROCESS-TOMB,2 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRINT-SDESC","BASE","CLASS","NOART?","PLURAL?","VOWEL?","PRINTB?","IS"
	.FUNCT PRINT-SDESC,BASE,CLASS,NOART?,PLURAL?,VOWEL?,PRINTB?,IS
	ASSIGNED? 'VOWEL? /?L19
	SET 'VOWEL?,0
?L19:	ASSIGNED? 'PRINTB? /?L20
	SET 'PRINTB?,0
?L20:	SET 'IS,0
	.DEBUG-LINE 12,601,1
	ZERO? NOART? \?L1
	.DEBUG-LINE 12,602,1
	EQUAL? CLASS,K-DESC-ANY \?L3
	.DEBUG-LINE 12,603,1
	SET 'IS,STR?223
	JUMP ?L11
	.DEBUG-LINE 12,604,1
?L3:	EQUAL? CLASS,K-DESC-THE /?L6
	ZERO? PLURAL? /?L7
	.DEBUG-LINE 12,606,1
?L6:	SET 'IS,STR?224
	JUMP ?L11
	.DEBUG-LINE 12,610,1
?L7:	ZERO? VOWEL? /?L9
	.DEBUG-LINE 12,611,1
	SET 'IS,STR?226
	JUMP ?L11
	.DEBUG-LINE 12,613,1
?L9:	SET 'IS,STR?227
	.DEBUG-LINE 12,614,1
?L11:	ZERO? IS /?L12
	.DEBUG-LINE 12,614,1
	PRINT IS
	.DEBUG-LINE 12,615,1
?L12:	PRINTC 32
	.DEBUG-LINE 12,616,1
?L1:	ZERO? PRINTB? /?L16
	.DEBUG-LINE 12,617,1
	PRINTB BASE
	RTRUE
	.DEBUG-LINE 12,619,1
?L16:	PRINT BASE
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-HENRY-V-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-HENRY-V-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,623,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,624,1
	PRINTR "It's an old wooden coffin on a raised platform. On the top is an effigy of Henry V, and there is an inscription carved into the side."
	.DEBUG-LINE 12,627,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,629,1
	CALL2 RT-PROCESS-TOMB,3 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-EDWARD-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-EDWARD-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,633,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,634,1
	PRINTR "It's the tomb of Edward the Confessor, the founder of Westminster Abbey, and the only English king ever to be canonized. Around the tomb is a frieze that shows scenes from Edward's life, and on the base there is a faded inscription."
	.DEBUG-LINE 12,639,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,641,1
	CALL2 RT-PROCESS-TOMB,4 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-POPE-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-POPE-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,645,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,646,1
	PRINT K-SIMPLE-TOMB-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,647,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,649,1
	CALL2 RT-PROCESS-TOMB,5 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-DICKENS-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-DICKENS-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,653,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,654,1
	PRINT K-SIMPLE-TOMB-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,655,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,657,1
	CALL2 RT-PROCESS-TOMB,6 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CHAUCER-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-CHAUCER-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,661,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,662,1
	PRINTR "It's the tomb of Geoffrey Chaucer, who died in 1400 and became the first person to be buried in Poet's Corner. The inscription above the sarcophagus is so faded that it is almost illegible."
	.DEBUG-LINE 12,666,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,668,1
	CALL2 RT-PROCESS-TOMB,7 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ANNE-OF-CLEVES-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-ANNE-OF-CLEVES-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,672,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,673,1
	PRINT K-SIMPLE-TOMB-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,674,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,676,1
	CALL2 RT-PROCESS-TOMB,8 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LITTLE-PRINCES-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-LITTLE-PRINCES-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,680,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,681,1
	PRINTR "According to the inscription, the urn contains the remains of the Little Princes in the Tower."
	.DEBUG-LINE 12,684,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,686,1
	CALL2 RT-PROCESS-TOMB,9 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MARY-QUEEN-OF-SCOTS-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-MARY-QUEEN-OF-SCOTS-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,690,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,691,1
	PRINTR "The tomb is a simple sarcophagus with a marble effigy of Mary, Queen of Scots on it."
	.DEBUG-LINE 12,694,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,696,1
	CALL2 RT-PROCESS-TOMB,10 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-HENRY-VII-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-HENRY-VII-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,700,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,701,1
	PRINTR "It's an incredibly lavish tomb which is surmounted by gilt effigies of Henry VII and his wife Elizabeth of York."
	.DEBUG-LINE 12,704,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,707,1
	CALL2 RT-PROCESS-TOMB,11 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PITT-TOMB","CONTEXT"
	.FUNCT RT-AC-TH-PITT-TOMB,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 12,711,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,712,1
	PRINTI "It's a huge monument to William Pitt. On the base of the monument are five "
	ICALL2 DPRINT,TH-FIGURES
	PRINTR " and an elaborate inscription."
	.DEBUG-LINE 12,715,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,718,1
	CALL2 RT-PROCESS-TOMB,12 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-FIGURES","CONTEXT"
	.FUNCT RT-AC-TH-FIGURES,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,722,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,723,1
	PRINTR "You've never understood allegorical figures before. What makes you think you can start now?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-VERE-TOMB","CONTEXT","CLASS","CAP?","WRD"
	.FUNCT RT-AC-TH-VERE-TOMB,CONTEXT,CLASS,CAP?,WRD
	ASSIGNED? 'CONTEXT /?L16
	SET 'CONTEXT,0
?L16:	ASSIGNED? 'CLASS /?L17
	SET 'CLASS,0
?L17:	ASSIGNED? 'CAP? /?L18
	SET 'CAP?,0
	.DEBUG-LINE 12,730,1
?L18:	GETP TH-VERE-TOMB,P?OBJ-NOUN >WRD
	EQUAL? WRD,W?KNIGHT,W?KNIGHTS \?L1
	.DEBUG-LINE 12,731,1
	EQUAL? CONTEXT,K-M-SDESC \FALSE
	.DEBUG-LINE 12,732,1
	XCALL PRINT-SDESC,STR?228,CLASS,0,1 >STACK
	RSTACK
	.DEBUG-LINE 12,735,1
?L1:	EQUAL? WRD,W?SUIT,W?ARMOUR,W?ARMOR \?L6
	.DEBUG-LINE 12,736,1
	EQUAL? CONTEXT,K-M-SDESC \?L7
	.DEBUG-LINE 12,737,1
	XCALL PRINT-SDESC,STR?229,CLASS,0,0,1 >STACK
	RSTACK
	.DEBUG-LINE 12,738,1
?L7:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,739,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,740,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,741,1
?L6:	EQUAL? CONTEXT,K-M-SDESC \?L12
	.DEBUG-LINE 12,742,1
	XCALL PRINT-SDESC,STR?230,CLASS,1,0 >STACK
	RSTACK
	.DEBUG-LINE 12,743,1
?L12:	EQUAL? CONTEXT,K-M-DESCFCN \?L13
	.DEBUG-LINE 12,744,1
	PRINTR "It's an effigy of a man surrounded by four knights, who are holding up a marble slab on their shoulders. On the slab is the dead man's armour."
	.DEBUG-LINE 12,747,1
?L13:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,749,1
	CALL2 RT-PROCESS-TOMB,13 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LAMP","CONTEXT"
	.FUNCT RT-AC-TH-LAMP,CONTEXT
	ASSIGNED? 'CONTEXT /?L36
	SET 'CONTEXT,0
	.DEBUG-LINE 12,753,1
?L36:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,754,1
	PRINTR "It is a battered old brass lamp that has accompanied you on many adventures in the past."
	.DEBUG-LINE 12,756,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,757,1
	ZERO? GL-NOW-PRSI? /?L4
	.DEBUG-LINE 12,758,1
	EQUAL? GL-PRSA,V?THROW \?L5
	.DEBUG-LINE 12,759,1
	CALL2 GET-MASS,GL-PRSO >STACK
	GRTR? STACK,5 \FALSE
	.DEBUG-LINE 12,760,1
	ICALL1 RT-BREAK-LAMP
	.DEBUG-LINE 12,761,1
	CRLF
	ICALL1 RT-CTHEO-PRINT
	PRINTI " "
	.DEBUG-LINE 12,762,1
	ICALL1 RT-LANDS-AT-YOUR-FEET-MSG
	.DEBUG-LINE 12,763,1
	RTRUE
	.DEBUG-LINE 12,764,1
?L5:	EQUAL? GL-PRSA,V?PUT \FALSE
	.DEBUG-LINE 12,765,1
	CALL1 RT-LAMP-SEALED >STACK
	RSTACK
	.DEBUG-LINE 12,767,1
?L4:	EQUAL? GL-PRSA,V?SHOOT,V?KICK,V?MUNG \?L13
	.DEBUG-LINE 12,768,1
	CALL1 RT-BREAK-LAMP >STACK
	RSTACK
	.DEBUG-LINE 12,769,1
?L13:	EQUAL? GL-PRSA,V?OPEN,V?CLOSE,V?OPEN-WITH /?L16
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH,V?REACH-IN /?L16
	EQUAL? GL-PRSA,V?EMPTY,V?EMPTY-INTO \?L15
	.DEBUG-LINE 12,771,1
?L16:	CALL1 RT-LAMP-SEALED >STACK
	RSTACK
	.DEBUG-LINE 12,772,1
?L15:	EQUAL? GL-PRSA,V?LAMP-ON,V?LIGHT-WITH,V?TURN-UP /?L18
	EQUAL? GL-PRSA,V?LIGHT \?L17
	.DEBUG-LINE 12,773,1
?L18:	FSET? TH-LAMP,FL-BROKEN \?L19
	.DEBUG-LINE 12,774,1
	FCLEAR TH-LAMP,FL-ASLEEP
	.DEBUG-LINE 12,775,1
	PRINTR "Nothing happens."
	.DEBUG-LINE 12,776,1
?L19:	FSET? TH-LAMP,FL-ASLEEP /?L21
	.DEBUG-LINE 12,777,1
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " is already on."
	.DEBUG-LINE 12,779,1
?L21:	FCLEAR TH-LAMP,FL-ASLEEP
	.DEBUG-LINE 12,780,1
	FSET TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 12,781,1
	PRINTI "You turn up the wick. "
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " emits a warm glow that lights up the area around you."
	.DEBUG-LINE 12,783,1
?L17:	EQUAL? GL-PRSA,V?LAMP-OFF,V?TURN-DOWN \?L23
	.DEBUG-LINE 12,784,1
	FSET? TH-LAMP,FL-ASLEEP \?L24
	.DEBUG-LINE 12,785,1
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " is already off."
	.DEBUG-LINE 12,786,1
?L24:	FSET? TH-LAMP,FL-BROKEN \?L26
	.DEBUG-LINE 12,787,1
	FSET TH-LAMP,FL-ASLEEP
	.DEBUG-LINE 12,788,1
	PRINTR "Nothing happens."
	.DEBUG-LINE 12,790,1
?L26:	FSET TH-LAMP,FL-ASLEEP
	.DEBUG-LINE 12,791,1
	FCLEAR TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 12,792,1
	PRINTI "You turn down the wick. "
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " goes dark."
	.DEBUG-LINE 12,794,1
?L23:	EQUAL? GL-PRSA,V?POINT-AT,V?SHINE-AT \FALSE
	.DEBUG-LINE 12,795,1
	FSET? TH-LAMP,FL-LIGHTED \?L29
	.DEBUG-LINE 12,796,1
	EQUAL? GL-PRSO,GL-PRSI \?L31
	.DEBUG-LINE 12,797,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,798,1
	PRINTR "can't point the light at itself."
	.DEBUG-LINE 12,800,1
?L31:	PRINTI "You point "
	ICALL2 RT-THEO-PRINT,TH-LAMP
	PRINTI " at "
	ICALL1 RT-THEI-PRINT
	PRINTR ", but it reveals nothing."
	.DEBUG-LINE 12,802,1
?L29:	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " is not on."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LAMP-SEALED"
	.FUNCT RT-LAMP-SEALED
	.DEBUG-LINE 12,805,1
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " is firmly sealed. It can neither be opened nor closed."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-BREAK-LAMP"
	.FUNCT RT-BREAK-LAMP
	.DEBUG-LINE 12,809,1
	FSET? TH-LAMP,FL-BROKEN /?L1
	.DEBUG-LINE 12,810,1
	FSET TH-LAMP,FL-BROKEN
	.DEBUG-LINE 12,811,1
	PRINTI "It sounds as if something in "
	ICALL2 RT-THEO-PRINT,TH-LAMP
	PRINTI " has shattered."
	.DEBUG-LINE 12,812,1
	FSET? TH-LAMP,FL-LIGHTED \?L3
	.DEBUG-LINE 12,813,1
	FCLEAR TH-LAMP,FL-LIGHTED
	.DEBUG-LINE 12,814,1
	PRINTI " "
	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTI " has gone out."
	.DEBUG-LINE 12,815,1
?L3:	CRLF
	RTRUE
	.DEBUG-LINE 12,817,1
?L1:	ICALL2 RT-CTHEO-PRINT,TH-LAMP
	PRINTR " is already broken."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BLACK-BAG","CONTEXT"
	.FUNCT RT-AC-TH-BLACK-BAG,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,821,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,822,1
	PRINTR "It's the black medical bag your aunt gave you when you graduated from medical school."
	.DEBUG-LINE 12,825,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,826,1
	EQUAL? GL-PRSA,V?PUT \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	EQUAL? GL-PRSO,TH-PADDLE,TH-MACE,TH-ANCHOR /?L5
	EQUAL? GL-PRSO,TH-PACKET-OF-PAPER,TH-SUIT-OF-ARMOUR,TH-OAR-1 /?L5
	EQUAL? GL-PRSO,TH-OAR-2,TH-TORCH,TH-WAX-AX /?L5
	EQUAL? GL-PRSO,TH-LAMP,TH-VIOLIN,TH-WAX-HEAD \FALSE
	.DEBUG-LINE 12,840,1
?L5:	PRINTI "You look at "
	ICALL1 RT-THEO-PRINT
	PRINTI ". You look at the tiny bag. You look at the tiny bag. You look at "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 12,843,1
	PRINTR ". Slowly it dawns on you that it's just not going to work."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CHARLES-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-CHARLES-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,847,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,848,1
	FSET TH-WAX-AX,FL-SEEN
	.DEBUG-LINE 12,849,1
	IN? TH-WAX-HEAD,TH-CHARLES-STATUE \?L4
	.DEBUG-LINE 12,850,1
	PRINTI "Charles I is shown kneeling, with his head resting on a chopping block. Above him stands a masked executioner"
	.DEBUG-LINE 12,853,1
	IN? TH-WAX-AX,TH-CHARLES-STATUE \?L6
	.DEBUG-LINE 12,854,1
	PRINTI ", with his axe held high over his head, ready to strike the deathblow"
	.DEBUG-LINE 12,856,1
?L6:	PRINTR "."
	.DEBUG-LINE 12,858,1
?L4:	PRINTR "The statue looks grotesque without the head."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WILLIAM-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-WILLIAM-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,862,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,863,1
	PRINTR "The statue is of William the Conqueror kneeling on the sand at Pevensey, where he landed before the Battle of Hastings in 1066."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WALTER-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-WALTER-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,869,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,870,1
	PRINTR "The sculpture shows Sir Walter Raleigh spreading his cloak across a mud puddle so Elizabeth could walk across without dirtying her shoes."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ELIZABETH-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-ELIZABETH-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,877,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,878,1
	PRINTR "She is smiling at Sir Walter."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-THOMAS-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-THOMAS-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,882,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,883,1
	PRINTR "The sculpture shows four knights with swords drawn, advancing on Thomas Becket as he stands before the High Altar of Canterbury Cathedral."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-DRAKE-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-DRAKE-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,890,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,891,1
	PRINTR "The statue is of Sir Francis Drake finishing his game of bowls before sailing off to defeat the Spanish Armada."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-JOHN-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-JOHN-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,897,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,898,1
	PRINTR "King John is depicted signing the Magna Carta in the meadow at Runnymede in June of 1215."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-FAWKES-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-FAWKES-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,904,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,905,1
	PRINTI "The statue depicts Guy Fawkes crouched behind some barrels of gunpowder. He is awaiting the signal to light his torch and set off the trail of gunpowder that will blow up Parliament"
	.DEBUG-LINE 12,909,1
	IN? TH-TORCH,TH-FAWKES-STATUE \?L4
	.DEBUG-LINE 12,912,1
	PRINTI ". The torch he holds looks like a real one"
	JUMP ?L6
	.DEBUG-LINE 12,914,1
?L4:	PRINTI " - but he seems to be missing the torch"
	.DEBUG-LINE 12,915,1
?L6:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NELSON-COLUMN","CONTEXT"
	.FUNCT RT-AC-TH-NELSON-COLUMN,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,919,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,920,1
	PRINTI "The column has"
	PRINT K-NELSON-STATUE-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BOAT","CONTEXT","NUM"
	.FUNCT RT-AC-TH-BOAT,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L63
	SET 'CONTEXT,0
	.DEBUG-LINE 12,924,1
?L63:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,925,1
	PRINTI "It's an incredibly old rowboat that "
	.DEBUG-LINE 12,926,1
	IN? TH-OAR-1,TH-BOAT \?L3
	IN? TH-OAR-2,TH-OAR-LOCK /?L3
	.DEBUG-LINE 12,928,1
	PRINTI "has one empty oarlock and "
	.DEBUG-LINE 12,929,1
?L3:	PRINTI "probably leaks. But it looks as if it might float"
	.DEBUG-LINE 12,930,1
	IN? TH-BOAT,RM-THE-EMBANKMENT /?L6
	IN? TH-BOAT,RM-OUTSIDE-TRAITORS-GATE /?L6
	.DEBUG-LINE 12,932,1
	PRINTI " a little while longer"
	.DEBUG-LINE 12,933,1
?L6:	PRINTI ". The boat's anchor is in the "
	.DEBUG-LINE 12,934,1
	IN? TH-ANCHOR,TH-BOAT \?L9
	.DEBUG-LINE 12,935,1
	PRINTI "boat"
	JUMP ?L11
	.DEBUG-LINE 12,937,1
?L9:	PRINTI "water"
	.DEBUG-LINE 12,938,1
?L11:	PRINTI "."
	CRLF
	.DEBUG-LINE 12,939,1
	RETURN 2
	.DEBUG-LINE 12,940,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,941,1
	EQUAL? GL-PRSA,V?PUSH-TO \?L13
	EQUAL? GL-PRSI,LG-WATER \?L13
	.DEBUG-LINE 12,942,1
	ICALL1 RT-LAUNCH-BOAT
	.DEBUG-LINE 12,943,1
	RTRUE
	.DEBUG-LINE 12,944,1
?L13:	EQUAL? GL-PRSA,V?ENTER \?L14
	EQUAL? GL-PRSO,ROOMS,TH-BOAT \?L14
	.DEBUG-LINE 12,945,1
	IN? CH-PLAYER,TH-BOAT /FALSE
	.DEBUG-LINE 12,946,1
	ZERO? GL-PUPPY /?L17
	EQUAL? GL-WINNER,CH-PLAYER \?L17
	.DEBUG-LINE 12,948,1
	MOVE GL-PUPPY,TH-BOAT
	.DEBUG-LINE 12,949,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L19
	.DEBUG-LINE 12,951,1
?L17:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 12,952,1
?L19:	PRINTI "into the boat."
	CRLF
	.DEBUG-LINE 12,953,1
	MOVE CH-PLAYER,TH-BOAT
	.DEBUG-LINE 12,954,1
	ZERO? GL-PUPPY /?L20
	.DEBUG-LINE 12,955,1
	MOVE GL-PUPPY,TH-BOAT
	.DEBUG-LINE 12,956,1
?L20:	FSET TH-BOAT,FL-NODESC
	.DEBUG-LINE 12,957,1
	RTRUE
	.DEBUG-LINE 12,958,1
?L14:	EQUAL? GL-PRSA,V?EXIT \?L24
	EQUAL? GL-PRSO,ROOMS,TH-BOAT \?L24
	.DEBUG-LINE 12,959,1
	IN? CH-PLAYER,TH-BOAT \FALSE
	.DEBUG-LINE 12,960,1
	MOVE CH-PLAYER,GL-PLACE-CUR
	.DEBUG-LINE 12,961,1
	ZERO? GL-PUPPY /?L27
	.DEBUG-LINE 12,962,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 12,963,1
?L27:	FCLEAR TH-BOAT,FL-NODESC
	.DEBUG-LINE 12,964,1
	SET 'NUM,TH-BOAT-AUX1
	.DEBUG-LINE 12,965,1
	LOC TH-OPAL >STACK
	ZERO? STACK /?L30
	IN? TH-BOAT,RM-THE-EMBANKMENT \?L30
	ZERO? NUM \?L30
	.DEBUG-LINE 12,968,1
	PRINTI "As"
	.DEBUG-LINE 12,969,1
	ZERO? GL-PUPPY /?L32
	EQUAL? GL-WINNER,CH-PLAYER \?L32
	.DEBUG-LINE 12,971,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 12,972,1
	PRINTI " you and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L34
	.DEBUG-LINE 12,974,1
?L32:	ICALL RT-YOU-MSG,STR?232,STR?231
	.DEBUG-LINE 12,975,1
?L34:	PRINTI "out of the boat, a man storms up to you and says, ""What in bloody 'ell are you doing with my boat?"" Without waiting for a reply he "
	.DEBUG-LINE 12,978,1
	IN? TH-OAR-2,TH-BOAT /?L37
	IN? TH-OAR-2,RM-THE-EMBANKMENT /?L37
	CALL RT-META-IN?,TH-OAR-2,CH-PLAYER >STACK
	ZERO? STACK \?L37
	CALL RT-META-IN?,TH-OAR-2,GL-PUPPY >STACK
	ZERO? STACK /?L35
	.DEBUG-LINE 12,982,1
?L37:	PRINTI "grabs the oar, "
	.DEBUG-LINE 12,983,1
?L35:	MOVE TH-BOAT,RM-OUTSIDE-TRAITORS-GATE
	.DEBUG-LINE 12,984,1
	MOVE TH-ANCHOR,LG-WATER
	.DEBUG-LINE 12,985,1
	REMOVE TH-OAR-1
	.DEBUG-LINE 12,986,1
	REMOVE TH-OAR-2
	.DEBUG-LINE 12,987,1
	SET 'TH-BOAT-AUX1,1
	.DEBUG-LINE 12,988,1
	PRINTR "jumps into the boat and rows off, muttering to himself that he'll have to find a safer place to keep it."
	.DEBUG-LINE 12,991,1
?L30:	FSET? TH-GARNET,FL-TOUCHED \?L39
	IN? TH-BOAT,RM-THE-EMBANKMENT \?L39
	EQUAL? NUM,1 \?L39
	.DEBUG-LINE 12,994,1
	PRINTI "As"
	.DEBUG-LINE 12,995,1
	ZERO? GL-PUPPY /?L40
	EQUAL? GL-WINNER,CH-PLAYER \?L40
	.DEBUG-LINE 12,997,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 12,998,1
	PRINTI " you and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L42
	.DEBUG-LINE 12,1000,1
?L40:	ICALL RT-YOU-MSG,STR?232,STR?231
	.DEBUG-LINE 12,1001,1
?L42:	PRINTI "out of the boat, its red-faced owner runs up and yells, ""You again?!!"" He gives you a swift kick in the rear"
	.DEBUG-LINE 12,1004,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L43
	.DEBUG-LINE 12,1005,1
	PRINTI ", then clutches his foot in agony as it bounces off your suit of armour"
	.DEBUG-LINE 12,1007,1
?L43:	PRINTI "."
	CRLF
	CRLF
	PRINTI "The man jumps into the boat"
	.DEBUG-LINE 12,1009,1
	IN? TH-PADDLE,TH-BOAT \?L46
	.DEBUG-LINE 12,1010,1
	PRINTI " and paddles away, cursing under his breath."
	CRLF
	JUMP ?L48
	.DEBUG-LINE 12,1013,1
?L46:	PRINTI ", launches it, and suddenly realizes he has no way to steer it. The last you see of him, he is drifting down the Thames, screaming and shaking his fist at you."
	CRLF
	.DEBUG-LINE 12,1017,1
?L48:	REMOVE TH-BOAT
	.DEBUG-LINE 12,1018,1
	SET 'TH-BOAT-AUX1,2
	RTRUE
	.DEBUG-LINE 12,1019,1
?L39:	IN? TH-ANCHOR,TH-BOAT \?L49
	.DEBUG-LINE 12,1020,1
	PRINTI "As"
	.DEBUG-LINE 12,1021,1
	ZERO? GL-PUPPY /?L50
	EQUAL? GL-WINNER,CH-PLAYER \?L50
	.DEBUG-LINE 12,1023,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 12,1024,1
	PRINTI " you and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L52
	.DEBUG-LINE 12,1026,1
?L50:	ICALL RT-YOU-MSG,STR?232,STR?231
	.DEBUG-LINE 12,1027,1
?L52:	PRINTI "out of the boat it slides out from under your foot and drifts down the river."
	CRLF
	.DEBUG-LINE 12,1030,1
	REMOVE TH-BOAT
	RTRUE
	.DEBUG-LINE 12,1032,1
?L49:	ZERO? GL-PUPPY /?L54
	EQUAL? GL-WINNER,CH-PLAYER \?L54
	.DEBUG-LINE 12,1034,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 12,1035,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L56
	.DEBUG-LINE 12,1037,1
?L54:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 12,1038,1
	.DEBUG-LINE 12,1039,1
?L56:	PRINTR "out of the boat."
	.DEBUG-LINE 12,1040,1
?L24:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	EQUAL? GL-PRSO,TH-BOAT \FALSE
	.DEBUG-LINE 12,1042,1
	REMOVE TH-BOAT
	.DEBUG-LINE 12,1043,1
	PRINTI "Bad idea. The bullet blows a hole in the boat, which promptly sinks."
	CRLF
	.DEBUG-LINE 12,1045,1
	IN? CH-PLAYER,TH-BOAT \TRUE
	.DEBUG-LINE 12,1046,1
	CRLF
	PRINTI "Unable to swim, you cling to a piece of driftwood for several hours, wondering what kind of idiot would shoot a boat out from under himself."
	CRLF
	CRLF
	PRINTI "After a while, a Scotland Yard launch pulls alongside to rescue you. Lestrade leans over the side and offers his assistance. You decide you're better off in the water and politely decline."
	CRLF
	CRLF
	.DEBUG-LINE 12,1054,1
	ICALL1 RT-QSR
	.DEBUG-LINE 12,1055,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-OAR-1","CONTEXT"
	.FUNCT RT-AC-TH-OAR-1,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1059,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1060,1
	PRINTR "The oar is hopelessy jammed into the oarlock."
	.DEBUG-LINE 12,1061,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1063,1
	EQUAL? GL-PRSA,V?TAKE \?L4
	.DEBUG-LINE 12,1064,1
	ICALL RT-CYOU-MSG,STR?234,STR?233
	.DEBUG-LINE 12,1065,1
	.DEBUG-LINE 12,1067,1
	PRINTR "to extract the oar from the oarlock, but it seems to be jammed."
	.DEBUG-LINE 12,1068,1
?L4:	EQUAL? GL-PRSA,V?RELEASE \FALSE
	.DEBUG-LINE 12,1069,1
	ICALL RT-CYOU-MSG,STR?236,STR?235
	.DEBUG-LINE 12,1070,1
	PRINTR "with the oar for a minute or two with no success... it really is jammed in there."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-OAR-LOCK"
	.FUNCT RT-AC-TH-OAR-LOCK
	.DEBUG-LINE 12,1076,1
	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	EQUAL? GL-PRSO,TH-OAR-2 /FALSE
	.DEBUG-LINE 12,1079,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,1080,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CLAPPER","CONTEXT"
	.FUNCT RT-AC-TH-CLAPPER,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1084,1
?L14:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1085,1
	IN? TH-SAPPHIRE,TH-CLAPPER \FALSE
	.DEBUG-LINE 12,1086,1
	.DEBUG-LINE 12,1088,1
	PRINTR "The clapper hangs from the centre of the bell. There is a beautiful blue sapphire glued to the end of it."
	.DEBUG-LINE 12,1091,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1092,1
	EQUAL? GL-PRSA,V?SHOOT \?L7
	.DEBUG-LINE 12,1093,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1094,1
?L7:	CALL2 RT-IMPOSSIBLE-PUT-IN-ON-MSG,TH-CLAPPER >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 12,1096,1
	EQUAL? GL-PRSA,V?TOUCH,V?TOUCH-TO,V?TOUCH-TO-SWP \FALSE
	.DEBUG-LINE 12,1097,1
	EQUAL? TH-BELL-AUX2,K-BELL-TOWARDS /FALSE
	.DEBUG-LINE 12,1100,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1101,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 12,1102,1
	.DEBUG-LINE 12,1103,1
	PRINTR "within reach."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-COTTON-BALLS","CONTEXT","VAL"
	.FUNCT RT-AC-TH-COTTON-BALLS,CONTEXT,VAL
	ASSIGNED? 'CONTEXT /?L37
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1107,1
?L37:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1108,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L3
	.DEBUG-LINE 12,1109,1
	PRINTR "You can't see them because they're in your ears."
	.DEBUG-LINE 12,1112,1
	.DEBUG-LINE 12,1113,1
?L3:	PRINTR "They're soft and fluffy."
	.DEBUG-LINE 12,1114,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1115,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1116,1
	SET 'GL-P-IT-OBJECT,GL-PRSO
	.DEBUG-LINE 12,1117,1
	EQUAL? GL-PRSA,V?WEAR /?L10
	EQUAL? GL-PRSA,V?PUT \?L8
	EQUAL? GL-PRSI,TH-EARS \?L8
	.DEBUG-LINE 12,1120,1
?L10:	FSET? GL-PRSO,FL-WORN \?L11
	.DEBUG-LINE 12,1121,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1122,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 12,1123,1
	PRINTI "already in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,1124,1
?L11:	FSET? TH-STETHOSCOPE,FL-WORN \?L13
	.DEBUG-LINE 12,1125,1
	ICALL2 RT-CTHEO-PRINT,TH-STETHOSCOPE
	.DEBUG-LINE 12,1127,1
	PRINTR " is in the way."
	.DEBUG-LINE 12,1129,1
?L13:	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,1130,1
	FSET GL-PRSO,FL-WORN
	.DEBUG-LINE 12,1131,1
	MOVE GL-PRSO,CH-PLAYER
	.DEBUG-LINE 12,1132,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,1133,1
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,1134,1
	GETP GL-PRSO,P?VALUE >VAL
	.DEBUG-LINE 12,1135,1
	ZERO? VAL /TRUE
	.DEBUG-LINE 12,1136,1
	ICALL2 RT-UPDATE-SCORE,VAL
	.DEBUG-LINE 12,1137,1
	PUTP GL-PRSO,P?VALUE,0
	.DEBUG-LINE 12,1138,1
	RTRUE
	.DEBUG-LINE 12,1139,1
?L8:	EQUAL? GL-PRSA,V?TAKE \?L20
	EQUAL? GL-PRSI,TH-EARS /?L19
?L20:	EQUAL? GL-PRSA,V?TAKE-OFF,V?TAKE \?L18
	FSET? GL-PRSO,FL-WORN \?L18
	.DEBUG-LINE 12,1143,1
?L19:	FSET? GL-PRSO,FL-WORN /?L21
	.DEBUG-LINE 12,1144,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1145,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 12,1146,1
	PRINTI "in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,1148,1
?L21:	FSET? TH-STETHOSCOPE,FL-WORN \?L24
	.DEBUG-LINE 12,1149,1
	ICALL RT-PERFORM,V?TAKE-OFF,TH-STETHOSCOPE
	.DEBUG-LINE 12,1150,1
?L24:	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,1151,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 12,1152,1
	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 12,1153,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 12,1154,1
	PRINTI " out of "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,1155,1
	EQUAL? GL-WINNER,CH-PLAYER /TRUE
	.DEBUG-LINE 12,1156,1
	MOVE GL-PRSO,GL-WINNER
	.DEBUG-LINE 12,1157,1
	RTRUE
	.DEBUG-LINE 12,1158,1
?L18:	EQUAL? GL-PRSA,V?DROP,V?THROW,V?THROW-OVER \?L30
	.DEBUG-LINE 12,1159,1
	FSET? GL-PRSO,FL-WORN \FALSE
	.DEBUG-LINE 12,1160,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1161,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " while"
	.DEBUG-LINE 12,1162,1
	ICALL RT-YOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,1163,1
	PRINTR "wearing them."
	.DEBUG-LINE 12,1164,1
?L30:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,1165,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BELL","CONTEXT"
	.FUNCT RT-AC-TH-BELL,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1169,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1170,1
	PRINTR "The huge bell hangs over the hollow shaft of the tower."
	.DEBUG-LINE 12,1172,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1173,1
	EQUAL? GL-PRSA,V?SHOOT \?L4
	.DEBUG-LINE 12,1174,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1175,1
?L4:	CALL2 RT-IMPOSSIBLE-PUT-IN-ON-MSG,TH-BELL >STACK
	ZERO? STACK \TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-STETHOSCOPE","CONTEXT","VAL"
	.FUNCT RT-AC-TH-STETHOSCOPE,CONTEXT,VAL
	ASSIGNED? 'CONTEXT /?L37
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1180,1
?L37:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1181,1
	FSET? TH-STETHOSCOPE,FL-WORN \?L3
	.DEBUG-LINE 12,1182,1
	PRINTR "The stethoscope is hanging from your ears."
	.DEBUG-LINE 12,1184,1
	.DEBUG-LINE 12,1186,1
?L3:	PRINTR "It looks just like any other late-Victorian-era stethoscope."
	.DEBUG-LINE 12,1187,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1189,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1190,1
	EQUAL? GL-PRSA,V?WEAR /?L10
	EQUAL? GL-PRSA,V?PUT \?L8
	EQUAL? GL-PRSI,TH-EARS \?L8
	.DEBUG-LINE 12,1193,1
?L10:	FSET? TH-STETHOSCOPE,FL-WORN \?L11
	.DEBUG-LINE 12,1194,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1195,1
	ICALL1 RT-IS-ARE-MSG
	.DEBUG-LINE 12,1196,1
	PRINTI "already in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,1201,1
?L11:	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,1202,1
	FSET TH-STETHOSCOPE,FL-WORN
	.DEBUG-LINE 12,1203,1
	MOVE TH-STETHOSCOPE,CH-PLAYER
	.DEBUG-LINE 12,1204,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,1205,1
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,1206,1
	GETP TH-STETHOSCOPE,P?VALUE >VAL
	.DEBUG-LINE 12,1207,1
	ZERO? VAL /TRUE
	.DEBUG-LINE 12,1208,1
	ICALL2 RT-UPDATE-SCORE,VAL
	.DEBUG-LINE 12,1209,1
	PUTP TH-STETHOSCOPE,P?VALUE,0
	.DEBUG-LINE 12,1210,1
	RTRUE
	.DEBUG-LINE 12,1211,1
?L8:	EQUAL? GL-PRSA,V?TAKE \?L19
	EQUAL? GL-PRSI,TH-EARS /?L18
?L19:	EQUAL? GL-PRSA,V?TAKE-OFF,V?TAKE \?L17
	FSET? TH-STETHOSCOPE,FL-WORN \?L17
	.DEBUG-LINE 12,1215,1
?L18:	FSET? TH-STETHOSCOPE,FL-WORN /?L20
	.DEBUG-LINE 12,1216,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1217,1
	ICALL1 RT-ISNT-ARENT-MSG
	.DEBUG-LINE 12,1218,1
	PRINTI "in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 12,1220,1
?L20:	SET 'GL-LISTEN-OBJ,0
	.DEBUG-LINE 12,1221,1
	FCLEAR TH-STETHOSCOPE,FL-WORN
	.DEBUG-LINE 12,1222,1
	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 12,1223,1
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 12,1224,1
	PRINTI " out of "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,1225,1
	EQUAL? GL-WINNER,CH-PLAYER /TRUE
	.DEBUG-LINE 12,1226,1
	MOVE GL-PRSO,GL-WINNER
	.DEBUG-LINE 12,1227,1
	RTRUE
	.DEBUG-LINE 12,1228,1
?L17:	EQUAL? GL-PRSA,V?DROP,V?THROW,V?THROW-OVER \?L26
	.DEBUG-LINE 12,1229,1
	FSET? TH-STETHOSCOPE,FL-WORN \FALSE
	.DEBUG-LINE 12,1230,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1231,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " while"
	.DEBUG-LINE 12,1232,1
	ICALL RT-YOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,1233,1
	PRINTR "wearing it."
	.DEBUG-LINE 12,1234,1
?L26:	EQUAL? GL-PRSA,V?PUT-ON \FALSE
	.DEBUG-LINE 12,1235,1
	FSET? GL-PRSI,FL-PERSON \FALSE
	FSET? TH-STETHOSCOPE,FL-WORN \FALSE
	.DEBUG-LINE 12,1237,1
	CALL RT-PERFORM,V?LISTEN,GL-PRSI,GL-PRSO >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WATSONS-HAT","CONTEXT"
	.FUNCT RT-AC-TH-WATSONS-HAT,CONTEXT
	ASSIGNED? 'CONTEXT /?L38
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1243,1
?L38:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1244,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L3
	.DEBUG-LINE 12,1245,1
	PRINTR "You can't look at your hat while it's on the top of your head."
	.DEBUG-LINE 12,1248,1
	.DEBUG-LINE 12,1251,1
?L3:	PRINTR "It's a rather large hat with plenty of room inside it for your rather large head."
	.DEBUG-LINE 12,1252,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1253,1
	ZERO? GL-NOW-PRSI? \?L39
	.DEBUG-LINE 12,1254,1
	EQUAL? GL-PRSA,V?PUT-ON \?L11
	EQUAL? GL-PRSI,TH-HEAD /?L10
?L11:	EQUAL? GL-PRSA,V?WEAR \?L8
	.DEBUG-LINE 12,1257,1
?L10:	FSET? TH-WATSONS-HAT,FL-WORN \?L12
	.DEBUG-LINE 12,1258,1
	PRINTI "You are already wearing "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 12,1259,1
?L12:	CALL2 RT-DONT-HAVE-MSG,GL-PRSO >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 12,1262,1
	FCLEAR TH-WATSONS-HAT,FL-OPENED
	.DEBUG-LINE 12,1263,1
	FSET TH-WATSONS-HAT,FL-WORN
	.DEBUG-LINE 12,1264,1
	PRINTI "You put on "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 12,1265,1
?L8:	EQUAL? GL-PRSA,V?TAKE \?L19
	EQUAL? GL-PRSI,TH-HEAD /?L17
	FSET? TH-WATSONS-HAT,FL-WORN \?L19
	EQUAL? GL-PRSI,0,CH-PLAYER,CH-ME /?L17
?L19:	EQUAL? GL-PRSA,V?TAKE-OFF \?L16
	.DEBUG-LINE 12,1270,1
?L17:	FSET? TH-WATSONS-HAT,FL-WORN \?L20
	.DEBUG-LINE 12,1271,1
	FSET TH-WATSONS-HAT,FL-OPENED
	.DEBUG-LINE 12,1272,1
	FCLEAR TH-WATSONS-HAT,FL-WORN
	.DEBUG-LINE 12,1273,1
	PRINTI "You take off "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 12,1274,1
	CALL2 RT-VISIBLE?,CH-AKBAR >STACK
	ZERO? STACK /?L22
	.DEBUG-LINE 12,1275,1
	PRINTI ". Disconcerted by your sacrilegious action, Akbar averts his gaze"
	.DEBUG-LINE 12,1277,1
?L22:	FIRST? TH-WATSONS-HAT >STACK \?L25
	.DEBUG-LINE 12,1278,1
	PRINTI ". Inside you see "
	.DEBUG-LINE 12,1279,1
	ICALL2 RT-PRINT-CONTENTS-2,TH-WATSONS-HAT
	.DEBUG-LINE 12,1280,1
?L25:	PRINTR "."
	.DEBUG-LINE 12,1282,1
?L20:	PRINTI "You are not wearing "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 12,1283,1
?L16:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?LOOK-UNDER \?L29
	FSET? TH-WATSONS-HAT,FL-WORN \?L29
	.DEBUG-LINE 12,1285,1
	PRINTI "You can't see inside "
	ICALL2 RT-THEO-PRINT,TH-WATSONS-HAT
	PRINTI " while it's on "
	ICALL2 RT-THEO-PRINT,TH-HEAD
	PRINTR "."
	.DEBUG-LINE 12,1288,1
?L29:	EQUAL? GL-PRSA,V?REACH-IN,V?SEARCH,V?PUT /?L31
	EQUAL? GL-PRSA,V?PUT-ON \FALSE
?L31:	FSET? TH-WATSONS-HAT,FL-WORN \FALSE
	.DEBUG-LINE 12,1290,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1291,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?161,GL-PRSO
	.DEBUG-LINE 12,1292,1
	.DEBUG-LINE 12,1293,1
	PRINTR " first."
	.DEBUG-LINE 12,1295,1
?L39:	EQUAL? GL-PRSA,V?PUT,V?PUT-UNDER \FALSE
	FSET? TH-WATSONS-HAT,FL-WORN \FALSE
	.DEBUG-LINE 12,1297,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1298,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?161,GL-PRSI
	.DEBUG-LINE 12,1299,1
	.DEBUG-LINE 12,1300,1
	PRINTR " first."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ELIZAS-FLOWERS","CONTEXT"
	.FUNCT RT-AC-TH-ELIZAS-FLOWERS,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1304,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1305,1
	PRINTI "In "
	ICALL2 RT-THEO-PRINT,TH-ELIZAS-FLOWERS
	.DEBUG-LINE 12,1306,1
	PRINTR " you see a carnation."
	.DEBUG-LINE 12,1307,1
?L1:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 12,1308,1
	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	.DEBUG-LINE 12,1309,1
	CALL2 RT-CANT-PUT-IN-ON-MSG,TH-ELIZAS-FLOWERS >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CARNATION"
	.FUNCT RT-AC-TH-CARNATION
	.DEBUG-LINE 12,1313,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1314,1
	EQUAL? GL-PRSA,V?WEAR \?L3
	.DEBUG-LINE 12,1315,1
	EQUAL? GL-WINNER,CH-PLAYER \?L5
	.DEBUG-LINE 12,1316,1
	IN? TH-CARNATION,TH-LAPEL \?L7
	.DEBUG-LINE 12,1317,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " is already in "
	ICALL2 RT-THEO-PRINT,TH-LAPEL
	PRINTR "."
	.DEBUG-LINE 12,1320,1
?L7:	MOVE TH-CARNATION,TH-LAPEL
	.DEBUG-LINE 12,1321,1
	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 12,1322,1
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL2 RT-THEO-PRINT,TH-LAPEL
	PRINTR "."
	.DEBUG-LINE 12,1324,1
?L5:	ICALL2 RT-CTHEO-PRINT,GL-WINNER
	PRINTI " say"
	.DEBUG-LINE 12,1325,1
	ICALL2 RT-S-NOS-MSG,GL-WINNER
	.DEBUG-LINE 12,1326,1
	PRINTR ", ""No thanks."""
	.DEBUG-LINE 12,1327,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,1328,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-EMERALD","CONTEXT"
	.FUNCT RT-AC-TH-EMERALD,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1331,1
?L8:	GETP TH-EMERALD,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 12,1332,1
	CALL RT-HANDLE-SCRATCH,TH-EMERALD,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 12,1334,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L4
	.DEBUG-LINE 12,1335,1
	PRINTI "emerald"
	RTRUE
	.DEBUG-LINE 12,1336,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN,0 \FALSE
	.DEBUG-LINE 12,1337,1
	CALL2 RT-EXAMINE-GEM,TH-EMERALD >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SAPPHIRE","CONTEXT","GRABS","WHO"
	.FUNCT RT-AC-TH-SAPPHIRE,CONTEXT,GRABS,WHO
	ASSIGNED? 'CONTEXT /?L46
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1342,1
?L46:	GETP TH-SAPPHIRE,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 12,1343,1
	CALL RT-HANDLE-SCRATCH,TH-SAPPHIRE,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 12,1345,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L4
	.DEBUG-LINE 12,1346,1
	PRINTI "sapphire"
	.DEBUG-LINE 12,1347,1
	RTRUE
	.DEBUG-LINE 12,1348,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 12,1349,1
	CALL2 RT-EXAMINE-GEM,TH-SAPPHIRE >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 12,1350,1
	.DEBUG-LINE 12,1351,1
	RTRUE
	.DEBUG-LINE 12,1352,1
?L6:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1354,1
	SET 'GRABS,TH-SAPPHIRE-AUX1
	.DEBUG-LINE 12,1355,1
	ZERO? GL-NOW-PRSI? \?L47
	IN? TH-SAPPHIRE,TH-CLAPPER \?L12
	.DEBUG-LINE 12,1357,1
	EQUAL? GL-PRSA,V?TAKE \?L14
	.DEBUG-LINE 12,1358,1
	GRTR? GRABS,0 \?L43
	.DEBUG-LINE 12,1359,1
	EQUAL? TH-BELL-AUX2,K-BELL-TOWARDS \?L18
	.DEBUG-LINE 12,1360,1
	DEC 'GRABS
	.DEBUG-LINE 12,1361,1
	SET 'TH-SAPPHIRE-AUX1,GRABS
	.DEBUG-LINE 12,1362,1
	ZERO? GRABS \?L20
	.DEBUG-LINE 12,1363,1
	ICALL RT-CYOU-MSG,STR?238,STR?237
	.DEBUG-LINE 12,1364,1
	ICALL1 RT-THEO-PRINT
	PRINTI " from "
	ICALL2 RT-THEO-PRINT,TH-CLAPPER
	PRINTI "."
	CRLF
	.DEBUG-LINE 12,1366,1
	MOVE TH-SAPPHIRE,CH-PLAYER
	.DEBUG-LINE 12,1367,1
	FCLEAR TH-SAPPHIRE,FL-NODESC
	.DEBUG-LINE 12,1368,1
	FSET TH-SAPPHIRE,FL-SEEN
	.DEBUG-LINE 12,1369,1
	FSET TH-SAPPHIRE,FL-TOUCHED
	.DEBUG-LINE 12,1370,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 12,1371,1
	EQUAL? WHO,CH-HOLMES \?L22
	.DEBUG-LINE 12,1372,1
	CRLF
	PRINTI "Holmes beams at you and says, ""Good show, old fellow."""
	CRLF
	.DEBUG-LINE 12,1374,1
?L22:	GETP TH-SAPPHIRE,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 12,1376,1
	PUTP TH-SAPPHIRE,P?VALUE,0
	RTRUE
	.DEBUG-LINE 12,1378,1
?L20:	ICALL RT-CYOU-MSG,STR?240,STR?239
	.DEBUG-LINE 12,1379,1
	PRINTI "at "
	ICALL1 RT-THEO-PRINT
	PRINTR ", but you can't quite grab it before it swings out of reach again."
	.DEBUG-LINE 12,1383,1
?L18:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1384,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 12,1385,1
	.DEBUG-LINE 12,1386,1
	PRINTR "within reach."
	.DEBUG-LINE 12,1387,1
?L14:	EQUAL? GL-PRSA,V?HIT \?L28
	.DEBUG-LINE 12,1388,1
	EQUAL? TH-BELL-AUX2,K-BELL-TOWARDS /?L31
	EQUAL? GL-PRSI,TH-OAR-2 \?L29
	.DEBUG-LINE 12,1390,1
?L31:	ICALL RT-CYOU-MSG,STR?242,STR?241
	.DEBUG-LINE 12,1391,1
	ICALL1 RT-THEO-PRINT
	PRINTI " into the shaft. A long time later you hear "
	ICALL1 RT-THEO-PRINT
	PRINTI " shatter."
	CRLF
	.DEBUG-LINE 12,1393,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 12,1394,1
	REMOVE GL-PRSO
	RTRUE
	.DEBUG-LINE 12,1396,1
?L29:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1397,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSO
	.DEBUG-LINE 12,1398,1
	.DEBUG-LINE 12,1399,1
	PRINTR "within reach."
	.DEBUG-LINE 12,1400,1
?L28:	EQUAL? GL-PRSA,V?TOUCH,V?TOUCH-TO,V?TOUCH-TO-SWP \?L43
	.DEBUG-LINE 12,1401,1
	EQUAL? TH-BELL-AUX2,K-BELL-TOWARDS /FALSE
	.DEBUG-LINE 12,1404,1
	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1405,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 12,1406,1
	.DEBUG-LINE 12,1407,1
	PRINTR "within reach."
	.DEBUG-LINE 12,1408,1
?L12:	ZERO? GL-NOW-PRSI? /?L43
?L47:	IN? TH-SAPPHIRE,TH-CLAPPER \?L43
	.DEBUG-LINE 12,1410,1
	EQUAL? GL-PRSA,V?THROW \?L43
	.DEBUG-LINE 12,1411,1
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON \?L41
	.DEBUG-LINE 12,1412,1
	ICALL1 RT-PIGEON-PANIC
	.DEBUG-LINE 12,1413,1
	SET 'CH-TRAINED-PIGEON-AUX1,0
	.DEBUG-LINE 12,1414,1
	RTRUE
	.DEBUG-LINE 12,1416,1
?L41:	ICALL RT-CYOU-MSG,STR?244,STR?243
	.DEBUG-LINE 12,1417,1
	ICALL1 RT-THEI-PRINT
	PRINTI " with "
	ICALL1 RT-THEO-PRINT
	PRINTI ", and they both disappear into the shaft. A long time later you hear "
	ICALL1 RT-THEI-PRINT
	PRINTI " shatter."
	CRLF
	.DEBUG-LINE 12,1419,1
	REMOVE GL-PRSO
	.DEBUG-LINE 12,1420,1
	REMOVE GL-PRSI
	.DEBUG-LINE 12,1421,1
	RTRUE
	.DEBUG-LINE 12,1422,1
?L43:	CALL2 RT-EXAMINE-GEM,TH-SAPPHIRE >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-OPAL","CONTEXT"
	.FUNCT RT-AC-TH-OPAL,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1425,1
?L6:	GETP TH-OPAL,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 12,1426,1
	CALL RT-HANDLE-SCRATCH,TH-OPAL,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 12,1427,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L3
	.DEBUG-LINE 12,1428,1
	PRINTI "opal"
	RTRUE
	.DEBUG-LINE 12,1429,1
?L3:	EQUAL? CONTEXT,K-M-DESCFCN,0 \FALSE
	.DEBUG-LINE 12,1430,1
	CALL2 RT-EXAMINE-GEM,TH-OPAL >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RUBY","CONTEXT"
	.FUNCT RT-AC-TH-RUBY,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1435,1
?L14:	GETP TH-RUBY,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 12,1436,1
	CALL RT-HANDLE-SCRATCH,TH-RUBY,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 12,1438,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L4
	.DEBUG-LINE 12,1439,1
	ICALL2 RT-EXAMINE-GEM,TH-RUBY
	.DEBUG-LINE 12,1440,1
	RTRUE
	.DEBUG-LINE 12,1441,1
?L4:	EQUAL? CONTEXT,K-M-SDESC \?L6
	.DEBUG-LINE 12,1442,1
	PRINTI "ruby"
	.DEBUG-LINE 12,1443,1
	RTRUE
	.DEBUG-LINE 12,1444,1
?L6:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1445,1
	EQUAL? GL-PRSA,V?TAKE \?L11
	.DEBUG-LINE 12,1446,1
	IN? TH-RUBY,TH-NELSON-STATUE \?L9
	.DEBUG-LINE 12,1447,1
	.DEBUG-LINE 12,1448,1
	PRINTR "You can't reach the ruby."
	.DEBUG-LINE 12,1449,1
?L9:	IN? TH-RUBY,CH-SHERMAN \?L11
	.DEBUG-LINE 12,1450,1
	ICALL RT-IMPOLITE-MSG,STR?195,STR?194
	.DEBUG-LINE 12,1451,1
	RTRUE
	.DEBUG-LINE 12,1452,1
?L11:	CALL2 RT-EXAMINE-GEM,TH-RUBY >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TOPAZ","CONTEXT"
	.FUNCT RT-AC-TH-TOPAZ,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1455,1
?L8:	GETP TH-TOPAZ,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 12,1456,1
	CALL RT-HANDLE-SCRATCH,TH-TOPAZ,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 12,1458,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L4
	.DEBUG-LINE 12,1459,1
	PRINTI "topaz"
	RTRUE
	.DEBUG-LINE 12,1460,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN,0 \FALSE
	.DEBUG-LINE 12,1461,1
	CALL2 RT-EXAMINE-GEM,TH-TOPAZ >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CRAYON","CONTEXT"
	.FUNCT RT-AC-TH-CRAYON,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1465,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,1466,1
	PRINTR "It looks just like any other Victorian-era crayon."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WATSONS-COAT","CONTEXT"
	.FUNCT RT-AC-TH-WATSONS-COAT,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1472,1
?L17:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1473,1
	.DEBUG-LINE 12,1474,1
	PRINTR "It's a wool greatcoat."
	.DEBUG-LINE 12,1475,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1476,1
	ZERO? GL-NOW-PRSI? \?L18
	.DEBUG-LINE 12,1477,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L5
	.DEBUG-LINE 12,1478,1
	CALL RT-PERFORM,V?LOOK-INSIDE,TH-POCKET >STACK
	RSTACK
	.DEBUG-LINE 12,1479,1
?L5:	EQUAL? GL-PRSA,V?EMPTY,V?EMPTY-INTO \?L7
	.DEBUG-LINE 12,1480,1
	PRINTI "[from "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	PRINTI "]"
	CRLF
	.DEBUG-LINE 12,1481,1
	CALL RT-PERFORM,GL-PRSA,TH-POCKET,GL-PRSO >STACK
	RSTACK
	.DEBUG-LINE 12,1482,1
?L7:	EQUAL? GL-PRSA,V?WEAR,V?TAKE-OFF \FALSE
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \FALSE
	.DEBUG-LINE 12,1484,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1485,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?161,TH-SUIT-OF-ARMOUR
	.DEBUG-LINE 12,1486,1
	PRINTR " first."
	.DEBUG-LINE 12,1488,1
?L18:	EQUAL? GL-PRSA,V?TAKE \?L11
	.DEBUG-LINE 12,1489,1
	PRINTI "[from "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	PRINTI "]"
	CRLF
	.DEBUG-LINE 12,1490,1
	CALL RT-PERFORM,V?TAKE,GL-PRSO,TH-POCKET >STACK
	RSTACK
	.DEBUG-LINE 12,1491,1
?L11:	EQUAL? GL-PRSA,V?PUT \?L13
	.DEBUG-LINE 12,1492,1
	PRINTI "[in "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	PRINTI "]"
	CRLF
	.DEBUG-LINE 12,1493,1
	CALL RT-PERFORM,V?PUT,GL-PRSO,TH-POCKET >STACK
	RSTACK
	.DEBUG-LINE 12,1494,1
?L13:	EQUAL? GL-PRSA,V?EMPTY,V?EMPTY-INTO \FALSE
	.DEBUG-LINE 12,1495,1
	PRINTI "[in "
	ICALL2 RT-THEO-PRINT,TH-POCKET
	PRINTI "]"
	CRLF
	.DEBUG-LINE 12,1496,1
	CALL RT-PERFORM,GL-PRSA,GL-PRSO,TH-POCKET >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LAPEL"
	.FUNCT RT-AC-TH-LAPEL
	.DEBUG-LINE 12,1500,1
	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 12,1501,1
	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	EQUAL? GL-PRSO,TH-CARNATION /FALSE
	.DEBUG-LINE 12,1503,1
	CALL2 RT-CANT-PUT-IN-ON-MSG,TH-LAPEL >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CLUMP-OF-MOSS","CONTEXT","WHO"
	.FUNCT RT-AC-TH-CLUMP-OF-MOSS,CONTEXT,WHO
	ASSIGNED? 'CONTEXT /?L34
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1507,1
?L34:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1508,1
	PRINTR "The clump of moss is a slightly different colour than the other lichen that surrounds it."
	.DEBUG-LINE 12,1510,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1512,1
	EQUAL? GL-PRSA,V?LOOK \?L4
	.DEBUG-LINE 12,1513,1
	ICALL2 RT-AC-TH-CLUMP-OF-MOSS,K-M-DESCFCN
	.DEBUG-LINE 12,1514,1
	RTRUE
	.DEBUG-LINE 12,1515,1
?L4:	CALL1 RT-THAMES-TIDE >STACK
	ZERO? STACK \?L5
	.DEBUG-LINE 12,1516,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,1517,1
	PRINTI "As soon as"
	.DEBUG-LINE 12,1518,1
	ICALL RT-YOU-MSG,STR?246,STR?245
	.DEBUG-LINE 12,1519,1
	ICALL2 RT-THEO-PRINT,TH-CLUMP-OF-MOSS
	PRINTI ", it crumbles. "
	.DEBUG-LINE 12,1520,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,1521,1
	PRINTI "left holding a beautiful opal."
	CRLF
	.DEBUG-LINE 12,1522,1
	MOVE TH-OPAL,GL-WINNER
	.DEBUG-LINE 12,1523,1
	FSET TH-OPAL,FL-SEEN
	.DEBUG-LINE 12,1524,1
	FSET TH-OPAL,FL-TOUCHED
	.DEBUG-LINE 12,1525,1
	FCLEAR TH-OPAL,FL-NODESC
	.DEBUG-LINE 12,1526,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 12,1527,1
	EQUAL? WHO,CH-HOLMES \?L8
	.DEBUG-LINE 12,1528,1
	CRLF
	PRINTI "Holmes claps you on the shoulder and says, ""Capital, Watson. Capital!"""
	CRLF
	.DEBUG-LINE 12,1529,1
?L8:	GETP TH-OPAL,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 12,1530,1
	PUTP TH-OPAL,P?VALUE,0
	.DEBUG-LINE 12,1531,1
	REMOVE TH-CLUMP-OF-MOSS
	.DEBUG-LINE 12,1532,1
	RTRUE
	.DEBUG-LINE 12,1535,1
?L5:	EQUAL? GL-PRSA,V?TAKE \?L12
	.DEBUG-LINE 12,1536,1
	CALL1 RT-THAMES-TIDE >STACK
	EQUAL? STACK,2 \?L13
	.DEBUG-LINE 12,1537,1
	PRINTI "The clump is well beyond "
	.DEBUG-LINE 12,1538,1
	ICALL1 RT-YOUR-MSG
	.DEBUG-LINE 12,1539,1
	PRINTR "grasp."
	.DEBUG-LINE 12,1541,1
?L13:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1542,1
	.DEBUG-LINE 12,1543,1
	PRINTR "cannot quite reach it."
	.DEBUG-LINE 12,1544,1
?L12:	EQUAL? GL-PRSA,V?HIT,V?TOUCH,V?TOUCH-TO /?L17
	EQUAL? GL-PRSA,V?CUT \?L16
	.DEBUG-LINE 12,1545,1
?L17:	EQUAL? GL-PRSA,V?HIT,V?TOUCH \?L21
	EQUAL? GL-PRSI,TH-OAR-2 /?L20
?L21:	EQUAL? GL-PRSA,V?TOUCH-TO \?L18
	EQUAL? GL-PRSO,TH-OAR-2 \?L18
	.DEBUG-LINE 12,1549,1
?L20:	ICALL RT-CYOU-MSG,STR?242,STR?241
	.DEBUG-LINE 12,1550,1
	ICALL2 RT-THEO-PRINT,TH-CLUMP-OF-MOSS
	PRINTI " into the water. It dissolves upon impact and reveals a beautiful opal, which slowly sinks into the murky depths."
	CRLF
	.DEBUG-LINE 12,1553,1
	REMOVE TH-CLUMP-OF-MOSS
	RTRUE
	.DEBUG-LINE 12,1555,1
?L18:	ICALL RT-CYOU-MSG,STR?234,STR?233
	.DEBUG-LINE 12,1556,1
	PRINTI "to hit the moss"
	.DEBUG-LINE 12,1557,1
	EQUAL? GL-PRSA,V?TOUCH-TO \?L23
	.DEBUG-LINE 12,1558,1
	PRINTI " with "
	ICALL1 RT-THEO-PRINT
	JUMP ?L25
	.DEBUG-LINE 12,1559,1
?L23:	ZERO? GL-PRSI /?L25
	.DEBUG-LINE 12,1560,1
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 12,1561,1
?L25:	PRINTI " but"
	.DEBUG-LINE 12,1562,1
	ICALL RT-YOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,1563,1
	.DEBUG-LINE 12,1564,1
	PRINTR "not able to reach it."
	.DEBUG-LINE 12,1565,1
?L16:	EQUAL? GL-PRSA,V?THROW \?L27
	.DEBUG-LINE 12,1566,1
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON /FALSE
	.DEBUG-LINE 12,1568,1
	CALL1 RT-IDROP-MSG >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 12,1569,1
	PRINTI "Good throw! "
	ICALL1 RT-CTHEO-PRINT
	PRINTI " hit"
	.DEBUG-LINE 12,1570,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,1571,1
	PRINTI " the clump, knock"
	.DEBUG-LINE 12,1572,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,1573,1
	PRINTI " it loose, and everything falls into the water. "
	ICALL1 RT-CTHEO-PRINT
	PRINTI " sink"
	.DEBUG-LINE 12,1575,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,1576,1
	PRINTI " immediately. The moss, however, dissolves upon impact and reveals a beautiful opal, which slowly follows "
	ICALL1 RT-THEO-PRINT
	PRINTI " into the murky depths."
	CRLF
	.DEBUG-LINE 12,1579,1
	REMOVE TH-CLUMP-OF-MOSS
	.DEBUG-LINE 12,1580,1
	REMOVE GL-PRSO
	.DEBUG-LINE 12,1581,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 12,1582,1
	RTRUE
	.DEBUG-LINE 12,1583,1
?L27:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,1584,1
	PRINTI "The bullet dislodges the clump and knocks it into the water. The moss dissolves upon impact and reveals a beautiful opal, which slowly sinks into the murky depths."
	CRLF
	.DEBUG-LINE 12,1588,1
	REMOVE TH-CLUMP-OF-MOSS
	.DEBUG-LINE 12,1589,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BLIGH-BOAT","CONTEXT"
	.FUNCT RT-AC-TH-BLIGH-BOAT,CONTEXT
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1593,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 12,1594,1
	PRINTR "The boat is a true-to-life replica of the rowboat that Captain Bligh sailed to Pitcairn Island after the mutiny on the Bounty."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ANCHOR","CONTEXT"
	.FUNCT RT-AC-TH-ANCHOR,CONTEXT
	ASSIGNED? 'CONTEXT /?L28
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1601,1
?L28:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1602,1
	IN? TH-ANCHOR,TH-BOAT \?L3
	.DEBUG-LINE 12,1603,1
	PRINTR "It's slimy and green and covered with river crud. Yuck!"
	.DEBUG-LINE 12,1605,1
	.DEBUG-LINE 12,1606,1
?L3:	PRINTR "It's in the water."
	.DEBUG-LINE 12,1607,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1608,1
	EQUAL? GL-PRSA,V?SHOOT \?L7
	.DEBUG-LINE 12,1609,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1610,1
?L7:	IN? CH-PLAYER,TH-BOAT /?L8
	.DEBUG-LINE 12,1611,1
	PRINT K-MUST-BE-IN-BOAT-MSG
	PRINTR "do that."
	.DEBUG-LINE 12,1612,1
?L8:	EQUAL? GL-PRSA,V?TAKE \?L9
	.DEBUG-LINE 12,1613,1
	IN? TH-ANCHOR,TH-BOAT \?L10
	.DEBUG-LINE 12,1614,1
	PRINTR "Oomph! It's too heavy to carry."
	.DEBUG-LINE 12,1616,1
?L10:	MOVE TH-ANCHOR,TH-BOAT
	.DEBUG-LINE 12,1617,1
	CALL1 RT-SAY-RAISE-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,1618,1
?L9:	EQUAL? GL-PRSA,V?RAISE,V?HAUL,V?WEIGH /?L14
	EQUAL? GL-PRSA,V?PULL \?L13
	.DEBUG-LINE 12,1619,1
?L14:	IN? TH-ANCHOR,LG-WATER \?L15
	.DEBUG-LINE 12,1620,1
	MOVE TH-ANCHOR,TH-BOAT
	.DEBUG-LINE 12,1621,1
	CALL1 RT-SAY-RAISE-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,1623,1
?L15:	PRINT K-ANCHOR-ALREADY-OUT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1624,1
?L13:	EQUAL? GL-PRSA,V?LOWER,V?DROP \?L18
	.DEBUG-LINE 12,1625,1
	IN? TH-ANCHOR,LG-WATER \?L19
	.DEBUG-LINE 12,1626,1
	PRINTR "The anchor is already in the water."
	.DEBUG-LINE 12,1628,1
?L19:	MOVE TH-ANCHOR,LG-WATER
	.DEBUG-LINE 12,1629,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 12,1630,1
	CALL1 RT-SAY-LOWER-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,1631,1
?L18:	EQUAL? GL-PRSA,V?THROW,V?PUT \FALSE
	.DEBUG-LINE 12,1632,1
	EQUAL? GL-PRSI,LG-WATER \?L23
	.DEBUG-LINE 12,1633,1
	MOVE TH-ANCHOR,LG-WATER
	.DEBUG-LINE 12,1634,1
	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 12,1635,1
	CALL1 RT-SAY-LOWER-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,1636,1
?L23:	EQUAL? GL-PRSI,TH-BOAT \?L25
	.DEBUG-LINE 12,1637,1
	MOVE TH-ANCHOR,TH-BOAT
	.DEBUG-LINE 12,1638,1
	CALL1 RT-SAY-RAISE-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,1640,1
?L25:	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NELSON-STATUE","CONTEXT"
	.FUNCT RT-AC-TH-NELSON-STATUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1644,1
?L11:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1645,1
	ICALL2 RT-CTHEO-PRINT,TH-NELSON-STATUE
	PRINTI " is perched high above you, on top of the column."
	.DEBUG-LINE 12,1647,1
	FSET? TH-NELSON-STATUE,FL-OPENED \?L3
	IN? TH-RUBY,TH-NELSON-STATUE \?L3
	.DEBUG-LINE 12,1649,1
	PRINTI " "
	PRINT K-GLINT-MSG
	.DEBUG-LINE 12,1650,1
	.DEBUG-LINE 12,1651,1
?L3:	CRLF
	RTRUE
	.DEBUG-LINE 12,1652,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1653,1
	CALL2 RT-IMPOSSIBLE-PUT-IN-ON-MSG,TH-NELSON-STATUE >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 12,1655,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE \?L8
	.DEBUG-LINE 12,1656,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1657,1
	PRINTR "can't see inside the statue."
	.DEBUG-LINE 12,1658,1
?L8:	EQUAL? GL-PRSA,V?REACH-IN,V?SEARCH \FALSE
	.DEBUG-LINE 12,1659,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1660,1
	PRINTR "can't reach the statue."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CROWN-JEWELS","CONTEXT"
	.FUNCT RT-AC-TH-CROWN-JEWELS,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1664,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1665,1
	PRINTR "Despite its adventures, the Regalia doesn't look any the worse for wear."
	.DEBUG-LINE 12,1668,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1669,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1670,1
	SET 'GL-P-IT-OBJECT,TH-CROWN-JEWELS
	.DEBUG-LINE 12,1671,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ETHERIUM-AMPOULE","CONTEXT"
	.FUNCT RT-AC-TH-ETHERIUM-AMPOULE,CONTEXT
	ASSIGNED? 'CONTEXT /?L54
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1675,1
?L54:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,1676,1
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN \?L3
	.DEBUG-LINE 12,1677,1
	PRINTI "broken ampoule"
	RTRUE
	.DEBUG-LINE 12,1679,1
?L3:	PRINTI "ampoule of etherium"
	.DEBUG-LINE 12,1680,1
	RTRUE
	.DEBUG-LINE 12,1681,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1682,1
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN \?L8
	.DEBUG-LINE 12,1683,1
	CALL1 RT-AC-TH-BROKEN-AMPOULE >STACK
	RSTACK
	.DEBUG-LINE 12,1684,1
?L8:	EQUAL? GL-PRSA,V?MUNG,V?OPEN \?L10
	ZERO? GL-NOW-PRSI? \?L46
	.DEBUG-LINE 12,1686,1
	IN? TH-ETHERIUM-AMPOULE,GL-WINNER /?L11
	.DEBUG-LINE 12,1687,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1688,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GL-PRSO
	.DEBUG-LINE 12,1689,1
	PRINTI " to do that."
	CRLF
	.DEBUG-LINE 12,1690,1
	RETURN 2
	.DEBUG-LINE 12,1693,1
?L11:	FSET? GL-PLACE-CUR,FL-NO-ETHERIUM \?L14
	.DEBUG-LINE 12,1694,1
	CALL1 RT-WHO-SAYS? >STACK
	EQUAL? STACK,CH-HOLMES \?L16
	.DEBUG-LINE 12,1695,1
	PRINTI "Holmes stops you. ""Do try to be discreet, old boy. My research is supposed to be kept secret."""
	CRLF
	.DEBUG-LINE 12,1697,1
	RETURN 2
	.DEBUG-LINE 12,1698,1
?L16:	PRINTI "The etherium renders everyone quite unconscious. Unfortunately, word of the unusual phenomenon soon leaks out, the existence of the secret chemical is exposed, and you are arrested for violating the Official Secrets Act.

Because he thinks you are a traitor, even Lestrade refuses to visit you in prison. His absence is the only bright spot of your twenty-year incarceration."
	CRLF
	.DEBUG-LINE 12,1705,1
	ICALL1 RT-QSR
	.DEBUG-LINE 12,1706,1
	RETURN 2
	.DEBUG-LINE 12,1707,1
?L14:	EQUAL? GL-PLACE-CUR,RM-LAIR /?L19
	CALL1 RT-WHO-SAYS? >STACK
	EQUAL? STACK,CH-HOLMES \?L19
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD,RM-ENTRY-HALL,RM-HOLMES-STUDY /?L19
	EQUAL? GL-PLACE-CUR,RM-EVANGELIST-CHAPEL /?L19
	CALL2 RT-FIND-FLAME,GL-PLACE-CUR >STACK
	ZERO? STACK \?L19
	.DEBUG-LINE 12,1713,1
	.DEBUG-LINE 12,1715,1
	PRINTR "Holmes stops you just in time. ""This is neither the time nor the place for experimentation."""
	.DEBUG-LINE 12,1716,1
?L19:	ICALL2 CLEAR-ALL-FLAGS,TH-ETHERIUM-AMPOULE
	.DEBUG-LINE 12,1717,1
	FSET TH-ETHERIUM-AMPOULE,FL-TAKEABLE
	.DEBUG-LINE 12,1718,1
	FSET TH-ETHERIUM-AMPOULE,FL-READABLE
	.DEBUG-LINE 12,1719,1
	FSET TH-ETHERIUM-AMPOULE,FL-BROKEN
	.DEBUG-LINE 12,1720,1
	GETPT TH-ETHERIUM-AMPOULE,P?ADJECTIVE >STACK
	PUT STACK,0,W?BROKEN
	.DEBUG-LINE 12,1722,1
	PRINTI "You break open the ampoule."
	.DEBUG-LINE 12,1723,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD \?L21
	.DEBUG-LINE 12,1724,1
	PRINTR " The etherium fumes mix with the heavy air of the opium den. No one seems to notice."
	.DEBUG-LINE 12,1727,1
?L21:	FSET? GL-PLACE-CUR,FL-INDOORS \?L23
	.DEBUG-LINE 12,1728,1
	CALL2 RT-FIND-FLAME,GL-PLACE-CUR >STACK
	ZERO? STACK \?L26
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL,RM-HOLMES-STUDY,RM-EVANGELIST-CHAPEL \?L24
	.DEBUG-LINE 12,1731,1
?L26:	PRINTI " As soon as the volatile etherium comes in contact with the flame"
	.DEBUG-LINE 12,1733,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \?L27
	.DEBUG-LINE 12,1734,1
	PRINTI " of the gas light"
	JUMP ?L30
	.DEBUG-LINE 12,1735,1
?L27:	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L29
	.DEBUG-LINE 12,1736,1
	PRINTI " of the fireplace"
	JUMP ?L30
	.DEBUG-LINE 12,1737,1
?L29:	EQUAL? GL-PLACE-CUR,RM-EVANGELIST-CHAPEL \?L30
	.DEBUG-LINE 12,1738,1
	PRINTI " of the candles"
	.DEBUG-LINE 12,1739,1
?L30:	PRINTI ", it explodes."
	CRLF
	CRLF
	PRINTI "B  O  O  M  !!!"
	CRLF
	CRLF
	PRINTI "You awaken several days later in the hospital. Inspector Lestrade is there with flowers for your bedside table. He is full of news about how he plans to solve the case. Upon hearing this, you lapse back into a coma from which you have no particular desire to emerge."
	CRLF
	.DEBUG-LINE 12,1747,1
	ICALL1 RT-QSR
	RTRUE
	.DEBUG-LINE 12,1749,1
?L24:	PRINTI " The etherium is released into the room."
	.DEBUG-LINE 12,1750,1
	FSET? TH-BREATH,FL-LOCKED /?L33
	.DEBUG-LINE 12,1751,1
	FSET CH-PLAYER,FL-ASLEEP
	.DEBUG-LINE 12,1752,1
	PRINTI " Suddenly, everything starts to spin. You pass out and fall to the ground. Sometime later you awaken and stumble back to your feet."
	CRLF
	.DEBUG-LINE 12,1755,1
	ICALL RT-CLOCK-JMP,6,0,0
	.DEBUG-LINE 12,1756,1
	EQUAL? GL-PLACE-CUR,RM-LAIR \?L38
	.DEBUG-LINE 12,1757,1
	ICALL1 RT-DOES-MORIARTY-WIN
	JUMP ?L38
	.DEBUG-LINE 12,1759,1
?L33:	CALL2 RT-ETHERIUM-EFFECT,1 >STACK
	ZERO? STACK /?L39
	.DEBUG-LINE 12,1760,1
	PRINTI " You see everyone"
	.DEBUG-LINE 12,1761,1
	CALL2 RT-VISIBLE?,CH-HOLMES >STACK
	ZERO? STACK /?L41
	.DEBUG-LINE 12,1762,1
	PRINTI " but Holmes"
	.DEBUG-LINE 12,1763,1
?L41:	PRINTI " pass out."
	.DEBUG-LINE 12,1764,1
?L39:	CRLF
	.DEBUG-LINE 12,1765,1
?L38:	MOVE TH-ETHERIUM-GAS,GL-PLACE-CUR
	.DEBUG-LINE 12,1766,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,6,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-WAKE-UP,STACK
	RTRUE
	.DEBUG-LINE 12,1769,1
	.DEBUG-LINE 12,1771,1
?L23:	PRINTR " The etherium fumes dissipate quickly."
	.DEBUG-LINE 12,1772,1
?L10:	ZERO? GL-NOW-PRSI? \?L46
	EQUAL? GL-PRSA,V?SHOOT /?L55
	EQUAL? GL-PRSA,V?BURN-WITH \?L46
	ZERO? GL-PRSI /?L48
	FSET? GL-PRSI,FL-BURNABLE \?L46
	FSET? GL-PRSI,FL-LIGHTED \?L46
	.DEBUG-LINE 12,1778,1
?L48:	EQUAL? GL-PRSA,V?SHOOT \?L49
	.DEBUG-LINE 12,1779,1
?L55:	PRINTI "Couldn't resist it, could you?"
	.DEBUG-LINE 12,1780,1
?L49:	CRLF
	CRLF
	PRINTI "B  O  O  M  !!!"
	CRLF
	CRLF
	PRINTI "Your nerves - already fragile from the Afghan campaign - snap like a dry twig. You collapse into a babbling pile of jello, and white-coated attendants take you away to a nice sunlit room where Lestrade visits on alternate Tuesdays."
	CRLF
	.DEBUG-LINE 12,1785,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 12,1786,1
?L46:	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1788,1
	PRINTR "The label on the ampoule reads, ""Etherium. Extremely volatile. Do not open in the presence of fire."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BROKEN-AMPOULE"
	.FUNCT RT-AC-TH-BROKEN-AMPOULE
	.DEBUG-LINE 12,1794,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,1795,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ETHERIUM-GAS","CONTEXT"
	.FUNCT RT-AC-TH-ETHERIUM-GAS,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1799,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1800,1
	PRINTI "Etherium is a colourless gas, which"
	.DEBUG-LINE 12,1801,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 12,1802,1
	.DEBUG-LINE 12,1803,1
	PRINTR "cannot see."
	.DEBUG-LINE 12,1804,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1805,1
	EQUAL? GL-PRSA,V?SMELL \?L4
	.DEBUG-LINE 12,1806,1
	IN? TH-ETHERIUM-GAS,GL-PLACE-CUR \?L5
	FSET? TH-BREATH,FL-LOCKED /?L5
	.DEBUG-LINE 12,1808,1
	CALL1 RT-SMELL-ETHERIUM? >STACK
	RSTACK
	.DEBUG-LINE 12,1810,1
?L5:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,1811,1
	PRINTR "cannot smell it."
	.DEBUG-LINE 12,1812,1
?L4:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,1813,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LAB-EQUIPMENT","CONTEXT"
	.FUNCT RT-AC-TH-LAB-EQUIPMENT,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1817,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1818,1
	.DEBUG-LINE 12,1819,1
	PRINTR "The equipment is a jumble of test tubes, beakers, and pipettes."
	.DEBUG-LINE 12,1820,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1821,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,1822,1
	ICALL RT-CYOU-MSG,STR?248,STR?247
	.DEBUG-LINE 12,1823,1
	PRINTI "towards the equipment, but then"
	.DEBUG-LINE 12,1824,1
	ICALL RT-YOU-MSG,STR?250,STR?249,1
	.DEBUG-LINE 12,1825,1
	PRINTI "Holmes's oft-repeated admonition to leave undisturbed his various experiments, and"
	.DEBUG-LINE 12,1828,1
	ICALL RT-YOU-MSG,STR?252,STR?251,1
	.DEBUG-LINE 12,1829,1
	ICALL1 RT-YOUR-MSG
	.DEBUG-LINE 12,1830,1
	PRINTR "hand."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ROPE","CONTEXT","T1","T2"
	.FUNCT RT-AC-TH-ROPE,CONTEXT,T1,T2
	ASSIGNED? 'CONTEXT /?L39
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1834,1
?L39:	SET 'T1,TH-ROPE-AUX1
	.DEBUG-LINE 12,1835,1
	SET 'T2,TH-ROPE-AUX2
	.DEBUG-LINE 12,1836,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1837,1
	EQUAL? T1,-1 /FALSE
	.DEBUG-LINE 12,1840,1
	ICALL2 RT-CTHEO-PRINT,TH-ROPE
	PRINTI " is securely bound to "
	ICALL2 RT-THEO-PRINT,T1
	.DEBUG-LINE 12,1841,1
	EQUAL? T2,-1 /?L6
	.DEBUG-LINE 12,1842,1
	PRINTI " and "
	ICALL2 RT-THEO-PRINT,T2
	.DEBUG-LINE 12,1843,1
	.DEBUG-LINE 12,1844,1
?L6:	PRINTR "."
	.DEBUG-LINE 12,1845,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1846,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1847,1
	EQUAL? GL-PRSA,V?TAKE \?L11
	EQUAL? T1,-1 /?L11
	.DEBUG-LINE 12,1849,1
	ICALL2 RT-CTHEO-PRINT,TH-ROPE
	PRINTI " is securely bound to "
	ICALL2 RT-THEO-PRINT,T1
	.DEBUG-LINE 12,1850,1
	EQUAL? T2,-1 /?L13
	.DEBUG-LINE 12,1851,1
	PRINTI " and "
	ICALL2 RT-THEO-PRINT,T2
	.DEBUG-LINE 12,1852,1
?L13:	PRINTR "."
	.DEBUG-LINE 12,1853,1
?L11:	EQUAL? GL-PRSA,V?CUT \?L18
	EQUAL? GL-PRSI,TH-KNIFE /?L17
?L18:	EQUAL? GL-PRSA,V?UNTIE \FALSE
	.DEBUG-LINE 12,1856,1
?L17:	EQUAL? T1,-1 /?L19
	.DEBUG-LINE 12,1857,1
	EQUAL? T2,-1 \?L21
	.DEBUG-LINE 12,1858,1
	ICALL RT-PERFORM,V?UNTIE,T1
	.DEBUG-LINE 12,1859,1
	RTRUE
	.DEBUG-LINE 12,1860,1
?L21:	ICALL RT-CYOU-MSG,STR?254,STR?253
	.DEBUG-LINE 12,1861,1
	EQUAL? GL-PRSA,V?UNTIE \?L24
	.DEBUG-LINE 12,1862,1
	ICALL RT-CYOU-MSG,STR?200,STR?199
	JUMP ?L26
	.DEBUG-LINE 12,1864,1
?L24:	ICALL RT-CYOU-MSG,STR?256,STR?255
	.DEBUG-LINE 12,1865,1
?L26:	ICALL2 RT-THEO-PRINT,T1
	.DEBUG-LINE 12,1866,1
	EQUAL? T2,-1 /?L27
	.DEBUG-LINE 12,1867,1
	PRINTI " and "
	ICALL2 RT-THEO-PRINT,T2
	.DEBUG-LINE 12,1868,1
?L27:	PRINTI ", and"
	.DEBUG-LINE 12,1869,1
	ICALL RT-YOU-MSG,STR?110,STR?109
	.DEBUG-LINE 12,1870,1
	PRINTI "left holding the rope."
	CRLF
	.DEBUG-LINE 12,1871,1
	EQUAL? GL-PLACE-CUR,RM-LAIR \?L30
	EQUAL? CH-MORIARTY,T1,T2 \?L30
	FSET? CH-MORIARTY,FL-ASLEEP /?L30
	.DEBUG-LINE 12,1874,1
	CRLF
	CRLF
	PRINTI "Bad move. As soon as he is free, Moriarty unlocks his desk and pulls out a pistol. ""Thank you for releasing me, gentlemen,"" he says, waving the gun at you. ""Very sporting of you."" He glances at his pocketwatch. ""We shouldn't have too long to wait."" Minutes later you hear newsboys running through the streets shouting about the resignation of the Prime Minister."
	CRLF
	.DEBUG-LINE 12,1880,1
	ICALL1 RT-QSR
	.DEBUG-LINE 12,1881,1
?L30:	SET 'TH-ROPE-AUX1,-1
	.DEBUG-LINE 12,1882,1
	FCLEAR T1,FL-LOCKED
	.DEBUG-LINE 12,1883,1
	EQUAL? T2,-1 /?L33
	.DEBUG-LINE 12,1884,1
	SET 'TH-ROPE-AUX2,-1
	.DEBUG-LINE 12,1885,1
	FCLEAR T2,FL-LOCKED
	.DEBUG-LINE 12,1886,1
?L33:	MOVE TH-ROPE,GL-WINNER
	RTRUE
	.DEBUG-LINE 12,1888,1
?L19:	ICALL1 RT-CTHEO-PRINT
	.DEBUG-LINE 12,1889,1
	PRINTR "isn't tied to anyone."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LIQUID","CONTEXT"
	.FUNCT RT-AC-TH-LIQUID,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1893,1
?L8:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1894,1
	PRINTR "It's a clear, colourless liquid."
	.DEBUG-LINE 12,1895,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1896,1
	EQUAL? GL-PRSA,V?SHOOT \?L4
	.DEBUG-LINE 12,1897,1
	PRINTR "Sorry, you missed."
	.DEBUG-LINE 12,1898,1
?L4:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 12,1899,1
	CALL2 RT-HOLMES-HITS,TH-LIQUID >STACK
	RSTACK
	.DEBUG-LINE 12,1900,1
?L5:	EQUAL? GL-PRSA,V?SMELL \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,1902,1
	CALL2 RT-HOLMES-HITS,TH-LIQUID >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SYRINGE"
	.FUNCT RT-AC-TH-SYRINGE
	.DEBUG-LINE 12,1906,1
	EQUAL? GL-PRSA,V?SHOOT \?L1
	.DEBUG-LINE 12,1907,1
	PRINT K-ANNIE-OAKELEY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1908,1
?L1:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,1909,1
	CALL2 RT-HOLMES-HITS,TH-SYRINGE >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MOROCCO-CASE"
	.FUNCT RT-AC-TH-MOROCCO-CASE
	.DEBUG-LINE 12,1913,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,1914,1
	FSET? CH-HOLMES,FL-ASLEEP \FALSE
	.DEBUG-LINE 12,1915,1
	ICALL2 RT-HOLMES-HITS,TH-MOROCCO-CASE
	.DEBUG-LINE 12,1916,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-DEAD-PIGEON"
	.FUNCT RT-AC-TH-DEAD-PIGEON
	.DEBUG-LINE 12,1920,1
	EQUAL? GL-PRSA,V?DROP,V?RELEASE,V?THROW \FALSE
	EQUAL? GL-PRSO,TH-DEAD-PIGEON \FALSE
	.DEBUG-LINE 12,1922,1
	PRINTI "Thud."
	CRLF
	.DEBUG-LINE 12,1923,1
	MOVE TH-DEAD-PIGEON,GL-PLACE-CUR
	.DEBUG-LINE 12,1924,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PIGEONS","CONTEXT"
	.FUNCT RT-AC-TH-PIGEONS,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1928,1
?L8:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1929,1
	PRINTR "The pigeons strut around the square as if they own it."
	.DEBUG-LINE 12,1931,1
?L1:	EQUAL? CONTEXT,K-M-WINNER \?L3
	.DEBUG-LINE 12,1932,1
	ICALL2 RT-CTHEO-PRINT,TH-PIGEONS
	.DEBUG-LINE 12,1933,1
	PRINTR " coo in response."
	.DEBUG-LINE 12,1934,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1935,1
	EQUAL? GL-PRSA,V?TAKE \?L5
	EQUAL? GL-PRSO,TH-PIGEONS \?L5
	.DEBUG-LINE 12,1937,1
	ICALL2 RT-CTHEO-PRINT,TH-PIGEONS
	.DEBUG-LINE 12,1938,1
	PRINTR " scurry out of reach."
	.DEBUG-LINE 12,1939,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	EQUAL? GL-PRSO,TH-PIGEONS \FALSE
	.DEBUG-LINE 12,1941,1
	ICALL RT-SHOOT-BIRDS,TH-PIGEONS,STR?257
	.DEBUG-LINE 12,1942,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SHOOT-BIRDS","THING","STR"
	.FUNCT RT-SHOOT-BIRDS,THING,STR
	.DEBUG-LINE 12,1945,1
	ICALL2 RT-CTHEO-PRINT,THING
	PRINTI " all fly up into the air at the sound of the gunshot. Fortunately, none of them was hit. They soon land and resume "
	PRINT STR
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RED-GLASS","CONTEXT"
	.FUNCT RT-AC-TH-RED-GLASS,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 12,1951,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,1952,1
	.DEBUG-LINE 12,1953,1
	PRINTR "It's just a worthless bauble."
	.DEBUG-LINE 12,1954,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,1955,1
	EQUAL? GL-PRSA,V?SHOOT \?L4
	.DEBUG-LINE 12,1956,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,1957,1
?L4:	EQUAL? GL-PRSA,V?TAKE \FALSE
	IN? TH-RUBY,CH-SHERMAN \FALSE
	.DEBUG-LINE 12,1959,1
	ICALL RT-IMPOLITE-MSG,STR?195,STR?194
	.DEBUG-LINE 12,1960,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BED","WHO"
	.FUNCT RT-AC-TH-BED,WHO
	.DEBUG-LINE 12,1964,1
	EQUAL? GL-PRSA,V?ENTER \?L1
	.DEBUG-LINE 12,1965,1
	PRINT K-NO-RESTING-MSG
	.DEBUG-LINE 12,1966,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,1967,1
?L1:	EQUAL? GL-PRSA,V?LOOK-UNDER \FALSE
	.DEBUG-LINE 12,1968,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 12,1969,1
	EQUAL? WHO,CH-HOLMES \?L4
	.DEBUG-LINE 12,1970,1
	PRINTR "Holmes gives you a swift kick in the rear and says, ""Watson! There are much more important matters afoot."""
	.DEBUG-LINE 12,1973,1
?L4:	EQUAL? WHO,CH-WIGGINS \?L6
	.DEBUG-LINE 12,1974,1
	PRINTR "Wiggins says, ""Would you get yer bleedin' arse in gear."""
	.DEBUG-LINE 12,1977,1
	.DEBUG-LINE 12,1978,1
?L6:	PRINTR "Looking for monsters?"
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MATCHBOOK"
	.FUNCT RT-AC-TH-MATCHBOOK
	.DEBUG-LINE 12,1982,1
	ZERO? GL-NOW-PRSI? \?L17
	.DEBUG-LINE 12,1983,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON \?L3
	.DEBUG-LINE 12,1984,1
	CRLF
	PRINTI "Tired of your dull, boring job? Tired of the whole Victorian era? Become a detective! Apply now to the LESTRADE school of sleuthing. In just three short days, Inspector G. Lestrade will teach you everything he knows of the art of detection. Here are just some of the things you'll learn."
	CRLF
	CRLF
	PRINTI "*** Fifteen new and exciting ways to"
	ICALL1 RT-WRAP-PRINT
	PRINTI "say ""'Ullo! Wot's this?"""
	CRLF
	PRINTI "*** Modern obfuscatory locution"
	ICALL1 RT-WRAP-PRINT
	PRINTI "eschewel techniques."
	CRLF
	PRINTI "*** How to insult private detectives."
	CRLF
	CRLF
	PRINTR "Included in your tuition is an official Scotland Yard notebook, and a brand new bobby pin. Just send twenty-five pounds to the LESTRADE, that's L-E-S-T-R-A-D-E school of sleuthing. Act now, and the Inspector will tell you how he knows that people are guilty simply by looking at them."
	.DEBUG-LINE 12,2000,1
?L3:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,2002,1
	FSET? GL-PRSI,FL-LIGHTED \?L9
	FSET? GL-PRSI,FL-BURNABLE /?L8
?L9:	EQUAL? GL-PRSI,TH-PIPE \?L6
	FSET? TH-TOBACCO,FL-LIGHTED \?L6
	.DEBUG-LINE 12,2006,1
?L8:	ICALL2 RT-CTHEO-PRINT,TH-MATCHBOOK
	PRINTI " catches fire."
	CRLF
	.DEBUG-LINE 12,2007,1
	FSET TH-MATCHBOOK,FL-LIGHTED
	.DEBUG-LINE 12,2008,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-MATCHBOOK-OUT,STACK >STACK
	RSTACK
	.DEBUG-LINE 12,2011,1
?L6:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 12,2012,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 12,2013,1
	PRINTR "burning."
	.DEBUG-LINE 12,2015,1
?L17:	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	EQUAL? GL-PRSO,TH-MATCH /FALSE
	.DEBUG-LINE 12,2017,1
	CALL2 RT-CANT-PUT-IN-ON-MSG,TH-MATCHBOOK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PICTURES","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-PICTURES,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
?L7:	ASSIGNED? 'CLASS /?L8
	SET 'CLASS,0
	.DEBUG-LINE 12,2021,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2022,1
	IXCALL PRINT-SDESC,STR?258,CLASS,0,1
	.DEBUG-LINE 12,2023,1
	RTRUE
	.DEBUG-LINE 12,2024,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 12,2025,1
	PRINTR "They look just like some of your relatives."
	.DEBUG-LINE 12,2026,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2027,1
	EQUAL? GL-PRSA,V?LOOK-BEHIND \FALSE
	.DEBUG-LINE 12,2028,1
	PRINTR "Thorough, aren't you? There's nothing there."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CLUE-BOOK","CONTEXT"
	.FUNCT RT-AC-TH-CLUE-BOOK,CONTEXT
	ASSIGNED? 'CONTEXT /?L21
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2034,1
?L21:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2035,1
	.DEBUG-LINE 12,2036,1
	PRINTR "It looks like a very old book."
	.DEBUG-LINE 12,2037,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2038,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,2039,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE \?L5
	.DEBUG-LINE 12,2040,1
	FSET? TH-CLUE-BOOK,FL-OPENED \?L7
	.DEBUG-LINE 12,2041,1
	ICALL1 RT-READ-CLUE-BOOK
	RTRUE
	.DEBUG-LINE 12,2043,1
	.DEBUG-LINE 12,2044,1
?L7:	PRINTR "The title is, ""Secret Writing and Invisible Inks."""
	.DEBUG-LINE 12,2045,1
?L5:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L10
	.DEBUG-LINE 12,2046,1
	FSET? TH-CLUE-BOOK,FL-OPENED \?L11
	.DEBUG-LINE 12,2047,1
	PRINTR "The pages are yellowed with age."
	.DEBUG-LINE 12,2049,1
?L11:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,2050,1
	ICALL2 RT-WOULD-HAVE-TO-MSG,STR?259
	.DEBUG-LINE 12,2051,1
	.DEBUG-LINE 12,2052,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2053,1
?L10:	EQUAL? GL-PRSA,V?OPEN \?L14
	.DEBUG-LINE 12,2054,1
	FSET? TH-CLUE-BOOK,FL-OPENED \?L15
	.DEBUG-LINE 12,2055,1
	PRINTR "The book is already open."
	.DEBUG-LINE 12,2057,1
?L15:	FSET TH-CLUE-BOOK,FL-OPENED
	.DEBUG-LINE 12,2058,1
	PRINTR "The book falls open to the introduction."
	.DEBUG-LINE 12,2059,1
?L14:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \FALSE
	.DEBUG-LINE 12,2060,1
	PRINTR "Perfect example of a typically repressive Victorian mentality."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BOOK-PAGE","CONTEXT"
	.FUNCT RT-AC-TH-BOOK-PAGE,CONTEXT
	ASSIGNED? 'CONTEXT /?L13
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2065,1
?L13:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2066,1
	.DEBUG-LINE 12,2067,1
	PRINTR "It has writing on it."
	.DEBUG-LINE 12,2068,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2069,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE \?L4
	.DEBUG-LINE 12,2070,1
	FSET? TH-CLUE-BOOK,FL-OPENED \?L5
	.DEBUG-LINE 12,2071,1
	ICALL1 RT-READ-CLUE-BOOK
	RTRUE
	.DEBUG-LINE 12,2073,1
?L5:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,2074,1
	ICALL2 RT-WOULD-HAVE-TO-MSG,STR?108
	.DEBUG-LINE 12,2075,1
	.DEBUG-LINE 12,2076,1
	PRINTR "the book first."
	.DEBUG-LINE 12,2078,1
?L4:	EQUAL? GL-PRSA,V?FLIP,V?TURN \FALSE
	.DEBUG-LINE 12,2079,1
	FSET? TH-CLUE-BOOK,FL-OPENED \?L9
	.DEBUG-LINE 12,2080,1
	PRINTR "A quick review of the remainder of the book reveals nothing interesting."
	.DEBUG-LINE 12,2083,1
?L9:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,2084,1
	ICALL2 RT-WOULD-HAVE-TO-MSG,STR?108
	.DEBUG-LINE 12,2085,1
	.DEBUG-LINE 12,2086,1
	PRINTR "the book first."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-READ-CLUE-BOOK"
	.FUNCT RT-READ-CLUE-BOOK
	.DEBUG-LINE 12,2089,1
	PRINTI "A few underlined sentences catch your eye."
	CRLF
	CRLF
	PRINTI """Invisible writing has a long and honorable history. It is used primarily when it is felt that a code or cipher may be too easily broken."""
	CRLF
	CRLF
	PRINTR """Most invisible inks are somewhat sticky to the touch, and virtually all of them become visible when exposed to moderate heat."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BANK-OF-CANDLES"
	.FUNCT RT-AC-TH-BANK-OF-CANDLES
	.DEBUG-LINE 12,2100,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,2101,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,2102,1
	.DEBUG-LINE 12,2105,1
	PRINTR "After a moment's reflection you decide to leave undisturbed the offerings that others have left behind."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PRAMS"
	.FUNCT RT-AC-TH-PRAMS
	.DEBUG-LINE 12,2109,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK \?L3
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \FALSE
	.DEBUG-LINE 12,2111,1
	.DEBUG-LINE 12,2113,1
?L3:	PRINTR "The nannies move the prams beyond your reach and glare at you menacingly."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PARK-FLOWERS","CONTEXT"
	.FUNCT RT-AC-TH-PARK-FLOWERS,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2117,1
?L8:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2118,1
	.DEBUG-LINE 12,2121,1
	PRINTR "You see daisies, petunias, roses, peonies, marigolds, and a host of golden daffodils."
	.DEBUG-LINE 12,2122,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2123,1
	EQUAL? GL-PRSA,V?TAKE \?L4
	.DEBUG-LINE 12,2124,1
	.DEBUG-LINE 12,2125,1
	PRINTR "Please don't pick the flowers."
	.DEBUG-LINE 12,2126,1
?L4:	EQUAL? GL-PRSA,V?EAT \?L5
	.DEBUG-LINE 12,2127,1
	PRINTR "Please don't eat the daisies."
	.DEBUG-LINE 12,2128,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2129,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ARCH","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-ARCH,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
?L7:	ASSIGNED? 'CLASS /?L8
	SET 'CLASS,0
	.DEBUG-LINE 12,2133,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2134,1
	IXCALL PRINT-SDESC,STR?260,CLASS,0,0
	.DEBUG-LINE 12,2135,1
	RTRUE
	.DEBUG-LINE 12,2136,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 12,2137,1
	.DEBUG-LINE 12,2138,1
	PRINTR "It's a large triumphal arch, surmounted by a bronze chariot."
	.DEBUG-LINE 12,2139,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2140,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2141,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SHAFT"
	.FUNCT RT-AC-TH-SHAFT
	.DEBUG-LINE 12,2145,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-DOWN /?L3
	EQUAL? GL-PRSA,V?SEARCH \?L1
	.DEBUG-LINE 12,2146,1
?L3:	PRINTR "It's a long way down."
	.DEBUG-LINE 12,2147,1
?L1:	EQUAL? GL-PRSA,V?ENTER,V?LEAP \?L4
	.DEBUG-LINE 12,2148,1
	PRINT K-SUICIDE-MSG
	.DEBUG-LINE 12,2149,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2150,1
?L4:	EQUAL? GL-PRSA,V?PUT \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 12,2152,1
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON /FALSE
	.DEBUG-LINE 12,2155,1
	REMOVE GL-PRSO
	.DEBUG-LINE 12,2156,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 12,2157,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " disappear"
	.DEBUG-LINE 12,2158,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,2159,1
	PRINTR " into the shaft. A long time later you hear a faint ""thud."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-FIREPLACE","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-FIREPLACE,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L19
	SET 'CONTEXT,0
?L19:	ASSIGNED? 'CLASS /?L20
	SET 'CLASS,0
	.DEBUG-LINE 12,2163,1
?L20:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2164,1
	XCALL PRINT-SDESC,STR?261,CLASS,0,0 >STACK
	RSTACK
	.DEBUG-LINE 12,2165,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2166,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	.DEBUG-LINE 12,2167,1
	PRINTR "In the fireplace is a roaring fire that would surely consume anything you put into it."
	.DEBUG-LINE 12,2169,1
?L4:	EQUAL? GL-PRSA,V?ENTER,V?LEAP \?L5
	.DEBUG-LINE 12,2170,1
	PRINT K-SUICIDE-MSG
	.DEBUG-LINE 12,2171,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2172,1
?L5:	EQUAL? GL-PRSA,V?PUT \?L6
	EQUAL? GL-PRSI,PSEUDO-OBJECT \?L6
	.DEBUG-LINE 12,2174,1
	FSET? GL-PRSO,FL-BODYPART \?L7
	.DEBUG-LINE 12,2175,1
	PRINT K-HOT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,2176,1
?L7:	IN? GL-PRSO,GLOBAL-OBJECTS \?L9
	.DEBUG-LINE 12,2177,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 12,2178,1
	RTRUE
	.DEBUG-LINE 12,2179,1
?L9:	EQUAL? GL-PRSO,TH-ETHERIUM-AMPOULE \?L10
	FSET? GL-PRSO,FL-BROKEN /?L10
	.DEBUG-LINE 12,2181,1
	ICALL RT-PERFORM,V?MUNG,GL-PRSO
	.DEBUG-LINE 12,2182,1
	RTRUE
	.DEBUG-LINE 12,2183,1
?L10:	CALL RT-META-IN?,TH-ETHERIUM-AMPOULE,GL-PRSO >STACK
	ZERO? STACK /?L11
	FSET? TH-ETHERIUM-AMPOULE,FL-BROKEN /?L11
	.DEBUG-LINE 12,2185,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " disappear"
	.DEBUG-LINE 12,2186,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,2187,1
	PRINTI " into the fire, which soon reaches the etherium."
	.DEBUG-LINE 12,2189,1
	ICALL RT-PERFORM,V?BURN-WITH,TH-ETHERIUM-AMPOULE
	.DEBUG-LINE 12,2190,1
	RTRUE
	.DEBUG-LINE 12,2192,1
?L11:	REMOVE GL-PRSO
	.DEBUG-LINE 12,2193,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 12,2194,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " disappear"
	.DEBUG-LINE 12,2195,1
	ICALL2 RT-S-NOS-MSG,GL-PRSO
	.DEBUG-LINE 12,2196,1
	PRINTI " into the fire and"
	.DEBUG-LINE 12,2197,1
	ICALL2 RT-IS-ARE-MSG,GL-PRSO
	.DEBUG-LINE 12,2198,1
	PRINTI "immediately consumed."
	CRLF
	.DEBUG-LINE 12,2199,1
	EQUAL? GL-PRSO,CH-TRAINED-PIGEON \TRUE
	.DEBUG-LINE 12,2200,1
	ICALL1 RT-KILL-PIGEON
	.DEBUG-LINE 12,2201,1
	RTRUE
	.DEBUG-LINE 12,2202,1
?L6:	EQUAL? GL-PRSA,V?REACH-IN \?L16
	.DEBUG-LINE 12,2203,1
	PRINT K-HOT-MSG
	.DEBUG-LINE 12,2204,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2205,1
?L16:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2206,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GAS-LIGHT","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-GAS-LIGHT,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
?L7:	ASSIGNED? 'CLASS /?L8
	SET 'CLASS,0
	.DEBUG-LINE 12,2210,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2211,1
	XCALL PRINT-SDESC,STR?262,CLASS,0,0,0 >STACK
	RSTACK
	.DEBUG-LINE 12,2212,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2213,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L4
	.DEBUG-LINE 12,2214,1
	.DEBUG-LINE 12,2215,1
	PRINTR "The gas light is out of reach."
	.DEBUG-LINE 12,2216,1
?L4:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2217,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CHARIOT","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-CHARIOT,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
?L7:	ASSIGNED? 'CLASS /?L8
	SET 'CLASS,0
	.DEBUG-LINE 12,2221,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2222,1
	XCALL PRINT-SDESC,STR?263,CLASS,0,0 >STACK
	RSTACK
	.DEBUG-LINE 12,2223,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2224,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L4
	.DEBUG-LINE 12,2225,1
	.DEBUG-LINE 12,2226,1
	PRINTR "The chariot is out of reach."
	.DEBUG-LINE 12,2227,1
?L4:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2228,1
	PRINT K-ANNIE-OAKELEY-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-JEWEL-CASE","CONTEXT"
	.FUNCT RT-AC-TH-JEWEL-CASE,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2232,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2233,1
	.DEBUG-LINE 12,2235,1
	PRINTR "The case is bent and twisted where the thief attacked it with the mace."
	.DEBUG-LINE 12,2236,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2237,1
	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \FALSE
	.DEBUG-LINE 12,2239,1
	.DEBUG-LINE 12,2240,1
	PRINTR "It's been wiped clean."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ELIZAS-MOUTH","CONTEXT"
	.FUNCT RT-AC-TH-ELIZAS-MOUTH,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2244,1
?L10:	EQUAL? GL-PRSA,V?SHOOT \?L1
	ZERO? GL-NOW-PRSI? \?L1
	.DEBUG-LINE 12,2246,1
	PUTP CH-ELIZA-DOOLITTLE,P?OBJ-NOUN,W?GIRL
	.DEBUG-LINE 12,2247,1
	PUTP CH-ELIZA-DOOLITTLE,P?OBJ-ADJ,0
	.DEBUG-LINE 12,2248,1
	ICALL RT-PERFORM,V?SHOOT,CH-ELIZA-DOOLITTLE
	.DEBUG-LINE 12,2249,1
	RTRUE
	.DEBUG-LINE 12,2250,1
?L1:	EQUAL? GL-PRSA,V?PUT \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 12,2253,1
	FSET? TH-ELIZAS-MOUTH,FL-OPENED /?L5
	.DEBUG-LINE 12,2254,1
	ICALL1 RT-CTHEI-PRINT
	PRINTR " is not open."
	.DEBUG-LINE 12,2255,1
?L5:	EQUAL? GL-PRSO,TH-ORANGE-PILL,TH-YELLOW-PILL \?L6
	.DEBUG-LINE 12,2256,1
	CALL2 RT-CURE-ELIZA,GL-PRSO >STACK
	RSTACK
	.DEBUG-LINE 12,2257,1
?L6:	FSET? GL-PRSO,FL-FOOD /?L7
	.DEBUG-LINE 12,2258,1
	PRINTI "It's hard to imagine that "
	ICALL1 RT-A-PRINT
	.DEBUG-LINE 12,2260,1
	PRINTR " would do your patient much good."
	.DEBUG-LINE 12,2261,1
?L7:	CALL RT-ROOM-IN-ON-MSG?,GL-PRSO,GL-PRSI >STACK
	ZERO? STACK \TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RUBBINGS","CONTEXT"
	.FUNCT RT-AC-TH-RUBBINGS,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2274,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2275,1
	PRINTR "They are brass rubbings made from various inscriptions around the abbey."
	.DEBUG-LINE 12,2278,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2279,1
	EQUAL? GL-PRSA,V?READ \FALSE
	.DEBUG-LINE 12,2280,1
	ICALL2 RT-AC-TH-RUBBINGS,K-M-DESCFCN
	.DEBUG-LINE 12,2281,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SOFA"
	.FUNCT RT-AC-TH-SOFA
	.DEBUG-LINE 12,2285,1
	EQUAL? GL-PRSA,V?ENTER \FALSE
	.DEBUG-LINE 12,2286,1
	PRINT K-NO-RESTING-MSG
	.DEBUG-LINE 12,2287,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MARQUEES","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-MARQUEES,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
?L6:	ASSIGNED? 'CLASS /?L7
	SET 'CLASS,0
	.DEBUG-LINE 12,2291,1
?L7:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2292,1
	IXCALL PRINT-SDESC,STR?264,CLASS,0,1
	.DEBUG-LINE 12,2293,1
	RTRUE
	.DEBUG-LINE 12,2294,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN /?L4
	ZERO? CONTEXT \FALSE
	EQUAL? GL-PRSA,V?READ,V?LOOK-INSIDE,V?LOOK-ON \FALSE
	.DEBUG-LINE 12,2297,1
?L4:	GET GL-QUOTES,K-SIGN-MARQUEES >GL-WINDOW
	.DEBUG-LINE 12,2298,1
	ICALL2 RT-WINDOW,GL-WINDOW
	.DEBUG-LINE 12,2299,1
	SET 'GL-WINDOW,0
	.DEBUG-LINE 12,2300,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SUPPORTS","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-SUPPORTS,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
?L6:	ASSIGNED? 'CLASS /?L7
	SET 'CLASS,0
	.DEBUG-LINE 12,2304,1
?L7:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2305,1
	XCALL PRINT-SDESC,STR?265,CLASS,0,1 >STACK
	RSTACK
	.DEBUG-LINE 12,2306,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2307,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2308,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ASH","CONTEXT"
	.FUNCT RT-AC-TH-ASH,CONTEXT
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2312,1
?L9:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2313,1
	PRINTR "It is dark, almost black, in colour, and quite flakey."
	.DEBUG-LINE 12,2314,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2315,1
	EQUAL? GL-PRSA,V?BLOW-INTO,V?SHOOT \?L4
	.DEBUG-LINE 12,2316,1
	REMOVE TH-ASH
	.DEBUG-LINE 12,2317,1
	ICALL2 RT-CTHEO-PRINT,TH-ASH
	PRINTR " scatters and disappears."
	.DEBUG-LINE 12,2318,1
?L4:	EQUAL? GL-PRSA,V?HAUL \?L5
	.DEBUG-LINE 12,2319,1
	PRINTR "Good idea. Let's get the flake out of here."
	.DEBUG-LINE 12,2320,1
?L5:	EQUAL? GL-PRSA,V?KISS \?L6
	.DEBUG-LINE 12,2321,1
	PRINT K-PROFANITY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,2322,1
?L6:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 12,2323,1
	REMOVE TH-ASH
	.DEBUG-LINE 12,2324,1
	PRINTI "As soon as"
	.DEBUG-LINE 12,2325,1
	ICALL RT-YOU-MSG,STR?234,STR?233
	.DEBUG-LINE 12,2326,1
	PRINTR "to touch the ash, it crumbles and disappears."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CIGARETTE"
	.FUNCT RT-AC-TH-CIGARETTE
	.DEBUG-LINE 12,2330,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2331,1
	PRINT K-ANNIE-OAKELEY-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TURBAN"
	.FUNCT RT-AC-TH-TURBAN
	.DEBUG-LINE 12,2335,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK \?L3
	EQUAL? GL-PRSA,V?LOOK-UNDER,V?LOOK-INSIDE \?L1
	.DEBUG-LINE 12,2337,1
?L3:	FSET? CH-AKBAR,FL-ASLEEP \?L4
	.DEBUG-LINE 12,2338,1
	.DEBUG-LINE 12,2339,1
	PRINTR "That's stooping pretty low."
	.DEBUG-LINE 12,2340,1
?L4:	PRINTI "The native of India pulls away from you and says, ""As you must know,"
	.DEBUG-LINE 12,2342,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L7
	.DEBUG-LINE 12,2343,1
	PRINTI " honourable sir,"
	.DEBUG-LINE 12,2344,1
?L7:	PRINTR " a man's head should never be uncovered. It is an affront to God."""
	.DEBUG-LINE 12,2346,1
?L1:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2347,1
	ICALL RT-PERFORM,V?SHOOT,CH-AKBAR
	.DEBUG-LINE 12,2348,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ANCHOR-CHAIN"
	.FUNCT RT-AC-TH-ANCHOR-CHAIN
	.DEBUG-LINE 12,2352,1
	EQUAL? GL-PRSA,V?SHOOT \?L1
	.DEBUG-LINE 12,2353,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,2354,1
?L1:	IN? CH-PLAYER,TH-BOAT /?L3
	.DEBUG-LINE 12,2355,1
	PRINT K-MUST-BE-IN-BOAT-MSG
	PRINTR "do that."
	.DEBUG-LINE 12,2356,1
?L3:	EQUAL? GL-PRSA,V?TAKE \?L4
	.DEBUG-LINE 12,2357,1
	IN? TH-ANCHOR,TH-BOAT \?L5
	.DEBUG-LINE 12,2358,1
	PRINTR "Oomph! It's too heavy to carry."
	.DEBUG-LINE 12,2360,1
?L5:	MOVE TH-ANCHOR,TH-BOAT
	.DEBUG-LINE 12,2361,1
	CALL1 RT-SAY-RAISE-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,2362,1
?L4:	EQUAL? GL-PRSA,V?RAISE,V?HAUL,V?WEIGH /?L9
	EQUAL? GL-PRSA,V?PULL \FALSE
	.DEBUG-LINE 12,2363,1
?L9:	IN? TH-ANCHOR,LG-WATER \?L10
	.DEBUG-LINE 12,2364,1
	MOVE TH-ANCHOR,TH-BOAT
	.DEBUG-LINE 12,2365,1
	CALL1 RT-SAY-RAISE-ANCHOR >STACK
	RSTACK
	.DEBUG-LINE 12,2367,1
?L10:	PRINT K-ANCHOR-ALREADY-OUT-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-LOWER-ANCHOR"
	.FUNCT RT-SAY-LOWER-ANCHOR
	.DEBUG-LINE 12,2370,1
	ICALL RT-CYOU-MSG,STR?267,STR?266
	.DEBUG-LINE 12,2371,1
	PRINTR "the anchor into the water."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SAY-RAISE-ANCHOR"
	.FUNCT RT-SAY-RAISE-ANCHOR
	.DEBUG-LINE 12,2374,1
	ICALL RT-CYOU-MSG,STR?269,STR?268
	.DEBUG-LINE 12,2375,1
	PRINTI "the anchor and "
	.DEBUG-LINE 12,2376,1
	EQUAL? GL-WINNER,CH-PLAYER \?L1
	.DEBUG-LINE 12,2377,1
	PRINTI "drop"
	JUMP ?L3
	.DEBUG-LINE 12,2379,1
?L1:	PRINTI "drops"
	.DEBUG-LINE 12,2380,1
?L3:	PRINTR " it into the boat."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WAX-OBJECT-1","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-WAX-OBJECT-1,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
?L7:	ASSIGNED? 'CLASS /?L8
	SET 'CLASS,0
	.DEBUG-LINE 12,2384,1
?L8:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2385,1
	IXCALL PRINT-SDESC,STR?270,CLASS,1,0
	.DEBUG-LINE 12,2386,1
	RTRUE
	.DEBUG-LINE 12,2387,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 12,2388,1
	PRINTI "You see nothing unusual about"
	.DEBUG-LINE 12,2389,1
	ICALL RT-CLAUSE-PRINT,K-P-NC1,K-P-NC1L
	.DEBUG-LINE 12,2390,1
	.DEBUG-LINE 12,2391,1
	PRINTR "."
	.DEBUG-LINE 12,2392,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2393,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2394,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-LIBRARY-OBJ","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-LIBRARY-OBJ,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
?L8:	ASSIGNED? 'CLASS /?L9
	SET 'CLASS,0
	.DEBUG-LINE 12,2398,1
?L9:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2399,1
	IXCALL PRINT-SDESC,STR?271,CLASS,0,1
	.DEBUG-LINE 12,2400,1
	RTRUE
	.DEBUG-LINE 12,2401,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 12,2402,1
	PRINTI "You see nothing unusual about"
	.DEBUG-LINE 12,2403,1
	ICALL RT-CLAUSE-PRINT,K-P-NC1,K-P-NC1L
	.DEBUG-LINE 12,2404,1
	.DEBUG-LINE 12,2405,1
	PRINTR "."
	.DEBUG-LINE 12,2406,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2407,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?LOOK-OUTSIDE,V?LOOK-THRU-SWP /?L6
	EQUAL? GL-PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?LOOK-ON /?L6
	EQUAL? GL-PRSA,V?LOOK-THRU,V?SEARCH,V?READ \FALSE
	.DEBUG-LINE 12,2409,1
?L6:	PRINTI "You see nothing "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 12,2411,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RAILING"
	.FUNCT RT-AC-TH-RAILING
	.DEBUG-LINE 12,2415,1
	EQUAL? GL-PRSA,V?CLIMB-OVER \?L1
	.DEBUG-LINE 12,2416,1
	PRINT K-SUICIDE-MSG
	.DEBUG-LINE 12,2417,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2418,1
?L1:	EQUAL? GL-PRSA,V?CLIMB-ON \FALSE
	.DEBUG-LINE 12,2419,1
	.DEBUG-LINE 12,2421,1
	PRINTR "It's much too dangerous. Besides, it wouldn't bring you any closer to the clapper."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-OPIUM-GAS","CONTEXT"
	.FUNCT RT-AC-TH-OPIUM-GAS,CONTEXT
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2425,1
?L9:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2426,1
	.DEBUG-LINE 12,2427,1
	PRINTR "The fumes hang thick in the air."
	.DEBUG-LINE 12,2428,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2429,1
	EQUAL? GL-PRSA,V?SMELL \?L4
	.DEBUG-LINE 12,2430,1
	PRINT K-DIZZY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 12,2431,1
?L4:	EQUAL? GL-PRSA,V?BUY,V?BUY-FROM,V?ASK-FOR /?L6
	EQUAL? GL-WINNER,CH-DENKEEPER \?L5
	EQUAL? GL-PRSA,V?ASK-FOR,V?GIVE \?L5
	.DEBUG-LINE 12,2434,1
?L6:	PRINTR "The proprietor eyes you for a moment and says, ""A gent the likes of you doesn't buy what I 'ave to sell, mate. What is it you really want?"""
	.DEBUG-LINE 12,2437,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2438,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PRODUCE","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-PRODUCE,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L16
	SET 'CONTEXT,0
?L16:	ASSIGNED? 'CLASS /?L17
	SET 'CLASS,0
	.DEBUG-LINE 12,2442,1
?L17:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 12,2443,1
	IXCALL PRINT-SDESC,STR?272,CLASS,0,1
	.DEBUG-LINE 12,2444,1
	RTRUE
	.DEBUG-LINE 12,2445,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L3
	.DEBUG-LINE 12,2446,1
	.DEBUG-LINE 12,2448,1
	PRINTR "All the produce looks good. But the giant peas look especially delicious."
	.DEBUG-LINE 12,2449,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2450,1
	EQUAL? GL-PRSA,V?SMELL \?L5
	.DEBUG-LINE 12,2451,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L6
	.DEBUG-LINE 12,2452,1
	PRINTR "The produce smells country fresh."
	.DEBUG-LINE 12,2454,1
	.DEBUG-LINE 12,2456,1
?L6:	PRINTR "The produce smells like it's been there a while."
	.DEBUG-LINE 12,2457,1
?L5:	EQUAL? GL-PRSA,V?BUY,V?BUY-FROM \?L9
	.DEBUG-LINE 12,2458,1
	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,W?FRUIT,W?FRUITS \?L10
	.DEBUG-LINE 12,2459,1
	PRINTI "You"
	JUMP ?L12
	.DEBUG-LINE 12,2461,1
?L10:	PRINTI "Although the giant peas look tempting, you"
	.DEBUG-LINE 12,2462,1
?L12:	PRINTR " decide to conserve your capital for more important purchases."
	.DEBUG-LINE 12,2464,1
?L9:	EQUAL? GL-PRSA,V?TAKE,V?STEAL \?L13
	.DEBUG-LINE 12,2465,1
	PRINT K-THEFT-MSG
	.DEBUG-LINE 12,2466,1
	CRLF
	RTRUE
	.DEBUG-LINE 12,2467,1
?L13:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2468,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TRINKETS","CONTEXT"
	.FUNCT RT-AC-TH-TRINKETS,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2472,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2473,1
	.DEBUG-LINE 12,2476,1
	PRINTR "They're mostly just baubles. He's obviously charging way too much for them."
	.DEBUG-LINE 12,2477,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2478,1
	EQUAL? GL-PRSA,V?BUY,V?BUY-FROM \?L4
	.DEBUG-LINE 12,2479,1
	IN? TH-TELESCOPE,CH-VENDOR \?L5
	.DEBUG-LINE 12,2480,1
	PRINTR "The vendor says, ""I've got a loverly telescope you might be interested in, guv'nor."""
	.DEBUG-LINE 12,2484,1
	.DEBUG-LINE 12,2487,1
?L5:	PRINTR "You glance at the rest of the vendor's wares and decide you can live without them."
	.DEBUG-LINE 12,2488,1
?L4:	EQUAL? GL-PRSA,V?TAKE,V?STEAL \FALSE
	.DEBUG-LINE 12,2489,1
	PRINT K-THEFT-MSG
	.DEBUG-LINE 12,2490,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GUARDS-KEYS","CONTEXT"
	.FUNCT RT-AC-TH-GUARDS-KEYS,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2494,1
?L6:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2495,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 12,2496,1
	.DEBUG-LINE 12,2497,1
	PRINTR "can't see them. They're in the guard's pocket."
	.DEBUG-LINE 12,2498,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2499,1
	EQUAL? GL-PRSA,V?LISTEN \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 12,2501,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTR " is idly jangling some keys in his pocket."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NELSON-EYE","CONTEXT"
	.FUNCT RT-AC-TH-NELSON-EYE,CONTEXT
	ASSIGNED? 'CONTEXT /?L14
	SET 'CONTEXT,0
	.DEBUG-LINE 12,2506,1
?L14:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 12,2507,1
	FSET? TH-NELSON-STATUE,FL-OPENED \FALSE
	IN? TH-RUBY,TH-NELSON-STATUE \FALSE
	.DEBUG-LINE 12,2509,1
	PRINTI " "
	PRINT K-GLINT-MSG
	.DEBUG-LINE 12,2510,1
	RTRUE
	.DEBUG-LINE 12,2512,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 12,2513,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L7
	.DEBUG-LINE 12,2514,1
	ICALL2 RT-CTHEO-PRINT,TH-NELSON-EYE
	.DEBUG-LINE 12,2515,1
	PRINTR " is too high."
	.DEBUG-LINE 12,2516,1
?L7:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L8
	.DEBUG-LINE 12,2517,1
	CALL2 RT-AC-TH-NELSON-EYE,K-M-DESCFCN >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 12,2518,1
	PRINTR "It is too high up to get a good look."
	.DEBUG-LINE 12,2519,1
?L8:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 12,2520,1
	PRINT K-ANNIE-OAKELEY-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PANELLING","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-PANELLING,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
?L4:	ASSIGNED? 'CLASS /?L5
	SET 'CLASS,0
	.DEBUG-LINE 12,2538,1
?L5:	EQUAL? CONTEXT,K-M-SDESC \FALSE
	.DEBUG-LINE 12,2539,1
	XCALL PRINT-SDESC,STR?273,CLASS,0,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-INSTRUMENTS","CONTEXT","CLASS"
	.FUNCT RT-AC-TH-INSTRUMENTS,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L4
	SET 'CONTEXT,0
?L4:	ASSIGNED? 'CLASS /?L5
	SET 'CLASS,0
	.DEBUG-LINE 12,2542,1
?L5:	EQUAL? CONTEXT,K-M-SDESC \FALSE
	.DEBUG-LINE 12,2543,1
	XCALL PRINT-SDESC,STR?274,CLASS,0,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PLAYER-BODY"
	.FUNCT RT-AC-TH-PLAYER-BODY
	.DEBUG-LINE 12,2546,1
	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,W?NOSE \FALSE
	EQUAL? GL-PRSA,V?TAKE \?L4
	EQUAL? GL-P-PRSA-WORD,W?HOLD /?L3
?L4:	EQUAL? GL-PRSA,V?STEAL \FALSE
	EQUAL? GL-P-PRSA-WORD,W?PINCH \FALSE
	.DEBUG-LINE 12,2551,1
?L3:	ICALL RT-PERFORM,V?TAKE,TH-BREATH
	.DEBUG-LINE 12,2552,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IDENTIFY-FLOOR?","WD","OBJ","NAM"
	.FUNCT RT-IDENTIFY-FLOOR?,WD,OBJ,NAM
	ASSIGNED? 'OBJ /?L18
	SET 'OBJ,0
?L18:	GETP TH-FLOOR-ETC,P?OBJ-NOUN >NAM
	.DEBUG-LINE 13,176,1
	EQUAL? OBJ,0,TH-FLOOR-ETC \FALSE
	.DEBUG-LINE 13,178,1
	EQUAL? WD,W?FLOOR \?L4
	.DEBUG-LINE 13,179,1
	EQUAL? NAM,W?FLOOR /TRUE
	RFALSE
	.DEBUG-LINE 13,180,1
?L4:	EQUAL? WD,W?CEILING \?L8
	.DEBUG-LINE 13,181,1
	EQUAL? NAM,W?CEILING /TRUE
	RFALSE
	.DEBUG-LINE 13,182,1
?L8:	EQUAL? WD,W?SKY \?L11
	.DEBUG-LINE 13,183,1
	EQUAL? NAM,W?SKY,W?CLOUD,W?CLOUDS /TRUE
	EQUAL? NAM,W?FOG /TRUE
	RFALSE
	.DEBUG-LINE 13,184,1
?L11:	EQUAL? WD,W?GROUND \FALSE
	.DEBUG-LINE 13,185,1
	EQUAL? NAM,W?SURFACE,W?GROUND /TRUE
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"TELL-THE-FLOOR"
	.FUNCT TELL-THE-FLOOR
	.DEBUG-LINE 13,188,1
	PRINTI "the floor"
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"TELL-THE-GROUND"
	.FUNCT TELL-THE-GROUND
	.DEBUG-LINE 13,191,1
	PRINTI "the ground"
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-FLOOR-ETC","CONTEXT","INDOORS?","UP?","OBJ","NXT","NAM","THING","TOD"
	.FUNCT RT-AC-TH-FLOOR-ETC,CONTEXT,INDOORS?,UP?,OBJ,NXT,NAM,THING,TOD
	ASSIGNED? 'CONTEXT /?L68
	SET 'CONTEXT,0
?L68:	SET 'INDOORS?,0
	SET 'UP?,0
	SET 'THING,TH-FLOOR-ETC
	.DEBUG-LINE 13,195,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 13,196,1
	GETP TH-FLOOR-ETC,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?CEILING \FALSE
	EQUAL? GL-PLACE-CUR,RM-HENRY-VII-CHAPEL \FALSE
	.DEBUG-LINE 13,198,1
	PRINT K-BREATH-TAKING-MSG
	.DEBUG-LINE 13,199,1
	CRLF
	RTRUE
	.DEBUG-LINE 13,202,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L6
	.DEBUG-LINE 13,203,1
	GETP THING,P?OBJ-NOUN >STACK
	PRINTB STACK
	.DEBUG-LINE 13,204,1
	RTRUE
	.DEBUG-LINE 13,205,1
?L6:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 13,207,1
	GETP THING,P?OBJ-NOUN >NAM
	EQUAL? NAM,W?FLOOR,W?CEILING \?L8
	.DEBUG-LINE 13,209,1
	SET 'INDOORS?,1
	.DEBUG-LINE 13,210,1
?L8:	CALL2 RT-IDENTIFY-FLOOR?,W?CEILING >STACK
	ZERO? STACK \?L12
	CALL2 RT-IDENTIFY-FLOOR?,W?SKY >STACK
	ZERO? STACK /?L10
	.DEBUG-LINE 13,212,1
?L12:	SET 'UP?,1
	.DEBUG-LINE 13,213,1
?L10:	FSET? GL-PLACE-CUR,FL-INDOORS /?L16
	PUSH 1
	JUMP ?L17
?L16:	PUSH 0
?L17:	EQUAL? INDOORS?,STACK \?L14
	.DEBUG-LINE 13,214,1
	ICALL2 RT-CANT-SEE-ANY-MSG,THING
	.DEBUG-LINE 13,215,1
	RETURN 2
	.DEBUG-LINE 13,216,1
?L14:	ZERO? GL-NOW-PRSI? /?L18
	.DEBUG-LINE 13,217,1
	EQUAL? GL-PRSA,V?PUT-ON,V?PUT,V?THROW /?L21
	EQUAL? GL-PRSA,V?THROW-OVER,V?EMPTY-INTO \FALSE
	.DEBUG-LINE 13,218,1
?L21:	ZERO? UP? \?L22
	.DEBUG-LINE 13,219,1
	CALL RT-PERFORM,V?DROP,GL-PRSO >STACK
	RSTACK
	.DEBUG-LINE 13,221,1
?L22:	PRINTI "Despite your best efforts, "
	ICALL1 RT-THEO-PRINT
	PRINTR " just won't stay up."
	.DEBUG-LINE 13,223,1
?L18:	ZERO? UP? \?L26
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 13,224,1
	EQUAL? GL-PRSA,V?CROSS \?L27
	.DEBUG-LINE 13,225,1
	CALL1 V-WALK-AROUND >STACK
	RSTACK
	.DEBUG-LINE 13,226,1
?L27:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \FALSE
	.DEBUG-LINE 13,227,1
	FSET? THING,FL-HAS-DESCFCN \?L30
	GETP THING,P?ACTION >STACK
	CALL2 STACK,K-M-DESCFCN >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 13,230,1
?L30:	ICALL2 RT-REMOVE-ALL,TH-X-OBJECT
	.DEBUG-LINE 13,231,1
	FIRST? GL-PLACE-CUR >OBJ /?L69
	JUMP ?L35
	.DEBUG-LINE 13,233,1
?L33:	ZERO? OBJ /?L35
	.DEBUG-LINE 13,234,1
?L69:	NEXT? OBJ >NXT /?L38
	.DEBUG-LINE 13,235,1
?L38:	FSET? OBJ,FL-NODESC /?L41
	FSET? OBJ,FL-ALIVE \?L42
	FSET? OBJ,FL-ASLEEP \?L41
?L42:	FSET? OBJ,FL-TAKEABLE /?L39
	FSET? OBJ,FL-TRYTAKE /?L39
	.DEBUG-LINE 13,240,1
?L41:	MOVE OBJ,TH-X-OBJECT
	.DEBUG-LINE 13,241,1
?L39:	SET 'OBJ,NXT
	JUMP ?L33
	.DEBUG-LINE 13,244,1
?L35:	FIRST? GL-PLACE-CUR >STACK \?L45
	.DEBUG-LINE 13,245,1
	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 13,246,1
	ICALL2 RT-PRINT-CONTENTS-2,GL-PLACE-CUR
	JUMP ?L47
	.DEBUG-LINE 13,248,1
?L45:	PRINTI "There is nothing very "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 13,250,1
?L47:	PRINTI " on "
	ICALL2 RT-THEO-PRINT,THING
	PRINTI "."
	CRLF
	.DEBUG-LINE 13,251,1
	CALL RT-MOVE-ALL,TH-X-OBJECT,GL-PLACE-CUR >STACK
	RSTACK
	.DEBUG-LINE 13,252,1
?L26:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 13,253,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L50
	.DEBUG-LINE 13,254,1
	EQUAL? GL-PLACE-CUR,RM-HENRY-VII-CHAPEL \?L52
	.DEBUG-LINE 13,255,1
	ICALL2 RT-CTHEO-PRINT,THING
	PRINTR " is breathtakingly beautiful."
	.DEBUG-LINE 13,256,1
?L52:	FSET? GL-PLACE-CUR,FL-INDOORS \?L54
	.DEBUG-LINE 13,257,1
	ICALL2 RT-CTHEO-PRINT,THING
	.DEBUG-LINE 13,258,1
	PRINTR " is high above you."
	.DEBUG-LINE 13,260,1
?L54:	ICALL2 RT-CTHEO-PRINT,THING
	.DEBUG-LINE 13,261,1
	CALL1 RT-TIME-OF-DAY >TOD
	.DEBUG-LINE 13,262,1
	ZERO? TOD \?L56
	.DEBUG-LINE 13,263,1
	PRINTR " is dark and foggy."
	.DEBUG-LINE 13,264,1
?L56:	EQUAL? TOD,1 \?L58
	.DEBUG-LINE 13,265,1
	PRINTR " is foggy, but at least there's enough light to see."
	.DEBUG-LINE 13,266,1
?L58:	EQUAL? TOD,2 \?L59
	.DEBUG-LINE 13,267,1
	PRINTR " is pretty light."
	.DEBUG-LINE 13,268,1
?L59:	EQUAL? TOD,3 \FALSE
	.DEBUG-LINE 13,269,1
	PRINTR " is getting darker."
	.DEBUG-LINE 13,270,1
?L50:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 13,271,1
	FSET? GL-PLACE-CUR,FL-INDOORS /FALSE
	.DEBUG-LINE 13,272,1
	PRINTR "The bullet disappears into the air."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WALL","CONTEXT","OBJ","NAM","ADJ"
	.FUNCT RT-AC-TH-WALL,CONTEXT,OBJ,NAM,ADJ
	ASSIGNED? 'CONTEXT /?L77
	SET 'CONTEXT,0
?L77:	SET 'OBJ,TH-WALL
	GETP OBJ,P?OBJ-NOUN >NAM
	GETP OBJ,P?OBJ-ADJ >ADJ
	.DEBUG-LINE 13,389,1
	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 13,390,1
	GETP OBJ,P?OBJ-ADJ >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 13,391,1
	PRINTB OBJ
	.DEBUG-LINE 13,392,1
	PRINTI " "
	.DEBUG-LINE 13,393,1
?L3:	GETP OBJ,P?OBJ-NOUN >STACK
	PRINTB STACK
	.DEBUG-LINE 13,394,1
	RTRUE
	.DEBUG-LINE 13,395,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 13,396,1
	EQUAL? NAM,W?WALLS \?L8
	.DEBUG-LINE 13,398,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L10
	.DEBUG-LINE 13,399,1
	EQUAL? GL-PRSA,V?SHOOT \?L12
	.DEBUG-LINE 13,400,1
	PUTP OBJ,P?OBJ-NOUN,W?WALL
	.DEBUG-LINE 13,401,1
	PUTP OBJ,P?OBJ-ADJ,W?SOUTH
	.DEBUG-LINE 13,402,1
	RFALSE
	.DEBUG-LINE 13,403,1
?L12:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,404,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 13,405,1
	PRINTI "The walls are covered with pictures."
	RTRUE
	.DEBUG-LINE 13,407,1
?L10:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \?L19
	.DEBUG-LINE 13,408,1
	EQUAL? GL-PLACE-CUR,RM-INSIDE-TRAITORS-GATE \FALSE
	.DEBUG-LINE 13,409,1
	PRINTI "There are some ravens perched on the wall."
	RTRUE
	.DEBUG-LINE 13,410,1
?L19:	EQUAL? GL-PLACE-CUR,RM-TOTTENHAM-COURT-RD,RM-OXFORD-ST,RM-VICTORIA-SQUARE /FALSE
	EQUAL? GL-PLACE-CUR,RM-VICTORIA-STREET,RM-PARLIAMENT-SQUARE,RM-QUEENS-GARDENS /FALSE
	EQUAL? GL-PLACE-CUR,RM-BUCKINGHAM-PALACE,RM-DRAWBRIDGE,RM-BYWARD-TOWER /FALSE
	EQUAL? GL-PLACE-CUR,RM-OUTER-WARD,RM-TOWER-GREEN,RM-OUTSIDE-TRAITORS-GATE /FALSE
	.DEBUG-LINE 13,418,1
	PRINT K-NOT-SEE-HERE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 13,419,1
?L8:	EQUAL? ADJ,W?NORTH \?L26
	EQUAL? GL-PLACE-CUR,RM-MARYLEBONE-RD,RM-GREAT-RUSSELL-ST,RM-THREADNEEDLE-ST /?L27
	EQUAL? GL-PLACE-CUR,RM-MONUMENT,RM-OUTSIDE-TRAITORS-GATE \?L26
	.DEBUG-LINE 13,424,1
?L27:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,425,1
	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST,RM-THREADNEEDLE-ST,RM-MONUMENT \FALSE
	.DEBUG-LINE 13,427,1
	PRINT K-SIGN-HERE-MSG
	RTRUE
	.DEBUG-LINE 13,428,1
?L26:	EQUAL? ADJ,W?EAST \?L34
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY,RM-WHITEHALL \?L34
	.DEBUG-LINE 13,432,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,433,1
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \FALSE
	.DEBUG-LINE 13,434,1
	PRINT K-SIGN-HERE-MSG
	RTRUE
	.DEBUG-LINE 13,435,1
?L34:	EQUAL? ADJ,W?WEST \?L41
	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST,RM-TRAFALGAR-SQUARE,RM-PINCHIN-LANE /?L42
	EQUAL? GL-PLACE-CUR,RM-SWAN-LANE \?L41
	.DEBUG-LINE 13,440,1
?L42:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,441,1
	EQUAL? GL-PLACE-CUR,RM-SWAN-LANE \FALSE
	.DEBUG-LINE 13,442,1
	PRINT K-SIGN-HERE-MSG
	RTRUE
	.DEBUG-LINE 13,444,1
?L41:	ZERO? ADJ \?L56
	.DEBUG-LINE 13,445,1
	RANDOM 4 >ADJ
	.DEBUG-LINE 13,446,1
	EQUAL? ADJ,1 \?L52
	.DEBUG-LINE 13,446,1
	SET 'ADJ,W?NORTH
	JUMP ?L56
	.DEBUG-LINE 13,447,1
?L52:	EQUAL? ADJ,2 \?L54
	.DEBUG-LINE 13,447,1
	SET 'ADJ,W?SOUTH
	JUMP ?L56
	.DEBUG-LINE 13,448,1
?L54:	EQUAL? ADJ,3 \?L55
	.DEBUG-LINE 13,448,1
	SET 'ADJ,W?EAST
	JUMP ?L56
	.DEBUG-LINE 13,449,1
?L55:	SET 'ADJ,W?WEST
	.DEBUG-LINE 13,450,1
?L56:	FSET? GL-PLACE-CUR,FL-INDOORS \?L58
	.DEBUG-LINE 13,451,1
	EQUAL? ADJ,W?NORTH \?L60
	.DEBUG-LINE 13,452,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,453,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 13,454,1
	PRINTI "There is a large fireplace set into the north wall."
	RTRUE
	.DEBUG-LINE 13,456,1
?L60:	EQUAL? ADJ,W?SOUTH \FALSE
	.DEBUG-LINE 13,457,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 13,458,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 13,459,1
	PRINTR "There is a patriotic ""V.R."" spelled out in bullet marks on the south wall."
	.DEBUG-LINE 13,463,1
?L58:	PRINT K-NOT-SEE-HERE-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CROWDS","CONTEXT"
	.FUNCT RT-AC-TH-CROWDS,CONTEXT
	ASSIGNED? 'CONTEXT /?L29
	SET 'CONTEXT,0
	.DEBUG-LINE 13,473,1
?L29:	FSET? GL-PLACE-CUR,FL-INDOORS \?L4
	EQUAL? GL-PLACE-CUR,RM-BRITISH-MUSEUM \?L3
?L4:	FSET? GL-PLACE-CUR,FL-NO-CROWDS \?L1
	.DEBUG-LINE 13,476,1
	.DEBUG-LINE 13,477,1
?L3:	PRINTR "At last you've found some respite from the crowds."
	.DEBUG-LINE 13,478,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 13,479,1
	EQUAL? GL-PLACE-CUR,RM-FLEET-STREET \?L8
	.DEBUG-LINE 13,480,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L10
	.DEBUG-LINE 13,481,1
	PRINTR "They're all inside, hard at work."
	.DEBUG-LINE 13,483,1
?L10:	PRINTR "They hurry past you, intent on getting to their offices."
	.DEBUG-LINE 13,485,1
?L8:	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L13
	.DEBUG-LINE 13,486,1
	.DEBUG-LINE 13,487,1
	PRINTR "There are no crowds here. They're all asleep."
	.DEBUG-LINE 13,488,1
?L13:	EQUAL? GL-PLACE-CUR,RM-TOTTENHAM-COURT-RD,RM-OXFORD-ST \?L14
	.DEBUG-LINE 13,489,1
	PRINTI "The shoppers don't appear happy that the shops are closed."
	RTRUE
	.DEBUG-LINE 13,491,1
?L14:	EQUAL? GL-PLACE-CUR,RM-TRAFALGAR-SQUARE \?L15
	.DEBUG-LINE 13,492,1
	PRINTR "The people are happily feeding the pigeons."
	.DEBUG-LINE 13,493,1
?L15:	EQUAL? GL-PLACE-CUR,RM-GROSVENOR-PLACE \?L16
	.DEBUG-LINE 13,494,1
	PRINTR "The people are anxiously consulting their sight-seeing maps."
	.DEBUG-LINE 13,496,1
?L16:	EQUAL? GL-PLACE-CUR,RM-THE-STRAND \?L17
	.DEBUG-LINE 13,497,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L18
	.DEBUG-LINE 13,498,1
	PRINTR "The theatre goers are happily discussing the evening's entertainment."
	.DEBUG-LINE 13,501,1
?L18:	PRINTR "The crowds are trying to select a show to attend this evening."
	.DEBUG-LINE 13,504,1
?L17:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,2 \?L22
	.DEBUG-LINE 13,505,1
	PRINTR "They surge around you, excited about the sight-seeing they have planned for today."
	.DEBUG-LINE 13,507,1
?L22:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L24
	.DEBUG-LINE 13,508,1
	PRINTR "They nearly trample you in their eagerness to get back to their hotels before darkness falls."
	.DEBUG-LINE 13,510,1
?L24:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1 \TRUE
	.DEBUG-LINE 13,511,1
	.DEBUG-LINE 13,513,1
	.DEBUG-LINE 13,514,1
	PRINTR "They surge around you, intent on their sight-seeing."
	.DEBUG-LINE 13,515,1
?L6:	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 13,516,1
	PRINTR "There are no tourists here. They're all asleep."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-HANSOM-CABBIE","CONTEXT"
	.FUNCT RT-AC-CH-HANSOM-CABBIE,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 14,30,1
?L17:	EQUAL? CONTEXT,K-M-WINNER \?L1
	.DEBUG-LINE 14,31,1
	EQUAL? GL-PRSA,V?WAIT \?L3
	.DEBUG-LINE 14,32,1
	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,33,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,34,1
	PRINTI """Right-o."""
	CRLF
	.DEBUG-LINE 14,35,1
	SET 'TH-HANSOM-CAB-AUX2,1
	.DEBUG-LINE 14,36,1
	ICALL2 RT-ALARM-CLR,RT-I-HANSOM-LEAVE
	.DEBUG-LINE 14,37,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-HANSOM-LEAVE,STACK >STACK
	RSTACK
	.DEBUG-LINE 14,38,1
?L3:	EQUAL? GL-PRSA,V?DRIVE,V?WALK-TO \?L5
	.DEBUG-LINE 14,39,1
	CALL1 RT-CF-TH-HANSOM-CAB >STACK
	RSTACK
	.DEBUG-LINE 14,40,1
?L5:	EQUAL? GL-PRSA,V?HELLO,V?GOODBYE,V?THANK \?L6
	.DEBUG-LINE 14,41,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 14,42,1
	CALL RT-PERFORM,GL-PRSA,CH-HANSOM-CABBIE >STACK
	RSTACK
	.DEBUG-LINE 14,44,1
?L6:	PRINTR """Sorry, guv. All I does is drives a cab."""
	.DEBUG-LINE 14,45,1
?L1:	EQUAL? GL-PRSA,V?PAY \?L10
	ZERO? GL-NOW-PRSI? /?L9
?L10:	EQUAL? GL-PRSA,V?GIVE \?L8
	ZERO? GL-NOW-PRSI? /?L8
	FSET? GL-PRSO,FL-MONEY \?L8
	.DEBUG-LINE 14,50,1
?L9:	PRINTR """No thanks, guv'nor. It'll go on Mr 'Olmes's monthly account."""
	.DEBUG-LINE 14,52,1
?L8:	EQUAL? GL-PRSA,V?TELL \?L11
	ZERO? GL-NOW-PRSI? \?L11
	ZERO? GL-P-CONT \FALSE
	.DEBUG-LINE 14,56,1
?L11:	EQUAL? GL-PRSA,V?HELLO \?L12
	.DEBUG-LINE 14,57,1
	PRINTR """'Ello."""
	.DEBUG-LINE 14,58,1
?L12:	EQUAL? GL-PRSA,V?GOODBYE \?L13
	.DEBUG-LINE 14,59,1
	PRINTR """Ta ta."""
	.DEBUG-LINE 14,60,1
?L13:	EQUAL? GL-PRSA,V?THANK \?L14
	.DEBUG-LINE 14,61,1
	PRINTR """Anytime, mate."""
	.DEBUG-LINE 14,62,1
?L14:	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 14,63,1
	PRINTR """Sorry, sir. No time to chat."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-GROWLER-CABBIE","CONTEXT"
	.FUNCT RT-AC-CH-GROWLER-CABBIE,CONTEXT
	ASSIGNED? 'CONTEXT /?L13
	SET 'CONTEXT,0
	.DEBUG-LINE 14,67,1
?L13:	EQUAL? CONTEXT,K-M-WINNER \?L1
	.DEBUG-LINE 14,68,1
	EQUAL? GL-PRSA,V?WAIT \?L3
	.DEBUG-LINE 14,69,1
	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,70,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,71,1
	ICALL2 RT-CTHEO-PRINT,CH-GROWLER-CABBIE
	PRINTR " says brightly, ""Okay."""
	.DEBUG-LINE 14,72,1
?L3:	EQUAL? GL-PRSA,V?DRIVE,V?WALK-TO \?L5
	.DEBUG-LINE 14,73,1
	CALL1 RT-CF-TH-GROWLER-CAB >STACK
	RSTACK
	.DEBUG-LINE 14,75,1
?L5:	ICALL2 RT-CTHEO-PRINT,CH-GROWLER-CABBIE
	PRINTR " says brightly, ""Hello,"" and looks at you expectantly."
	.DEBUG-LINE 14,77,1
?L1:	EQUAL? GL-PRSA,V?PAY \?L9
	ZERO? GL-NOW-PRSI? /?L8
?L9:	EQUAL? GL-PRSA,V?GIVE \?L7
	ZERO? GL-NOW-PRSI? /?L7
	FSET? GL-PRSO,FL-MONEY \?L7
	.DEBUG-LINE 14,82,1
?L8:	ICALL2 RT-CTHEO-PRINT,CH-GROWLER-CABBIE
	PRINTR " says brightly, ""No thanks. I'm not in it for the money. I just like to meet new people."""
	.DEBUG-LINE 14,85,1
?L7:	EQUAL? GL-PRSA,V?TELL \?L10
	ZERO? GL-NOW-PRSI? \?L10
	ZERO? GL-P-CONT \FALSE
	.DEBUG-LINE 14,89,1
?L10:	CALL1 RT-TALK-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 14,90,1
	ICALL2 RT-CTHEO-PRINT,CH-GROWLER-CABBIE
	PRINTR " says brightly, ""Hello,"" and looks at you expectantly."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-ROOM-ID","HERE","TBL"
	.FUNCT RT-GET-ROOM-ID,HERE,TBL
	.DEBUG-LINE 14,141,1
	INTBL? HERE,CAB-ROOM-IDS,CAB-ROOM-IDS-LEN,1 >TBL \FALSE
	.DEBUG-LINE 14,142,1
	LESS? CAB-ROOM-IDS,0 \?L3
	.DEBUG-LINE 14,143,1
	SUB TBL,CAB-ROOM-IDS >STACK
	INC 'STACK
	RSTACK
	.DEBUG-LINE 14,145,1
?L3:	SUB CAB-ROOM-IDS,TBL >STACK
	INC 'STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CAB-DIST","HERE","THERE","NUM1","NUM2","PTR","TMP"
	.FUNCT RT-CAB-DIST,HERE,THERE,NUM1,NUM2,PTR,TMP
	SET 'PTR,0
	.DEBUG-LINE 14,149,1
	CALL2 RT-GET-ROOM-ID,HERE >NUM1
	.DEBUG-LINE 14,150,1
	CALL2 RT-GET-ROOM-ID,THERE >NUM2
	.DEBUG-LINE 14,155,1
	EQUAL? HERE,THERE /FALSE
	EQUAL? NUM1,NUM2 /FALSE
	.DEBUG-LINE 14,158,1
	LESS? NUM1,NUM2 \?L5
	.DEBUG-LINE 14,159,1
	SET 'TMP,NUM1
	.DEBUG-LINE 14,160,1
	SET 'NUM1,NUM2
	.DEBUG-LINE 14,161,1
	SET 'NUM2,TMP
	.DEBUG-LINE 14,162,1
?L5:	SUB NUM1,2 >NUM1
	.DEBUG-LINE 14,164,1
?L8:	LESS? NUM1,1 /?L9
	.DEBUG-LINE 14,167,1
	ADD PTR,NUM1 >PTR
	.DEBUG-LINE 14,168,1
	DEC 'NUM1
	JUMP ?L8
	.DEBUG-LINE 14,169,1
?L9:	SUB NUM2,1 >STACK
	ADD PTR,STACK >PTR
	.DEBUG-LINE 14,170,1
	GETB GL-CAB-DIST-TBL,PTR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-CAB-ARRIVE","CAB","PLACE","NUM","SCORE","AUX1"
	.FUNCT RT-I-CAB-ARRIVE,CAB,PLACE,NUM,SCORE,AUX1
	SET 'CAB,0
	SET 'PLACE,0
	.DEBUG-LINE 14,173,1
	SET 'NUM,TH-CAB-WHISTLE-AUX1
	.DEBUG-LINE 14,174,1
	SET 'PLACE,TH-CAB-WHISTLE-AUX2
	.DEBUG-LINE 14,175,1
	SET 'TH-CAB-WHISTLE-AUX1,0
	.DEBUG-LINE 14,176,1
	SET 'TH-CAB-WHISTLE-AUX2,0
	.DEBUG-LINE 14,177,1
	EQUAL? GL-PLACE-CUR,PLACE \FALSE
	EQUAL? GL-PRSA,V?WALK /FALSE
	.DEBUG-LINE 14,179,1
	EQUAL? NUM,1 \?L3
	.DEBUG-LINE 14,180,1
	SET 'CAB,TH-GROWLER-CAB
	.DEBUG-LINE 14,181,1
	SET 'SCORE,0
	.DEBUG-LINE 14,182,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,5,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-GROWLER-LEAVE,STACK
	.DEBUG-LINE 14,183,1
	ICALL2 RT-REMOVE-ALL,TH-GROWLER-CAB
	.DEBUG-LINE 14,184,1
	MOVE CH-GROWLER-CABBIE,TH-GROWLER-CAB
	.DEBUG-LINE 14,185,1
	FSET CH-GROWLER-CABBIE,FL-SEEN
	JUMP ?L6
	.DEBUG-LINE 14,189,1
?L3:	EQUAL? NUM,2 \FALSE
	.DEBUG-LINE 14,190,1
	SET 'CAB,TH-HANSOM-CAB
	.DEBUG-LINE 14,191,1
	SET 'SCORE,5
	.DEBUG-LINE 14,192,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,5,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-HANSOM-LEAVE,STACK
	.DEBUG-LINE 14,193,1
	ICALL2 RT-REMOVE-ALL,TH-HANSOM-CAB
	.DEBUG-LINE 14,194,1
	MOVE CH-HANSOM-CABBIE,TH-HANSOM-CAB
	.DEBUG-LINE 14,195,1
	FSET CH-HANSOM-CABBIE,FL-SEEN
	.DEBUG-LINE 14,198,1
?L6:	ZERO? SOUND-QUEUED? \?L7
	.DEBUG-LINE 14,199,1
	SET 'CAB-RAMP,2
	.DEBUG-LINE 14,200,1
	ICALL1 RT-S-CAB-ARRIVES
	.DEBUG-LINE 14,201,1
?L7:	CRLF
	PRINTI "A "
	ICALL2 DPRINT,CAB
	PRINTI " pulls up beside you."
	CRLF
	.DEBUG-LINE 14,202,1
	MOVE CAB,GL-PLACE-CUR
	.DEBUG-LINE 14,203,1
	EQUAL? CAB,TH-HANSOM-CAB \?L10
	.DEBUG-LINE 14,204,1
	SET 'AUX1,TH-HANSOM-CAB-AUX1
	JUMP ?L12
	.DEBUG-LINE 14,206,1
?L10:	SET 'AUX1,TH-GROWLER-CAB-AUX1
	.DEBUG-LINE 14,207,1
?L12:	ZERO? AUX1 \TRUE
	.DEBUG-LINE 14,208,1
	EQUAL? CAB,TH-HANSOM-CAB \?L15
	.DEBUG-LINE 14,209,1
	SET 'TH-HANSOM-CAB-AUX1,1
	JUMP ?L17
	.DEBUG-LINE 14,211,1
?L15:	SET 'TH-GROWLER-CAB-AUX1,1
	.DEBUG-LINE 14,212,1
?L17:	ZERO? SCORE /TRUE
	.DEBUG-LINE 14,213,1
	ICALL2 RT-UPDATE-SCORE,SCORE
	.DEBUG-LINE 14,214,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-HANSOM-LEAVE"
	.FUNCT RT-I-HANSOM-LEAVE
	.DEBUG-LINE 14,217,1
	EQUAL? GL-PLACE-CUR,RM-VICTORIA-SQUARE /?L1
	.DEBUG-LINE 14,218,1
	CALL2 RT-VISIBLE?,TH-HANSOM-CAB >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 14,219,1
	ICALL1 RT-S-CAB-LEAVES
	.DEBUG-LINE 14,220,1
	ICALL2 RT-CTHEO-PRINT,TH-HANSOM-CAB
	PRINTI " drives off."
	CRLF
	.DEBUG-LINE 14,221,1
?L3:	MOVE TH-HANSOM-CAB,RM-VICTORIA-SQUARE
	.DEBUG-LINE 14,222,1
	ICALL2 RT-REMOVE-ALL,TH-HANSOM-CAB
	.DEBUG-LINE 14,223,1
	MOVE CH-HANSOM-CABBIE,TH-HANSOM-CAB
	.DEBUG-LINE 14,224,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,225,1
?L1:	SET 'TH-HANSOM-CAB-AUX2,0
	.DEBUG-LINE 14,226,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-HANSOM-TO?"
	.FUNCT RT-I-HANSOM-TO?
	.DEBUG-LINE 14,229,1
	IN? CH-PLAYER,TH-HANSOM-CAB \FALSE
	.DEBUG-LINE 14,230,1
	PRINTI """Where to mister?"""
	CRLF
	.DEBUG-LINE 14,231,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-HANSOM-TO?,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-GROWLER-LEAVE"
	.FUNCT RT-I-GROWLER-LEAVE
	.DEBUG-LINE 14,234,1
	EQUAL? GL-PLACE-CUR,RM-OXFORD-ST /FALSE
	.DEBUG-LINE 14,235,1
	CALL2 RT-VISIBLE?,TH-GROWLER-CAB >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 14,236,1
	ICALL1 RT-S-CAB-LEAVES
	.DEBUG-LINE 14,237,1
	ICALL2 RT-CTHEO-PRINT,TH-GROWLER-CAB
	PRINTI " drives off."
	CRLF
	.DEBUG-LINE 14,238,1
?L3:	MOVE TH-GROWLER-CAB,RM-OXFORD-ST
	.DEBUG-LINE 14,239,1
	ICALL2 RT-REMOVE-ALL,TH-GROWLER-CAB
	.DEBUG-LINE 14,240,1
	MOVE CH-GROWLER-CABBIE,TH-GROWLER-CAB
	.DEBUG-LINE 14,241,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,242,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-GROWLER-TO?"
	.FUNCT RT-I-GROWLER-TO?
	.DEBUG-LINE 14,245,1
	IN? CH-PLAYER,TH-GROWLER-CAB \FALSE
	.DEBUG-LINE 14,246,1
	CRLF
	PRINTI "Suddenly the cabbie - who seems to have a low threshold of boredom - pipes up and says, ""I know where we can go!"""
	CRLF
	CRLF
	PRINT K-WILD-RIDE-MSG
	CRLF
	.DEBUG-LINE 14,249,1
	ICALL1 RT-MOVE-GROWLER
	.DEBUG-LINE 14,250,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,5,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-GROWLER-TO?,STACK
	.DEBUG-LINE 14,251,1
	CRLF
	.DEBUG-LINE 14,252,1
	CALL1 RT-DESC-ALL >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-HANSOM","ROOM","MIN"
	.FUNCT RT-MOVE-HANSOM,ROOM,MIN
	ASSIGNED? 'ROOM /?L14
	SET 'ROOM,0
	.DEBUG-LINE 14,255,1
?L14:	EQUAL? GL-PLACE-CUR,ROOM \?L1
	.DEBUG-LINE 14,256,1
	PRINTR """We're already here, guv."""
	.DEBUG-LINE 14,257,1
?L1:	ZERO? ROOM /FALSE
	.DEBUG-LINE 14,258,1
	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,259,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,260,1
	CALL RT-CAB-DIST,GL-PLACE-CUR,ROOM >STACK
	MUL STACK,K-HANSOM-TIME >MIN
	.DEBUG-LINE 14,261,1
	PRINTI """Right-o."""
	CRLF
	CRLF
	.DEBUG-LINE 14,262,1
	MOVE TH-HANSOM-CAB,ROOM
	.DEBUG-LINE 14,263,1
	SET 'GL-PLACE-PRV,GL-PLACE-CUR
	.DEBUG-LINE 14,264,1
	SET 'GL-PLACE-CUR,ROOM
	.DEBUG-LINE 14,265,1
	IN? CH-PLAYER,TH-HANSOM-CAB \?L4
	.DEBUG-LINE 14,266,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 14,267,1
	EQUAL? ROOM,RM-COVENT-GARDEN \?L6
	.DEBUG-LINE 14,268,1
	SET 'LOOPING?,S-CROWD
	.DEBUG-LINE 14,269,1
	SET 'LOOP-VOL,8
	JUMP ?L8
	.DEBUG-LINE 14,271,1
?L6:	SET 'LOOPING?,0
	.DEBUG-LINE 14,267,1
?L8:	IXCALL SOUNDS,S-HORSE,S-START,4,6
	.DEBUG-LINE 14,273,1
	PRINTI "The cab speeds through the streets, "
	.DEBUG-LINE 14,274,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L9
	.DEBUG-LINE 14,275,1
	PRINTI "deftly weaving in and out of the jubilee traffic and "
	.DEBUG-LINE 14,277,1
?L9:	PRINTI "whizzing past famous landmarks. Only a few minutes later, you arrive at your destination."
	CRLF
	CRLF
	.DEBUG-LINE 14,279,1
	ICALL1 RT-DESC-ALL
	JUMP ?L12
	.DEBUG-LINE 14,281,1
?L4:	ICALL1 RT-S-CAB-LEAVES
	.DEBUG-LINE 14,282,1
	PRINTI "The cab drives off."
	CRLF
	.DEBUG-LINE 14,283,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,284,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-HANSOM-LEAVE,STACK
	.DEBUG-LINE 14,285,1
?L12:	ICALL2 RT-ALARM-CLR,RT-I-HANSOM-LEAVE
	.DEBUG-LINE 14,286,1
	ICALL RT-CLOCK-JMP,0,MIN,0
	.DEBUG-LINE 14,287,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-GROWLER","ROOM","NUM","MIN"
	.FUNCT RT-MOVE-GROWLER,ROOM,NUM,MIN
	.DEBUG-LINE 14,290,1
	RANDOM 37 >NUM
	.DEBUG-LINE 14,291,1
	EQUAL? NUM,1 \?L1
	.DEBUG-LINE 14,292,1
	SET 'ROOM,RM-AUDLEY-ST
	JUMP ?L38
	.DEBUG-LINE 14,293,1
?L1:	EQUAL? NUM,2 \?L3
	.DEBUG-LINE 14,294,1
	SET 'ROOM,RM-221B-BAKER-ST
	JUMP ?L38
	.DEBUG-LINE 14,295,1
?L3:	EQUAL? NUM,3 \?L4
	.DEBUG-LINE 14,296,1
	SET 'ROOM,RM-BIRDCAGE-WALK
	JUMP ?L38
	.DEBUG-LINE 14,299,1
?L4:	EQUAL? NUM,5 \?L5
	.DEBUG-LINE 14,300,1
	SET 'ROOM,RM-BROAD-SANCTUARY
	JUMP ?L38
	.DEBUG-LINE 14,301,1
?L5:	EQUAL? NUM,6 \?L6
	.DEBUG-LINE 14,302,1
	SET 'ROOM,RM-BUCKINGHAM-PALACE-RD
	JUMP ?L38
	.DEBUG-LINE 14,303,1
?L6:	EQUAL? NUM,7 \?L7
	.DEBUG-LINE 14,304,1
	SET 'ROOM,RM-CHEAPSIDE
	JUMP ?L38
	.DEBUG-LINE 14,305,1
?L7:	EQUAL? NUM,8 \?L8
	.DEBUG-LINE 14,306,1
	SET 'ROOM,RM-COVENT-GARDEN
	JUMP ?L38
	.DEBUG-LINE 14,307,1
?L8:	EQUAL? NUM,9 \?L9
	.DEBUG-LINE 14,308,1
	SET 'ROOM,RM-THE-EMBANKMENT
	JUMP ?L38
	.DEBUG-LINE 14,309,1
?L9:	EQUAL? NUM,10 \?L10
	.DEBUG-LINE 14,310,1
	SET 'ROOM,RM-FLEET-STREET
	JUMP ?L38
	.DEBUG-LINE 14,311,1
?L10:	EQUAL? NUM,11 \?L11
	.DEBUG-LINE 14,312,1
	SET 'ROOM,RM-GREAT-RUSSELL-ST
	JUMP ?L38
	.DEBUG-LINE 14,313,1
?L11:	EQUAL? NUM,12 \?L12
	.DEBUG-LINE 14,314,1
	SET 'ROOM,RM-GROSVENOR-PLACE
	JUMP ?L38
	.DEBUG-LINE 14,315,1
?L12:	EQUAL? NUM,13 \?L13
	.DEBUG-LINE 14,316,1
	SET 'ROOM,RM-HYDE-PARK-CORNER
	JUMP ?L38
	.DEBUG-LINE 14,317,1
?L13:	EQUAL? NUM,14 \?L14
	.DEBUG-LINE 14,318,1
	SET 'ROOM,RM-KENSINGTON-GARDENS
	JUMP ?L38
	.DEBUG-LINE 14,319,1
?L14:	EQUAL? NUM,15 \?L15
	.DEBUG-LINE 14,320,1
	SET 'ROOM,RM-KING-WILLIAM-ST
	JUMP ?L38
	.DEBUG-LINE 14,321,1
?L15:	EQUAL? NUM,16 \?L16
	.DEBUG-LINE 14,322,1
	SET 'ROOM,RM-LONDON-BRIDGE
	JUMP ?L38
	.DEBUG-LINE 14,323,1
?L16:	EQUAL? NUM,17 \?L17
	.DEBUG-LINE 14,324,1
	SET 'ROOM,RM-LOWER-THAMES-ST
	JUMP ?L38
	.DEBUG-LINE 14,325,1
?L17:	EQUAL? NUM,18 \?L18
	.DEBUG-LINE 14,326,1
	SET 'ROOM,RM-THE-MALL
	JUMP ?L38
	.DEBUG-LINE 14,327,1
?L18:	EQUAL? NUM,19 \?L19
	.DEBUG-LINE 14,328,1
	SET 'ROOM,RM-MARYLEBONE-RD
	JUMP ?L38
	.DEBUG-LINE 14,329,1
?L19:	EQUAL? NUM,20 \?L20
	.DEBUG-LINE 14,330,1
	SET 'ROOM,RM-MONUMENT
	JUMP ?L38
	.DEBUG-LINE 14,331,1
?L20:	EQUAL? NUM,21 \?L21
	.DEBUG-LINE 14,332,1
	SET 'ROOM,RM-NEW-OXFORD-ST
	JUMP ?L38
	.DEBUG-LINE 14,333,1
?L21:	EQUAL? NUM,22 \?L22
	.DEBUG-LINE 14,334,1
	SET 'ROOM,RM-OXFORD-ST
	JUMP ?L38
	.DEBUG-LINE 14,335,1
?L22:	EQUAL? NUM,23 \?L23
	.DEBUG-LINE 14,336,1
	SET 'ROOM,RM-ORCHARD-ST
	JUMP ?L38
	.DEBUG-LINE 14,337,1
?L23:	EQUAL? NUM,24 \?L24
	.DEBUG-LINE 14,338,1
	SET 'ROOM,RM-PARLIAMENT-SQUARE
	JUMP ?L38
	.DEBUG-LINE 14,339,1
?L24:	EQUAL? NUM,25 \?L25
	.DEBUG-LINE 14,340,1
	SET 'ROOM,RM-PINCHIN-LANE
	JUMP ?L38
	.DEBUG-LINE 14,341,1
?L25:	EQUAL? NUM,26 \?L26
	.DEBUG-LINE 14,342,1
	SET 'ROOM,RM-QUEENS-GARDENS
	JUMP ?L38
	.DEBUG-LINE 14,343,1
?L26:	EQUAL? NUM,27 \?L27
	.DEBUG-LINE 14,344,1
	SET 'ROOM,RM-ST-GILES-CIRCUS
	JUMP ?L38
	.DEBUG-LINE 14,345,1
?L27:	EQUAL? NUM,28 \?L28
	.DEBUG-LINE 14,346,1
	SET 'ROOM,RM-THE-STRAND
	JUMP ?L38
	.DEBUG-LINE 14,347,1
?L28:	EQUAL? NUM,29 \?L29
	.DEBUG-LINE 14,348,1
	SET 'ROOM,RM-THREADNEEDLE-ST
	JUMP ?L38
	.DEBUG-LINE 14,349,1
?L29:	EQUAL? NUM,30 \?L30
	.DEBUG-LINE 14,350,1
	SET 'ROOM,RM-TOTTENHAM-COURT-RD
	JUMP ?L38
	.DEBUG-LINE 14,351,1
?L30:	EQUAL? NUM,31 \?L31
	.DEBUG-LINE 14,352,1
	SET 'ROOM,RM-TOWER-ENTRANCE
	JUMP ?L38
	.DEBUG-LINE 14,353,1
?L31:	EQUAL? NUM,32 \?L32
	.DEBUG-LINE 14,354,1
	SET 'ROOM,RM-TRAFALGAR-SQUARE
	JUMP ?L38
	.DEBUG-LINE 14,355,1
?L32:	EQUAL? NUM,33 \?L33
	.DEBUG-LINE 14,356,1
	SET 'ROOM,RM-UPPER-THAMES-ST
	JUMP ?L38
	.DEBUG-LINE 14,357,1
?L33:	EQUAL? NUM,34 \?L34
	.DEBUG-LINE 14,358,1
	SET 'ROOM,RM-VICTORIA-STREET
	JUMP ?L38
	.DEBUG-LINE 14,359,1
?L34:	EQUAL? NUM,35 \?L35
	.DEBUG-LINE 14,360,1
	SET 'ROOM,RM-VICTORIA-SQUARE
	JUMP ?L38
	.DEBUG-LINE 14,361,1
?L35:	EQUAL? NUM,36 \?L36
	.DEBUG-LINE 14,362,1
	SET 'ROOM,RM-WHITEHALL
	JUMP ?L38
	.DEBUG-LINE 14,363,1
?L36:	EQUAL? NUM,37 \?L37
	.DEBUG-LINE 14,364,1
	SET 'ROOM,RM-YORK-PLACE
	JUMP ?L38
	.DEBUG-LINE 14,366,1
?L37:	PRINTI "This is odd..."
	CRLF
	CRLF
	.DEBUG-LINE 14,367,1
	SET 'ROOM,RM-KENSINGTON-GARDENS
	.DEBUG-LINE 14,368,1
?L38:	CALL RT-CAB-DIST,GL-PLACE-CUR,ROOM >STACK
	MUL STACK,K-GROWLER-TIME >MIN
	.DEBUG-LINE 14,369,1
	EQUAL? ROOM,RM-COVENT-GARDEN \?L39
	.DEBUG-LINE 14,370,1
	SET 'LOOPING?,S-CROWD
	.DEBUG-LINE 14,371,1
	SET 'LOOP-VOL,8
	JUMP ?L41
	.DEBUG-LINE 14,373,1
?L39:	SET 'LOOPING?,0
	.DEBUG-LINE 14,369,1
?L41:	IXCALL SOUNDS,S-HORSE,S-START,4,6
	.DEBUG-LINE 14,375,1
	MOVE TH-GROWLER-CAB,ROOM
	.DEBUG-LINE 14,376,1
	SET 'GL-PLACE-PRV,GL-PLACE-CUR
	.DEBUG-LINE 14,377,1
	SET 'GL-PLACE-CUR,ROOM
	.DEBUG-LINE 14,378,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 14,379,1
	CALL RT-CLOCK-JMP,0,MIN,0 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CF-TH-HANSOM-CAB","CONTEXT","WRD","ADJ"
	.FUNCT RT-CF-TH-HANSOM-CAB,CONTEXT,WRD,ADJ
	ASSIGNED? 'CONTEXT /?L68
	SET 'CONTEXT,0
	.DEBUG-LINE 14,382,1
?L68:	IN? CH-PLAYER,TH-HANSOM-CAB \?L1
	.DEBUG-LINE 14,383,1
	SET 'GL-WHERE-TO-PROMPT?,1
	.DEBUG-LINE 14,384,1
	SET 'GL-WHERE-TO-ORPH?,1
	.DEBUG-LINE 14,385,1
?L1:	EQUAL? GL-PRSA,V?WALK \?L8
	EQUAL? GL-P-WALK-DIR,P?OUT \?L4
	.DEBUG-LINE 14,387,1
	CALL RT-PERFORM,V?EXIT,TH-HANSOM-CAB >STACK
	RSTACK
	.DEBUG-LINE 14,388,1
?L4:	EQUAL? GL-PRSA,V?WALK \?L8
	EQUAL? GL-WINNER,CH-PLAYER /?L7
?L8:	EQUAL? GL-PRSA,V?ENTER \?L6
	EQUAL? GL-PRSO,TH-HANSOM-CAB /?L6
	.DEBUG-LINE 14,392,1
?L7:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,393,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?275,TH-HANSOM-CAB
	.DEBUG-LINE 14,394,1
	.DEBUG-LINE 14,395,1
	PRINTR " first."
	.DEBUG-LINE 14,396,1
?L6:	EQUAL? GL-PRSA,V?DRIVE,V?WALK-TO \?L9
	.DEBUG-LINE 14,397,1
	GET GL-P-NAMW,0 >WRD
	.DEBUG-LINE 14,398,1
	GET GL-P-ADJW,0 >ADJ
	.DEBUG-LINE 14,399,1
	EQUAL? GL-PRSO,RM-AUDLEY-ST \?L10
	.DEBUG-LINE 14,400,1
	CALL2 RT-MOVE-HANSOM,RM-AUDLEY-ST >STACK
	RSTACK
	.DEBUG-LINE 14,401,1
?L10:	EQUAL? GL-PRSO,RM-221B-BAKER-ST,RM-ENTRY-HALL \?L12
	.DEBUG-LINE 14,402,1
	CALL2 RT-MOVE-HANSOM,RM-221B-BAKER-ST >STACK
	RSTACK
	.DEBUG-LINE 14,403,1
?L12:	EQUAL? GL-PRSO,RM-BIRDCAGE-WALK \?L13
	.DEBUG-LINE 14,404,1
	CALL2 RT-MOVE-HANSOM,RM-BIRDCAGE-WALK >STACK
	RSTACK
	.DEBUG-LINE 14,407,1
?L13:	EQUAL? GL-PRSO,RM-BROAD-SANCTUARY,LG-TOMBS-ABBEY \?L14
	.DEBUG-LINE 14,408,1
	CALL2 RT-MOVE-HANSOM,RM-BROAD-SANCTUARY >STACK
	RSTACK
	.DEBUG-LINE 14,409,1
?L14:	EQUAL? GL-PRSO,RM-BUCKINGHAM-PALACE-RD \?L15
	.DEBUG-LINE 14,410,1
	CALL2 RT-MOVE-HANSOM,RM-BUCKINGHAM-PALACE-RD >STACK
	RSTACK
	.DEBUG-LINE 14,411,1
?L15:	EQUAL? GL-PRSO,RM-CHEAPSIDE \?L16
	.DEBUG-LINE 14,412,1
	CALL2 RT-MOVE-HANSOM,RM-CHEAPSIDE >STACK
	RSTACK
	.DEBUG-LINE 14,413,1
?L16:	EQUAL? GL-PRSO,RM-COVENT-GARDEN \?L17
	.DEBUG-LINE 14,414,1
	CALL2 RT-MOVE-HANSOM,RM-COVENT-GARDEN >STACK
	RSTACK
	.DEBUG-LINE 14,415,1
?L17:	EQUAL? GL-PRSO,RM-THE-EMBANKMENT,LG-WATER \?L18
	.DEBUG-LINE 14,416,1
	CALL2 RT-MOVE-HANSOM,RM-THE-EMBANKMENT >STACK
	RSTACK
	.DEBUG-LINE 14,417,1
?L18:	EQUAL? GL-PRSO,RM-FLEET-STREET \?L19
	.DEBUG-LINE 14,418,1
	CALL2 RT-MOVE-HANSOM,RM-FLEET-STREET >STACK
	RSTACK
	.DEBUG-LINE 14,419,1
?L19:	EQUAL? GL-PRSO,RM-GREAT-RUSSELL-ST,RM-BRITISH-MUSEUM \?L20
	.DEBUG-LINE 14,420,1
	CALL2 RT-MOVE-HANSOM,RM-GREAT-RUSSELL-ST >STACK
	RSTACK
	.DEBUG-LINE 14,421,1
?L20:	EQUAL? GL-PRSO,RM-GROSVENOR-PLACE \?L21
	.DEBUG-LINE 14,422,1
	CALL2 RT-MOVE-HANSOM,RM-GROSVENOR-PLACE >STACK
	RSTACK
	.DEBUG-LINE 14,423,1
?L21:	EQUAL? GL-PRSO,RM-HYDE-PARK-CORNER \?L22
	.DEBUG-LINE 14,424,1
	CALL2 RT-MOVE-HANSOM,RM-HYDE-PARK-CORNER >STACK
	RSTACK
	.DEBUG-LINE 14,425,1
?L22:	EQUAL? GL-PRSO,RM-KENSINGTON-GARDENS \?L23
	.DEBUG-LINE 14,426,1
	CALL2 RT-MOVE-HANSOM,RM-KENSINGTON-GARDENS >STACK
	RSTACK
	.DEBUG-LINE 14,427,1
?L23:	EQUAL? GL-PRSO,RM-KING-WILLIAM-ST \?L24
	.DEBUG-LINE 14,428,1
	CALL2 RT-MOVE-HANSOM,RM-KING-WILLIAM-ST >STACK
	RSTACK
	.DEBUG-LINE 14,429,1
?L24:	EQUAL? GL-PRSO,RM-LONDON-BRIDGE \?L25
	.DEBUG-LINE 14,430,1
	CALL2 RT-MOVE-HANSOM,RM-LONDON-BRIDGE >STACK
	RSTACK
	.DEBUG-LINE 14,431,1
?L25:	EQUAL? GL-PRSO,RM-LOWER-THAMES-ST,RM-BAR-OF-GOLD,RM-SWAN-LANE \?L26
	.DEBUG-LINE 14,433,1
	CALL2 RT-MOVE-HANSOM,RM-LOWER-THAMES-ST >STACK
	RSTACK
	.DEBUG-LINE 14,434,1
?L26:	EQUAL? GL-PRSO,RM-THE-MALL \?L27
	.DEBUG-LINE 14,435,1
	CALL2 RT-MOVE-HANSOM,RM-THE-MALL >STACK
	RSTACK
	.DEBUG-LINE 14,436,1
?L27:	EQUAL? GL-PRSO,RM-MARYLEBONE-RD,RM-MADAME-TUSSAUDS \?L28
	.DEBUG-LINE 14,437,1
	CALL2 RT-MOVE-HANSOM,RM-MARYLEBONE-RD >STACK
	RSTACK
	.DEBUG-LINE 14,438,1
?L28:	EQUAL? WRD,W?MONUMENT \?L31
	ZERO? ADJ /?L30
?L31:	EQUAL? GL-PRSO,RM-MONUMENT \?L29
	.DEBUG-LINE 14,441,1
?L30:	CALL2 RT-MOVE-HANSOM,RM-MONUMENT >STACK
	RSTACK
	.DEBUG-LINE 14,442,1
?L29:	EQUAL? GL-PRSO,RM-NEW-OXFORD-ST \?L32
	.DEBUG-LINE 14,443,1
	CALL2 RT-MOVE-HANSOM,RM-NEW-OXFORD-ST >STACK
	RSTACK
	.DEBUG-LINE 14,444,1
?L32:	EQUAL? WRD,W?STREET,W?ST \?L35
	EQUAL? ADJ,W?OXFORD /?L34
?L35:	EQUAL? GL-PRSO,RM-OXFORD-ST \?L33
	.DEBUG-LINE 14,447,1
?L34:	CALL2 RT-MOVE-HANSOM,RM-OXFORD-ST >STACK
	RSTACK
	.DEBUG-LINE 14,448,1
?L33:	EQUAL? GL-PRSO,RM-ORCHARD-ST \?L36
	.DEBUG-LINE 14,449,1
	CALL2 RT-MOVE-HANSOM,RM-ORCHARD-ST >STACK
	RSTACK
	.DEBUG-LINE 14,450,1
?L36:	EQUAL? GL-PRSO,RM-PARLIAMENT-SQUARE,RM-PARLIAMENT,TH-BELL \?L37
	.DEBUG-LINE 14,451,1
	CALL2 RT-MOVE-HANSOM,RM-PARLIAMENT-SQUARE >STACK
	RSTACK
	.DEBUG-LINE 14,452,1
?L37:	EQUAL? GL-PRSO,RM-PINCHIN-LANE,RM-SHERMANS-HOUSE \?L38
	.DEBUG-LINE 14,453,1
	CALL2 RT-MOVE-HANSOM,RM-PINCHIN-LANE >STACK
	RSTACK
	.DEBUG-LINE 14,454,1
?L38:	EQUAL? GL-PRSO,RM-QUEENS-GARDENS,RM-BUCKINGHAM-PALACE \?L39
	.DEBUG-LINE 14,455,1
	CALL2 RT-MOVE-HANSOM,RM-QUEENS-GARDENS >STACK
	RSTACK
	.DEBUG-LINE 14,456,1
?L39:	EQUAL? GL-PRSO,RM-ST-GILES-CIRCUS \?L40
	.DEBUG-LINE 14,457,1
	CALL2 RT-MOVE-HANSOM,RM-ST-GILES-CIRCUS >STACK
	RSTACK
	.DEBUG-LINE 14,458,1
?L40:	EQUAL? GL-PRSO,RM-THE-STRAND \?L41
	.DEBUG-LINE 14,459,1
	CALL2 RT-MOVE-HANSOM,RM-THE-STRAND >STACK
	RSTACK
	.DEBUG-LINE 14,460,1
?L41:	EQUAL? GL-PRSO,RM-THREADNEEDLE-ST,RM-BANK-OF-ENGLAND \?L42
	.DEBUG-LINE 14,461,1
	CALL2 RT-MOVE-HANSOM,RM-THREADNEEDLE-ST >STACK
	RSTACK
	.DEBUG-LINE 14,462,1
?L42:	EQUAL? GL-PRSO,RM-TOTTENHAM-COURT-RD \?L43
	.DEBUG-LINE 14,463,1
	CALL2 RT-MOVE-HANSOM,RM-TOTTENHAM-COURT-RD >STACK
	RSTACK
	.DEBUG-LINE 14,464,1
?L43:	EQUAL? WRD,W?TOWER /?L45
	EQUAL? GL-PRSO,RM-TOWER-ENTRANCE,LG-TOWER,RM-DRAWBRIDGE \?L44
	.DEBUG-LINE 14,467,1
?L45:	CALL2 RT-MOVE-HANSOM,RM-TOWER-ENTRANCE >STACK
	RSTACK
	.DEBUG-LINE 14,468,1
?L44:	EQUAL? GL-PRSO,RM-TRAFALGAR-SQUARE,RM-DIOGENES-CLUB \?L46
	.DEBUG-LINE 14,469,1
	CALL2 RT-MOVE-HANSOM,RM-TRAFALGAR-SQUARE >STACK
	RSTACK
	.DEBUG-LINE 14,470,1
?L46:	EQUAL? GL-PRSO,RM-UPPER-THAMES-ST \?L47
	.DEBUG-LINE 14,471,1
	CALL2 RT-MOVE-HANSOM,RM-UPPER-THAMES-ST >STACK
	RSTACK
	.DEBUG-LINE 14,472,1
?L47:	EQUAL? GL-PRSO,RM-VICTORIA-STREET \?L48
	.DEBUG-LINE 14,473,1
	CALL2 RT-MOVE-HANSOM,RM-VICTORIA-STREET >STACK
	RSTACK
	.DEBUG-LINE 14,474,1
?L48:	EQUAL? GL-PRSO,RM-VICTORIA-SQUARE \?L49
	.DEBUG-LINE 14,475,1
	CALL2 RT-MOVE-HANSOM,RM-VICTORIA-SQUARE >STACK
	RSTACK
	.DEBUG-LINE 14,476,1
?L49:	EQUAL? GL-PRSO,RM-WHITEHALL,RM-SCOTLAND-YARD \?L50
	.DEBUG-LINE 14,477,1
	CALL2 RT-MOVE-HANSOM,RM-WHITEHALL >STACK
	RSTACK
	.DEBUG-LINE 14,478,1
?L50:	EQUAL? GL-PRSO,RM-YORK-PLACE \FALSE
	.DEBUG-LINE 14,479,1
	CALL2 RT-MOVE-HANSOM,RM-YORK-PLACE >STACK
	RSTACK
	.DEBUG-LINE 14,480,1
?L9:	EQUAL? GL-PRSA,V?STAND,V?STAND-ON,V?LEAP \?L53
	.DEBUG-LINE 14,481,1
	PRINT K-ENOUGH-ROOM-MSG
	.DEBUG-LINE 14,482,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,483,1
?L53:	EQUAL? GL-PRSA,V?SIT \?L54
	.DEBUG-LINE 14,484,1
	.DEBUG-LINE 14,485,1
	PRINTR "You're already seated."
	.DEBUG-LINE 14,486,1
?L54:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 14,487,1
	EQUAL? GL-PRSO,0,ROOMS /?L59
	.DEBUG-LINE 14,489,1
	IN? GL-PRSO,GLOBAL-OBJECTS /?L59
	.DEBUG-LINE 14,491,1
	CALL RT-META-IN?,GL-PRSO,TH-HANSOM-CAB >STACK
	ZERO? STACK \?L59
	.DEBUG-LINE 14,492,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,493,1
	PRINTI "cannot reach "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 14,494,1
	PRINTR "."
	.DEBUG-LINE 14,495,1
?L59:	EQUAL? GL-PRSI,0,ROOMS /FALSE
	.DEBUG-LINE 14,497,1
	IN? GL-PRSI,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 14,499,1
	FSET? GL-PRSI,FL-PERSON \?L64
	IN? GL-PRSI,GL-PLACE-CUR /FALSE
	.DEBUG-LINE 14,502,1
?L64:	CALL RT-META-IN?,GL-PRSI,TH-HANSOM-CAB >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 14,503,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,504,1
	PRINTI "cannot reach "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CF-TH-GROWLER-CAB","CONTEXT"
	.FUNCT RT-CF-TH-GROWLER-CAB,CONTEXT
	ASSIGNED? 'CONTEXT /?L27
	SET 'CONTEXT,0
	.DEBUG-LINE 14,507,1
?L27:	IN? CH-PLAYER,TH-GROWLER-CAB \?L1
	.DEBUG-LINE 14,508,1
	SET 'GL-WHERE-TO-PROMPT?,1
	.DEBUG-LINE 14,509,1
	SET 'GL-WHERE-TO-ORPH?,1
	.DEBUG-LINE 14,510,1
?L1:	EQUAL? GL-PRSA,V?WALK \?L8
	EQUAL? GL-P-WALK-DIR,P?OUT \?L4
	.DEBUG-LINE 14,512,1
	CALL RT-PERFORM,V?EXIT,TH-GROWLER-CAB >STACK
	RSTACK
	.DEBUG-LINE 14,513,1
?L4:	EQUAL? GL-PRSA,V?WALK \?L8
	EQUAL? GL-WINNER,CH-PLAYER /?L7
?L8:	EQUAL? GL-PRSA,V?ENTER \?L6
	EQUAL? GL-PRSO,TH-GROWLER-CAB /?L6
	.DEBUG-LINE 14,517,1
?L7:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,518,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?275,TH-GROWLER-CAB
	.DEBUG-LINE 14,519,1
	.DEBUG-LINE 14,520,1
	PRINTR " first."
	.DEBUG-LINE 14,521,1
?L6:	EQUAL? GL-PRSA,V?DRIVE,V?WALK-TO \?L9
	.DEBUG-LINE 14,522,1
	PRINTI """Oh good! I've never been THERE before."""
	CRLF
	CRLF
	.DEBUG-LINE 14,523,1
	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,524,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,525,1
	ICALL2 RT-ALARM-CLR,RT-I-GROWLER-TO?
	.DEBUG-LINE 14,526,1
	ICALL2 RT-ALARM-CLR,RT-I-GROWLER-LEAVE
	.DEBUG-LINE 14,527,1
	ICALL1 RT-MOVE-GROWLER
	.DEBUG-LINE 14,528,1
	IN? CH-PLAYER,TH-GROWLER-CAB \?L10
	.DEBUG-LINE 14,529,1
	SET 'GL-PUPPY-MSG?,0
	.DEBUG-LINE 14,530,1
	PRINT K-WILD-RIDE-MSG
	CRLF
	CRLF
	.DEBUG-LINE 14,531,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,5,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-GROWLER-TO?,STACK
	.DEBUG-LINE 14,532,1
	ICALL1 RT-DESC-ALL
	RTRUE
	.DEBUG-LINE 14,534,1
?L10:	PRINTI "The cab drives off."
	CRLF
	.DEBUG-LINE 14,535,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,536,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-GROWLER-LEAVE,STACK
	.DEBUG-LINE 14,537,1
	RTRUE
	.DEBUG-LINE 14,538,1
?L9:	EQUAL? GL-PRSA,V?STAND,V?STAND-ON,V?LEAP \?L13
	.DEBUG-LINE 14,539,1
	PRINT K-ENOUGH-ROOM-MSG
	.DEBUG-LINE 14,540,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,541,1
?L13:	EQUAL? GL-PRSA,V?SIT \?L14
	.DEBUG-LINE 14,542,1
	.DEBUG-LINE 14,543,1
	PRINTR "You're already seated."
	.DEBUG-LINE 14,544,1
?L14:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 14,545,1
	EQUAL? GL-PRSO,0,ROOMS /?L19
	.DEBUG-LINE 14,546,1
	IN? GL-PRSO,GLOBAL-OBJECTS /?L19
	.DEBUG-LINE 14,547,1
	CALL RT-META-IN?,GL-PRSO,TH-GROWLER-CAB >STACK
	ZERO? STACK \?L19
	.DEBUG-LINE 14,548,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,549,1
	PRINTI "cannot reach "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 14,550,1
	PRINTR "."
	.DEBUG-LINE 14,551,1
?L19:	EQUAL? GL-PRSI,0,ROOMS /FALSE
	.DEBUG-LINE 14,553,1
	IN? GL-PRSI,GLOBAL-OBJECTS /FALSE
	.DEBUG-LINE 14,555,1
	CALL RT-META-IN?,GL-PRSI,TH-GROWLER-CAB >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 14,556,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,557,1
	PRINTI "cannot reach "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-BLOW-WHISTLE","WHO","WHO2","L"
	.FUNCT RT-BLOW-WHISTLE,WHO,WHO2,L
	.DEBUG-LINE 14,560,1
	LOC TH-GROWLER-CAB >STACK
	LOC TH-HANSOM-CAB >STACK
	EQUAL? GL-PLACE-CUR,STACK,STACK \?L1
	.DEBUG-LINE 14,561,1
	PRINT K-CAB-HERE-MSG
	.DEBUG-LINE 14,562,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,568,1
?L1:	PRINTI "Tweeeeeeeeee!"
	CRLF
	.DEBUG-LINE 14,569,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L4
	.DEBUG-LINE 14,570,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L6
	FSET? CH-HOLMES,FL-ASLEEP \?L6
	.DEBUG-LINE 14,572,1
	PRINT K-HOLMES-DISTRACTION-MSG
	.DEBUG-LINE 14,573,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,574,1
?L6:	CALL1 RT-ANYONE-HERE? >WHO
	.DEBUG-LINE 14,575,1
	ZERO? WHO /TRUE
	.DEBUG-LINE 14,576,1
	LOC WHO >L
	.DEBUG-LINE 14,577,1
	REMOVE WHO
	.DEBUG-LINE 14,578,1
	CALL1 RT-ANYONE-HERE? >WHO2
	.DEBUG-LINE 14,579,1
	ZERO? WHO2 /?L11
	.DEBUG-LINE 14,580,1
	PRINTI "Everyone holds their hands to their "
	JUMP ?L13
	.DEBUG-LINE 14,582,1
?L11:	ICALL2 RT-CTHEO-PRINT,WHO
	PRINTI " hold"
	.DEBUG-LINE 14,583,1
	ICALL2 RT-S-NOS-MSG,WHO
	.DEBUG-LINE 14,584,1
	PRINTI " "
	.DEBUG-LINE 14,585,1
	ICALL2 RT-YOUR-MSG,WHO
	.DEBUG-LINE 14,586,1
	PRINTI "hands to "
	.DEBUG-LINE 14,587,1
	ICALL2 RT-YOUR-MSG,WHO
	.DEBUG-LINE 14,588,1
?L13:	MOVE WHO,L
	.DEBUG-LINE 14,589,1
	PRINTI "ears and glare"
	.DEBUG-LINE 14,590,1
	ICALL2 RT-S-NOS-MSG,WHO
	.DEBUG-LINE 14,591,1
	PRINTR " at you."
	.DEBUG-LINE 14,592,1
?L4:	EQUAL? GL-PLACE-CUR,RM-TOWER-GREEN,RM-OUTER-WARD,RM-BYWARD-TOWER /TRUE
	EQUAL? GL-PLACE-CUR,RM-INSIDE-TRAITORS-GATE,RM-OUTSIDE-TRAITORS-GATE,RM-DRAWBRIDGE /TRUE
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /TRUE
	EQUAL? GL-PLACE-CUR,RM-THAMES-FOUR,RM-THAMES-FIVE,RM-SWAN-LANE /TRUE
	.DEBUG-LINE 14,598,1
	INC 'TH-CAB-WHISTLE-AUX1
	.DEBUG-LINE 14,599,1
	SET 'TH-CAB-WHISTLE-AUX2,GL-PLACE-CUR
	.DEBUG-LINE 14,600,1
	CALL2 RT-ALARM-SET?,RT-I-CAB-ARRIVE >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 14,601,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-CAB-ARRIVE,STACK
	.DEBUG-LINE 14,602,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-HANSOM-CAB","CONTEXT"
	.FUNCT RT-AC-TH-HANSOM-CAB,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 14,636,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 14,637,1
	.DEBUG-LINE 14,640,1
	PRINTR "It is a small cab with two wheels and room for only two persons, drawn by a single horse."
	.DEBUG-LINE 14,641,1
?L1:	EQUAL? GL-PRSA,V?ENTER \?L3
	EQUAL? GL-PRSO,ROOMS,TH-HANSOM-CAB \?L3
	.DEBUG-LINE 14,643,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L4
	.DEBUG-LINE 14,644,1
	PRINT K-HEAVY-ARMOUR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 14,645,1
?L4:	IN? GL-WINNER,TH-HANSOM-CAB /FALSE
	.DEBUG-LINE 14,646,1
	MOVE GL-WINNER,TH-HANSOM-CAB
	.DEBUG-LINE 14,647,1
	ZERO? GL-PUPPY /?L7
	EQUAL? GL-WINNER,CH-PLAYER \?L7
	.DEBUG-LINE 14,649,1
	MOVE GL-PUPPY,TH-HANSOM-CAB
	.DEBUG-LINE 14,650,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L9
	.DEBUG-LINE 14,652,1
?L7:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,653,1
?L9:	FSET TH-HANSOM-CAB,FL-NODESC
	.DEBUG-LINE 14,654,1
	ICALL2 RT-ALARM-CLR,RT-I-HANSOM-LEAVE
	.DEBUG-LINE 14,655,1
	SET 'TH-HANSOM-CAB-AUX2,0
	.DEBUG-LINE 14,657,1
	SET 'GL-WHERE-TO-PROMPT?,1
	.DEBUG-LINE 14,658,1
	SET 'GL-WHERE-TO-ORPH?,1
	.DEBUG-LINE 14,659,1
	PRINTR "into the cab."
	.DEBUG-LINE 14,660,1
?L3:	EQUAL? GL-PRSA,V?EXIT \?L11
	EQUAL? GL-PRSO,ROOMS,TH-HANSOM-CAB \?L11
	.DEBUG-LINE 14,662,1
	IN? CH-PLAYER,TH-HANSOM-CAB \FALSE
	.DEBUG-LINE 14,663,1
	MOVE GL-WINNER,GL-PLACE-CUR
	.DEBUG-LINE 14,664,1
	ZERO? GL-PUPPY /?L14
	EQUAL? GL-WINNER,CH-PLAYER \?L14
	.DEBUG-LINE 14,666,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 14,667,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L16
	.DEBUG-LINE 14,669,1
?L14:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,670,1
?L16:	PRINTI "out of the cab."
	.DEBUG-LINE 14,671,1
	FCLEAR TH-HANSOM-CAB,FL-NODESC
	.DEBUG-LINE 14,672,1
	ZERO? TH-HANSOM-CAB-AUX2 \?L17
	IN? CH-PLAYER,TH-HANSOM-CAB /?L17
	ZERO? GL-PUPPY /?L19
	IN? GL-PUPPY,TH-HANSOM-CAB /?L17
?L19:	EQUAL? GL-PLACE-CUR,RM-VICTORIA-SQUARE /?L17
	.DEBUG-LINE 14,677,1
	PRINTI " After"
	.DEBUG-LINE 14,678,1
	ICALL RT-YOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,679,1
	PRINTI "out, it drives off."
	.DEBUG-LINE 14,680,1
	ICALL1 RT-S-CAB-LEAVES
	.DEBUG-LINE 14,681,1
	MOVE TH-HANSOM-CAB,RM-VICTORIA-SQUARE
	.DEBUG-LINE 14,682,1
	ICALL2 RT-REMOVE-ALL,TH-HANSOM-CAB
	.DEBUG-LINE 14,683,1
	MOVE CH-HANSOM-CABBIE,TH-HANSOM-CAB
	.DEBUG-LINE 14,684,1
	ICALL2 RT-ALARM-CLR,RT-I-HANSOM-LEAVE
	.DEBUG-LINE 14,686,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,687,1
?L17:	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,688,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,689,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,690,1
?L11:	EQUAL? GL-PRSA,V?LOOK-ON \?L22
	.DEBUG-LINE 14,691,1
	PRINTR "There is a cab driver sitting on the hansom."
	.DEBUG-LINE 14,692,1
?L22:	EQUAL? GL-PRSA,V?TAKE,V?PUSH-TO \?L23
	ZERO? GL-NOW-PRSI? \?L23
	.DEBUG-LINE 14,694,1
	PRINT K-TAKE-CAB-MSG
	CRLF
	.DEBUG-LINE 14,695,1
	RETURN 2
	.DEBUG-LINE 14,696,1
?L23:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 14,697,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GROWLER-CAB","CONTEXT"
	.FUNCT RT-AC-TH-GROWLER-CAB,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 14,701,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 14,702,1
	.DEBUG-LINE 14,705,1
	PRINTR "It is a large cab with four wheels and room for four persons, drawn by a single horse."
	.DEBUG-LINE 14,706,1
?L1:	EQUAL? GL-PRSA,V?ENTER \?L3
	EQUAL? GL-PRSO,ROOMS,TH-GROWLER-CAB \?L3
	.DEBUG-LINE 14,708,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L4
	.DEBUG-LINE 14,709,1
	PRINT K-HEAVY-ARMOUR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 14,710,1
?L4:	IN? GL-WINNER,TH-GROWLER-CAB /FALSE
	.DEBUG-LINE 14,711,1
	MOVE GL-WINNER,TH-GROWLER-CAB
	.DEBUG-LINE 14,712,1
	ZERO? GL-PUPPY /?L7
	EQUAL? GL-WINNER,CH-PLAYER \?L7
	.DEBUG-LINE 14,714,1
	MOVE GL-PUPPY,TH-GROWLER-CAB
	.DEBUG-LINE 14,715,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L9
	.DEBUG-LINE 14,717,1
?L7:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,718,1
?L9:	FSET TH-GROWLER-CAB,FL-NODESC
	.DEBUG-LINE 14,719,1
	ICALL2 RT-ALARM-CLR,RT-I-GROWLER-LEAVE
	.DEBUG-LINE 14,720,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,5,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-GROWLER-TO?,STACK
	.DEBUG-LINE 14,721,1
	SET 'GL-WHERE-TO-PROMPT?,1
	.DEBUG-LINE 14,722,1
	SET 'GL-WHERE-TO-ORPH?,1
	.DEBUG-LINE 14,723,1
	PRINTR "into the cab."
	.DEBUG-LINE 14,724,1
?L3:	EQUAL? GL-PRSA,V?EXIT \?L11
	EQUAL? GL-PRSO,ROOMS,TH-GROWLER-CAB \?L11
	.DEBUG-LINE 14,726,1
	IN? CH-PLAYER,TH-GROWLER-CAB \FALSE
	.DEBUG-LINE 14,727,1
	MOVE GL-WINNER,GL-PLACE-CUR
	.DEBUG-LINE 14,728,1
	ZERO? GL-PUPPY /?L14
	EQUAL? GL-WINNER,CH-PLAYER \?L14
	.DEBUG-LINE 14,730,1
	MOVE GL-PUPPY,GL-PLACE-CUR
	.DEBUG-LINE 14,731,1
	PRINTI "You and "
	ICALL2 RT-THEO-PRINT,GL-PUPPY
	PRINTI " get "
	JUMP ?L16
	.DEBUG-LINE 14,733,1
?L14:	ICALL RT-CYOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,734,1
?L16:	PRINTI "out of the cab."
	.DEBUG-LINE 14,735,1
	FCLEAR TH-GROWLER-CAB,FL-NODESC
	.DEBUG-LINE 14,736,1
	IN? CH-PLAYER,TH-GROWLER-CAB /?L17
	ZERO? GL-PUPPY /?L19
	IN? GL-PUPPY,TH-GROWLER-CAB /?L17
?L19:	EQUAL? GL-PLACE-CUR,RM-OXFORD-ST /?L17
	.DEBUG-LINE 14,740,1
	PRINTI " After"
	.DEBUG-LINE 14,741,1
	ICALL RT-YOU-MSG,STR?232,STR?231
	.DEBUG-LINE 14,742,1
	PRINTI "out, it drives off."
	.DEBUG-LINE 14,743,1
	ICALL1 RT-S-CAB-LEAVES
	.DEBUG-LINE 14,744,1
	MOVE TH-GROWLER-CAB,RM-OXFORD-ST
	.DEBUG-LINE 14,745,1
	ICALL2 RT-REMOVE-ALL,TH-GROWLER-CAB
	.DEBUG-LINE 14,746,1
	MOVE CH-GROWLER-CABBIE,TH-GROWLER-CAB
	.DEBUG-LINE 14,747,1
	ICALL2 RT-ALARM-CLR,RT-I-GROWLER-LEAVE
	.DEBUG-LINE 14,748,1
	ICALL2 RT-ALARM-CLR,RT-I-GROWLER-TO?
	.DEBUG-LINE 14,749,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 14,750,1
?L17:	SET 'GL-WHERE-TO-PROMPT?,0
	.DEBUG-LINE 14,751,1
	SET 'GL-WHERE-TO-ORPH?,0
	.DEBUG-LINE 14,752,1
	CRLF
	RTRUE
	.DEBUG-LINE 14,753,1
?L11:	EQUAL? GL-PRSA,V?LOOK-ON \?L22
	.DEBUG-LINE 14,754,1
	PRINTR "There is a cab driver sitting on the growler."
	.DEBUG-LINE 14,755,1
?L22:	EQUAL? GL-PRSA,V?TAKE,V?PUSH-TO \?L23
	ZERO? GL-NOW-PRSI? \?L23
	.DEBUG-LINE 14,757,1
	PRINT K-TAKE-CAB-MSG
	CRLF
	.DEBUG-LINE 14,758,1
	RETURN 2
	.DEBUG-LINE 14,759,1
?L23:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 14,760,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-CAB-WHISTLE"
	.FUNCT RT-AC-TH-CAB-WHISTLE
	.DEBUG-LINE 14,764,1
	EQUAL? GL-PRSA,V?BLOW-INTO \?L1
	ZERO? GL-NOW-PRSI? \?L1
	.DEBUG-LINE 14,766,1
	CALL1 RT-BLOW-WHISTLE >STACK
	RSTACK
	.DEBUG-LINE 14,767,1
?L1:	EQUAL? GL-PRSA,V?CALL \?L3
	ZERO? GL-NOW-PRSI? /?L3
	.DEBUG-LINE 14,769,1
	EQUAL? GL-PRSO,TH-HANSOM-CAB \?L4
	.DEBUG-LINE 14,770,1
	ICALL1 RT-BLOW-WHISTLE
	.DEBUG-LINE 14,771,1
	CALL2 RT-ALARM-SET?,RT-I-CAB-ARRIVE >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 14,772,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,0,2,0
	.DEBUG-LINE 14,773,1
	ICALL1 RT-BLOW-WHISTLE
	.DEBUG-LINE 14,774,1
	RTRUE
	.DEBUG-LINE 14,775,1
?L4:	EQUAL? GL-PRSO,TH-GROWLER-CAB \?L9
	.DEBUG-LINE 14,776,1
	ICALL1 RT-BLOW-WHISTLE
	.DEBUG-LINE 14,777,1
	CALL2 RT-ALARM-SET?,RT-I-CAB-ARRIVE >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 14,778,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,0,2,0
	.DEBUG-LINE 14,779,1
	RTRUE
	.DEBUG-LINE 14,780,1
?L9:	GET GL-P-NAMW,0 >STACK
	EQUAL? STACK,W?CAB \?L13
	.DEBUG-LINE 14,781,1
	CALL1 RT-BLOW-WHISTLE >STACK
	RSTACK
	.DEBUG-LINE 14,783,1
?L13:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 14,784,1
	PRINTI "can't "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-A-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 14,785,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 14,786,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-EXIT-BYWARD-TOWER"
	.FUNCT RT-EX-RM-EXIT-BYWARD-TOWER
	.DEBUG-LINE 15,14,1
	EQUAL? GL-PRSO,P?EAST,P?IN \?L1
	.DEBUG-LINE 15,15,1
	ZERO? ALLOW-IN-TOWER /?L3
	.DEBUG-LINE 15,16,1
	PRINTI "The guard nods as you pass."
	CRLF
	.DEBUG-LINE 15,17,1
	RETURN RM-OUTER-WARD
	.DEBUG-LINE 15,18,1
?L3:	PRINTI "The guard steps into your path and says, ""I am sorry but you cannot go in unless you can tell me the password."""
	CRLF
	.DEBUG-LINE 15,21,1
	RFALSE
	.DEBUG-LINE 15,22,1
?L1:	EQUAL? GL-PRSO,P?WEST,P?OUT \FALSE
	.DEBUG-LINE 15,23,1
	EQUAL? GL-PLACE-PRV,RM-DRAWBRIDGE \?L7
	.DEBUG-LINE 15,24,1
	RETURN RM-DRAWBRIDGE
	.DEBUG-LINE 15,26,1
?L7:	PRINTI "The guard blocks your path and says, ""I am sorry, but I am under strict orders not to allow anyone to leave the Tower."""
	CRLF
	.DEBUG-LINE 15,29,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-TOWER-GUARD","CONTEXT"
	.FUNCT RT-AC-CH-TOWER-GUARD,CONTEXT
	ASSIGNED? 'CONTEXT /?L10
	SET 'CONTEXT,0
	.DEBUG-LINE 15,42,1
?L10:	EQUAL? CONTEXT,K-M-WINNER \?L1
	.DEBUG-LINE 15,43,1
	EQUAL? GL-PRSA,V?BOLEYN,V?CLEVES,V?HOWARD /FALSE
	EQUAL? GL-PRSA,V?PARR,V?ARAGON,V?SEYMOUR /FALSE
	EQUAL? GL-PRSA,V?PASSWORD /FALSE
	.DEBUG-LINE 15,46,1
	PRINTR "The guard stares at you impassively."
	.DEBUG-LINE 15,47,1
?L1:	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 15,48,1
	.DEBUG-LINE 15,50,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MALMSEY"
	.FUNCT RT-AC-TH-MALMSEY
	.DEBUG-LINE 15,126,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,127,1
	SET 'GL-P-IT-OBJECT,TH-MALMSEY
	.DEBUG-LINE 15,128,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,131,1
	EQUAL? GL-PRSA,V?DRINK,V?DRINK-FROM,V?EAT /?L9
	EQUAL? GL-PRSA,V?DRINK \?L7
	.DEBUG-LINE 15,132,1
?L9:	PRINT K-TIPSY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 15,133,1
?L7:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,134,1
	PRINT K-BULLET-MSG
	.DEBUG-LINE 15,135,1
	CALL1 RT-EMPTY-BUTT-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MALMSEY-POOL"
	.FUNCT RT-AC-TH-MALMSEY-POOL
	.DEBUG-LINE 15,139,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,142,1
	EQUAL? GL-PRSA,V?DRINK,V?DRINK-FROM,V?EAT /?L6
	EQUAL? GL-PRSA,V?TASTE \?L4
	.DEBUG-LINE 15,143,1
?L6:	PRINTR "You get down on all fours and lap up some of the wine. Yuch!"
	.DEBUG-LINE 15,145,1
?L4:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,146,1
	CALL1 RT-WHY-SHOOT-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BUTT-OF-MALMSEY","CONTEXT"
	.FUNCT RT-AC-TH-BUTT-OF-MALMSEY,CONTEXT
	ASSIGNED? 'CONTEXT /?L24
	SET 'CONTEXT,0
	.DEBUG-LINE 15,150,1
?L24:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 15,151,1
	FSET? TH-BUTT-OF-MALMSEY,FL-BROKEN \?L3
	.DEBUG-LINE 15,152,1
	PRINTI "empty "
	.DEBUG-LINE 15,153,1
?L3:	PRINTI "butt of malmsey"
	.DEBUG-LINE 15,154,1
	RTRUE
	.DEBUG-LINE 15,155,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L9
	.DEBUG-LINE 15,156,1
	FSET? TH-BUTT-OF-MALMSEY,FL-BROKEN /FALSE
	.DEBUG-LINE 15,159,1
	.DEBUG-LINE 15,163,1
	PRINTR "It's an old wooden keg that's brimming over with malmsey and covered with stains where the wine has spilled down the sides and leaked through the bung."
	.DEBUG-LINE 15,164,1
?L9:	FSET? TH-BUTT-OF-MALMSEY,FL-BROKEN \?L11
	.DEBUG-LINE 15,165,1
	CALL1 RT-AC-TH-EMPTY-BUTT-OF-MALMSEY >STACK
	RSTACK
	.DEBUG-LINE 15,166,1
?L11:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,169,1
	EQUAL? GL-PRSA,V?DRINK \?L15
	.DEBUG-LINE 15,170,1
	PRINT K-TIPSY-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 15,171,1
?L15:	EQUAL? GL-PRSA,V?DRINK-FROM \?L17
	.DEBUG-LINE 15,172,1
	PRINTR "You take a sip. It tastes like Malmsey."
	.DEBUG-LINE 15,173,1
?L17:	EQUAL? GL-PRSA,V?FLIP,V?PUSH,V?TIP /?L19
	EQUAL? GL-PRSA,V?PUSH-TO,V?LOOSEN \?L18
	.DEBUG-LINE 15,174,1
?L19:	ICALL1 RT-CTHEO-PRINT
	PRINTR " is much too heavy to move."
	.DEBUG-LINE 15,175,1
?L18:	EQUAL? GL-PRSA,V?SHOOT \?L20
	.DEBUG-LINE 15,176,1
	PRINT K-BULLET-MSG
	.DEBUG-LINE 15,177,1
	CALL1 RT-EMPTY-BUTT-MSG >STACK
	RSTACK
	.DEBUG-LINE 15,178,1
?L20:	EQUAL? GL-PRSA,V?REACH-IN \FALSE
	.DEBUG-LINE 15,179,1
	ICALL RT-CYOU-MSG,STR?277,STR?276
	.DEBUG-LINE 15,180,1
	PRINTI "an arm down into the malmsey, but"
	.DEBUG-LINE 15,182,1
	ICALL RT-YOU-MSG,STR?279,STR?278,1
	.DEBUG-LINE 15,183,1
	PRINTR "up empty."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-EMPTY-BUTT-OF-MALMSEY"
	.FUNCT RT-AC-TH-EMPTY-BUTT-OF-MALMSEY
	.DEBUG-LINE 15,187,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,190,1
	EQUAL? GL-PRSA,V?DRINK,V?DRINK-FROM \?L4
	.DEBUG-LINE 15,191,1
	PRINTR "Too bad. All gone."
	.DEBUG-LINE 15,192,1
?L4:	EQUAL? GL-PRSA,V?FLIP \FALSE
	.DEBUG-LINE 15,193,1
	PRINTI "That would"
	.DEBUG-LINE 15,194,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EMPTY-BUTT-MSG"
	.FUNCT RT-EMPTY-BUTT-MSG
	.DEBUG-LINE 15,197,1
	REMOVE TH-MALMSEY
	.DEBUG-LINE 15,199,1
	MOVE TH-GARNET,TH-BUTT-OF-MALMSEY
	.DEBUG-LINE 15,200,1
	MOVE TH-MALMSEY-POOL,RM-BOWYER-TOWER
	.DEBUG-LINE 15,202,1
	FSET TH-BUTT-OF-MALMSEY,FL-BROKEN
	.DEBUG-LINE 15,203,1
	MOVE TH-BUNG,RM-BOWYER-TOWER
	.DEBUG-LINE 15,204,1
	PRINTI " flies across the room and lands in the corner. "
	ICALL2 RT-CTHEO-PRINT,TH-MALMSEY
	PRINTR " streams out of the butt and across the floor. Soon the keg is completely empty, and there's wine all over the floor."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BUNG"
	.FUNCT RT-AC-TH-BUNG
	.DEBUG-LINE 15,211,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,214,1
	EQUAL? GL-PRSA,V?TAKE,V?PULL,V?LOOSEN /?L6
	EQUAL? GL-PRSA,V?UNPLUG,V?RELEASE \?L4
	.DEBUG-LINE 15,215,1
?L6:	IN? TH-BUNG,TH-BUTT-OF-MALMSEY \FALSE
	.DEBUG-LINE 15,216,1
	PRINTR "You can't. It's jammed in too tight."
	.DEBUG-LINE 15,217,1
?L4:	EQUAL? GL-PRSA,V?PUT \?L10
	.DEBUG-LINE 15,218,1
	EQUAL? GL-PRSI,TH-BUTT-OF-MALMSEY \FALSE
	FSET? GL-PRSI,FL-BROKEN \FALSE
	.DEBUG-LINE 15,220,1
	PRINTR "Don't you think it's pretty pointless to try to stopper up an empty keg?"
	.DEBUG-LINE 15,221,1
?L10:	EQUAL? GL-PRSA,V?HIT \?L14
	.DEBUG-LINE 15,222,1
	IN? TH-BUNG,TH-BUTT-OF-MALMSEY \FALSE
	.DEBUG-LINE 15,223,1
	EQUAL? GL-PRSI,TH-HANDS \?L17
	.DEBUG-LINE 15,224,1
	PRINTR "Your hands aren't nearly strong enough to remove the stopper by themselves."
	.DEBUG-LINE 15,226,1
?L17:	EQUAL? GL-PRSI,TH-MACE \FALSE
	.DEBUG-LINE 15,227,1
	ICALL2 RT-CTHEO-PRINT,TH-BUNG
	.DEBUG-LINE 15,228,1
	CALL1 RT-EMPTY-BUTT-MSG >STACK
	RSTACK
	.DEBUG-LINE 15,229,1
?L14:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,230,1
	IN? TH-BUNG,TH-BUTT-OF-MALMSEY \FALSE
	.DEBUG-LINE 15,231,1
	PRINT K-BULLET-MSG
	.DEBUG-LINE 15,232,1
	CALL1 RT-EMPTY-BUTT-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GARNET","CONTEXT"
	.FUNCT RT-AC-TH-GARNET,CONTEXT
	ASSIGNED? 'CONTEXT /?L18
	SET 'CONTEXT,0
	.DEBUG-LINE 15,235,1
?L18:	GETP TH-GARNET,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?SCRATCH \?L1
	.DEBUG-LINE 15,236,1
	CALL RT-HANDLE-SCRATCH,TH-GARNET,CONTEXT >STACK
	RSTACK
	.DEBUG-LINE 15,238,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L4
	.DEBUG-LINE 15,239,1
	PRINTI "garnet"
	.DEBUG-LINE 15,240,1
	RTRUE
	.DEBUG-LINE 15,241,1
?L4:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 15,242,1
	ICALL2 RT-EXAMINE-GEM,TH-GARNET
	.DEBUG-LINE 15,243,1
	RTRUE
	.DEBUG-LINE 15,244,1
?L6:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 15,245,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,248,1
	CALL2 RT-EXAMINE-GEM,TH-GARNET >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 15,250,1
	EQUAL? GL-PRSA,V?TAKE \FALSE
	.DEBUG-LINE 15,251,1
	IN? TH-GARNET,TH-BUTT-OF-MALMSEY \FALSE
	.DEBUG-LINE 15,252,1
	PRINTR "You can't. Your shoulders are too broad, and your arms are too short for you to reach to the bottom of the butt."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MACE","CONTEXT"
	.FUNCT RT-AC-TH-MACE,CONTEXT
	ASSIGNED? 'CONTEXT /?L16
	SET 'CONTEXT,0
	.DEBUG-LINE 15,258,1
?L16:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 15,259,1
	.DEBUG-LINE 15,262,1
	PRINTR "It's a huge, medieval mace that some medieval knight probably used for knocking other knights off horses."
	.DEBUG-LINE 15,263,1
?L1:	ZERO? GL-NOW-PRSI? /?L17
	.DEBUG-LINE 15,264,1
	EQUAL? GL-PRSO,CH-WIGGINS \?L4
	.DEBUG-LINE 15,265,1
	FSET? GL-PRSO,FL-ASLEEP \?L6
	.DEBUG-LINE 15,266,1
	.DEBUG-LINE 15,269,1
	PRINTR "If he could, Wiggins would dance nimbly out of harm's way and cry ""'Ere! Steady on, mate!"" Assault and battery on your friends is probably not the way to go."
	.DEBUG-LINE 15,270,1
?L6:	PRINTR "Wiggins dances nimbly out of harm's way and cries, ""'Ere! Steady on, mate!"""
	.DEBUG-LINE 15,273,1
?L4:	EQUAL? GL-PRSO,TH-SUIT-OF-ARMOUR \FALSE
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN /FALSE
	.DEBUG-LINE 15,275,1
	PRINTR "Did you really think beating up on an empty suit of armour was going to get you anywhere?"
	.DEBUG-LINE 15,279,1
?L17:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,280,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PORTCULLIS-CHAIN","CONTEXT"
	.FUNCT RT-AC-TH-PORTCULLIS-CHAIN,CONTEXT
	ASSIGNED? 'CONTEXT /?L17
	SET 'CONTEXT,0
	.DEBUG-LINE 15,284,1
?L17:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 15,285,1
	PRINTR "The chain is hanging just within reach."
	.DEBUG-LINE 15,286,1
?L1:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 15,289,1
	EQUAL? GL-PRSA,V?PULL,V?LOWER,V?LOOSEN /?L7
	EQUAL? GL-PRSA,V?PUSH-TO \?L5
	.DEBUG-LINE 15,290,1
?L7:	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L8
	.DEBUG-LINE 15,291,1
	PRINTR "The gate is already up."
	.DEBUG-LINE 15,293,1
?L8:	FSET? TH-SUIT-OF-ARMOUR,FL-WORN /?L11
	.DEBUG-LINE 15,294,1
	PRINTR "You pull on the chain but the portcullis doesn't budge."
	.DEBUG-LINE 15,297,1
?L11:	FSET LG-PORTCULLIS-DOOR,FL-OPENED
	.DEBUG-LINE 15,298,1
	FSET LG-PORTCULLIS-DOOR,FL-LOCKED
	.DEBUG-LINE 15,299,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 15,300,1
	PRINTI "You grab the chain and lift your feet off the ground. The portcullis' ancient mechanism creaks, but then it rises up and locks into place. When you release the chain, the massive gate remains open."
	CRLF
	.DEBUG-LINE 15,304,1
	ICALL2 RT-UPDATE-SCORE,1
	.DEBUG-LINE 15,305,1
	RTRUE
	.DEBUG-LINE 15,306,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,307,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SUIT-OF-ARMOUR","CONTEXT"
	.FUNCT RT-AC-TH-SUIT-OF-ARMOUR,CONTEXT
	ASSIGNED? 'CONTEXT /?L36
	SET 'CONTEXT,0
	.DEBUG-LINE 15,311,1
?L36:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 15,312,1
	PRINTR "The suit of armour was made for Henry VIII."
	.DEBUG-LINE 15,314,1
?L1:	ZERO? GL-NOW-PRSI? /?L37
	.DEBUG-LINE 15,315,1
	EQUAL? GL-PRSA,V?PUT \?L4
	.DEBUG-LINE 15,316,1
	PRINTI "That would"
	.DEBUG-LINE 15,317,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-LINE 15,318,1
?L4:	EQUAL? GL-PRSA,V?TAKE \FALSE
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \FALSE
	.DEBUG-LINE 15,320,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 15,321,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?161,TH-SUIT-OF-ARMOUR
	.DEBUG-LINE 15,322,1
	PRINTR " first."
	.DEBUG-LINE 15,324,1
?L37:	EQUAL? GL-PRSA,V?TAKE \?L9
	.DEBUG-LINE 15,325,1
	EQUAL? GL-WINNER,CH-WIGGINS \?L11
	.DEBUG-LINE 15,326,1
	PRINTI """"
	.DEBUG-LINE 15,327,1
?L11:	PRINTI "Ooof! It's too heavy to carry."
	.DEBUG-LINE 15,328,1
	EQUAL? GL-WINNER,CH-WIGGINS \?L14
	.DEBUG-LINE 15,329,1
	PRINTI """"
	.DEBUG-LINE 15,330,1
	.DEBUG-LINE 15,331,1
?L14:	CRLF
	RTRUE
	.DEBUG-LINE 15,332,1
?L9:	EQUAL? GL-PRSA,V?WEAR \?L17
	.DEBUG-LINE 15,333,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN /?L18
	.DEBUG-LINE 15,334,1
	MOVE TH-SUIT-OF-ARMOUR,CH-PLAYER
	.DEBUG-LINE 15,335,1
	FSET TH-SUIT-OF-ARMOUR,FL-WORN
	.DEBUG-LINE 15,336,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 15,337,1
	PRINTR "You put on the suit of armour."
	.DEBUG-LINE 15,339,1
?L18:	PRINTR "You're already wearing it."
	.DEBUG-LINE 15,340,1
?L17:	EQUAL? GL-PRSA,V?TAKE-OFF,V?EXIT \?L21
	.DEBUG-LINE 15,341,1
	FSET? TH-SUIT-OF-ARMOUR,FL-WORN \?L22
	.DEBUG-LINE 15,342,1
	MOVE TH-SUIT-OF-ARMOUR,GL-PLACE-CUR
	.DEBUG-LINE 15,343,1
	FCLEAR TH-SUIT-OF-ARMOUR,FL-WORN
	.DEBUG-LINE 15,344,1
	ICALL2 SOUNDS,S-ARMOR
	.DEBUG-LINE 15,345,1
	PRINTI "You take off the suit of armour and leave it "
	.DEBUG-LINE 15,346,1
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /?L26
	EQUAL? GL-PLACE-CUR,RM-THAMES-FOUR,RM-THAMES-FIVE \?L24
	.DEBUG-LINE 15,349,1
?L26:	MOVE TH-SUIT-OF-ARMOUR,TH-BOAT
	.DEBUG-LINE 15,350,1
	PRINTI "in the boat"
	JUMP ?L30
	.DEBUG-LINE 15,352,1
?L24:	PRINTI "on "
	.DEBUG-LINE 15,353,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L28
	.DEBUG-LINE 15,354,1
	ICALL1 TELL-THE-FLOOR
	JUMP ?L30
	.DEBUG-LINE 15,356,1
?L28:	ICALL1 TELL-THE-GROUND
	.DEBUG-LINE 15,357,1
?L30:	PRINTR "."
	.DEBUG-LINE 15,358,1
?L22:	EQUAL? GL-P-PRSA-WORD,W?LEAVE /FALSE
	.DEBUG-LINE 15,361,1
	PRINTR "You're not wearing it."
	.DEBUG-LINE 15,362,1
?L21:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 15,363,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-PORTCULLIS-DOOR"
	.FUNCT RT-AC-LG-PORTCULLIS-DOOR
	.DEBUG-LINE 15,376,1
	ZERO? GL-NOW-PRSI? \?L40
	.DEBUG-LINE 15,377,1
	EQUAL? GL-PRSA,V?RAISE,V?OPEN,V?LOOSEN \?L3
	.DEBUG-LINE 15,378,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L5
	.DEBUG-LINE 15,379,1
	PRINTR "The gate is already up."
	.DEBUG-LINE 15,381,1
?L5:	PRINTR "Oomph. The portcullis is too heavy to lift."
	.DEBUG-LINE 15,382,1
?L3:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L8
	.DEBUG-LINE 15,383,1
	PRINTI "You look through the gate."
	CRLF
	.DEBUG-LINE 15,386,1
	EQUAL? GL-PLACE-CUR,RM-INSIDE-TRAITORS-GATE \?L9
	.DEBUG-LINE 15,387,1
	CALL2 RT-DESCRIBE-PLACE-CONTENTS,RM-OUTSIDE-TRAITORS-GATE >STACK
	RSTACK
	.DEBUG-LINE 15,388,1
?L9:	EQUAL? GL-PLACE-CUR,RM-OUTSIDE-TRAITORS-GATE \FALSE
	.DEBUG-LINE 15,389,1
	CALL2 RT-DESCRIBE-PLACE-CONTENTS,RM-INSIDE-TRAITORS-GATE >STACK
	RSTACK
	.DEBUG-LINE 15,390,1
?L8:	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \?L13
	.DEBUG-LINE 15,391,1
	EQUAL? GL-PLACE-CUR,RM-INSIDE-TRAITORS-GATE \?L14
	.DEBUG-LINE 15,392,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-LINE 15,393,1
?L14:	EQUAL? GL-PLACE-CUR,RM-OUTSIDE-TRAITORS-GATE \FALSE
	.DEBUG-LINE 15,394,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-LINE 15,395,1
?L13:	EQUAL? GL-PRSA,V?CLOSE,V?LOWER \?L18
	.DEBUG-LINE 15,396,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \FALSE
	.DEBUG-LINE 15,397,1
	PRINTR "It's jammed open."
	.DEBUG-LINE 15,398,1
?L18:	EQUAL? GL-PRSA,V?SHOOT \?L22
	.DEBUG-LINE 15,399,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 15,400,1
?L22:	EQUAL? GL-PRSA,V?REACH-IN \FALSE
	.DEBUG-LINE 15,401,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L24
	.DEBUG-LINE 15,402,1
	PRINTI "Why don't you just walk through the gate? "
	ICALL2 RT-CTHEO-PRINT,LG-PORTCULLIS-DOOR
	PRINTR " is open."
	.DEBUG-LINE 15,405,1
?L24:	ICALL RT-CYOU-MSG,STR?248,STR?247
	.DEBUG-LINE 15,406,1
	PRINTI "through "
	ICALL1 RT-THEO-PRINT
	PRINTR ", but can't touch anything on the other side."
	.DEBUG-LINE 15,409,1
?L40:	EQUAL? GL-PRSA,V?THROW \?L29
	EQUAL? GL-P-PRSA-WORD,W?PUT \?L29
	EQUAL? GL-PRSO,TH-HANDS,TH-FEET \?L29
	.DEBUG-LINE 15,412,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \?L31
	.DEBUG-LINE 15,413,1
	PRINTI "Why don't you just walk through the gate? "
	ICALL2 RT-CTHEO-PRINT,LG-PORTCULLIS-DOOR
	PRINTR " is open."
	.DEBUG-LINE 15,416,1
?L31:	ICALL RT-CYOU-MSG,STR?165,STR?164
	.DEBUG-LINE 15,417,1
	ICALL1 RT-THEO-PRINT
	PRINTI " through "
	ICALL1 RT-THEI-PRINT
	PRINTR ", but can't reach anything on the other side."
	.DEBUG-LINE 15,419,1
?L29:	EQUAL? GL-PRSA,V?THROW,V?PUT \FALSE
	.DEBUG-LINE 15,420,1
	FSET? LG-PORTCULLIS-DOOR,FL-OPENED \FALSE
	.DEBUG-LINE 15,421,1
	PRINTI "Why bother? "
	ICALL2 RT-CTHEO-PRINT,LG-PORTCULLIS-DOOR
	PRINTR " is open."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-VENDOR","CONTEXT","NUM"
	.FUNCT RT-AC-CH-VENDOR,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L31
	SET 'CONTEXT,0
	.DEBUG-LINE 16,20,1
?L31:	SET 'NUM,CH-VENDOR-AUX1
	.DEBUG-LINE 16,21,1
	EQUAL? CONTEXT,K-M-WINNER \?L1
	EQUAL? GL-PRSA,V?TAKE \?L1
	CALL RT-META-IN?,GL-PRSO,CH-PLAYER >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 16,24,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 16,25,1
	ICALL RT-PERFORM,V?GIVE,GL-PRSO,CH-VENDOR
	.DEBUG-LINE 16,26,1
	SET 'GL-WINNER,CH-VENDOR
	.DEBUG-LINE 16,27,1
	RTRUE
	.DEBUG-LINE 16,28,1
?L1:	EQUAL? GL-PRSA,V?HAGGLE \?L3
	ZERO? GL-NOW-PRSI? \?L3
	.DEBUG-LINE 16,30,1
	ICALL2 RT-THIS-IS-IT,TH-TELESCOPE
	.DEBUG-LINE 16,31,1
	IN? TH-TELESCOPE,CH-VENDOR /?L4
	.DEBUG-LINE 16,32,1
	PRINTR """Sorry, guv. No refunds."""
	.DEBUG-LINE 16,33,1
?L4:	ZERO? NUM \?L6
	.DEBUG-LINE 16,34,1
	PRINTI """Alright, guv. For you I'll come down to me special Jubilee price of Nineteen and six. 'Ow about it?"""
	CRLF
	.DEBUG-LINE 16,37,1
	SET 'CH-VENDOR-AUX1,1
	RETURN CH-VENDOR-AUX1
	.DEBUG-LINE 16,38,1
?L6:	EQUAL? NUM,1 \?L7
	.DEBUG-LINE 16,39,1
	PRINTI """It'll break me poor wife's 'eart, me comin' 'ome wif so little. But times is 'ard. Nineteen shillings. Not a farthing less."""
	CRLF
	.DEBUG-LINE 16,42,1
	SET 'CH-VENDOR-AUX1,2
	RETURN CH-VENDOR-AUX1
	.DEBUG-LINE 16,43,1
?L7:	EQUAL? NUM,2 \FALSE
	.DEBUG-LINE 16,44,1
	PRINTR """Sorry, guv. Nineteen shillings is me price."""
	.DEBUG-LINE 16,45,1
?L3:	CALL2 RT-TELL-ABOUT?,CH-VENDOR >STACK
	ZERO? STACK /?L10
	.DEBUG-LINE 16,46,1
	EQUAL? GL-PRSI,TH-TELESCOPE \?L11
	.DEBUG-LINE 16,47,1
	IN? TH-TELESCOPE,CH-VENDOR /?L13
	.DEBUG-LINE 16,48,1
	PRINTR """Sorry, guv. No refunds."""
	.DEBUG-LINE 16,49,1
?L13:	ZERO? NUM \?L15
	.DEBUG-LINE 16,50,1
	PRINTR """It's me top-of-the-line model. I can let you 'ave it for one pound."""
	.DEBUG-LINE 16,52,1
?L15:	EQUAL? NUM,1 \?L16
	.DEBUG-LINE 16,53,1
	PRINTR """Seeing as 'ow it's you, I'll let it go for nineteen and six."""
	.DEBUG-LINE 16,55,1
?L16:	EQUAL? NUM,2 \FALSE
	.DEBUG-LINE 16,56,1
	PRINTR """Nineteen shillings is as low as I can go."""
	.DEBUG-LINE 16,59,1
?L11:	IN? TH-TELESCOPE,CH-VENDOR \?L20
	.DEBUG-LINE 16,60,1
	EQUAL? GL-PRSI,TH-TRINKETS \?L22
	.DEBUG-LINE 16,61,1
	PRINTR """I've got quite a nice telescope 'ere that I can let you 'ave for only a quid."""
	.DEBUG-LINE 16,65,1
?L22:	PRINTR "He ignores your question and waves trinkets over his head, asking if you wish to buy anything."
	.DEBUG-LINE 16,69,1
?L20:	PRINTR "He ignores your question and looks about for new customers."
	.DEBUG-LINE 16,71,1
?L10:	EQUAL? GL-PRSA,V?GIVE \FALSE
	.DEBUG-LINE 16,72,1
	EQUAL? GL-PRSO,TH-TELESCOPE \FALSE
	.DEBUG-LINE 16,73,1
	.DEBUG-LINE 16,74,1
	PRINTR """Sorry, mate. No refunds."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-POUND-NOTE","CONTEXT","NUM"
	.FUNCT RT-AC-TH-POUND-NOTE,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L15
	SET 'CONTEXT,0
	.DEBUG-LINE 16,104,1
?L15:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 16,105,1
	PRINTR "Why, haven't you ever seen a pound note before?"
	.DEBUG-LINE 16,106,1
?L1:	EQUAL? GL-PRSA,V?BUY \?L5
	EQUAL? GL-PRSO,TH-TELESCOPE /?L4
?L5:	EQUAL? GL-PRSA,V?GIVE \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	EQUAL? GL-PRSI,CH-VENDOR \FALSE
	.DEBUG-LINE 16,111,1
?L4:	ICALL RT-CYOU-MSG,STR?191,STR?190
	.DEBUG-LINE 16,112,1
	ICALL2 RT-THEO-PRINT,TH-POUND-NOTE
	PRINTI " to "
	ICALL2 RT-THEO-PRINT,CH-VENDOR
	PRINTI "."
	.DEBUG-LINE 16,113,1
	SET 'NUM,CH-VENDOR-AUX1
	.DEBUG-LINE 16,114,1
	ZERO? NUM \?L6
	.DEBUG-LINE 16,115,1
	PRINT K-GOOD-HEALTH-MSG
	JUMP ?L9
	.DEBUG-LINE 16,116,1
?L6:	EQUAL? NUM,1 \?L8
	.DEBUG-LINE 16,117,1
	PRINTI " He smirks, gives"
	.DEBUG-LINE 16,118,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,119,1
	PRINTI "sixpence change,"
	.DEBUG-LINE 16,120,1
	MOVE TH-SIXPENCE,GL-WINNER
	.DEBUG-LINE 16,121,1
	FSET TH-SIXPENCE,FL-SEEN
	.DEBUG-LINE 16,122,1
	FSET TH-SIXPENCE,FL-TOUCHED
	JUMP ?L9
	.DEBUG-LINE 16,123,1
?L8:	EQUAL? NUM,2 \?L9
	.DEBUG-LINE 16,124,1
	PRINTI " He gives"
	.DEBUG-LINE 16,125,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,126,1
	PRINTI "a shilling for change,"
	.DEBUG-LINE 16,127,1
	MOVE TH-SHILLING,GL-WINNER
	.DEBUG-LINE 16,128,1
	FSET TH-SHILLING,FL-SEEN
	.DEBUG-LINE 16,129,1
	FSET TH-SHILLING,FL-TOUCHED
	.DEBUG-LINE 16,130,1
?L9:	PRINTI " and hands"
	.DEBUG-LINE 16,131,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,132,1
	ICALL2 RT-THEO-PRINT,TH-TELESCOPE
	PRINTI "."
	CRLF
	.DEBUG-LINE 16,133,1
	MOVE TH-TELESCOPE,GL-WINNER
	.DEBUG-LINE 16,134,1
	REMOVE TH-POUND-NOTE
	.DEBUG-LINE 16,135,1
	FSET TH-TELESCOPE,FL-SEEN
	.DEBUG-LINE 16,136,1
	FSET TH-TELESCOPE,FL-TOUCHED
	.DEBUG-LINE 16,137,1
	FCLEAR TH-TELESCOPE,FL-NODESC
	.DEBUG-LINE 16,138,1
	EQUAL? NUM,2 \?L11
	.DEBUG-LINE 16,139,1
	GETP TH-TELESCOPE,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 16,140,1
?L11:	PUTP TH-TELESCOPE,P?VALUE,0
	.DEBUG-LINE 16,141,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TELESCOPE","CONTEXT","NUM"
	.FUNCT RT-AC-TH-TELESCOPE,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L44
	SET 'CONTEXT,0
	.DEBUG-LINE 16,145,1
?L44:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 16,146,1
	PRINTI "The telescope looks surprisingly good"
	.DEBUG-LINE 16,147,1
	IN? TH-TELESCOPE,CH-VENDOR \?L3
	.DEBUG-LINE 16,148,1
	PRINTI ". But it's not worth a whole pound"
	JUMP ?L5
	.DEBUG-LINE 16,150,1
?L3:	PRINTI ", considering it's just a trinket"
	.DEBUG-LINE 16,151,1
	.DEBUG-LINE 16,152,1
?L5:	PRINTR "."
	.DEBUG-LINE 16,153,1
?L1:	SET 'GL-P-IT-OBJECT,TH-TELESCOPE
	.DEBUG-LINE 16,154,1
	ZERO? GL-NOW-PRSI? /?L7
	.DEBUG-LINE 16,155,1
	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	.DEBUG-LINE 16,156,1
	IN? GL-PRSI,CH-PLAYER /?L11
	.DEBUG-LINE 16,157,1
	ICALL RT-YOUD-HAVE-TO-MSG,STR?216,GL-PRSI
	.DEBUG-LINE 16,158,1
	RTRUE
	.DEBUG-LINE 16,159,1
?L11:	CALL2 RT-GOT?,GL-PRSO >STACK
	ZERO? STACK \?L14
	EQUAL? GL-PRSO,CH-PLAYER,CH-ME,TH-HANDS /?L14
	EQUAL? GL-PRSO,TH-FEET,TH-POCKET /?L14
	CALL RT-IDENTIFY-FLOOR?,W?GROUND,GL-PRSO >STACK
	ZERO? STACK /?L13
	.DEBUG-LINE 16,164,1
?L14:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 16,165,1
	PRINTR " will not focus that closely."
	.DEBUG-LINE 16,166,1
?L13:	EQUAL? GL-LASTFOC,GL-PRSO /?L15
	.DEBUG-LINE 16,167,1
	SET 'GL-LASTFOC,GL-PRSO
	.DEBUG-LINE 16,168,1
	PRINTI "You focus the telescope on "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	CRLF
	.DEBUG-LINE 16,170,1
?L15:	EQUAL? GL-PRSO,TH-NELSON-STATUE,TH-NELSON-EYE \?L17
	IN? TH-RUBY,TH-NELSON-STATUE \?L17
	.DEBUG-LINE 16,172,1
	PRINTI "You can see a ruby in Nelson's blind eye."
	CRLF
	.DEBUG-LINE 16,174,1
	FSET TH-NELSON-STATUE,FL-OPENED
	.DEBUG-LINE 16,175,1
	RTRUE
	.DEBUG-LINE 16,176,1
?L17:	FSET? GL-PRSO,FL-PLURAL \?L19
	FSET? GL-PRSO,FL-COLLECTIVE /?L19
	.DEBUG-LINE 16,178,1
	PRINTI "They appear"
	JUMP ?L22
	.DEBUG-LINE 16,179,1
?L19:	FSET? GL-PRSO,FL-PERSON \?L21
	FSET? GL-PRSO,FL-FEMALE \?L20
	.DEBUG-LINE 16,181,1
	PRINTI "She appears"
	JUMP ?L22
	.DEBUG-LINE 16,182,1
?L20:	FSET? GL-PRSO,FL-PERSON \?L21
	FSET? GL-PRSO,FL-FEMALE /?L21
	.DEBUG-LINE 16,184,1
	PRINTI "He appears"
	JUMP ?L22
	.DEBUG-LINE 16,186,1
?L21:	PRINTI "It appears"
	.DEBUG-LINE 16,187,1
	.DEBUG-LINE 16,188,1
?L22:	PRINTR " much closer now."
	.DEBUG-LINE 16,191,1
?L7:	EQUAL? GL-PRSA,V?LOOK-INSIDE \?L24
	.DEBUG-LINE 16,192,1
	.DEBUG-LINE 16,193,1
	PRINTR "Everything appears much closer."
	.DEBUG-LINE 16,194,1
?L24:	EQUAL? GL-PRSA,V?ADJUST,V?PLAY \?L25
	.DEBUG-LINE 16,195,1
	.DEBUG-LINE 16,196,1
	PRINTR "You fiddle aimlessly with the controls."
	.DEBUG-LINE 16,197,1
?L25:	EQUAL? GL-PRSA,V?TAKE,V?STEAL \?L26
	IN? TH-TELESCOPE,CH-VENDOR \?L26
	.DEBUG-LINE 16,199,1
	PRINT K-THEFT-MSG
	.DEBUG-LINE 16,200,1
	CRLF
	RTRUE
	.DEBUG-LINE 16,201,1
?L26:	EQUAL? GL-PRSA,V?BUY,V?BUY-FROM \FALSE
	IN? TH-TELESCOPE,CH-VENDOR \FALSE
	.DEBUG-LINE 16,203,1
	EQUAL? GL-PRSI,TH-POUND-NOTE /?L30
	EQUAL? GL-PRSI,0,CH-VENDOR \?L28
	CALL RT-META-IN?,TH-POUND-NOTE,GL-WINNER >STACK
	ZERO? STACK /?L28
	.DEBUG-LINE 16,206,1
?L30:	ICALL RT-CYOU-MSG,STR?191,STR?190
	.DEBUG-LINE 16,207,1
	ICALL2 RT-THEO-PRINT,TH-POUND-NOTE
	PRINTI " to "
	ICALL2 RT-THEO-PRINT,CH-VENDOR
	PRINTI "."
	.DEBUG-LINE 16,208,1
	SET 'NUM,CH-VENDOR-AUX1
	.DEBUG-LINE 16,209,1
	ZERO? NUM \?L31
	.DEBUG-LINE 16,210,1
	PRINT K-GOOD-HEALTH-MSG
	JUMP ?L34
	.DEBUG-LINE 16,211,1
?L31:	EQUAL? NUM,1 \?L33
	.DEBUG-LINE 16,212,1
	PRINTI " He smirks, gives"
	.DEBUG-LINE 16,213,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,214,1
	PRINTI "sixpence change,"
	.DEBUG-LINE 16,215,1
	MOVE TH-SIXPENCE,GL-WINNER
	.DEBUG-LINE 16,216,1
	FSET TH-SIXPENCE,FL-SEEN
	.DEBUG-LINE 16,217,1
	FSET TH-SIXPENCE,FL-TOUCHED
	JUMP ?L34
	.DEBUG-LINE 16,218,1
?L33:	EQUAL? NUM,2 \?L34
	.DEBUG-LINE 16,219,1
	PRINTI " He gives"
	.DEBUG-LINE 16,220,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,221,1
	PRINTI "a shilling for change,"
	.DEBUG-LINE 16,222,1
	MOVE TH-SHILLING,GL-WINNER
	.DEBUG-LINE 16,223,1
	FSET TH-SHILLING,FL-SEEN
	.DEBUG-LINE 16,224,1
	FSET TH-SHILLING,FL-TOUCHED
	.DEBUG-LINE 16,225,1
?L34:	PRINTI " and hands"
	.DEBUG-LINE 16,226,1
	ICALL1 RT-YOU-MSG
	.DEBUG-LINE 16,227,1
	ICALL2 RT-THEO-PRINT,TH-TELESCOPE
	PRINTI "."
	CRLF
	.DEBUG-LINE 16,228,1
	MOVE TH-TELESCOPE,GL-WINNER
	.DEBUG-LINE 16,229,1
	REMOVE TH-POUND-NOTE
	.DEBUG-LINE 16,230,1
	FSET TH-TELESCOPE,FL-SEEN
	.DEBUG-LINE 16,231,1
	FSET TH-TELESCOPE,FL-TOUCHED
	.DEBUG-LINE 16,232,1
	FCLEAR TH-TELESCOPE,FL-NODESC
	.DEBUG-LINE 16,233,1
	EQUAL? NUM,2 \?L36
	.DEBUG-LINE 16,234,1
	GETP TH-TELESCOPE,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 16,235,1
?L36:	PUTP TH-TELESCOPE,P?VALUE,0
	.DEBUG-LINE 16,236,1
	RTRUE
	.DEBUG-LINE 16,242,1
?L28:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 16,243,1
	PRINTI "can't buy "
	ICALL1 RT-THEO-PRINT
	PRINTI " with"
	.DEBUG-LINE 16,244,1
	ZERO? GL-PRSI /?L40
	.DEBUG-LINE 16,245,1
	PRINTI " "
	ICALL1 RT-THEI-PRINT
	JUMP ?L42
	.DEBUG-LINE 16,247,1
?L40:	PRINTI "out any money"
	.DEBUG-LINE 16,248,1
?L42:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SIXPENCE"
	.FUNCT RT-AC-TH-SIXPENCE
	.DEBUG-LINE 16,254,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BLUE-PILL-BOTTLE","CONTEXT"
	.FUNCT RT-AC-TH-BLUE-PILL-BOTTLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 17,52,1
?L8:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 17,53,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON \?L3
	.DEBUG-LINE 17,54,1
	PRINTR "The label on the bottle reads: ""Digitalis leaf. For tachycardia and other accelerated arrhythmias."""
	.DEBUG-LINE 17,57,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 17,58,1
	REMOVE TH-BLUE-PILL-BOTTLE
	.DEBUG-LINE 17,59,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BROWN-PILL-BOTTLE","CONTEXT"
	.FUNCT RT-AC-TH-BROWN-PILL-BOTTLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 17,63,1
?L8:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 17,64,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON \?L3
	.DEBUG-LINE 17,65,1
	PRINTR "The label on the bottle reads: ""Belladonna. For bradycardia and other decelerated arrhythmias."""
	.DEBUG-LINE 17,68,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 17,69,1
	REMOVE TH-BROWN-PILL-BOTTLE
	.DEBUG-LINE 17,70,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-ORANGE-PILL","CONTEXT"
	.FUNCT RT-AC-TH-ORANGE-PILL,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 17,74,1
?L8:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 17,75,1
	EQUAL? GL-PRSA,V?EAT \?L3
	EQUAL? GL-WINNER,CH-PLAYER \?L3
	.DEBUG-LINE 17,77,1
	PRINTI "You swallow the pill. For a few moments everything seems to move much slower."
	CRLF
	.DEBUG-LINE 17,79,1
	REMOVE GL-PRSO
	RTRUE
	.DEBUG-LINE 17,81,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 17,82,1
	REMOVE TH-ORANGE-PILL
	.DEBUG-LINE 17,83,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-YELLOW-PILL","CONTEXT"
	.FUNCT RT-AC-TH-YELLOW-PILL,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 17,87,1
?L8:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 17,88,1
	EQUAL? GL-PRSA,V?EAT \?L3
	EQUAL? GL-WINNER,CH-PLAYER \?L3
	.DEBUG-LINE 17,90,1
	PRINTI "You swallow the pill. For a few moments everything seems to move much faster."
	CRLF
	.DEBUG-LINE 17,92,1
	REMOVE GL-PRSO
	RTRUE
	.DEBUG-LINE 17,94,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 17,95,1
	REMOVE TH-YELLOW-PILL
	.DEBUG-LINE 17,96,1
	ICALL1 RT-CTHEO-PRINT
	PRINT K-SHATTER-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-ELIZA-DOOLITTLE","CONTEXT"
	.FUNCT RT-AC-CH-ELIZA-DOOLITTLE,CONTEXT
	ASSIGNED? 'CONTEXT /?L29
	SET 'CONTEXT,0
	.DEBUG-LINE 17,100,1
?L29:	GETP CH-ELIZA-DOOLITTLE,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?HEART,W?HEARTBEAT \?L1
	.DEBUG-LINE 17,102,1
	EQUAL? CONTEXT,K-M-SDESC \?L3
	.DEBUG-LINE 17,103,1
	PRINTI "girl's heart"
	.DEBUG-LINE 17,104,1
	RTRUE
	.DEBUG-LINE 17,105,1
?L3:	EQUAL? CONTEXT,K-M-DESCFCN \?L5
	.DEBUG-LINE 17,106,1
	.DEBUG-LINE 17,107,1
	PRINTR "You don't have X-ray vision."
	.DEBUG-LINE 17,108,1
?L5:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 17,109,1
	EQUAL? GL-PRSA,V?LISTEN \?L7
	.DEBUG-LINE 17,110,1
	ICALL1 RT-LISTEN-ELIZA
	.DEBUG-LINE 17,111,1
	RTRUE
	.DEBUG-LINE 17,112,1
?L7:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 17,113,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 17,114,1
	RTRUE
	.DEBUG-LINE 17,115,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L10
	.DEBUG-LINE 17,116,1
	PRINTI "girl"
	RTRUE
	.DEBUG-LINE 17,117,1
?L10:	EQUAL? CONTEXT,K-M-DESCFCN \?L11
	.DEBUG-LINE 17,118,1
	ICALL2 RT-THIS-IS-IT,CH-ELIZA-DOOLITTLE
	.DEBUG-LINE 17,119,1
	.DEBUG-LINE 17,122,1
	PRINTR "The flower girl is lying on the ground in a dead faint. She is very beautiful, but her clothes indicate that she must be poor."
	.DEBUG-LINE 17,123,1
?L11:	EQUAL? CONTEXT,K-M-WINNER \?L12
	.DEBUG-LINE 17,124,1
	ICALL2 RT-CTHEO-PRINT,CH-ELIZA-DOOLITTLE
	.DEBUG-LINE 17,126,1
	PRINTR " is unconscious. She cannot do anything."
	.DEBUG-LINE 17,127,1
?L12:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 17,128,1
	EQUAL? GL-PRSA,V?LISTEN \?L16
	ZERO? GL-NOW-PRSI? /?L15
?L16:	EQUAL? GL-PRSA,V?USE-ON,V?TOUCH-TO \?L17
	EQUAL? GL-PRSO,TH-STETHOSCOPE \?L17
	ZERO? GL-NOW-PRSI? \?L15
?L17:	EQUAL? GL-PRSA,V?DIAGNOSE \?L18
	ZERO? GL-NOW-PRSI? /?L15
?L18:	EQUAL? GL-PRSA,V?LOOK-THRU \?L14
	EQUAL? GL-P-PRSA-WORD,W?EXAMINE \?L14
	ZERO? GL-NOW-PRSI? \?L14
	EQUAL? GL-PRSI,TH-STETHOSCOPE \?L14
	.DEBUG-LINE 17,139,1
?L15:	CALL1 RT-LISTEN-ELIZA >STACK
	RSTACK
	.DEBUG-LINE 17,140,1
?L14:	EQUAL? GL-PRSA,V?GIVE,V?FEED \?L19
	.DEBUG-LINE 17,141,1
	CALL2 RT-CURE-ELIZA,GL-PRSO >STACK
	RSTACK
	.DEBUG-LINE 17,142,1
?L19:	EQUAL? GL-PRSA,V?TAKE,V?RAISE,V?MOVE \?L20
	.DEBUG-LINE 17,143,1
	EQUAL? GL-PRSO,TH-ELIZAS-FLOWERS \?L21
	.DEBUG-LINE 17,144,1
	PRINT K-OUTRAGED-CROWD-MSG
	.DEBUG-LINE 17,145,1
	CRLF
	RTRUE
	.DEBUG-LINE 17,146,1
?L21:	EQUAL? GL-PRSO,CH-ELIZA-DOOLITTLE \FALSE
	.DEBUG-LINE 17,147,1
	.DEBUG-LINE 17,148,1
	PRINTR "The girl is too sick to be moved."
	.DEBUG-LINE 17,151,1
?L20:	EQUAL? GL-PRSA,V?RESCUE \?L25
	.DEBUG-LINE 17,152,1
	.DEBUG-LINE 17,154,1
	PRINTR "A noble thought, worthy of someone who has taken the Hippocratic oath."
	.DEBUG-LINE 17,155,1
?L25:	EQUAL? GL-PRSA,V?ALARM \?L26
	.DEBUG-LINE 17,156,1
	.DEBUG-LINE 17,159,1
	PRINTR "Your medical expertise tells you she's not just asleep. It's more serious than that."
	.DEBUG-LINE 17,160,1
?L26:	EQUAL? GL-PRSA,V?SEARCH \FALSE
	.DEBUG-LINE 17,161,1
	PRINT K-OUTRAGED-CROWD-MSG
	.DEBUG-LINE 17,162,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LISTEN-ELIZA"
	.FUNCT RT-LISTEN-ELIZA
	.DEBUG-LINE 17,167,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L1
	.DEBUG-LINE 17,168,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 17,169,1
	PRINTI "cannot hear a thing with "
	ICALL2 RT-THEO-PRINT,TH-COTTON-BALLS
	PRINTI " in "
	ICALL2 RT-THEO-PRINT,TH-EARS
	PRINTR "."
	.DEBUG-LINE 17,171,1
?L1:	FSET? TH-STETHOSCOPE,FL-WORN \?L3
	.DEBUG-LINE 17,172,1
	LOC CH-ELIZA-DOOLITTLE >STACK
	LOC CH-PLAYER >STACK
	EQUAL? STACK,STACK /?L4
	.DEBUG-LINE 17,173,1
	.DEBUG-LINE 17,175,1
	PRINTR "You can't reach the girl from where you are."
	.DEBUG-LINE 17,176,1
?L4:	ZERO? CH-ELIZA-DOOLITTLE-AUX1 \?L11
	.DEBUG-LINE 17,177,1
	RANDOM 100 >STACK
	LESS? 50,STACK /?L9
	.DEBUG-LINE 17,178,1
	SET 'CH-ELIZA-DOOLITTLE-AUX1,1
	JUMP ?L11
	.DEBUG-LINE 17,180,1
?L9:	SET 'CH-ELIZA-DOOLITTLE-AUX1,2
	.DEBUG-LINE 17,181,1
?L11:	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,1 \?L13
	.DEBUG-LINE 17,182,1
	IXCALL SOUNDS,S-HEART3,S-START,6,10
	.DEBUG-LINE 17,183,1
	PRINTR "Her heartbeat is incredibly fast."
	.DEBUG-LINE 17,184,1
?L13:	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,2 \FALSE
	.DEBUG-LINE 17,185,1
	IXCALL SOUNDS,S-HEART1,S-START,6,6
	.DEBUG-LINE 17,186,1
	PRINTR "Her heartbeat is incredibly slow."
	.DEBUG-LINE 17,187,1
?L3:	EQUAL? GL-PRSO,TH-STETHOSCOPE /?L18
	EQUAL? GL-PRSI,TH-STETHOSCOPE \?L17
	.DEBUG-LINE 17,189,1
?L18:	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 17,190,1
	PRINTI "not wearing "
	ICALL2 RT-THEO-PRINT,TH-STETHOSCOPE
	PRINTR "."
	.DEBUG-LINE 17,192,1
?L17:	PRINTR "The city noises are too loud for you to make an accurate diagnosis."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CURE-ELIZA","CURE"
	.FUNCT RT-CURE-ELIZA,CURE
	.DEBUG-LINE 17,196,1
	EQUAL? CURE,TH-ORANGE-PILL \?L1
	.DEBUG-LINE 17,197,1
	REMOVE TH-ORANGE-PILL
	.DEBUG-LINE 17,198,1
	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,1 \?L3
	.DEBUG-LINE 17,199,1
	SET 'CH-ELIZA-DOOLITTLE-AUX1,3
	JUMP ?L5
	.DEBUG-LINE 17,201,1
?L3:	SET 'CH-ELIZA-DOOLITTLE-AUX1,4
	.DEBUG-LINE 17,202,1
?L5:	PRINTI "You give her "
	ICALL2 RT-THEO-PRINT,CURE
	PRINTI "."
	CRLF
	CRLF
	JUMP ?L10
	.DEBUG-LINE 17,203,1
?L1:	EQUAL? CURE,TH-YELLOW-PILL \?L6
	.DEBUG-LINE 17,204,1
	REMOVE TH-YELLOW-PILL
	.DEBUG-LINE 17,205,1
	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,2 \?L7
	.DEBUG-LINE 17,206,1
	SET 'CH-ELIZA-DOOLITTLE-AUX1,3
	JUMP ?L9
	.DEBUG-LINE 17,208,1
?L7:	SET 'CH-ELIZA-DOOLITTLE-AUX1,4
	.DEBUG-LINE 17,209,1
?L9:	PRINTI "You give her "
	ICALL2 RT-THEO-PRINT,CURE
	PRINTI "."
	CRLF
	CRLF
	JUMP ?L10
	.DEBUG-LINE 17,211,1
	.DEBUG-LINE 17,212,1
?L6:	PRINTR "That would not do her much good."
	.DEBUG-LINE 17,213,1
?L10:	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,3 \?L11
	.DEBUG-LINE 17,214,1
	MOVE TH-CARNATION,TH-LAPEL
	.DEBUG-LINE 17,215,1
	REMOVE CH-ELIZA-DOOLITTLE
	.DEBUG-LINE 17,216,1
	FCLEAR CH-ELIZA-DOOLITTLE,FL-ASLEEP
	.DEBUG-LINE 17,217,1
	PRINTI "Nothing happens for a moment, but then her eyelids flutter briefly and she opens her eyes."
	CRLF
	CRLF
	PRINTI "The crowd breaks into applause, and they help her to her feet. When she is standing, she smiles at you shyly and puts a lovely carnation in your lapel as a gesture of thanks."
	CRLF
	CRLF
	PRINTI "Just then, a distinguished-looking gentleman appears on the scene, takes her by the arm, and says, ""Come, Eliza. We mustn't be late for the ball."""
	CRLF
	CRLF
	PRINTI "He escorts her away, but as she leaves, she glances back at you once more with a grateful expression in her lovely eyes."
	CRLF
	.DEBUG-LINE 17,231,1
	GETP TH-CARNATION,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 17,232,1
	PUTP TH-CARNATION,P?VALUE,0
	.DEBUG-LINE 17,233,1
	RTRUE
	.DEBUG-LINE 17,234,1
?L11:	EQUAL? CH-ELIZA-DOOLITTLE-AUX1,4 \FALSE
	.DEBUG-LINE 17,235,1
	FCLEAR CH-ELIZA-DOOLITTLE,FL-ALIVE
	.DEBUG-LINE 17,236,1
	PRINTI "Nothing happens for a moment, but then suddenly her body goes limp. It must have been the wrong pill."
	CRLF
	CRLF
	PRINTI "By this time, the large crowd has gathered the attention of the police. Inspector Lestrade pushes his way through the crowd, sees the dead girl, and says, ""I'm sorry, Doctor Watson. I know you must have tried to save her. I'm afraid you'll have to come along with me to fill out the death certificate."""
	CRLF
	CRLF
	PRINTI "Unfortunately, by the time you finish filling out the forms associated with the girl's death, the news of theft of the Crown Jewels leaks to the press, and all is lost."
	CRLF
	CRLF
	.DEBUG-LINE 17,249,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"BURN-OUT-MATCH"
	.FUNCT BURN-OUT-MATCH
	.DEBUG-LINE 18,96,1
	FCLEAR TH-MATCH,FL-BURNABLE
	.DEBUG-LINE 18,97,1
	ICALL2 CLEAR-ALL-FLAGS,TH-MATCH
	.DEBUG-LINE 18,98,1
	FSET TH-MATCH,FL-TAKEABLE
	.DEBUG-LINE 18,99,1
	FSET TH-MATCH,FL-BROKEN
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MATCH","CONTEXT"
	.FUNCT RT-AC-TH-MATCH,CONTEXT
	ASSIGNED? 'CONTEXT /?L30
	SET 'CONTEXT,0
	.DEBUG-LINE 18,103,1
?L30:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 18,104,1
	FSET? TH-MATCH,FL-BROKEN \?L3
	.DEBUG-LINE 18,105,1
	PRINTI "burnt match"
	RTRUE
	.DEBUG-LINE 18,107,1
?L3:	PRINTI "match"
	RTRUE
	.DEBUG-LINE 18,108,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 18,109,1
	FSET? TH-MATCH,FL-BROKEN /FALSE
	.DEBUG-LINE 18,111,1
	FSET? TH-MATCH,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,112,1
	ICALL2 RT-CTHEO-PRINT,TH-MATCH
	PRINTR " is burning."
	.DEBUG-LINE 18,114,1
?L6:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 18,115,1
	FSET? TH-MATCH,FL-BROKEN \?L12
	.DEBUG-LINE 18,116,1
	EQUAL? GL-PRSA,V?LAMP-OFF,V?LIGHT,V?STRIKE /?L15
	EQUAL? GL-PRSA,V?BURN-WITH,V?LIGHT-WITH \FALSE
	.DEBUG-LINE 18,117,1
?L15:	PRINTR "The match is already burned out."
	.DEBUG-LINE 18,118,1
?L12:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH,V?STRIKE /?L18
	EQUAL? GL-PRSA,V?LIGHT \?L17
?L18:	EQUAL? GL-PRSO,TH-MATCH \?L17
	.DEBUG-LINE 18,120,1
	FSET? TH-MATCH,FL-LIGHTED \?L19
	.DEBUG-LINE 18,121,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,122,1
?L19:	FSET? TH-MATCH,FL-BURNABLE /?L21
	.DEBUG-LINE 18,123,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is burned out."
	.DEBUG-LINE 18,124,1
?L21:	EQUAL? GL-PRSI,TH-HANDS,0 /?L23
	FSET? GL-PRSI,FL-LIGHTED \FALSE
	FSET? GL-PRSI,FL-BURNABLE \FALSE
	.DEBUG-LINE 18,127,1
?L23:	FSET TH-MATCH,FL-LIGHTED
	.DEBUG-LINE 18,128,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,2,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-MATCH-OUT,STACK
	.DEBUG-LINE 18,130,1
	MOVE TH-MATCH,GL-WINNER
	.DEBUG-LINE 18,131,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " flares to life."
	.DEBUG-LINE 18,132,1
?L17:	EQUAL? GL-PRSA,V?LAMP-OFF \FALSE
	.DEBUG-LINE 18,133,1
	FSET? TH-MATCH,FL-LIGHTED /?L26
	.DEBUG-LINE 18,134,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " isn't lit."
	.DEBUG-LINE 18,136,1
?L26:	FCLEAR TH-MATCH,FL-LIGHTED
	.DEBUG-LINE 18,138,1
	ICALL1 BURN-OUT-MATCH
	.DEBUG-LINE 18,141,1
	ICALL2 RT-ALARM-CLR,RT-I-MATCH-OUT
	.DEBUG-LINE 18,142,1
	ICALL RT-CYOU-MSG,STR?281,STR?280
	.DEBUG-LINE 18,143,1
	PRINTR "out the match."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"CLEAR-ALL-FLAGS","OBJ","N"
	.FUNCT CLEAR-ALL-FLAGS,OBJ,N
	.DEBUG-LINE 18,146,1
	SET 'N,1
	.DEBUG-LINE 18,147,1
?L1:	EQUAL? N,FL-HAS-SDESC,FL-HAS-DESCFCN,FL-NEEDS-IDENTITY /?L3
	EQUAL? N,FL-LOSE-IDENTITY /?L3
	.DEBUG-LINE 18,149,1
	FCLEAR OBJ,N
	.DEBUG-LINE 18,150,1
?L3:	IGRTR? 'N,48 \?L1
	.DEBUG-LINE 18,150,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TORCH","CONTEXT","WHO"
	.FUNCT RT-AC-TH-TORCH,CONTEXT,WHO
	ASSIGNED? 'CONTEXT /?L31
	SET 'CONTEXT,0
	.DEBUG-LINE 18,154,1
?L31:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 18,155,1
	FSET? TH-TORCH,FL-BROKEN \?L3
	.DEBUG-LINE 18,156,1
	PRINTI "burnt torch"
	RTRUE
	.DEBUG-LINE 18,158,1
?L3:	PRINTI "torch"
	RTRUE
	.DEBUG-LINE 18,159,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 18,160,1
	FSET? TH-TORCH,FL-BROKEN /FALSE
	.DEBUG-LINE 18,162,1
	FSET? TH-TORCH,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,163,1
	ICALL2 RT-CTHEO-PRINT,TH-TORCH
	.DEBUG-LINE 18,164,1
	PRINTR " is burning."
	.DEBUG-LINE 18,166,1
?L6:	FSET? TH-TORCH,FL-BROKEN /FALSE
	.DEBUG-LINE 18,169,1
	EQUAL? GL-PRSA,V?MELT,V?HEAT,V?LIGHT-WITH /?L13
	EQUAL? GL-PRSA,V?BURN-WITH \?L12
?L13:	EQUAL? GL-PRSI,TH-TORCH \?L12
	.DEBUG-LINE 18,171,1
	FSET? TH-TORCH,FL-LIGHTED /?L14
	.DEBUG-LINE 18,172,1
	ICALL2 RT-CTHEO-PRINT,TH-TORCH
	PRINTR " is not lit."
	.DEBUG-LINE 18,173,1
?L14:	EQUAL? GL-PRSO,TH-TORCH \?L16
	.DEBUG-LINE 18,174,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,175,1
?L16:	EQUAL? GL-PRSO,TH-WAX-HEAD \?L17
	.DEBUG-LINE 18,178,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " melts into a pool of wax on the floor. You see a gem glittering in the wax."
	CRLF
	.DEBUG-LINE 18,181,1
	MOVE TH-WAX-HEAD,GL-PLACE-CUR
	.DEBUG-LINE 18,182,1
	MOVE TH-EMERALD,TH-WAX-HEAD
	.DEBUG-LINE 18,183,1
	ICALL2 CLEAR-ALL-FLAGS,TH-WAX-HEAD
	.DEBUG-LINE 18,184,1
	FSET TH-WAX-HEAD,FL-OPENED
	.DEBUG-LINE 18,185,1
	FSET TH-WAX-HEAD,FL-TRANSPARENT
	.DEBUG-LINE 18,186,1
	FSET TH-WAX-HEAD,FL-CONTAINER
	.DEBUG-LINE 18,187,1
	FSET TH-WAX-HEAD,FL-BROKEN
	.DEBUG-LINE 18,188,1
	ICALL2 SET-MASS-TO-ONE,TH-WAX-HEAD
	.DEBUG-LINE 18,189,1
	GETPT TH-WAX-HEAD,P?SYNONYM >STACK
	PUT STACK,0,W?POOL
	.DEBUG-LINE 18,190,1
	GETPT TH-WAX-HEAD,P?ADJECTIVE >STACK
	PUT STACK,0,W?POOL
	.DEBUG-LINE 18,191,1
	CALL2 RT-THIS-IS-IT,TH-EMERALD >STACK
	RSTACK
	.DEBUG-LINE 18,192,1
?L17:	EQUAL? GL-PRSO,TH-WAX-AX \?L18
	.DEBUG-LINE 18,195,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " melts into a pool of wax on the floor."
	CRLF
	.DEBUG-LINE 18,196,1
	MOVE TH-WAX-AX,GL-PLACE-CUR
	.DEBUG-LINE 18,197,1
	ICALL2 CLEAR-ALL-FLAGS,TH-WAX-AX
	.DEBUG-LINE 18,198,1
	FSET TH-WAX-AX,FL-OPENED
	.DEBUG-LINE 18,199,1
	FSET TH-WAX-AX,FL-TRANSPARENT
	.DEBUG-LINE 18,200,1
	FSET TH-WAX-AX,FL-CONTAINER
	.DEBUG-LINE 18,201,1
	FSET TH-WAX-AX,FL-BROKEN
	.DEBUG-LINE 18,202,1
	ICALL2 SET-SIZE-TO-ONE,TH-WAX-AX
	.DEBUG-LINE 18,203,1
	ICALL2 SET-CAPACITY-TO-ONE,TH-WAX-AX
	.DEBUG-LINE 18,204,1
	ICALL2 SET-MASS-TO-ONE,TH-WAX-AX
	.DEBUG-LINE 18,205,1
	GETPT TH-WAX-AX,P?SYNONYM >STACK
	PUT STACK,0,W?AX
	.DEBUG-LINE 18,206,1
	GETPT TH-WAX-AX,P?ADJECTIVE >STACK
	PUT STACK,0,W?MELTED
	RTRUE
	.DEBUG-LINE 18,207,1
?L18:	FSET? GL-PRSO,FL-BURNABLE /FALSE
	.DEBUG-LINE 18,208,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 18,209,1
	PRINTI "cannot "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 18,210,1
?L12:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \FALSE
	EQUAL? GL-PRSO,TH-TORCH \FALSE
	.DEBUG-LINE 18,212,1
	EQUAL? GL-PRSI,TH-TOBACCO,TH-PIPE \?L22
	FSET? TH-TOBACCO,FL-LIGHTED \?L22
	.DEBUG-LINE 18,214,1
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,215,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSI
	.DEBUG-LINE 18,216,1
	PRINTI "put out enough heat to light "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 18,217,1
?L22:	FSET? GL-PRSI,FL-BURNABLE /?L24
	.DEBUG-LINE 18,218,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 18,219,1
	PRINTI "cannot light "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 18,220,1
?L24:	FSET? GL-PRSI,FL-LIGHTED /?L25
	.DEBUG-LINE 18,221,1
	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,222,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 18,223,1
	PRINTR "burning."
	.DEBUG-LINE 18,225,1
?L25:	ICALL1 RT-CTHEO-PRINT
	PRINTI " catches fire quickly."
	CRLF
	.DEBUG-LINE 18,226,1
	FSET TH-TORCH,FL-LIGHTED
	.DEBUG-LINE 18,227,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,1,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-TORCH-OUT,STACK
	.DEBUG-LINE 18,228,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 18,229,1
	EQUAL? WHO,CH-HOLMES \?L27
	.DEBUG-LINE 18,230,1
	CRLF
	PRINTI "Holmes looks at you and says, ""An ingenious solution, Watson. My compliments, old chap."""
	CRLF
	.DEBUG-LINE 18,233,1
?L27:	CALL2 RT-UPDATE-SCORE,4 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-LIGHT-PIPE","FIRE"
	.FUNCT RT-LIGHT-PIPE,FIRE
	.DEBUG-LINE 18,236,1
	FSET? FIRE,FL-BURNABLE /?L1
	.DEBUG-LINE 18,237,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 18,238,1
	PRINTI "cannot light "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 18,239,1
?L1:	FSET? FIRE,FL-LIGHTED /?L3
	.DEBUG-LINE 18,240,1
	ICALL2 RT-CTHEO-PRINT,FIRE
	PRINTR " is not burning."
	.DEBUG-LINE 18,241,1
?L3:	FSET? TH-TOBACCO,FL-LIGHTED \?L4
	.DEBUG-LINE 18,242,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,243,1
?L4:	IN? TH-TOBACCO,TH-PIPE \FALSE
	.DEBUG-LINE 18,244,1
	FSET TH-TOBACCO,FL-LIGHTED
	.DEBUG-LINE 18,245,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,15,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PIPE-OUT,STACK
	.DEBUG-LINE 18,246,1
	PRINTI "After a few puffs, "
	ICALL1 RT-THEO-PRINT
	PRINTR " fires right up."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-TOBACCO","CONTEXT","I"
	.FUNCT RT-AC-TH-TOBACCO,CONTEXT,I
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 18,250,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 18,251,1
	FSET? TH-TOBACCO,FL-LIGHTED \?L3
	.DEBUG-LINE 18,252,1
	ICALL2 RT-CTHEO-PRINT,TH-TOBACCO
	PRINTR " is burning."
	.DEBUG-LINE 18,254,1
	.DEBUG-LINE 18,255,1
?L3:	PRINTR "It's Holmes's favorite brand of shag tobacco."
	.DEBUG-LINE 18,256,1
?L1:	ZERO? GL-NOW-PRSI? \?L6
	.DEBUG-LINE 18,257,1
	SET 'GL-P-IT-OBJECT,TH-TOBACCO
	.DEBUG-LINE 18,258,1
?L6:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \?L8
	EQUAL? GL-PRSO,TH-TOBACCO \?L8
	.DEBUG-LINE 18,260,1
	EQUAL? GL-PRSI,0,TH-HANDS \?L10
	.DEBUG-LINE 18,261,1
	SET 'I,TH-MATCH
	JUMP ?L12
	.DEBUG-LINE 18,263,1
?L10:	SET 'I,GL-PRSI
	.DEBUG-LINE 18,264,1
?L12:	IN? I,GL-WINNER /?L13
	.DEBUG-LINE 18,265,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 18,266,1
	PRINTI "not holding "
	ICALL2 RT-A-PRINT,I
	PRINTR "."
	.DEBUG-LINE 18,267,1
?L13:	IN? TH-PIPE,GL-WINNER /?L15
	.DEBUG-LINE 18,268,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 18,269,1
	PRINTI "not holding "
	ICALL2 RT-THEO-PRINT,TH-PIPE
	PRINTR "."
	.DEBUG-LINE 18,270,1
?L15:	FSET? TH-TOBACCO,FL-LIGHTED \?L16
	.DEBUG-LINE 18,271,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,272,1
?L16:	CALL2 RT-LIGHT-PIPE,I >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 18,275,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " "
	PRINT K-SMOULDERS-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 18,276,1
?L8:	EQUAL? GL-PRSA,V?TAKE,V?TOUCH \?L19
	FSET? TH-TOBACCO,FL-LIGHTED \?L19
	.DEBUG-LINE 18,278,1
	PRINTR "Yeeeeouch! That's hot!"
	.DEBUG-LINE 18,299,1
?L19:	EQUAL? GL-PRSA,V?SMOKE \?L20
	.DEBUG-LINE 18,300,1
	FSET? TH-TOBACCO,FL-LIGHTED \?L21
	.DEBUG-LINE 18,301,1
	PRINT K-BRAND-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 18,303,1
?L21:	ICALL1 RT-CTHEO-PRINT
	PRINTR " is not lit."
	.DEBUG-LINE 18,304,1
?L20:	EQUAL? GL-PRSA,V?SMELL \FALSE
	.DEBUG-LINE 18,305,1
	PRINTR "The shag has a strong, but pleasant smell."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-PIPE","CONTEXT","I","DEST"
	.FUNCT RT-AC-TH-PIPE,CONTEXT,I,DEST
	ASSIGNED? 'CONTEXT /?L53
	SET 'CONTEXT,0
	.DEBUG-LINE 18,309,1
?L53:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 18,310,1
	FSET? TH-TOBACCO,FL-LIGHTED \?L3
	IN? TH-TOBACCO,TH-PIPE \?L3
	.DEBUG-LINE 18,312,1
	PRINTI "Smoke gently wafts from "
	ICALL2 RT-THEO-PRINT,TH-PIPE
	PRINTR "."
	.DEBUG-LINE 18,314,1
?L3:	PRINTR "It is an old and oily black clay pipe, the companion of Holmes's deepest meditations."
	.DEBUG-LINE 18,315,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 18,316,1
	ZERO? GL-NOW-PRSI? \?L54
	.DEBUG-LINE 18,317,1
	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \?L8
	.DEBUG-LINE 18,318,1
	EQUAL? GL-PRSI,0,TH-HANDS \?L10
	.DEBUG-LINE 18,319,1
	SET 'I,TH-MATCH
	JUMP ?L12
	.DEBUG-LINE 18,321,1
?L10:	SET 'I,GL-PRSI
	.DEBUG-LINE 18,322,1
?L12:	IN? I,GL-WINNER /?L13
	.DEBUG-LINE 18,323,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 18,324,1
	PRINTI "not holding "
	ICALL2 RT-A-PRINT,I
	PRINTR "."
	.DEBUG-LINE 18,325,1
?L13:	IN? TH-PIPE,GL-WINNER /?L15
	.DEBUG-LINE 18,326,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 18,327,1
	PRINTI "not holding "
	ICALL2 RT-THEO-PRINT,TH-PIPE
	PRINTR "."
	.DEBUG-LINE 18,328,1
?L15:	FSET? TH-TOBACCO,FL-LIGHTED \?L16
	.DEBUG-LINE 18,329,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,330,1
?L16:	CALL2 RT-LIGHT-PIPE,I >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 18,337,1
	PRINTR "There is nothing in the pipe to light."
	.DEBUG-LINE 18,338,1
?L8:	EQUAL? GL-PRSA,V?PUT \?L19
	EQUAL? GL-PRSI,TH-PLAYER-BODY \?L19
	GET GL-P-NAMW,1 >STACK
	EQUAL? STACK,W?MOUTH \?L19
	.DEBUG-LINE 18,341,1
	CALL RT-PERFORM,V?SMOKE,TH-PIPE >STACK
	RSTACK
	.DEBUG-LINE 18,342,1
?L19:	EQUAL? GL-PRSA,V?SMOKE \?L20
	.DEBUG-LINE 18,343,1
	FSET? TH-TOBACCO,FL-LIGHTED \?L21
	.DEBUG-LINE 18,344,1
	PRINT K-BRAND-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 18,346,1
?L21:	ICALL1 RT-CTHEO-PRINT
	PRINTR " is not lit."
	.DEBUG-LINE 18,347,1
?L20:	EQUAL? GL-PRSA,V?EMPTY-INTO,V?POUR \FALSE
	IN? TH-TOBACCO,TH-PIPE \FALSE
	FSET? TH-TOBACCO,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,350,1
	EQUAL? GL-PRSA,V?POUR \?L25
	.DEBUG-LINE 18,351,1
	FCLEAR TH-TOBACCO,FL-LIGHTED
	.DEBUG-LINE 18,352,1
	MOVE TH-TOBACCO,GL-PLACE-CUR
	.DEBUG-LINE 18,353,1
	ICALL2 RT-CTHEO-PRINT,TH-TOBACCO
	PRINTI " falls "
	.DEBUG-LINE 18,354,1
	EQUAL? GL-PLACE-CUR,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /?L29
	EQUAL? GL-PLACE-CUR,RM-THAMES-FOUR,RM-THAMES-FIVE \?L27
	.DEBUG-LINE 18,357,1
?L29:	REMOVE TH-TOBACCO
	.DEBUG-LINE 18,358,1
	PRINTR "into the water."
	.DEBUG-LINE 18,360,1
?L27:	PRINTI "to "
	.DEBUG-LINE 18,361,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L31
	.DEBUG-LINE 18,362,1
	ICALL1 TELL-THE-FLOOR
	JUMP ?L33
	.DEBUG-LINE 18,364,1
?L31:	ICALL1 TELL-THE-GROUND
	.DEBUG-LINE 18,365,1
?L33:	PRINTI ", "
	PRINT K-SMOULDERS-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 18,366,1
?L25:	EQUAL? GL-PRSA,V?EMPTY-INTO \FALSE
	.DEBUG-LINE 18,367,1
	CALL RT-ROOM-IN-ON-MSG?,TH-TOBACCO,GL-PRSI >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 18,369,1
	CALL RT-CHECK-MOVE-MSG?,TH-TOBACCO,GL-PRSI >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 18,372,1
	FCLEAR TH-TOBACCO,FL-LIGHTED
	.DEBUG-LINE 18,373,1
	MOVE TH-TOBACCO,GL-PRSI
	.DEBUG-LINE 18,374,1
	ICALL2 RT-CTHEO-PRINT,TH-TOBACCO
	PRINTI " falls "
	.DEBUG-LINE 18,375,1
	FSET? GL-PRSI,FL-CONTAINER \?L39
	.DEBUG-LINE 18,376,1
	PRINTI "into"
	JUMP ?L41
	.DEBUG-LINE 18,378,1
?L39:	PRINTI "onto"
	.DEBUG-LINE 18,379,1
?L41:	PRINTI " "
	ICALL1 RT-THEI-PRINT
	PRINTI ", "
	PRINT K-SMOULDERS-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 18,381,1
?L54:	EQUAL? GL-PRSA,V?PUT \?L45
	EQUAL? GL-PRSO,TH-TOBACCO /?L45
	.DEBUG-LINE 18,383,1
	PRINTI "Putting "
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL1 RT-THEI-PRINT
	PRINTI " would"
	.DEBUG-LINE 18,384,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-LINE 18,385,1
?L45:	EQUAL? GL-PRSA,V?POUR-FROM \FALSE
	EQUAL? GL-PRSO,TH-TOBACCO \FALSE
	IN? TH-TOBACCO,TH-PIPE \FALSE
	FSET? TH-TOBACCO,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,389,1
	FCLEAR TH-TOBACCO,FL-LIGHTED
	.DEBUG-LINE 18,390,1
	MOVE TH-TOBACCO,GL-PLACE-CUR
	.DEBUG-LINE 18,391,1
	ICALL1 RT-CTHEO-PRINT
	PRINTI " falls to "
	.DEBUG-LINE 18,392,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L48
	.DEBUG-LINE 18,393,1
	ICALL1 TELL-THE-FLOOR
	JUMP ?L50
	.DEBUG-LINE 18,395,1
?L48:	ICALL1 TELL-THE-GROUND
	.DEBUG-LINE 18,396,1
?L50:	PRINTI ", "
	PRINT K-SMOULDERS-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-MAIL","CONTEXT"
	.FUNCT RT-AC-TH-MAIL,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 18,421,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 18,422,1
	FSET? TH-MAIL,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,423,1
	ICALL2 RT-CTHEO-PRINT,TH-MAIL
	.DEBUG-LINE 18,424,1
	PRINTR " is burning."
	.DEBUG-LINE 18,427,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 18,428,1
	ZERO? GL-NOW-PRSI? \?L7
	.DEBUG-LINE 18,429,1
	SET 'GL-P-IT-OBJECT,TH-MAIL
	.DEBUG-LINE 18,430,1
?L7:	EQUAL? GL-PRSA,V?READ,V?EXAMINE,V?LOOK-ON /?L11
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?OPEN,V?SEARCH /?L11
	EQUAL? GL-PRSA,V?OPEN-WITH \?L9
	.DEBUG-LINE 18,431,1
?L11:	PRINTR "You should not read other people's mail."
	.DEBUG-LINE 18,432,1
?L9:	EQUAL? GL-PRSA,V?CLOSE \?L12
	.DEBUG-LINE 18,433,1
	PRINTR "The mail hasn't been opened."
	.DEBUG-LINE 18,434,1
?L12:	EQUAL? GL-PRSA,V?TAKE \?L13
	ZERO? KNIFE-COLD? /?L13
	.DEBUG-LINE 18,436,1
	SET 'KNIFE-COLD?,0
	.DEBUG-LINE 18,437,1
	MOVE TH-KNIFE,GL-WINNER
	.DEBUG-LINE 18,438,1
	PRINTI "[Taking the knife first]"
	.DEBUG-LINE 18,439,1
	ZERO? GL-P-MULT? /?L14
	.DEBUG-LINE 18,440,1
	PRINTI " "
	RFALSE
	.DEBUG-LINE 18,442,1
?L14:	CRLF
	.DEBUG-LINE 18,443,1
	RFALSE
	.DEBUG-LINE 18,444,1
?L13:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 18,446,1
	FSET? TH-MAIL,FL-LIGHTED \?L18
	.DEBUG-LINE 18,447,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,448,1
?L18:	FSET? GL-PRSI,FL-BURNABLE /?L20
	EQUAL? GL-PRSI,TH-PIPE \FALSE
	.DEBUG-LINE 18,451,1
?L20:	FSET? GL-PRSI,FL-LIGHTED \?L23
	FSET? GL-PRSI,FL-BURNABLE /?L22
?L23:	EQUAL? GL-PRSI,TH-PIPE \?L21
	FSET? TH-TOBACCO,FL-LIGHTED \?L21
	.DEBUG-LINE 18,455,1
?L22:	ICALL2 RT-CTHEO-PRINT,TH-MAIL
	PRINTI " lights up."
	CRLF
	.DEBUG-LINE 18,456,1
	FSET TH-MAIL,FL-LIGHTED
	.DEBUG-LINE 18,457,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,3,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-MAIL-OUT,STACK >STACK
	RSTACK
	.DEBUG-LINE 18,459,1
?L21:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,460,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 18,461,1
	PRINTR "burning."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-NEWSPAPER","CONTEXT"
	.FUNCT RT-AC-TH-NEWSPAPER,CONTEXT
	ASSIGNED? 'CONTEXT /?L38
	SET 'CONTEXT,0
	.DEBUG-LINE 18,465,1
?L38:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 18,466,1
	FSET? TH-NEWSPAPER,FL-LIGHTED \?L3
	.DEBUG-LINE 18,467,1
	ICALL2 RT-CTHEO-PRINT,TH-NEWSPAPER
	PRINTR " is burning."
	.DEBUG-LINE 18,469,1
	.DEBUG-LINE 18,472,1
?L3:	PRINTR "It's the newspaper that came in your game package."
	.DEBUG-LINE 18,473,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 18,474,1
	EQUAL? GL-PRSA,V?READ,V?READ-TO,V?SHOW /?L7
	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH,V?GIVE /?L7
	EQUAL? GL-PRSA,V?TELL-ABOUT \FALSE
	.DEBUG-LINE 18,477,1
?L7:	IN? TH-NEWSPAPER,CH-PLAYER /?L8
	.DEBUG-LINE 18,478,1
	PRINTR "The newspaper will not leap into your hand by itself."
	.DEBUG-LINE 18,479,1
?L8:	EQUAL? GL-PRSA,V?READ \?L9
	.DEBUG-LINE 18,480,1
	CALL1 RT-READ-NEWSPAPER >STACK
	RSTACK
	.DEBUG-LINE 18,481,1
?L9:	EQUAL? GL-PRSA,V?READ-TO,V?SHOW,V?GIVE \?L12
	ZERO? GL-NOW-PRSI? /?L11
?L12:	EQUAL? GL-PRSA,V?TELL-ABOUT \?L10
	ZERO? GL-NOW-PRSI? /?L10
	.DEBUG-LINE 18,485,1
?L11:	FSET? GL-PRSI,FL-PERSON \FALSE
	.DEBUG-LINE 18,487,1
	FSET? TH-NEWSPAPER,FL-ASLEEP /?L16
	FSET? TH-NEWSPAPER,FL-OPENED \?L15
	.DEBUG-LINE 18,489,1
?L16:	ICALL1 RT-READ-NEWSPAPER
	.DEBUG-LINE 18,490,1
	CRLF
	.DEBUG-LINE 18,491,1
?L15:	EQUAL? GL-PRSA,V?READ-TO,V?SHOW,V?GIVE \?L21
	EQUAL? GL-PRSI,CH-HOLMES /?L20
?L21:	EQUAL? GL-PRSA,V?TELL-ABOUT \?L18
	EQUAL? GL-PRSO,CH-HOLMES \?L18
	.DEBUG-LINE 18,495,1
?L20:	FSET? CH-HOLMES,FL-ASLEEP \FALSE
	.DEBUG-LINE 18,496,1
	ICALL1 RT-WAKE-UP-HOLMES
	.DEBUG-LINE 18,498,1
	EQUAL? GL-PRSA,V?GIVE \TRUE
	.DEBUG-LINE 18,499,1
	MOVE TH-NEWSPAPER,CH-HOLMES
	.DEBUG-LINE 18,500,1
	RTRUE
	.DEBUG-LINE 18,513,1
?L18:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,514,1
	ICALL2 RT-DONT-DOESNT-MSG,GL-PRSI
	.DEBUG-LINE 18,515,1
	PRINTR "seem to be interested."
	.DEBUG-LINE 18,516,1
?L10:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \FALSE
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 18,518,1
	FSET? TH-NEWSPAPER,FL-LIGHTED \?L30
	.DEBUG-LINE 18,519,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,520,1
?L30:	FSET? GL-PRSI,FL-BURNABLE /?L32
	EQUAL? GL-PRSI,TH-PIPE \FALSE
	.DEBUG-LINE 18,523,1
?L32:	FSET? GL-PRSI,FL-LIGHTED \?L35
	FSET? GL-PRSI,FL-BURNABLE /?L34
?L35:	EQUAL? GL-PRSI,TH-PIPE \?L33
	FSET? TH-TOBACCO,FL-LIGHTED \?L33
	.DEBUG-LINE 18,527,1
?L34:	ICALL2 RT-CTHEO-PRINT,TH-NEWSPAPER
	PRINTI " lights up."
	CRLF
	.DEBUG-LINE 18,528,1
	FSET TH-NEWSPAPER,FL-LIGHTED
	.DEBUG-LINE 18,529,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,3,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-NEWSPAPER-OUT,STACK
	.DEBUG-LINE 18,530,1
	RTRUE
	.DEBUG-LINE 18,532,1
?L33:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,533,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 18,534,1
	PRINTR "burning."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WESTMINSTER-CLUE","CONTEXT"
	.FUNCT RT-AC-TH-WESTMINSTER-CLUE,CONTEXT
	ASSIGNED? 'CONTEXT /?L26
	SET 'CONTEXT,0
	.DEBUG-LINE 18,538,1
?L26:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 18,539,1
	FSET? TH-MAIL,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,540,1
	ICALL2 RT-CTHEO-PRINT,TH-MAIL
	.DEBUG-LINE 18,541,1
	PRINTR " is burning."
	.DEBUG-LINE 18,543,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 18,544,1
	EQUAL? GL-PRSA,V?READ,V?EXAMINE \?L7
	.DEBUG-LINE 18,545,1
	IN? TH-WESTMINSTER-CLUE,CH-PLAYER /?L8
	.DEBUG-LINE 18,546,1
	PRINTR "The paper will not leap into your hand by itself."
	.DEBUG-LINE 18,547,1
?L8:	GETP TH-WESTMINSTER-CLUE,P?FLIPPED >STACK
	ZERO? STACK \?L10
	.DEBUG-LINE 18,548,1
	ICALL1 RT-INDENT-PRINT
	PRINTI "Mortality, behold and fear!"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "What a change of flesh is here!"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Think how many royal bones"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Sleep within this heap of stones:"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Here they lie, had realms and lands,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Who now want strength"
	ICALL1 RT-WRAP-PRINT
	PRINTI "to stir their hands."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "For two-score years I reigned alone,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "A virgin queen on England's throne."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "My navy caused Armada's shame,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "And with me died the Tudor name."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "The apple sorely tempted Eve,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "And Tell another aimed to cleave."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "But when one fell, it showed to me,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "The mighty pull of gravity."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "My father, it was said, would die,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Beneath the Holy City's sky."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Jerusalem his body claimed,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "And it is after him I'm named."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "O stately Holmes of England,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "In Baker Street abide."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "For even you must surely fail,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTR "To save your country's pride."
	.DEBUG-LINE 18,586,1
?L10:	PRINTR "This side appears to be blank."
	.DEBUG-LINE 18,587,1
?L7:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH \?L12
	ZERO? GL-NOW-PRSI? \?L12
	.DEBUG-LINE 18,589,1
	FSET? TH-WESTMINSTER-CLUE,FL-LIGHTED \?L13
	.DEBUG-LINE 18,590,1
	ICALL1 RT-CTHEO-PRINT
	PRINTR " is already lit."
	.DEBUG-LINE 18,591,1
?L13:	FSET? GL-PRSI,FL-BURNABLE /?L15
	EQUAL? GL-PRSI,TH-PIPE \FALSE
	.DEBUG-LINE 18,594,1
?L15:	FSET? GL-PRSI,FL-LIGHTED \?L18
	FSET? GL-PRSI,FL-BURNABLE /?L17
?L18:	EQUAL? GL-PRSI,TH-PIPE \?L16
	FSET? TH-TOBACCO,FL-LIGHTED \?L16
	.DEBUG-LINE 18,598,1
?L17:	ICALL2 RT-CTHEO-PRINT,TH-WESTMINSTER-CLUE
	PRINTI " lights up."
	CRLF
	.DEBUG-LINE 18,599,1
	FSET TH-WESTMINSTER-CLUE,FL-LIGHTED
	.DEBUG-LINE 18,600,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,3,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-CLUE-OUT,STACK
	RTRUE
	.DEBUG-LINE 18,602,1
?L16:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 18,603,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 18,604,1
	.DEBUG-LINE 18,605,1
	PRINTR "burning."
	.DEBUG-LINE 18,606,1
?L12:	EQUAL? GL-PRSA,V?FLIP \?L20
	.DEBUG-LINE 18,607,1
	IN? TH-WESTMINSTER-CLUE,GL-WINNER /?L21
	.DEBUG-LINE 18,608,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 18,609,1
	PRINTI "not holding "
	ICALL2 RT-THEO-PRINT,TH-WESTMINSTER-CLUE
	PRINTR "."
	.DEBUG-LINE 18,611,1
?L21:	GETP TH-WESTMINSTER-CLUE,P?FLIPPED >STACK
	SUB 1,STACK >STACK
	PUTP TH-WESTMINSTER-CLUE,P?FLIPPED,STACK
	.DEBUG-LINE 18,612,1
	ICALL RT-CYOU-MSG,STR?283,STR?282
	.DEBUG-LINE 18,613,1
	ICALL2 RT-THEO-PRINT,TH-WESTMINSTER-CLUE
	PRINTR " over."
	.DEBUG-LINE 18,614,1
?L20:	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \FALSE
	.DEBUG-LINE 18,616,1
	PRINTR "It's been wiped clean."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-WAX-HEAD","CONTEXT"
	.FUNCT RT-AC-TH-WAX-HEAD,CONTEXT
	ASSIGNED? 'CONTEXT /?L30
	SET 'CONTEXT,0
	.DEBUG-LINE 18,623,1
?L30:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 18,624,1
	FSET? TH-WAX-HEAD,FL-BROKEN \?L3
	.DEBUG-LINE 18,625,1
	PRINTI "wax pool"
	RTRUE
	.DEBUG-LINE 18,627,1
?L3:	PRINTI "wax head"
	RTRUE
	.DEBUG-LINE 18,628,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \?L6
	.DEBUG-LINE 18,629,1
	FSET? TH-WAX-HEAD,FL-BROKEN \FALSE
	.DEBUG-LINE 18,631,1
	FIRST? TH-WAX-HEAD >STACK /FALSE
	.DEBUG-LINE 18,632,1
	PRINTI "Looks like any other "
	ICALL2 DPRINT,TH-WAX-HEAD
	PRINTR "."
	.DEBUG-LINE 18,633,1
?L6:	FSET? TH-WAX-HEAD,FL-BROKEN /FALSE
	.DEBUG-LINE 18,634,1
	IN? TH-WAX-HEAD,TH-CHARLES-STATUE \?L12
	.DEBUG-LINE 18,635,1
	EQUAL? GL-PRSA,V?TAKE,V?UNSCREW-FROM \?L14
	.DEBUG-LINE 18,636,1
	MOVE TH-WAX-HEAD,GL-WINNER
	.DEBUG-LINE 18,637,1
	FSET TH-WAX-HEAD,FL-SEEN
	.DEBUG-LINE 18,638,1
	FCLEAR TH-WAX-HEAD,FL-NODESC
	.DEBUG-LINE 18,639,1
	FCLEAR TH-WAX-HEAD,FL-NOALL
	.DEBUG-LINE 18,640,1
	ZERO? GL-P-MULT? /?L16
	.DEBUG-LINE 18,641,1
	PRINTR "Taken."
	.DEBUG-LINE 18,643,1
?L16:	ICALL RT-CYOU-MSG,STR?177,STR?176
	.DEBUG-LINE 18,644,1
	ICALL2 RT-THEO-PRINT,TH-WAX-HEAD
	PRINTR "."
	.DEBUG-LINE 18,645,1
?L14:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 18,646,1
	FSET TH-WAX-HEAD,FL-SEEN
	.DEBUG-LINE 18,647,1
	ICALL2 RT-CTHEO-PRINT,TH-WAX-HEAD
	PRINTI " wobbles slightly."
	.DEBUG-LINE 18,648,1
	BAND CH-HOLMES-AUX1,K-HOLMES-HEAD? >STACK
	ZERO? STACK \?L20
	.DEBUG-LINE 18,649,1
	PRINTI " "
	ICALL2 RT-THEO-PRINT,CH-HOLMES
	PRINTI " says, ""Even when he was alive, he didn't have his head screwed on right."""
	.DEBUG-LINE 18,651,1
	BOR CH-HOLMES-AUX1,K-HOLMES-HEAD? >CH-HOLMES-AUX1
	.DEBUG-LINE 18,652,1
?L20:	CRLF
	RTRUE
	.DEBUG-LINE 18,653,1
?L12:	EQUAL? GL-PRSA,V?MELT,V?HEAT \?L24
	ZERO? GL-NOW-PRSI? \?L24
	FSET? GL-PRSI,FL-BURNABLE \?L26
	FSET? GL-PRSI,FL-LIGHTED /?L25
?L26:	EQUAL? GL-PRSI,TH-PIPE \?L24
	FSET? TH-TOBACCO,FL-LIGHTED \?L24
	.DEBUG-LINE 18,659,1
?L25:	ICALL1 RT-CTHEO-PRINT
	PRINTI " softens, but "
	ICALL1 RT-THEI-PRINT
	PRINTR " does not put out enough heat to melt it."
	.DEBUG-LINE 18,661,1
?L24:	EQUAL? GL-PRSA,V?MUNG,V?KILL,V?OPEN \FALSE
	.DEBUG-LINE 18,662,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 18,663,1
	PRINTR "can't break into the head."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"DESC-WAX-AX","CONTEXT"
	.FUNCT DESC-WAX-AX,CONTEXT
	ASSIGNED? 'CONTEXT /?L12
	SET 'CONTEXT,0
	.DEBUG-LINE 18,668,1
?L12:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 18,669,1
	FSET? TH-WAX-AX,FL-BROKEN \?L3
	.DEBUG-LINE 18,670,1
	PRINTI "melted axe"
	RTRUE
	.DEBUG-LINE 18,672,1
?L3:	PRINTI "axe"
	RTRUE
	.DEBUG-LINE 18,673,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 18,674,1
	FSET? TH-WAX-AX,FL-BROKEN \FALSE
	.DEBUG-LINE 18,675,1
	FIRST? TH-WAX-AX >STACK /FALSE
	.DEBUG-LINE 18,676,1
	PRINTI "Looks like any other "
	ICALL2 DPRINT,TH-WAX-AX
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GUARD-TAKE-ITEM","OBJ1","OBJ2","OBJ3","STR"
	.FUNCT RT-GUARD-TAKE-ITEM,OBJ1,OBJ2,OBJ3,STR
	ASSIGNED? 'OBJ2 /?L5
	SET 'OBJ2,0
?L5:	ASSIGNED? 'OBJ3 /?L6
	SET 'OBJ3,0
	.DEBUG-LINE 18,679,1
?L6:	ICALL2 RT-CTHEO-PRINT,CH-TUSSAUDS-GUARD
	PRINTI " says, ""I'm sorry, but "
	ICALL2 RT-THEO-PRINT,OBJ1
	.DEBUG-LINE 18,680,1
	ZERO? OBJ2 /?L3
	ZERO? OBJ3 /?L1
	.DEBUG-LINE 18,681,1
	PRINTI ", "
	ICALL2 RT-THEO-PRINT,OBJ2
	PRINTI " and "
	ICALL2 RT-THEO-PRINT,OBJ3
	PRINTI " are"
	.DEBUG-LINE 18,682,1
	SET 'STR,STR?284
	JUMP ?L4
	.DEBUG-LINE 18,683,1
?L1:	ZERO? OBJ2 /?L3
	.DEBUG-LINE 18,684,1
	PRINTI " and "
	ICALL2 RT-THEO-PRINT,OBJ2
	PRINTI " are"
	.DEBUG-LINE 18,685,1
	SET 'STR,STR?284
	JUMP ?L4
	.DEBUG-LINE 18,687,1
?L3:	PRINTI " is"
	.DEBUG-LINE 18,688,1
	SET 'STR,STR?285
	.DEBUG-LINE 18,689,1
?L4:	PRINTI " not to be removed."" He takes "
	PRINT STR
	PRINTI " and returns "
	PRINT STR
	PRINTI " to the proper place."
	CRLF
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GUARD-STOP-ENTRANCE","OBJ","WHO"
	.FUNCT RT-GUARD-STOP-ENTRANCE,OBJ,WHO
	ASSIGNED? 'OBJ /?L7
	SET 'OBJ,0
	.DEBUG-LINE 18,694,1
?L7:	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 18,695,1
	IXCALL SOUNDS,S-BARK,S-START,8,4
	.DEBUG-LINE 18,696,1
	ICALL2 RT-CTHEO-PRINT,CH-MATCH-SNIFFING-DOG
	PRINTI " barks loudly and "
	ICALL2 RT-THEO-PRINT,CH-TUSSAUDS-GUARD
	PRINTI " says, ""Seeing as how it's you, "
	.DEBUG-LINE 18,698,1
	EQUAL? WHO,CH-HOLMES \?L1
	.DEBUG-LINE 18,699,1
	PRINTI "Mr Holmes"
	JUMP ?L3
	.DEBUG-LINE 18,701,1
?L1:	PRINTI "Doctor Watson"
	.DEBUG-LINE 18,702,1
?L3:	PRINTI ", I don't mind letting you in. But as you know we are very afraid of fire here, so we have trained this dog to detect matches or open flames. I'm afraid I can't allow you"
	.DEBUG-LINE 18,706,1
	EQUAL? WHO,CH-HOLMES,CH-WIGGINS \?L4
	.DEBUG-LINE 18,707,1
	PRINTI " or your companion"
	.DEBUG-LINE 18,708,1
?L4:	PRINTI " to enter until "
	ICALL2 RT-THEO-PRINT,OBJ
	PRINTR " has been discarded."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-EXIT-TUSSAUDS","IN1","IN2","IN3","TORCH"
	.FUNCT RT-EX-RM-EXIT-TUSSAUDS,IN1,IN2,IN3,TORCH
	.DEBUG-LINE 18,727,1
	EQUAL? GL-PRSO,P?SOUTH,P?OUT \FALSE
	EQUAL? GL-PLACE-CUR,RM-MADAME-TUSSAUDS \FALSE
	.DEBUG-LINE 18,730,1
	CALL RT-META-IN?,TH-TORCH,GL-WINNER >STACK
	ZERO? STACK \?L5
	CALL RT-META-IN?,TH-TORCH,GL-PUPPY >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 18,732,1
?L5:	SET 'TORCH,TH-TORCH
	SET 'IN1,TORCH
	JUMP ?L4
?L3:	SET 'IN1,0
	.DEBUG-LINE 18,736,1
?L4:	CALL RT-META-IN?,TH-WAX-HEAD,GL-WINNER >IN2
	ZERO? IN2 \?L7
	CALL RT-META-IN?,TH-WAX-HEAD,GL-PUPPY >IN2
	.DEBUG-LINE 18,738,1
?L7:	CALL RT-META-IN?,TH-WAX-AX,GL-WINNER >IN3
	ZERO? IN3 \?L9
	CALL RT-META-IN?,TH-WAX-AX,GL-PUPPY >IN3
	.DEBUG-LINE 18,740,1
?L9:	ZERO? IN1 /?L14
	ZERO? IN2 /?L11
	ZERO? IN3 /?L11
	.DEBUG-LINE 18,741,1
	ICALL RT-GUARD-TAKE-ITEM,TH-TORCH,TH-WAX-HEAD,TH-WAX-AX
	JUMP ?L18
	.DEBUG-LINE 18,742,1
?L11:	ZERO? IN1 /?L14
	ZERO? IN2 /?L13
	.DEBUG-LINE 18,743,1
	ICALL RT-GUARD-TAKE-ITEM,TH-TORCH,TH-WAX-HEAD
	JUMP ?L18
	.DEBUG-LINE 18,744,1
?L13:	ZERO? IN1 /?L14
	ZERO? IN3 /?L14
	.DEBUG-LINE 18,745,1
	ICALL RT-GUARD-TAKE-ITEM,TH-TORCH,TH-WAX-AX
	JUMP ?L18
	.DEBUG-LINE 18,746,1
?L14:	ZERO? IN2 /?L15
	ZERO? IN3 /?L15
	.DEBUG-LINE 18,747,1
	ICALL RT-GUARD-TAKE-ITEM,TH-WAX-HEAD,TH-WAX-AX
	JUMP ?L18
	.DEBUG-LINE 18,748,1
?L15:	ZERO? IN1 /?L16
	.DEBUG-LINE 18,749,1
	ICALL2 RT-GUARD-TAKE-ITEM,TH-TORCH
	JUMP ?L18
	.DEBUG-LINE 18,750,1
?L16:	ZERO? IN2 /?L17
	.DEBUG-LINE 18,751,1
	ICALL2 RT-GUARD-TAKE-ITEM,TH-WAX-HEAD
	JUMP ?L18
	.DEBUG-LINE 18,752,1
?L17:	ZERO? IN3 /?L18
	.DEBUG-LINE 18,753,1
	ICALL2 RT-GUARD-TAKE-ITEM,TH-WAX-AX
	.DEBUG-LINE 18,754,1
?L18:	ZERO? IN1 /?L22
	.DEBUG-LINE 18,755,1
	MOVE TORCH,TH-FAWKES-STATUE
	.DEBUG-LINE 18,756,1
	FSET TORCH,FL-NODESC
	.DEBUG-LINE 18,757,1
	FSET? TORCH,FL-LIGHTED \?L22
	.DEBUG-LINE 18,758,1
	ICALL2 RT-ALARM-CLR,RT-I-TORCH-OUT
	.DEBUG-LINE 18,759,1
	ICALL1 RT-I-TORCH-OUT
	.DEBUG-LINE 18,760,1
	FSET TH-TORCH,FL-NODESC
	.DEBUG-LINE 18,762,1
?L22:	ZERO? IN2 /?L26
	.DEBUG-LINE 18,763,1
	MOVE TH-WAX-HEAD,TH-CHARLES-STATUE
	.DEBUG-LINE 18,764,1
	FSET TH-WAX-HEAD,FL-NODESC
	.DEBUG-LINE 18,765,1
?L26:	ZERO? IN3 /?L29
	.DEBUG-LINE 18,766,1
	MOVE TH-WAX-AX,TH-CHARLES-STATUE
	.DEBUG-LINE 18,767,1
	FSET TH-WAX-AX,FL-NODESC
	.DEBUG-LINE 18,768,1
?L29:	RETURN RM-MARYLEBONE-RD
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EX-RM-MATCH-SNIFFING-DOG","OBJ","FLAME?","FIRST","LAMP?","MATCH?"
	.FUNCT RT-EX-RM-MATCH-SNIFFING-DOG,OBJ,FLAME?,FIRST,LAMP?,MATCH?
	SET 'FLAME?,0
	SET 'FIRST,1
	.DEBUG-LINE 18,773,1
	EQUAL? GL-PRSO,P?NORTH,P?IN \FALSE
	EQUAL? GL-PLACE-CUR,RM-MARYLEBONE-RD \FALSE
	.DEBUG-LINE 18,776,1
?L3:	FIRST? GL-WINNER >OBJ \?L7
	.DEBUG-LINE 18,780,1
?L8:	FSET? OBJ,FL-BURNABLE \?L10
	FSET? OBJ,FL-LIGHTED \?L10
	EQUAL? OBJ,TH-TOBACCO /?L10
	.DEBUG-LINE 18,783,1
	SET 'FLAME?,OBJ
	.DEBUG-LINE 18,784,1
	JUMP ?L7
	.DEBUG-LINE 18,785,1
?L10:	NEXT? OBJ >OBJ /?L8
	.DEBUG-LINE 18,786,1
?L7:	ZERO? FLAME? \?L4
	ZERO? FIRST /?L4
	ZERO? GL-PUPPY /?L4
	.DEBUG-LINE 18,789,1
	FIRST? GL-PUPPY >OBJ /?L15
	.DEBUG-LINE 18,790,1
?L15:	SET 'FIRST,0
	JUMP ?L3
	.DEBUG-LINE 18,793,1
?L4:	CALL RT-META-IN?,TH-MATCH,CH-PLAYER >STACK
	ZERO? STACK \?L21
	CALL RT-META-IN?,TH-MATCH,GL-PUPPY >STACK
	ZERO? STACK \?L21
	SET 'MATCH?,0
	JUMP ?L27
?L21:	FSET? TH-MATCH,FL-BURNABLE /?L24
	SET 'MATCH?,0
	JUMP ?L23
?L24:	SET 'MATCH?,1
	JUMP ?L27
?L23:	FSET? TH-MATCH,FL-LIGHTED /?L26
	SET 'MATCH?,0
	JUMP ?L27
?L26:	SET 'MATCH?,1
?L27:	ZERO? MATCH? \?L19
	CALL RT-META-IN?,TH-LAMP,CH-PLAYER >LAMP?
	ZERO? LAMP? \?L19
	CALL RT-META-IN?,TH-LAMP,GL-PUPPY >LAMP?
	ZERO? LAMP? \?L19
	ZERO? FLAME? /?L17
	.DEBUG-LINE 18,800,1
?L19:	ZERO? FLAME? /?L30
	.DEBUG-LINE 18,801,1
	SET 'OBJ,FLAME?
	JUMP ?L31
	.DEBUG-LINE 18,802,1
?L30:	ZERO? LAMP? /?L32
	.DEBUG-LINE 18,803,1
	SET 'OBJ,TH-LAMP
	JUMP ?L31
	.DEBUG-LINE 18,804,1
?L32:	ZERO? MATCH? /?L33
	.DEBUG-LINE 18,805,1
	SET 'OBJ,TH-MATCH
	JUMP ?L31
?L33:	SET 'OBJ,0
	.DEBUG-LINE 18,806,1
?L31:	ICALL2 RT-GUARD-STOP-ENTRANCE,OBJ
	.DEBUG-LINE 18,807,1
	RFALSE
	.DEBUG-LINE 18,808,1
?L17:	FSET? TH-WAX-HEAD,FL-BROKEN /?L38
	FSET? TH-WAX-AX,FL-BROKEN \?L36
	.DEBUG-LINE 18,812,1
?L38:	PRINTI "The guard blocks your path and says, ""Oh no you don't, laddie. When I let you in earlier you made a proper mess of my museum. I won't let you do that again."" After you promise to pay for the damage and plead with him for a few moments, he finally steps aside."
	CRLF
	CRLF
	.DEBUG-LINE 18,817,1
?L36:	RETURN RM-MADAME-TUSSAUDS
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PUT-OUT","THING"
	.FUNCT RT-PUT-OUT,THING
	.DEBUG-LINE 18,820,1
	FSET? THING,FL-BURNABLE \FALSE
	.DEBUG-LINE 18,822,1
	FSET? THING,FL-LIGHTED \FALSE
	.DEBUG-LINE 18,824,1
	EQUAL? THING,TH-MATCH \?L4
	.DEBUG-LINE 18,825,1
	ICALL2 RT-ALARM-CLR,RT-I-MATCH-OUT
	.DEBUG-LINE 18,826,1
	CALL1 RT-I-MATCH-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,827,1
?L4:	EQUAL? THING,TH-PIPE \?L5
	.DEBUG-LINE 18,828,1
	ICALL2 RT-ALARM-CLR,RT-I-PIPE-OUT
	.DEBUG-LINE 18,829,1
	CALL1 RT-I-PIPE-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,830,1
?L5:	EQUAL? THING,TH-TORCH \?L6
	.DEBUG-LINE 18,831,1
	ICALL2 RT-ALARM-CLR,RT-I-TORCH-OUT
	.DEBUG-LINE 18,832,1
	CALL1 RT-I-TORCH-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,833,1
?L6:	EQUAL? THING,TH-NEWSPAPER \?L7
	.DEBUG-LINE 18,834,1
	ICALL2 RT-ALARM-CLR,RT-I-NEWSPAPER-OUT
	.DEBUG-LINE 18,835,1
	CALL1 RT-I-NEWSPAPER-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,836,1
?L7:	EQUAL? THING,TH-WESTMINSTER-CLUE \?L8
	.DEBUG-LINE 18,837,1
	ICALL2 RT-ALARM-CLR,RT-I-CLUE-OUT
	.DEBUG-LINE 18,838,1
	CALL1 RT-I-CLUE-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,839,1
?L8:	EQUAL? THING,TH-MAIL \?L9
	.DEBUG-LINE 18,840,1
	ICALL2 RT-ALARM-CLR,RT-I-MAIL-OUT
	.DEBUG-LINE 18,841,1
	CALL1 RT-I-MAIL-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,842,1
?L9:	EQUAL? THING,TH-MATCHBOOK \?L10
	.DEBUG-LINE 18,843,1
	ICALL2 RT-ALARM-CLR,RT-I-MATCHBOOK-OUT
	.DEBUG-LINE 18,844,1
	CALL1 RT-I-MATCHBOOK-OUT >STACK
	RSTACK
	.DEBUG-LINE 18,846,1
?L10:	REMOVE THING
	.DEBUG-LINE 18,847,1
	FCLEAR THING,FL-WORN
	.DEBUG-LINE 18,848,1
	FCLEAR THING,FL-LIGHTED
	.DEBUG-LINE 18,849,1
	FCLEAR THING,FL-BURNABLE
	.DEBUG-LINE 18,850,1
	ICALL2 RT-CTHEO-PRINT,THING
	PRINTI " burn"
	.DEBUG-LINE 18,851,1
	ICALL2 RT-S-NOS-MSG,THING
	.DEBUG-LINE 18,852,1
	PRINTR " up and disappears."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-MATCH-OUT","RESULT"
	.FUNCT RT-I-MATCH-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,855,1
	CALL2 RT-VISIBLE?,TH-MATCH >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,856,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-MATCH
	PRINTI " flickers and dies."
	CRLF
	.DEBUG-LINE 18,857,1
	SET 'RESULT,1
	.DEBUG-LINE 18,858,1
?L1:	FCLEAR TH-MATCH,FL-LIGHTED
	.DEBUG-LINE 18,859,1
	ICALL1 BURN-MATCH-OUT
	.DEBUG-LINE 18,863,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"BURN-MATCH-OUT"
	.FUNCT BURN-MATCH-OUT
	.DEBUG-LINE 18,866,1
	FCLEAR TH-MATCH,FL-BURNABLE
	.DEBUG-LINE 18,867,1
	FSET TH-MATCH,FL-BROKEN
	.DEBUG-LINE 18,868,1
	GETPT TH-MATCH,P?ADJECTIVE >STACK
	PUT STACK,0,W?BURNT
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PIPE-OUT","RESULT"
	.FUNCT RT-I-PIPE-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,871,1
	CALL2 RT-VISIBLE?,TH-TOBACCO >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,872,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-PIPE
	PRINTI " has gone out."
	CRLF
	.DEBUG-LINE 18,873,1
?L1:	FCLEAR TH-TOBACCO,FL-LIGHTED
	.DEBUG-LINE 18,874,1
	FCLEAR TH-TOBACCO,FL-BURNABLE
	.DEBUG-LINE 18,875,1
	REMOVE TH-TOBACCO
	.DEBUG-LINE 18,876,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-TORCH-OUT","RESULT"
	.FUNCT RT-I-TORCH-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,879,1
	CALL2 RT-VISIBLE?,TH-TORCH >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,880,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-TORCH
	PRINTI " sputters and dies."
	CRLF
	.DEBUG-LINE 18,881,1
	SET 'RESULT,1
	.DEBUG-LINE 18,882,1
?L1:	ICALL2 CLEAR-ALL-FLAGS,TH-TORCH
	.DEBUG-LINE 18,883,1
	GETPT TH-TORCH,P?ADJECTIVE >STACK
	PUT STACK,0,W?BURNT
	.DEBUG-LINE 18,884,1
	FSET TH-TORCH,FL-TAKEABLE
	.DEBUG-LINE 18,885,1
	FSET TH-TORCH,FL-BROKEN
	.DEBUG-LINE 18,890,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-NEWSPAPER-OUT","RESULT"
	.FUNCT RT-I-NEWSPAPER-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,893,1
	CALL2 RT-VISIBLE?,TH-NEWSPAPER >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,894,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-NEWSPAPER
	PRINTI " disappears into a cloud of fine ash, which itself disappears."
	CRLF
	.DEBUG-LINE 18,895,1
	SET 'RESULT,1
	.DEBUG-LINE 18,896,1
?L1:	FCLEAR TH-NEWSPAPER,FL-LIGHTED
	.DEBUG-LINE 18,897,1
	FCLEAR TH-NEWSPAPER,FL-BURNABLE
	.DEBUG-LINE 18,898,1
	REMOVE TH-NEWSPAPER
	.DEBUG-LINE 18,899,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-CLUE-OUT","RESULT"
	.FUNCT RT-I-CLUE-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,902,1
	CALL2 RT-VISIBLE?,TH-WESTMINSTER-CLUE >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,903,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-WESTMINSTER-CLUE
	PRINTI " disappears in a puff of oily black smoke."
	CRLF
	.DEBUG-LINE 18,905,1
	SET 'RESULT,1
	.DEBUG-LINE 18,906,1
?L1:	FCLEAR TH-WESTMINSTER-CLUE,FL-LIGHTED
	.DEBUG-LINE 18,907,1
	FCLEAR TH-WESTMINSTER-CLUE,FL-BURNABLE
	.DEBUG-LINE 18,908,1
	REMOVE TH-WESTMINSTER-CLUE
	.DEBUG-LINE 18,909,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-MAIL-OUT","RESULT"
	.FUNCT RT-I-MAIL-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,912,1
	CALL2 RT-VISIBLE?,TH-MAIL >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,913,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-MAIL
	PRINTI " disappears in a flash of light."
	CRLF
	.DEBUG-LINE 18,914,1
	SET 'RESULT,1
	.DEBUG-LINE 18,915,1
?L1:	FCLEAR TH-MAIL,FL-LIGHTED
	.DEBUG-LINE 18,916,1
	FCLEAR TH-MAIL,FL-BURNABLE
	.DEBUG-LINE 18,917,1
	REMOVE TH-MAIL
	.DEBUG-LINE 18,918,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-MATCHBOOK-OUT","RESULT"
	.FUNCT RT-I-MATCHBOOK-OUT,RESULT
	SET 'RESULT,0
	.DEBUG-LINE 18,921,1
	CALL2 RT-VISIBLE?,TH-MATCHBOOK >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 18,922,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,TH-MATCHBOOK
	PRINTI " burns up and disappears."
	CRLF
	.DEBUG-LINE 18,923,1
	SET 'RESULT,1
	.DEBUG-LINE 18,924,1
?L1:	FCLEAR TH-MATCHBOOK,FL-LIGHTED
	.DEBUG-LINE 18,925,1
	FCLEAR TH-MATCHBOOK,FL-BURNABLE
	.DEBUG-LINE 18,926,1
	REMOVE TH-MATCHBOOK
	.DEBUG-LINE 18,927,1
	RETURN RESULT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"PRE-LIGHT-WITH"
	.FUNCT PRE-LIGHT-WITH
	.DEBUG-LINE 18,931,1
	EQUAL? GL-PRSO,TH-MATCH,TH-TOBACCO /FALSE
	IN? GL-PRSO,GL-WINNER /FALSE
	.DEBUG-LINE 18,933,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 18,934,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GL-PRSO
	.DEBUG-LINE 18,935,1
	PRINTI " to light "
	.DEBUG-LINE 18,936,1
	ICALL2 RT-SAY-HIM-HER-THEM-IT-MSG,GL-PRSO
	.DEBUG-LINE 18,937,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GN-WAX","TBL","LEN"
	.FUNCT RT-GN-WAX,TBL,LEN
	ASSIGNED? 'LEN /?L1
	SET 'LEN,0
	.DEBUG-LINE 18,940,1
?L1:	PUTP PSEUDO-OBJECT,P?ACTION,RT-DF-LG-WAX-STATUES
	.DEBUG-LINE 18,941,1
	SET 'LAST-PSEUDO-LOC,GL-PLACE-CUR
	.DEBUG-LINE 18,942,1
	RETURN PSEUDO-OBJECT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-KIDNAP"
	.FUNCT RT-KIDNAP
	.DEBUG-LINE 19,13,1
	MOVE CH-HOLMES,RM-LAIR
	.DEBUG-LINE 19,14,1
	MOVE TH-ROPE,CH-HOLMES
	.DEBUG-LINE 19,15,1
	FSET CH-HOLMES,FL-LOCKED
	.DEBUG-LINE 19,16,1
	SET 'TH-ROPE-AUX1,CH-HOLMES
	.DEBUG-LINE 19,17,1
	BAND MYCROFT-STATE,-2 >MYCROFT-STATE
	.DEBUG-LINE 19,18,1
	SET 'GL-PUPPY,0
	.DEBUG-LINE 19,19,1
	CRLF
	PRINTI "Suddenly, someone grabs you from behind, pins your arms to your sides, and covers up your head. You struggle fiercely to get loose, but to no avail. Then you hear a voice shout, ""Let him go, we've got the other one."""
	CRLF
	CRLF
	PRINTI "The person holding you knocks you on the head and flings you to the ground. You lose consciousness for a few moments, and when you awake, you are alone."
	CRLF
	CRLF
	.DEBUG-LINE 19,31,1
	PRINTR "Sherlock Holmes has been kidnapped."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WIGGINS-HELP-MSG"
	.FUNCT RT-WIGGINS-HELP-MSG
	.DEBUG-LINE 19,34,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINTI " says, ""I saw it all, guv'nor. But it was over before I could lift a finger. Mr 'Olmes was a friend to me, 'e was. And I'd do anyfing to 'elp you get 'im back."""
	CRLF
	.DEBUG-LINE 19,38,1
	SET 'GL-PUPPY,CH-WIGGINS
	.DEBUG-LINE 19,39,1
	FCLEAR CH-WIGGINS,FL-NODESC
	.DEBUG-LINE 19,40,1
	FCLEAR CH-WIGGINS,FL-BROKEN
	.DEBUG-LINE 19,41,1
	SET 'GL-PUPPY-MSG?,0
	RETURN GL-PUPPY-MSG?
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-STEAL-KEY"
	.FUNCT RT-STEAL-KEY
	.DEBUG-LINE 19,46,1
	ZERO? BOX-KEY-COLD? \?L1
	.DEBUG-LINE 19,47,1
	SET 'BOX-KEY-COLD?,1
	.DEBUG-LINE 19,48,1
	MOVE TH-BOX-KEY,CH-PLAYER
	.DEBUG-LINE 19,49,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINTI " casually strolls past the guard and says, ""Cor blimey. That bird isn't 'alf built, is she?"" While the guard's attention is diverted, Wiggins's hand flashes in and out of his pocket. Then just as casually as before, he strolls back to you, slips something into your hand, and whispers, ""Sorry I couldn't get everything, guv. I 'ope this is enough."""
	CRLF
	.DEBUG-LINE 19,55,1
	GETP TH-BOX-KEY,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 19,56,1
	PUTP TH-BOX-KEY,P?VALUE,0
	RTRUE
	.DEBUG-LINE 19,58,1
	.DEBUG-LINE 19,59,1
?L1:	PRINTR """Sorry, guv. 'E'll never go for it twice."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-INTNUM","CONTEXT"
	.FUNCT RT-AC-TH-INTNUM,CONTEXT
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
	.DEBUG-LINE 19,135,1
?L9:	EQUAL? GL-PRSA,V?WAIT-FOR,V?WAIT /FALSE
	.DEBUG-LINE 19,137,1
	EQUAL? GL-PRSA,V?SHOOT \?L3
	.DEBUG-LINE 19,138,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 19,139,1
	RTRUE
	.DEBUG-LINE 19,140,1
?L3:	EQUAL? GL-PLACE-CUR,RM-BANK-VAULT /FALSE
	.DEBUG-LINE 19,141,1
	EQUAL? GL-P-NUMBER,-1 \?L5
	.DEBUG-LINE 19,142,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 19,143,1
	PRINTR "not see that here."
	.DEBUG-LINE 19,145,1
?L5:	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 19,146,1
	PRINTR "not need to use a number here."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-RING","CONTEXT"
	.FUNCT RT-AC-TH-RING,CONTEXT
	ASSIGNED? 'CONTEXT /?L8
	SET 'CONTEXT,0
	.DEBUG-LINE 19,150,1
?L8:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 19,153,1
	EQUAL? GL-PRSA,V?WEAR \FALSE
	.DEBUG-LINE 19,154,1
	PRINTR "It's the wrong size."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BOX-KEY","CONTEXT"
	.FUNCT RT-AC-TH-BOX-KEY,CONTEXT
	ASSIGNED? 'CONTEXT /?L30
	SET 'CONTEXT,0
	.DEBUG-LINE 19,158,1
?L30:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 19,159,1
	IN? TH-BOX-KEY,TH-GUARDS-POCKET /?L5
	IN? TH-BOX-KEY,CH-BANK-GUARD \?L3
	.DEBUG-LINE 19,161,1
?L5:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,162,1
	.DEBUG-LINE 19,163,1
	PRINTR "can't see it. The guard has it."
	.DEBUG-LINE 19,165,1
?L3:	ICALL2 RT-CTHEO-PRINT,TH-BOX-KEY
	PRINTR " has the word ""Master"" written on it."
	.DEBUG-LINE 19,167,1
?L1:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 19,170,1
	EQUAL? GL-PRSA,V?TURN \?L9
	.DEBUG-LINE 19,171,1
	IN? TH-BOX-KEY,TH-BOX-LOCK \FALSE
	.DEBUG-LINE 19,172,1
	EQUAL? TH-BOX-KEY-AUX1,K-GEM-BOX-NUM \?L13
	.DEBUG-LINE 19,173,1
	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED \?L15
	.DEBUG-LINE 19,174,1
	PRINTR "The box is already open."
	.DEBUG-LINE 19,176,1
?L15:	SET 'TH-SAFETY-DEPOSIT-BOX-AUX1,TH-BOX-KEY-AUX1
	.DEBUG-LINE 19,177,1
	ICALL RT-CYOU-MSG,STR?108,STR?186
	.DEBUG-LINE 19,178,1
	PRINTI "the box with the key."
	.DEBUG-LINE 19,179,1
	FIRST? TH-SAFETY-DEPOSIT-BOX >STACK \?L18
	.DEBUG-LINE 19,180,1
	PRINTI " Inside you see "
	.DEBUG-LINE 19,181,1
	ICALL2 RT-PRINT-CONTENTS-2,TH-SAFETY-DEPOSIT-BOX
	.DEBUG-LINE 19,182,1
	PRINTI "."
	.DEBUG-LINE 19,183,1
?L18:	FSET TH-SAFETY-DEPOSIT-BOX,FL-OPENED
	.DEBUG-LINE 19,184,1
	FCLEAR TH-SAFETY-DEPOSIT-BOX,FL-LOCKED
	.DEBUG-LINE 19,185,1
	CRLF
	RTRUE
	.DEBUG-LINE 19,187,1
?L13:	ICALL RT-CYOU-MSG,STR?108,STR?186
	.DEBUG-LINE 19,188,1
	PRINT K-NOTHING-INSIDE-MSG
	.DEBUG-LINE 19,189,1
	ICALL RT-YOU-MSG,STR?287,STR?286
	.DEBUG-LINE 19,190,1
	PRINTR "it back up again."
	.DEBUG-LINE 19,191,1
?L9:	EQUAL? GL-PRSA,V?READ \FALSE
	.DEBUG-LINE 19,192,1
	IN? TH-BOX-KEY,TH-GUARDS-POCKET /?L26
	IN? TH-BOX-KEY,CH-BANK-GUARD \?L24
	.DEBUG-LINE 19,194,1
?L26:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,195,1
	PRINTR "can't see it. The guard has it."
	.DEBUG-LINE 19,197,1
?L24:	PRINTR "It says, Master."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BOX-LOCK","CONTEXT","NUM"
	.FUNCT RT-AC-TH-BOX-LOCK,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L27
	SET 'CONTEXT,0
	.DEBUG-LINE 19,201,1
?L27:	EQUAL? GL-P-NUMBER,-1 \?L1
	.DEBUG-LINE 19,202,1
	ZERO? TH-BOX-LOCK-AUX1 \?L8
	.DEBUG-LINE 19,203,1
	PRINT K-SPECIFY-MSG
	.DEBUG-LINE 19,204,1
	PRINTR "lock by number."
	.DEBUG-LINE 19,205,1
?L1:	LESS? GL-P-NUMBER,1 /?L7
	GRTR? GL-P-NUMBER,999 \?L6
	.DEBUG-LINE 19,207,1
?L7:	PRINTI "There is no lock number "
	PRINTN GL-P-NUMBER
	.DEBUG-LINE 19,208,1
	PRINTR "."
	.DEBUG-LINE 19,210,1
?L6:	SET 'TH-BOX-LOCK-AUX1,GL-P-NUMBER
	.DEBUG-LINE 19,211,1
?L8:	SET 'NUM,TH-BOX-LOCK-AUX1
	.DEBUG-LINE 19,212,1
	ZERO? GL-NOW-PRSI? /?L28
	.DEBUG-LINE 19,213,1
	EQUAL? GL-PRSA,V?PUT \?L11
	.DEBUG-LINE 19,214,1
	EQUAL? GL-PRSO,TH-BOX-KEY \?L13
	.DEBUG-LINE 19,215,1
	MOVE TH-BOX-KEY,TH-BOX-LOCK
	.DEBUG-LINE 19,216,1
	SET 'TH-BOX-KEY-AUX1,TH-BOX-LOCK-AUX1
	.DEBUG-LINE 19,217,1
	PRINTR "The key fits nicely."
	.DEBUG-LINE 19,219,1
?L13:	CALL1 RT-CANT-PUT-IN-ON-MSG >STACK
	RSTACK
	.DEBUG-LINE 19,220,1
?L11:	EQUAL? GL-PRSA,V?TAKE \FALSE
	.DEBUG-LINE 19,221,1
	EQUAL? GL-PRSO,TH-BOX-KEY \FALSE
	.DEBUG-LINE 19,223,1
	IN? TH-BOX-KEY,TH-BOX-LOCK \FALSE
	.DEBUG-LINE 19,224,1
	MOVE TH-BOX-KEY,GL-WINNER
	.DEBUG-LINE 19,225,1
	SET 'TH-BOX-KEY-AUX1,0
	.DEBUG-LINE 19,226,1
	PRINTR "The key comes out smoothly."
	.DEBUG-LINE 19,228,1
?L28:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 19,229,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-SAFETY-DEPOSIT-BOX","CONTEXT","NUM"
	.FUNCT RT-AC-TH-SAFETY-DEPOSIT-BOX,CONTEXT,NUM
	ASSIGNED? 'CONTEXT /?L57
	SET 'CONTEXT,0
	.DEBUG-LINE 19,233,1
?L57:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 19,234,1
	SET 'NUM,TH-SAFETY-DEPOSIT-BOX-AUX1
	.DEBUG-LINE 19,235,1
	.DEBUG-LINE 19,236,1
	PRINTR "It looks the same as all the other boxes."
	.DEBUG-LINE 19,237,1
?L1:	EQUAL? GL-P-NUMBER,-1 \?L3
	.DEBUG-LINE 19,238,1
	ZERO? TH-SAFETY-DEPOSIT-BOX-AUX1 \?L4
	.DEBUG-LINE 19,239,1
	PRINT K-SPECIFY-MSG
	.DEBUG-LINE 19,240,1
	PRINTR "box by number."
	.DEBUG-LINE 19,241,1
?L4:	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED \?L10
	.DEBUG-LINE 19,242,1
	SET 'TH-SAFETY-DEPOSIT-BOX-AUX1,600
	JUMP ?L10
	.DEBUG-LINE 19,243,1
?L3:	LESS? GL-P-NUMBER,1 /?L9
	GRTR? GL-P-NUMBER,999 \?L8
	.DEBUG-LINE 19,245,1
?L9:	PRINTI "There is no box number "
	PRINTN GL-P-NUMBER
	.DEBUG-LINE 19,246,1
	PRINTR "."
	.DEBUG-LINE 19,248,1
?L8:	SET 'TH-SAFETY-DEPOSIT-BOX-AUX1,GL-P-NUMBER
	.DEBUG-LINE 19,249,1
?L10:	SET 'NUM,TH-SAFETY-DEPOSIT-BOX-AUX1
	.DEBUG-LINE 19,250,1
	ZERO? GL-NOW-PRSI? /?L58
	.DEBUG-LINE 19,251,1
	EQUAL? GL-PRSA,V?TAKE,V?PUT,V?FILL /?L15
	EQUAL? GL-PRSA,V?EMPTY-INTO,V?POUR-FROM \FALSE
	.DEBUG-LINE 19,252,1
?L15:	EQUAL? NUM,K-GEM-BOX-NUM \?L18
	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED /FALSE
	.DEBUG-LINE 19,254,1
?L18:	ICALL1 RT-CTHEI-PRINT
	PRINTR " is closed."
	.DEBUG-LINE 19,256,1
?L58:	EQUAL? GL-PRSA,V?UNLOCK,V?OPEN,V?OPEN-WITH \?L22
	.DEBUG-LINE 19,257,1
	EQUAL? GL-PRSI,0,TH-BOX-KEY /?L24
	.DEBUG-LINE 19,258,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,259,1
	PRINTI "can't "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL1 RT-THEO-PRINT
	PRINTI " with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 19,260,1
?L24:	IN? TH-BOX-KEY,GL-WINNER /?L26
	EQUAL? NUM,TH-BOX-KEY-AUX1 /?L26
	.DEBUG-LINE 19,262,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 19,263,1
	PRINTR "not have the key."
	.DEBUG-LINE 19,264,1
?L26:	EQUAL? NUM,K-GEM-BOX-NUM \?L27
	.DEBUG-LINE 19,265,1
	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED \?L28
	.DEBUG-LINE 19,266,1
	PRINTR "It is already open."
	.DEBUG-LINE 19,268,1
?L28:	ICALL RT-CYOU-MSG,STR?108,STR?186
	.DEBUG-LINE 19,269,1
	PRINTI "the box with the key."
	.DEBUG-LINE 19,270,1
	FIRST? TH-SAFETY-DEPOSIT-BOX >STACK \?L31
	.DEBUG-LINE 19,271,1
	PRINTI " Inside you see "
	.DEBUG-LINE 19,272,1
	ICALL2 RT-PRINT-CONTENTS-2,TH-SAFETY-DEPOSIT-BOX
	.DEBUG-LINE 19,273,1
	PRINTI "."
	.DEBUG-LINE 19,274,1
?L31:	FSET TH-SAFETY-DEPOSIT-BOX,FL-OPENED
	.DEBUG-LINE 19,275,1
	FCLEAR TH-SAFETY-DEPOSIT-BOX,FL-LOCKED
	.DEBUG-LINE 19,276,1
	CRLF
	RTRUE
	.DEBUG-LINE 19,278,1
?L27:	ICALL RT-CYOU-MSG,STR?108,STR?186
	.DEBUG-LINE 19,279,1
	PRINT K-NOTHING-INSIDE-MSG
	.DEBUG-LINE 19,280,1
	ICALL RT-YOU-MSG,STR?287,STR?286
	.DEBUG-LINE 19,281,1
	.DEBUG-LINE 19,282,1
	PRINTR "it back up again."
	.DEBUG-LINE 19,283,1
?L22:	EQUAL? GL-PRSA,V?LOCK,V?CLOSE \?L35
	.DEBUG-LINE 19,284,1
	EQUAL? NUM,K-GEM-BOX-NUM \?L36
	.DEBUG-LINE 19,285,1
	IN? TH-BOX-KEY,GL-WINNER /?L38
	EQUAL? NUM,TH-BOX-KEY-AUX1 /?L38
	.DEBUG-LINE 19,287,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 19,288,1
	PRINTR "not have the key."
	.DEBUG-LINE 19,289,1
?L38:	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED /?L40
	.DEBUG-LINE 19,290,1
	PRINT K-CLOSED-AND-LOCKED-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,292,1
?L40:	ICALL RT-CYOU-MSG,STR?289,STR?288
	.DEBUG-LINE 19,294,1
	PRINTI "the box with the key."
	.DEBUG-LINE 19,295,1
	FCLEAR TH-SAFETY-DEPOSIT-BOX,FL-OPENED
	.DEBUG-LINE 19,296,1
	FSET TH-SAFETY-DEPOSIT-BOX,FL-LOCKED
	.DEBUG-LINE 19,297,1
	CRLF
	RTRUE
	.DEBUG-LINE 19,299,1
?L36:	PRINT K-CLOSED-AND-LOCKED-MSG
	.DEBUG-LINE 19,300,1
	CRLF
	RTRUE
	.DEBUG-LINE 19,301,1
?L35:	EQUAL? GL-PRSA,V?READ \?L43
	.DEBUG-LINE 19,302,1
	PRINTN TH-SAFETY-DEPOSIT-BOX-AUX1
	CRLF
	RTRUE
	.DEBUG-LINE 19,303,1
?L43:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L44
	.DEBUG-LINE 19,304,1
	EQUAL? NUM,K-GEM-BOX-NUM \?L47
	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED /?L45
	.DEBUG-LINE 19,306,1
?L47:	ICALL1 RT-CTHEO-PRINT
	PRINTR " is closed."
	.DEBUG-LINE 19,308,1
?L45:	PRINTI "Inside "
	ICALL1 RT-THEO-PRINT
	.DEBUG-LINE 19,309,1
	ICALL RT-YOU-MSG,STR?145,STR?144
	.DEBUG-LINE 19,310,1
	ICALL2 RT-PRINT-CONTENTS-2,TH-SAFETY-DEPOSIT-BOX
	.DEBUG-LINE 19,311,1
	PRINTR "."
	.DEBUG-LINE 19,312,1
?L44:	EQUAL? GL-PRSA,V?EMPTY,V?REACH-IN \?L49
	.DEBUG-LINE 19,313,1
	EQUAL? NUM,K-GEM-BOX-NUM \?L52
	FSET? TH-SAFETY-DEPOSIT-BOX,FL-OPENED /FALSE
	.DEBUG-LINE 19,315,1
?L52:	ICALL1 RT-CTHEO-PRINT
	PRINTR " is closed."
	.DEBUG-LINE 19,316,1
?L49:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 19,317,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-DIAL","CONTEXT","LOCK?","WHO","PTS"
	.FUNCT RT-AC-TH-DIAL,CONTEXT,LOCK?,WHO,PTS
	ASSIGNED? 'CONTEXT /?L43
	SET 'CONTEXT,0
?L43:	SET 'LOCK?,0
	.DEBUG-LINE 19,321,1
	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 19,322,1
	ZERO? TH-DIAL-AUX1 \?L3
	.DEBUG-LINE 19,323,1
	SET 'TH-DIAL-AUX1,TH-RIGHT
	.DEBUG-LINE 19,324,1
?L3:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 19,327,1
	EQUAL? GL-PRSA,V?TUNE-TO \?L8
	EQUAL? GL-PRSI,0,TH-LEFT,TH-RIGHT /?L8
	.DEBUG-LINE 19,329,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,330,1
	PRINTI "can't "
	PRINTB GL-P-PRSA-WORD
	PRINTI " "
	ICALL2 RT-THEO-PRINT,TH-DIAL
	PRINTI " to "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 19,331,1
?L8:	EQUAL? GL-PRSA,V?TUNE-TO,V?SPIN,V?TURN \?L10
	.DEBUG-LINE 19,332,1
	EQUAL? GL-PRSI,0,TH-LEFT,TH-RIGHT /?L13
	EQUAL? GL-PRSI,TH-HANDS \?L11
	.DEBUG-LINE 19,333,1
?L13:	FSET? TH-STETHOSCOPE,FL-WORN /?L14
	.DEBUG-LINE 19,334,1
	SET 'LOCK?,1
	.DEBUG-LINE 19,335,1
	PRINTI "The dial turns smoothly."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 19,336,1
?L14:	EQUAL? GL-LISTEN-OBJ,TH-DIAL,LG-BANK-VAULT-DOOR,RM-BANK-VAULT /?L16
	.DEBUG-LINE 19,339,1
	SET 'LOCK?,1
	.DEBUG-LINE 19,340,1
	PRINTI "The dial turns quietly."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 19,341,1
?L16:	FSET? TH-COTTON-BALLS,FL-WORN \?L17
	.DEBUG-LINE 19,342,1
	SET 'LOCK?,1
	.DEBUG-LINE 19,343,1
	PRINTI "The dial turns with a series of muffled clicks."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 19,344,1
?L17:	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L18
	.DEBUG-LINE 19,345,1
	SET 'LOCK?,2
	.DEBUG-LINE 19,346,1
	PRINTI "Clunk."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 19,347,1
?L18:	EQUAL? TH-DIAL-AUX1,GL-PRSI /?L19
	.DEBUG-LINE 19,348,1
	SET 'LOCK?,1
	.DEBUG-LINE 19,349,1
	PRINTI "Clunk."
	CRLF
	JUMP ?L20
	.DEBUG-LINE 19,351,1
?L19:	INC 'TH-DIAL-AUX2
	.DEBUG-LINE 19,352,1
?L20:	EQUAL? LOCK?,1 /?L45
	.DEBUG-LINE 19,353,1
	EQUAL? TH-DIAL-AUX2,1 \?L23
	.DEBUG-LINE 19,354,1
	SET 'TH-DIAL-AUX1,TH-RIGHT
	.DEBUG-LINE 19,355,1
	PRINTI "Whirr."
	CRLF
	JUMP ?L35
	.DEBUG-LINE 19,356,1
?L23:	EQUAL? TH-DIAL-AUX2,2 \?L24
	.DEBUG-LINE 19,357,1
	SET 'TH-DIAL-AUX1,TH-LEFT
	.DEBUG-LINE 19,358,1
	PRINTI "Click."
	CRLF
	JUMP ?L35
	.DEBUG-LINE 19,359,1
?L24:	EQUAL? TH-DIAL-AUX2,3 \?L25
	.DEBUG-LINE 19,360,1
	SET 'TH-DIAL-AUX1,TH-RIGHT
	.DEBUG-LINE 19,361,1
	PRINTI "Click."
	CRLF
	JUMP ?L35
	.DEBUG-LINE 19,362,1
?L25:	EQUAL? TH-DIAL-AUX2,4 \?L26
	.DEBUG-LINE 19,363,1
	SET 'TH-DIAL-AUX1,TH-RIGHT
	.DEBUG-LINE 19,364,1
	PRINTI "Whirr."
	CRLF
	JUMP ?L35
	.DEBUG-LINE 19,365,1
?L26:	EQUAL? TH-DIAL-AUX2,5 \?L35
	.DEBUG-LINE 19,366,1
	SET 'LOCK?,2
	.DEBUG-LINE 19,367,1
	PRINTI "Click. Kerchunk. The vault door swings open."
	CRLF
	.DEBUG-LINE 19,368,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 19,369,1
	EQUAL? WHO,CH-HOLMES \?L28
	.DEBUG-LINE 19,370,1
	CRLF
	PRINTI "Holmes says, ""Splendid, Watson. The net is drawing ever tighter around our quarry."""
	CRLF
	.DEBUG-LINE 19,373,1
?L28:	GETP LG-BANK-VAULT-DOOR,P?VALUE >PTS
	.DEBUG-LINE 19,375,1
	ZERO? PTS /?L35
	.DEBUG-LINE 19,376,1
	ICALL2 RT-UPDATE-SCORE,PTS
	.DEBUG-LINE 19,377,1
	PUTP LG-BANK-VAULT-DOOR,P?VALUE,0
	JUMP ?L35
	.DEBUG-LINE 19,380,1
?L11:	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 19,381,1
?L35:	EQUAL? LOCK?,1 \?L36
	.DEBUG-LINE 19,382,1
?L45:	SET 'TH-DIAL-AUX1,0
	.DEBUG-LINE 19,383,1
	SET 'TH-DIAL-AUX2,0
	RTRUE
	.DEBUG-LINE 19,384,1
?L36:	EQUAL? LOCK?,2 \TRUE
	.DEBUG-LINE 19,385,1
	SET 'TH-DIAL-AUX1,-1
	.DEBUG-LINE 19,386,1
	SET 'TH-DIAL-AUX2,-1
	.DEBUG-LINE 19,387,1
	FCLEAR LG-BANK-VAULT-DOOR,FL-LOCKED
	.DEBUG-LINE 19,388,1
	FSET LG-BANK-VAULT-DOOR,FL-OPENED
	.DEBUG-LINE 19,389,1
	RTRUE
	.DEBUG-LINE 19,390,1
?L10:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 19,391,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-BOXES","CONTEXT"
	.FUNCT RT-AC-TH-BOXES,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 19,395,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 19,396,1
	PRINTR "There are rows and rows of safety deposit boxes, all alike, numbered from 1 to 999."
	.DEBUG-LINE 19,399,1
?L1:	EQUAL? GL-PRSA,V?UNLOCK,V?LOCK,V?OPEN /?L4
	EQUAL? GL-PRSA,V?CLOSE,V?READ \?L3
	.DEBUG-LINE 19,400,1
?L4:	PRINT K-SPECIFY-MSG
	PRINTI "box by number."
	CRLF
	.DEBUG-LINE 19,401,1
	RETURN 2
	.DEBUG-LINE 19,402,1
?L3:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 19,403,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-TH-GUARDS-POCKET"
	.FUNCT RT-AC-TH-GUARDS-POCKET
	.DEBUG-LINE 19,407,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?EXAMINE,V?SEARCH \?L1
	.DEBUG-LINE 19,408,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,409,1
	.DEBUG-LINE 19,410,1
	PRINTR "can't see inside the guard's pocket."
	.DEBUG-LINE 19,411,1
?L1:	EQUAL? GL-PRSA,V?PUT \?L3
	.DEBUG-LINE 19,412,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 19,413,1
	RTRUE
	.DEBUG-LINE 19,414,1
?L3:	EQUAL? GL-PRSA,V?TAKE,V?EMPTY,V?REACH-IN /?L5
	EQUAL? GL-PRSA,V?STEAL \FALSE
	.DEBUG-LINE 19,415,1
?L5:	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	.DEBUG-LINE 19,418,1
	PRINTR " slaps the offending hand away and says, ""Keep your hands to yourself, mate."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-BANK-GUARD","CONTEXT","GEMCNT","OBJ"
	.FUNCT RT-AC-CH-BANK-GUARD,CONTEXT,GEMCNT,OBJ
	ASSIGNED? 'CONTEXT /?L60
	SET 'CONTEXT,0
	.DEBUG-LINE 19,422,1
?L60:	ICALL2 RT-THIS-IS-IT,CH-BANK-GUARD
	.DEBUG-LINE 19,423,1
	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 19,424,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	.DEBUG-LINE 19,427,1
	PRINTR " is lounging against the wall, idly jangling some keys in his pocket and waiting for girls to walk by."
	.DEBUG-LINE 19,428,1
?L1:	CALL2 RT-TELL-ABOUT?,CH-BANK-GUARD >STACK
	ZERO? STACK /?L3
	.DEBUG-LINE 19,429,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L4
	.DEBUG-LINE 19,430,1
	SET 'OBJ,GL-PRSO
	JUMP ?L6
	.DEBUG-LINE 19,432,1
?L4:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 19,433,1
?L6:	PRINT K-GUARD-IGNORES-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,434,1
?L3:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L7
	.DEBUG-LINE 19,435,1
	RETURN 2
	.DEBUG-LINE 19,436,1
?L7:	EQUAL? CONTEXT,K-M-WINNER \?L8
	.DEBUG-LINE 19,437,1
	EQUAL? GL-PRSA,V?GIVE \?L9
	.DEBUG-LINE 19,438,1
	EQUAL? GL-PRSO,TH-BOX-KEY,TH-GUARDS-KEYS \?L11
	.DEBUG-LINE 19,439,1
	PRINT K-SORRY-MATE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,440,1
?L11:	EQUAL? GL-PRSO,TH-OPAL,TH-RUBY,TH-SAPPHIRE /?L14
	EQUAL? GL-PRSO,TH-EMERALD \FALSE
	.DEBUG-LINE 19,441,1
?L14:	PRINT K-ILL-HOLD-IT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,443,1
?L9:	PRINT K-GUARD-IGNORES-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,444,1
?L8:	ZERO? GL-NOW-PRSI? /?L61
	.DEBUG-LINE 19,445,1
	EQUAL? GL-PRSA,V?GIVE \?L18
	.DEBUG-LINE 19,446,1
	EQUAL? GL-PRSO,TH-OPAL,TH-RUBY,TH-SAPPHIRE /?L22
	EQUAL? GL-PRSO,TH-EMERALD \?L20
	.DEBUG-LINE 19,447,1
?L22:	MOVE GL-PRSO,CH-BANK-GUARD
	.DEBUG-LINE 19,448,1
	FSET GL-PRSO,FL-NOALL
	.DEBUG-LINE 19,449,1
	SET 'GEMCNT,CH-BANK-GUARD-AUX1
	.DEBUG-LINE 19,450,1
	INC 'GEMCNT
	.DEBUG-LINE 19,451,1
	SET 'CH-BANK-GUARD-AUX1,GEMCNT
	.DEBUG-LINE 19,452,1
	EQUAL? GEMCNT,1 \?L23
	.DEBUG-LINE 19,466,1
	PRINTR """Now this is very nice. But I think I would need more than just one to make letting you in worth my while. I'll hold this for you until you come back."""
	.DEBUG-LINE 19,470,1
?L23:	EQUAL? GEMCNT,2 \?L25
	.DEBUG-LINE 19,471,1
	PRINTR """This is even more beautiful than the other one. But it isn't worth taking the risk for only two of them."""
	.DEBUG-LINE 19,474,1
?L25:	EQUAL? GEMCNT,3 \?L26
	.DEBUG-LINE 19,475,1
	PRINTR """One more and you're in."""
	.DEBUG-LINE 19,476,1
?L26:	EQUAL? GEMCNT,4 \TRUE
	.DEBUG-LINE 19,477,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTI " looks furtively up and down the street. Then he whispers to you out of the side of his mouth, ""Good enough. Go on in."""
	CRLF
	.DEBUG-LINE 19,480,1
	ICALL2 RT-UPDATE-SCORE,3
	.DEBUG-LINE 19,481,1
	RTRUE
	.DEBUG-LINE 19,482,1
?L20:	EQUAL? GL-PRSO,TH-BOX-KEY \?L29
	.DEBUG-LINE 19,483,1
	MOVE TH-BOX-KEY,TH-GUARDS-POCKET
	.DEBUG-LINE 19,484,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTR " looks surprised and says, ""Ta, mate. I didn't know I dropped it. I'll have to keep it in a safer place."" He puts the key into one of his inside pockets."
	.DEBUG-LINE 19,488,1
?L29:	EQUAL? GL-PRSO,TH-RED-GLASS \?L30
	.DEBUG-LINE 19,489,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTI " looks at it carefully and then hands it back to you, saying, ""For a moment there, I thought this was a ruby. But it's only a piece of glass."""
	CRLF
	CRLF
	PRINT K-MORE-VALUABLE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,494,1
?L30:	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTI " examines what you are offering and then declines your bribe."
	CRLF
	CRLF
	PRINT K-MORE-VALUABLE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,497,1
?L18:	EQUAL? GL-PRSA,V?TAKE \?L32
	.DEBUG-LINE 19,498,1
	EQUAL? GL-PRSO,TH-OPAL,TH-RUBY,TH-SAPPHIRE /?L35
	EQUAL? GL-PRSO,TH-EMERALD \?L33
	.DEBUG-LINE 19,499,1
?L35:	PRINT K-ILL-HOLD-IT-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,500,1
?L33:	EQUAL? GL-PRSO,TH-BOX-KEY,TH-GUARDS-KEYS \?L36
	.DEBUG-LINE 19,501,1
	PRINT K-SORRY-MATE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,502,1
?L36:	EQUAL? GL-PRSO,CH-BANK-GUARD \FALSE
	.DEBUG-LINE 19,503,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINT K-MUST-WEIGH-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,504,1
?L32:	EQUAL? GL-PRSA,V?SHOW \FALSE
	.DEBUG-LINE 19,505,1
	EQUAL? GL-PRSO,TH-OPAL,TH-RUBY,TH-SAPPHIRE /?L42
	EQUAL? GL-PRSO,TH-EMERALD,TH-RED-GLASS \?L40
	.DEBUG-LINE 19,507,1
?L42:	PRINTR """My, what a loverly gem!"""
	.DEBUG-LINE 19,508,1
?L40:	EQUAL? GL-PRSO,TH-BOX-KEY \FALSE
	.DEBUG-LINE 19,509,1
	MOVE TH-BOX-KEY,TH-GUARDS-POCKET
	.DEBUG-LINE 19,510,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINTR " looks surprised and says, ""Oh! Thank you. I must have dropped it. I'll be sure to keep it in a safer place."" He takes the key and puts it in one of his inside pockets."
	.DEBUG-LINE 19,515,1
?L61:	EQUAL? GL-PRSA,V?TAKE \?L47
	.DEBUG-LINE 19,516,1
	ZERO? GL-PRSI \FALSE
	.DEBUG-LINE 19,517,1
	ICALL2 RT-CTHEO-PRINT,CH-BANK-GUARD
	PRINT K-MUST-WEIGH-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,518,1
?L47:	EQUAL? GL-PRSA,V?ASK-FOR \FALSE
	.DEBUG-LINE 19,519,1
	EQUAL? GL-PRSI,TH-BOX-KEY,TH-GUARDS-KEYS \?L53
	.DEBUG-LINE 19,520,1
	PRINT K-SORRY-MATE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,521,1
?L53:	EQUAL? GL-PRSI,TH-OPAL,TH-RUBY,TH-SAPPHIRE /?L56
	EQUAL? GL-PRSI,TH-EMERALD \FALSE
	.DEBUG-LINE 19,522,1
?L56:	PRINT K-ILL-HOLD-IT-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-WIGGINS","CONTEXT","OBJ"
	.FUNCT RT-AC-CH-WIGGINS,CONTEXT,OBJ
	ASSIGNED? 'CONTEXT /?L102
	SET 'CONTEXT,0
	.DEBUG-LINE 19,528,1
?L102:	ICALL2 RT-THIS-IS-IT,CH-WIGGINS
	.DEBUG-LINE 19,529,1
	EQUAL? CONTEXT,K-M-WINNER \?L1
	FSET? GL-WINNER,FL-ASLEEP \?L1
	.DEBUG-LINE 19,531,1
	ICALL2 RT-NO-CONDITION-MSG,GL-WINNER
	.DEBUG-LINE 19,532,1
	RTRUE
	.DEBUG-LINE 19,533,1
?L1:	EQUAL? CONTEXT,K-M-CONT \?L3
	FSET? CH-WIGGINS,FL-ASLEEP \?L3
	.DEBUG-LINE 19,535,1
	PRINTI "It's bad enough that you wasted the etherium; using it to steal from your friends is quite unsporting. "
	.DEBUG-LINE 19,537,1
	RTRUE
	.DEBUG-LINE 19,538,1
?L3:	EQUAL? CONTEXT,K-M-DESCFCN \?L4
	.DEBUG-LINE 19,539,1
	FSET? CH-WIGGINS,FL-ASLEEP \?L5
	.DEBUG-LINE 19,540,1
	.DEBUG-LINE 19,542,1
	PRINTR "Wiggins is still suffering from the effects of the etherium gas."
	.DEBUG-LINE 19,543,1
?L5:	FSET? CH-WIGGINS,FL-BROKEN \?L7
	.DEBUG-LINE 19,544,1
	FCLEAR CH-WIGGINS,FL-BROKEN
	.DEBUG-LINE 19,545,1
	FCLEAR CH-WIGGINS,FL-NODESC
	.DEBUG-LINE 19,546,1
	FSET CH-WIGGINS,FL-SEEN
	.DEBUG-LINE 19,547,1
	PRINTI "After staring at his dirty face for a few moments, you suddenly recognize the boy. He is Wiggins, the head of the Baker Street Irregulars, which is Holmes's unofficial army of street urchins who ""go everywhere and do everything."""
	CRLF
	.DEBUG-LINE 19,552,1
?L7:	CALL2 RT-PICK-NEXT,GL-WIGGINS-DESC-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 19,553,1
	IN? CH-WIGGINS,TH-BOAT \?L9
	.DEBUG-LINE 19,554,1
	PRINT K-ENJOYING-RIDE-MSG
	JUMP ?L13
	.DEBUG-LINE 19,555,1
?L9:	IN? CH-WIGGINS,TH-HANSOM-CAB /?L12
	IN? CH-WIGGINS,TH-GROWLER-CAB \?L11
	.DEBUG-LINE 19,557,1
?L12:	PRINT K-FIDGETING-MSG
	JUMP ?L13
	.DEBUG-LINE 19,559,1
?L11:	CALL2 RT-PICK-NEXT,GL-WIGGINS-LOOK-TXT >STACK
	PRINT STACK
	.DEBUG-LINE 19,560,1
?L13:	PRINTI "."
	CRLF
	.DEBUG-LINE 19,561,1
	RETURN 2
	.DEBUG-LINE 19,562,1
?L4:	CALL2 RT-TELL-ABOUT?,CH-WIGGINS >STACK
	ZERO? STACK /?L14
	.DEBUG-LINE 19,563,1
	EQUAL? GL-PRSA,V?WHO,V?WHAT \?L15
	.DEBUG-LINE 19,564,1
	SET 'OBJ,GL-PRSO
	JUMP ?L17
	.DEBUG-LINE 19,566,1
?L15:	SET 'OBJ,GL-PRSI
	.DEBUG-LINE 19,567,1
?L17:	FSET? CH-WIGGINS,FL-ASLEEP \?L18
	.DEBUG-LINE 19,568,1
	CALL2 RT-NO-CONDITION-MSG,CH-WIGGINS >STACK
	RSTACK
	.DEBUG-LINE 19,569,1
?L18:	EQUAL? GL-PRSA,V?WHO \?L20
	EQUAL? OBJ,CH-WIGGINS \?L20
	.DEBUG-LINE 19,571,1
	PRINTR """I'm Wiggins, 'ead o' the Baker Street Irregulars."""
	.DEBUG-LINE 19,574,1
?L20:	EQUAL? OBJ,CH-HOLMES \?L21
	.DEBUG-LINE 19,575,1
	PRINTR """E's a good man, guv'nor. Best as ever was."""
	.DEBUG-LINE 19,577,1
?L21:	PRINTR """Beats me. What do you think?"""
	.DEBUG-LINE 19,578,1
?L14:	CALL1 RT-WHO-WHAT-FAIL? >STACK
	ZERO? STACK /?L23
	.DEBUG-LINE 19,579,1
	RETURN 2
	.DEBUG-LINE 19,580,1
?L23:	EQUAL? CONTEXT,K-M-WINNER \?L24
	.DEBUG-LINE 19,581,1
	EQUAL? GL-PRSA,V?HELLO \?L25
	.DEBUG-LINE 19,582,1
	PRINTR """'Ello."""
	.DEBUG-LINE 19,583,1
?L25:	EQUAL? GL-PRSA,V?GOODBYE \?L27
	.DEBUG-LINE 19,584,1
	PRINTR """Ta ta."""
	.DEBUG-LINE 19,585,1
?L27:	EQUAL? GL-PRSA,V?THANK \?L28
	.DEBUG-LINE 19,586,1
	PRINTR """Anytime, mate."""
	.DEBUG-LINE 19,587,1
?L28:	EQUAL? GL-PRSA,V?WHERE \?L29
	.DEBUG-LINE 19,588,1
	PRINTR """Beats me. What do you think?"""
	.DEBUG-LINE 19,589,1
?L29:	ZERO? CH-WIGGINS-AUX1 \?L30
	.DEBUG-LINE 19,590,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	PRINT K-WOUNDED-PRIDE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,591,1
?L30:	EQUAL? GL-PRSA,V?ENTER \?L31
	.DEBUG-LINE 19,592,1
	EQUAL? GL-PRSO,TH-BUTT-OF-MALMSEY \?L34
	FSET? GL-PRSO,FL-BROKEN /?L32
	.DEBUG-LINE 19,598,1
	SET 'WIGGINS-COLD?,1
	.DEBUG-LINE 19,599,1
	PRINTR "Wiggins dutifully climbs into the full butt of malmsey and has a nice bath and gets out again."
	.DEBUG-LINE 19,602,1
?L32:	EQUAL? GL-PRSO,TH-BUTT-OF-MALMSEY \?L34
	.DEBUG-LINE 19,605,1
	IN? TH-GARNET,TH-BUTT-OF-MALMSEY \?L35
	.DEBUG-LINE 19,606,1
	MOVE TH-GARNET,CH-PLAYER
	.DEBUG-LINE 19,607,1
	ICALL2 RT-THIS-IS-IT,TH-GARNET
	.DEBUG-LINE 19,608,1
	SET 'WIGGINS-COLD?,1
	.DEBUG-LINE 19,609,1
	FSET TH-GARNET,FL-SEEN
	.DEBUG-LINE 19,610,1
	FSET TH-GARNET,FL-TOUCHED
	.DEBUG-LINE 19,611,1
	FCLEAR TH-GARNET,FL-NODESC
	.DEBUG-LINE 19,612,1
	PRINTI "Wiggins climbs into the empty butt of malmsey, gets the gem, gets out and gives it to you."
	CRLF
	.DEBUG-LINE 19,615,1
	GETP TH-GARNET,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 19,616,1
	PUTP TH-GARNET,P?VALUE,0
	.DEBUG-LINE 19,617,1
	RTRUE
	.DEBUG-LINE 19,619,1
?L35:	PRINTR "Wiggins says, ""Once was enough, thank you."""
	.DEBUG-LINE 19,622,1
?L34:	EQUAL? GL-PRSO,TH-HANSOM-CAB,TH-GROWLER-CAB,TH-BOAT \?L38
	.DEBUG-LINE 19,623,1
	IN? CH-HOLMES,RM-LAIR \?L39
	.DEBUG-LINE 19,624,1
	IN? CH-PLAYER,GL-PRSO \?L41
	.DEBUG-LINE 19,625,1
	PRINTI "Wiggins climbs in next to you."
	CRLF
	.DEBUG-LINE 19,627,1
	MOVE CH-WIGGINS,GL-PRSO
	JUMP ?L43
	.DEBUG-LINE 19,629,1
?L41:	PRINT K-AFTER-YOU-MSG
	CRLF
	.DEBUG-LINE 19,630,1
?L43:	SET 'GL-PUPPY,CH-WIGGINS
	.DEBUG-LINE 19,631,1
	FCLEAR CH-WIGGINS,FL-NODESC
	.DEBUG-LINE 19,632,1
	FCLEAR CH-WIGGINS,FL-BROKEN
	RTRUE
	.DEBUG-LINE 19,634,1
?L39:	PRINT K-CANT-LEAVE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,635,1
?L38:	EQUAL? GL-PRSO,LG-WATER \FALSE
	.DEBUG-LINE 19,636,1
	PRINTR """I ain't no bleedin' mermaid. Besides, bathing ain't 'ealthy."""
	.DEBUG-LINE 19,638,1
?L31:	EQUAL? GL-PRSA,V?TAKE,V?STEAL \?L47
	.DEBUG-LINE 19,639,1
	EQUAL? GL-PRSO,TH-GARNET \?L48
	IN? TH-GARNET,TH-BUTT-OF-MALMSEY \?L48
	.DEBUG-LINE 19,641,1
	MOVE TH-GARNET,CH-PLAYER
	.DEBUG-LINE 19,642,1
	ICALL2 RT-THIS-IS-IT,TH-GARNET
	.DEBUG-LINE 19,643,1
	SET 'WIGGINS-COLD?,1
	.DEBUG-LINE 19,644,1
	FSET TH-GARNET,FL-SEEN
	.DEBUG-LINE 19,645,1
	FSET TH-GARNET,FL-TOUCHED
	.DEBUG-LINE 19,646,1
	FCLEAR TH-GARNET,FL-NODESC
	.DEBUG-LINE 19,647,1
	ICALL2 RT-CTHEO-PRINT,CH-WIGGINS
	.DEBUG-LINE 19,648,1
	IN? CH-WIGGINS,TH-BUTT-OF-MALMSEY /?L50
	.DEBUG-LINE 19,649,1
	PRINTI " climbs into the empty butt of malsey,"
	.DEBUG-LINE 19,650,1
?L50:	PRINTI " gets the gem, gets out, and gives it to you."
	CRLF
	.DEBUG-LINE 19,652,1
	GETP TH-GARNET,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 19,653,1
	PUTP TH-GARNET,P?VALUE,0
	.DEBUG-LINE 19,654,1
	RTRUE
	.DEBUG-LINE 19,655,1
?L48:	EQUAL? GL-PRSO,TH-GUARDS-POCKET,TH-BOX-KEY,TH-GUARDS-KEYS /?L54
	EQUAL? GL-PRSI,TH-GUARDS-POCKET,CH-BANK-GUARD \?L53
	.DEBUG-LINE 19,658,1
?L54:	ICALL1 RT-STEAL-KEY
	.DEBUG-LINE 19,659,1
	RTRUE
	.DEBUG-LINE 19,660,1
?L53:	EQUAL? GL-PRSA,V?STEAL \FALSE
	.DEBUG-LINE 19,661,1
	PRINTR """I would if I could, guv. But I don't see 'ow to do it."""
	.DEBUG-LINE 19,663,1
?L47:	EQUAL? GL-PRSA,V?ROB \?L57
	EQUAL? GL-PRSO,CH-BANK-GUARD \?L57
	.DEBUG-LINE 19,665,1
	CALL1 RT-STEAL-KEY >STACK
	RSTACK
	.DEBUG-LINE 19,666,1
?L57:	EQUAL? GL-PRSA,V?EMPTY,V?REACH-IN,V?SEARCH \?L58
	.DEBUG-LINE 19,667,1
	EQUAL? GL-PRSO,TH-GUARDS-POCKET,CH-BANK-GUARD /?L61
	EQUAL? GL-PRSI,TH-GUARDS-POCKET,CH-BANK-GUARD \?L59
	.DEBUG-LINE 19,669,1
?L61:	ICALL1 RT-STEAL-KEY
	.DEBUG-LINE 19,670,1
	RTRUE
	.DEBUG-LINE 19,672,1
?L59:	PRINTR """I would if I could, guv. But I don't see 'ow to do it."""
	.DEBUG-LINE 19,674,1
?L58:	EQUAL? GL-PRSA,V?FOLLOW \?L63
	.DEBUG-LINE 19,675,1
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L64
	.DEBUG-LINE 19,676,1
	IN? CH-HOLMES,RM-LAIR \?L66
	.DEBUG-LINE 19,677,1
	PRINTI """After you, guv."""
	CRLF
	.DEBUG-LINE 19,678,1
	SET 'GL-PUPPY,CH-WIGGINS
	.DEBUG-LINE 19,679,1
	FCLEAR CH-WIGGINS,FL-NODESC
	.DEBUG-LINE 19,680,1
	FCLEAR CH-WIGGINS,FL-BROKEN
	RTRUE
	.DEBUG-LINE 19,682,1
?L66:	PRINT K-CANT-LEAVE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,684,1
?L64:	PRINTR """I'm not a bleedin' bloodhound."""
	.DEBUG-LINE 19,685,1
?L63:	EQUAL? GL-PRSA,V?WAIT \?L70
	.DEBUG-LINE 19,686,1
	EQUAL? GL-PUPPY,CH-WIGGINS \?L71
	.DEBUG-LINE 19,687,1
	SET 'GL-PUPPY,0
	.DEBUG-LINE 19,688,1
	PRINTR """Right. I'm glued to this spot."""
	.DEBUG-LINE 19,690,1
?L71:	PRINTR """Whatever you say, guv."""
	.DEBUG-LINE 19,691,1
?L70:	EQUAL? GL-PRSA,V?EXIT \?L74
	.DEBUG-LINE 19,697,1
	PRINT K-AFTER-YOU-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,698,1
?L74:	EQUAL? GL-PRSA,V?PULL \?L75
	EQUAL? GL-PRSO,TH-PORTCULLIS-CHAIN \?L75
	.DEBUG-LINE 19,700,1
	PRINTR """I can't reach it, guv."""
	.DEBUG-LINE 19,702,1
	.DEBUG-LINE 19,703,1
?L75:	PRINTR "Wiggins looks at you and scratches his head."
	.DEBUG-LINE 19,704,1
?L24:	ZERO? GL-NOW-PRSI? /?L103
	.DEBUG-LINE 19,705,1
	EQUAL? GL-PRSA,V?GIVE \?L78
	.DEBUG-LINE 19,706,1
	FSET? CH-WIGGINS,FL-ASLEEP \?L80
	.DEBUG-LINE 19,707,1
	ICALL RT-NO-CONDITION-MSG,CH-WIGGINS,STR?290
	RTRUE
	.DEBUG-LINE 19,708,1
?L80:	EQUAL? GL-PRSO,TH-SHILLING \?L82
	.DEBUG-LINE 19,709,1
	MOVE TH-SHILLING,CH-WIGGINS
	.DEBUG-LINE 19,710,1
	FSET TH-SHILLING,FL-NOALL
	.DEBUG-LINE 19,711,1
	SET 'CH-WIGGINS-AUX1,1
	.DEBUG-LINE 19,712,1
	ZERO? GL-P-CONT \?L83
	.DEBUG-LINE 19,713,1
	SET 'WINNER-IS-WIGGINS,1
	.DEBUG-LINE 19,714,1
?L83:	SET 'GL-P-QCONTEXT-TH,CH-WIGGINS
	.DEBUG-LINE 19,715,1
	SET 'GL-P-QCONTEXT-RM,GL-PLACE-CUR
	.DEBUG-LINE 19,716,1
	PRINTI "Wiggins looks at "
	ICALL2 RT-THEO-PRINT,TH-SHILLING
	PRINTR " and then at you. After a few moments he stuffs it deep into the recesses of his clothing and says, ""I'm all yours. Wot's the plan?"""
	.DEBUG-LINE 19,720,1
?L82:	EQUAL? GL-PRSO,TH-EMERALD,TH-SAPPHIRE,TH-RUBY /?L87
	EQUAL? GL-PRSO,TH-OPAL,TH-TOPAZ,TH-GARNET /?L87
	EQUAL? GL-PRSO,TH-POUND-NOTE,TH-SIXPENCE \?L86
	.DEBUG-LINE 19,728,1
?L87:	PRINTI "Wiggins glances at your offer and"
	PRINT K-WOUNDED-PRIDE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,731,1
	.DEBUG-LINE 19,734,1
?L86:	PRINTR "Wiggins looks at the item you have handed him and then returns it to you. Clearly it was not of interest to him."
	.DEBUG-LINE 19,735,1
?L78:	EQUAL? GL-PRSA,V?TAKE \FALSE
	EQUAL? GL-PRSO,TH-SHILLING \FALSE
	.DEBUG-LINE 19,737,1
	FSET? CH-WIGGINS,FL-ASLEEP \?L90
	.DEBUG-LINE 19,738,1
	PRINTI "He must have hidden it very well. "
	.DEBUG-LINE 19,739,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 19,740,1
	PRINTR "can't find it."
	.DEBUG-LINE 19,742,1
?L90:	PRINTR """Sorry, guv'nor. A deal's a deal."""
	.DEBUG-LINE 19,744,1
?L103:	EQUAL? GL-PRSA,V?SMELL \FALSE
	.DEBUG-LINE 19,745,1
	ZERO? WIGGINS-COLD? /?L97
	.DEBUG-LINE 19,746,1
	PRINT K-EAU-DE-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,748,1
?L97:	PRINTR "Yuck. Eau de urchin."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-CH-BUTLER","CONTEXT","WORD-NUM"
	.FUNCT RT-AC-CH-BUTLER,CONTEXT,WORD-NUM
	ASSIGNED? 'CONTEXT /?L65
	SET 'CONTEXT,0
	.DEBUG-LINE 19,752,1
?L65:	ICALL2 RT-THIS-IS-IT,CH-BUTLER
	.DEBUG-LINE 19,753,1
	EQUAL? CONTEXT,K-M-WINNER \?L1
	.DEBUG-LINE 19,754,1
	FSET? CH-BUTLER,FL-ASLEEP \?L3
	.DEBUG-LINE 19,755,1
	CALL2 RT-NO-CONDITION-MSG,CH-BUTLER >STACK
	RSTACK
	.DEBUG-LINE 19,756,1
?L3:	EQUAL? GL-PRSA,V?TAKE,V?FIND \?L5
	CALL RT-IDENTIFY-EVENT?,W?MYCROFT,GL-PRSO >STACK
	ZERO? STACK /?L5
	.DEBUG-LINE 19,758,1
	SET 'GL-WINNER,CH-PLAYER
	.DEBUG-LINE 19,759,1
	ICALL RT-PERFORM,V?ASK-FOR,CH-BUTLER,TH-EVENT
	.DEBUG-LINE 19,760,1
	RTRUE
	.DEBUG-LINE 19,761,1
?L5:	EQUAL? GL-PRSA,V?HELLO \?L6
	.DEBUG-LINE 19,762,1
	PRINTI """"
	.DEBUG-LINE 19,763,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L7
	.DEBUG-LINE 19,764,1
	PRINTI "How do you do?"
	JUMP ?L10
	.DEBUG-LINE 19,765,1
?L7:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2 \?L9
	.DEBUG-LINE 19,766,1
	PRINTI "Good day."
	JUMP ?L10
	.DEBUG-LINE 19,767,1
?L9:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L10
	.DEBUG-LINE 19,768,1
	PRINTI "Good evening."
	.DEBUG-LINE 19,769,1
?L10:	PRINTR """"
	.DEBUG-LINE 19,770,1
?L6:	EQUAL? GL-PRSA,V?GOODBYE \?L12
	.DEBUG-LINE 19,771,1
	PRINTI """"
	.DEBUG-LINE 19,772,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L13
	.DEBUG-LINE 19,773,1
	PRINTI "Good night"
	JUMP ?L16
	.DEBUG-LINE 19,774,1
?L13:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2 \?L15
	.DEBUG-LINE 19,775,1
	PRINTI "Good day"
	JUMP ?L16
	.DEBUG-LINE 19,776,1
?L15:	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,3 \?L16
	.DEBUG-LINE 19,777,1
	PRINTI "Good evening"
	.DEBUG-LINE 19,778,1
?L16:	PRINTR "."""
	.DEBUG-LINE 19,779,1
?L12:	EQUAL? GL-PRSA,V?THANK \?L18
	.DEBUG-LINE 19,780,1
	PRINTR """You're quite welcome."""
	.DEBUG-LINE 19,781,1
?L18:	EQUAL? GL-PRSA,V?WHO \?L19
	EQUAL? GL-PRSO,CH-BUTLER \?L19
	.DEBUG-LINE 19,783,1
	PRINTR """I am one of the staff of this fine establishment."""
	.DEBUG-LINE 19,785,1
?L19:	EQUAL? GL-PRSA,V?WHO,V?WHAT,V?WHERE \?L20
	.DEBUG-LINE 19,786,1
	PRINTR """I'm far too discreet to respond."""
	.DEBUG-LINE 19,788,1
?L20:	EQUAL? GL-PRSA,V?YES,V?NO \?L21
	.DEBUG-LINE 19,789,1
	ICALL2 RT-CTHEO-PRINT,CH-BUTLER
	PRINTR " looks at you expectantly."
	.DEBUG-LINE 19,791,1
?L21:	EQUAL? GL-PRSA,V?RESCUE \?L22
	.DEBUG-LINE 19,792,1
	PRINTR """What can I do for you?"""
	.DEBUG-LINE 19,794,1
?L22:	PRINTR """I'm afraid I am unable to do that."""
	.DEBUG-LINE 19,796,1
?L1:	ZERO? GL-NOW-PRSI? \?L66
	.DEBUG-LINE 19,797,1
	EQUAL? GL-PRSA,V?ASK-FOR,V?ASK-ABOUT \FALSE
	.DEBUG-LINE 19,798,1
	FSET? CH-BUTLER,FL-ASLEEP \?L27
	.DEBUG-LINE 19,799,1
	CALL2 RT-NO-CONDITION-MSG,CH-BUTLER >STACK
	RSTACK
	.DEBUG-LINE 19,800,1
?L27:	CALL RT-IDENTIFY-EVENT?,W?MYCROFT,GL-PRSI >STACK
	ZERO? STACK /?L29
	.DEBUG-LINE 19,801,1
	BAND MYCROFT-STATE,MYCROFT-LOCKED >STACK
	ZERO? STACK /?L30
	.DEBUG-LINE 19,803,1
	PRINTR """I am very sorry but Mr Mycroft Holmes is not available at this time. Perhaps you would care to come back later?"""
	.DEBUG-LINE 19,806,1
?L30:	BAND MYCROFT-STATE,MYCROFT-ASLEEP >STACK
	ZERO? STACK /?L32
	.DEBUG-LINE 19,808,1
	BAND MYCROFT-STATE,-3 >MYCROFT-STATE
	.DEBUG-LINE 19,809,1
	PRINTI "The butler listens to you and then leaves. He comes back shortly."
	CRLF
	CRLF
	PRINTR """Mr Mycroft Holmes requires that you offer some token to verify that you are indeed the person you claim to be. Give whatever it is to me and I will take it to him."""
	.DEBUG-LINE 19,815,1
?L32:	PRINTR "The butler listens politely but insists that he can do nothing more for you than to deliver the token to Mr Mycroft Holmes."
	.DEBUG-LINE 19,818,1
?L29:	EQUAL? GL-PRSI,CH-HOLMES \?L34
	.DEBUG-LINE 19,819,1
	PRINTR """I am afraid that I know the younger Mr Holmes only by his somewhat colourful reputation."""
	.DEBUG-LINE 19,822,1
?L34:	EQUAL? GL-PRSI,CH-BUTLER \?L35
	.DEBUG-LINE 19,823,1
	PRINTR """I am well, sir. Thank you for asking."""
	.DEBUG-LINE 19,825,1
?L35:	EQUAL? GL-PRSI,CH-PLAYER,CH-ME \?L36
	.DEBUG-LINE 19,826,1
	PRINTR "He looks down his nose at you and sniffs, ""I don't believe we've been introduced."""
	.DEBUG-LINE 19,829,1
?L36:	EQUAL? GL-PRSI,CH-MEMBERS \?L37
	.DEBUG-LINE 19,830,1
	PRINTR """They seem livelier than usual for this time of year."""
	.DEBUG-LINE 19,832,1
?L37:	EQUAL? GL-PRSI,RM-DIOGENES-CLUB \?L38
	.DEBUG-LINE 19,833,1
	PRINTR "The butler coughs deferentially, ""It is one of the most exclusive clubs in London, sir."" He glances at your clothes. ""Membership is by invitation only."""
	.DEBUG-LINE 19,837,1
?L38:	FSET? GL-PRSI,FL-PERSON \?L39
	.DEBUG-LINE 19,838,1
	FSET? GL-PRSI,FL-PLURAL \?L40
	.DEBUG-LINE 19,839,1
	PRINTR """Unfortunately, I can say nothing about them."""
	.DEBUG-LINE 19,841,1
?L40:	FSET? GL-PRSI,FL-FEMALE \?L42
	.DEBUG-LINE 19,842,1
	PRINTR """I am sorry but I can tell you nothing about her."""
	.DEBUG-LINE 19,845,1
?L42:	PRINTR """Much to my regret I can tell you nothing about him."""
	.DEBUG-LINE 19,848,1
?L39:	PRINTR """I'm afraid I wouldn't know anything about that."""
	.DEBUG-LINE 19,851,1
?L66:	EQUAL? GL-PRSA,V?GIVE \FALSE
	.DEBUG-LINE 19,852,1
	FSET? CH-BUTLER,FL-ASLEEP \?L49
	.DEBUG-LINE 19,853,1
	CALL RT-NO-CONDITION-MSG,CH-BUTLER,STR?290 >STACK
	RSTACK
	.DEBUG-LINE 19,854,1
?L49:	BAND MYCROFT-STATE,MYCROFT-LOCKED >STACK
	ZERO? STACK /?L51
	.DEBUG-LINE 19,855,1
	PRINTR "The butler politely declines to take the gift you have offered."
	.DEBUG-LINE 19,857,1
?L51:	BAND MYCROFT-STATE,MYCROFT-ASLEEP >STACK
	ZERO? STACK /?L52
	.DEBUG-LINE 19,858,1
	PRINTR "The butler refuses to take the item you have offered and asks if you have come to speak with someone here in the club."
	.DEBUG-LINE 19,861,1
?L52:	EQUAL? GL-PRSO,TH-RING \?L53
	.DEBUG-LINE 19,862,1
	BOR MYCROFT-STATE,5 >MYCROFT-STATE
	.DEBUG-LINE 19,864,1
	REMOVE TH-RING
	.DEBUG-LINE 19,865,1
	PRINT K-BUTLER-ACCEPTS-MSG
	CRLF
	CRLF
	PRINTI "After a few moments, Mycroft Holmes appears. He looks very worried."
	CRLF
	CRLF
	PRINTI """Sherlock warned me that you might come,"" he says. ""And the fact that you are here indicates that he is indeed in trouble. I believe that in order to solve this mystery, you are going to have to go to the Tower of London. It will be closed, but you can give the password '"
	.DEBUG-LINE 19,871,1
	RANDOM 6 >WORD-NUM
	.DEBUG-LINE 19,872,1
	SET 'PASSWORD-ID,WORD-NUM
	.DEBUG-LINE 19,873,1
	EQUAL? WORD-NUM,1 \?L54
	.DEBUG-LINE 19,874,1
	PRINTI "Boleyn"
	JUMP ?L60
	.DEBUG-LINE 19,875,1
?L54:	EQUAL? WORD-NUM,2 \?L56
	.DEBUG-LINE 19,876,1
	PRINTI "Cleves"
	JUMP ?L60
	.DEBUG-LINE 19,877,1
?L56:	EQUAL? WORD-NUM,3 \?L57
	.DEBUG-LINE 19,878,1
	PRINTI "Howard"
	JUMP ?L60
	.DEBUG-LINE 19,879,1
?L57:	EQUAL? WORD-NUM,4 \?L58
	.DEBUG-LINE 19,880,1
	PRINTI "Parr"
	JUMP ?L60
	.DEBUG-LINE 19,881,1
?L58:	EQUAL? WORD-NUM,5 \?L59
	.DEBUG-LINE 19,882,1
	PRINTI "Aragon"
	JUMP ?L60
	.DEBUG-LINE 19,883,1
?L59:	EQUAL? WORD-NUM,6 \?L60
	.DEBUG-LINE 19,884,1
	PRINTI "Seymour"
	.DEBUG-LINE 19,885,1
?L60:	PRINTI "' to the guard at the Byward Tower. He will let you in. Good luck."""
	CRLF
	CRLF
	PRINTI "Mycroft pauses before he goes and looks at you meditatively, as if trying to decide if he can put his faith in you to rescue his brother. After a moment he gives his head an unconscious nod, then turns around and disappears back into the club."
	CRLF
	.DEBUG-LINE 19,891,1
	ICALL2 RT-UPDATE-SCORE,1
	.DEBUG-LINE 19,892,1
	RTRUE
	.DEBUG-LINE 19,894,1
?L53:	PRINT K-BUTLER-ACCEPTS-MSG
	CRLF
	CRLF
	PRINTI "The butler soon returns looking concerned."
	CRLF
	CRLF
	PRINTR """I am sorry but Mr Mycroft Holmes says this will not do. Do you have anything else?"""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-BANK-VAULT-DOOR","CONTEXT"
	.FUNCT RT-AC-LG-BANK-VAULT-DOOR,CONTEXT
	ASSIGNED? 'CONTEXT /?L33
	SET 'CONTEXT,0
	.DEBUG-LINE 19,901,1
?L33:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 19,902,1
	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \?L3
	.DEBUG-LINE 19,903,1
	ICALL2 RT-OPEN-CLOSED-MSG,LG-BANK-VAULT-DOOR
	.DEBUG-LINE 19,904,1
	CRLF
	.DEBUG-LINE 19,904,1
	CRLF
	.DEBUG-LINE 19,905,1
	.DEBUG-LINE 19,906,1
	PRINTR "In the middle of the door you see a big shiny dial."
	.DEBUG-LINE 19,908,1
?L3:	ICALL2 RT-OPEN-CLOSED-MSG,LG-BANK-VAULT-DOOR
	.DEBUG-LINE 19,909,1
	CRLF
	.DEBUG-LINE 19,909,1
	CRLF
	.DEBUG-LINE 19,910,1
	.DEBUG-LINE 19,911,1
	PRINTR "The inside of the door is shiny and flat."
	.DEBUG-LINE 19,912,1
?L1:	EQUAL? GL-PRSA,V?OPEN \?L6
	.DEBUG-LINE 19,913,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L7
	.DEBUG-LINE 19,914,1
	PRINTR "The vault door is already open."
	.DEBUG-LINE 19,915,1
?L7:	FSET? LG-BANK-VAULT-DOOR,FL-LOCKED \?L9
	.DEBUG-LINE 19,916,1
	PRINTR "The vault door is locked."
	.DEBUG-LINE 19,918,1
?L9:	FSET LG-BANK-VAULT-DOOR,FL-OPENED
	.DEBUG-LINE 19,919,1
	PRINTR "The vault door swings open."
	.DEBUG-LINE 19,920,1
?L6:	EQUAL? GL-PRSA,V?CLOSE \?L11
	.DEBUG-LINE 19,921,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED /?L12
	.DEBUG-LINE 19,922,1
	PRINTR "The vault door is already closed."
	.DEBUG-LINE 19,924,1
?L12:	FCLEAR LG-BANK-VAULT-DOOR,FL-OPENED
	.DEBUG-LINE 19,925,1
	FSET LG-BANK-VAULT-DOOR,FL-LOCKED
	.DEBUG-LINE 19,926,1
	SET 'TH-DIAL-AUX1,0
	.DEBUG-LINE 19,927,1
	SET 'TH-DIAL-AUX2,0
	.DEBUG-LINE 19,928,1
	PRINTI "The vault door swings closed and locks"
	.DEBUG-LINE 19,929,1
	IN? CH-PLAYER,RM-BANK-VAULT \?L15
	.DEBUG-LINE 19,930,1
	PRINTI " you in. Whoops!"
	CRLF
	CRLF
	.DEBUG-LINE 19,931,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 19,933,1
?L15:	PRINTR "."
	.DEBUG-LINE 19,934,1
?L11:	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \?L18
	.DEBUG-LINE 19,935,1
	EQUAL? GL-PLACE-CUR,RM-BANK-VAULT \?L19
	.DEBUG-LINE 19,936,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-LINE 19,937,1
?L19:	EQUAL? GL-PLACE-CUR,RM-BANK-OF-ENGLAND \FALSE
	.DEBUG-LINE 19,938,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-LINE 19,939,1
?L18:	EQUAL? GL-PRSA,V?LOOK-INSIDE \?L23
	.DEBUG-LINE 19,940,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L24
	.DEBUG-LINE 19,941,1
	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 19,942,1
	PRINTI "row upon row of "
	ICALL2 DPRINT,TH-BOXES
	PRINTR "."
	.DEBUG-LINE 19,944,1
?L24:	ICALL2 RT-CTHEO-PRINT,LG-BANK-VAULT-DOOR
	PRINTR " is closed."
	.DEBUG-LINE 19,945,1
?L23:	EQUAL? GL-PRSA,V?UNLOCK \?L27
	.DEBUG-LINE 19,946,1
	FSET? LG-BANK-VAULT-DOOR,FL-OPENED \?L28
	.DEBUG-LINE 19,947,1
	ICALL2 RT-CTHEO-PRINT,LG-BANK-VAULT-DOOR
	PRINTR " is already opened."
	.DEBUG-LINE 19,949,1
?L28:	PRINT K-HOW-TO-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 19,950,1
?L27:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 19,951,1
	PRINT K-RICOCHET-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOPAZ-MSG"
	.FUNCT RT-TOPAZ-MSG
	.DEBUG-LINE 19,954,1
	EQUAL? GL-PRSO,TH-TOPAZ \FALSE
	EQUAL? GL-PUPPY,CH-HOLMES \FALSE
	.DEBUG-LINE 19,956,1
	CRLF
	PRINTI "Holmes plucks you by the sleeve and reaches into the box. ""Observe, Watson."" He pulls out an almost invisible thread and examines it with glittering eyes. ""Muslin,"" he declares, more to himself than to you. ""Of Indian origin, and of the type used almost exclusively in the manufacture of turbans."" He looks at you in triumph. ""Our case is almost complete, Doctor. The Agra gems, the Trichinopoly cigar, and now this strand of muslin."""
	CRLF
	CRLF
	PRINTR "Holmes puts the strand into his pocket and explains. ""Moriarty - for reasons as yet unknown to us - has stolen the Crown Jewels. The Agra gems have somehow passed into his hands by way of this Indian accomplice, and he is using small pieces of it to lure me into a rendezvous with him. It's a dangerous game we play, Watson, but if we are to recover the regalia we have no choice."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-EXAMINE-GEM","GEM"
	.FUNCT RT-EXAMINE-GEM,GEM
	.DEBUG-LINE 20,11,1
	EQUAL? GEM,TH-SAPPHIRE \?L1
	IN? TH-SAPPHIRE,TH-CLAPPER \?L1
	.DEBUG-LINE 20,13,1
	.DEBUG-LINE 20,14,1
	PRINTR "The sapphire is hanging from the end of the clapper."
	.DEBUG-LINE 20,15,1
?L1:	LOC GEM >STACK
	EQUAL? STACK,CH-PLAYER \?L3
	.DEBUG-LINE 20,16,1
	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \?L4
	.DEBUG-LINE 20,17,1
	PRINTI "It looks as if there is a scratch on "
	ICALL1 RT-THEO-PRINT
	PRINTR "."
	.DEBUG-LINE 20,18,1
?L4:	EQUAL? GL-PRSA,V?READ \?L6
	.DEBUG-LINE 20,19,1
	PRINTI "All you can see on "
	ICALL1 RT-THEO-PRINT
	PRINTR " is a scratch."
	.DEBUG-LINE 20,20,1
?L6:	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \FALSE
	.DEBUG-LINE 20,22,1
	IN? TH-MAGNIFYING-GLASS,GL-WINNER \?L8
	.DEBUG-LINE 20,23,1
	PRINTI "You see """
	.DEBUG-LINE 20,24,1
	EQUAL? GEM,TH-SAPPHIRE \?L10
	.DEBUG-LINE 20,25,1
	PRINTI "2:00 a.m."
	JUMP ?L16
	.DEBUG-LINE 20,26,1
?L10:	EQUAL? GEM,TH-EMERALD \?L12
	.DEBUG-LINE 20,27,1
	PRINTI "20/6/87"
	JUMP ?L16
	.DEBUG-LINE 20,28,1
?L12:	EQUAL? GEM,TH-OPAL \?L13
	.DEBUG-LINE 20,29,1
	PRINTI "Password: Swordfish"
	JUMP ?L16
	.DEBUG-LINE 20,30,1
?L13:	EQUAL? GEM,TH-RUBY \?L14
	.DEBUG-LINE 20,31,1
	PRINTI "Wear a carnation"
	JUMP ?L16
	.DEBUG-LINE 20,32,1
?L14:	EQUAL? GEM,TH-TOPAZ \?L15
	.DEBUG-LINE 20,33,1
	PRINTI "Bar of Gold"
	JUMP ?L16
	.DEBUG-LINE 20,34,1
?L15:	EQUAL? GEM,TH-GARNET \?L16
	.DEBUG-LINE 20,35,1
	PRINTI "Give me to Akbar"
	.DEBUG-LINE 20,36,1
?L16:	PRINTI """ scratched into the surface of "
	ICALL1 RT-THEO-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 20,37,1
	BAND CH-HOLMES-AUX1,K-HOLMES-GEM? >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 20,38,1
	BOR CH-HOLMES-AUX1,K-HOLMES-GEM? >CH-HOLMES-AUX1
	.DEBUG-LINE 20,40,1
	MOVE TH-RING,CH-PLAYER
	.DEBUG-LINE 20,41,1
	FSET TH-RING,FL-SEEN
	.DEBUG-LINE 20,42,1
	FSET TH-RING,FL-TOUCHED
	.DEBUG-LINE 20,43,1
	FCLEAR TH-RING,FL-NODESC
	.DEBUG-LINE 20,44,1
	CRLF
	.DEBUG-LINE 20,45,1
	PRINTI "Holmes"
	.DEBUG-LINE 20,46,1
	ICALL1 RT-HOLMES-SAYS-AGRA-MSG
	.DEBUG-LINE 20,47,1
	GETP TH-RING,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 20,48,1
	PUTP TH-RING,P?VALUE,0
	RTRUE
	.DEBUG-LINE 20,50,1
?L8:	ICALL RT-YOUD-HAVE-TO-MSG,STR?216,TH-MAGNIFYING-GLASS
	.DEBUG-LINE 20,51,1
	RTRUE
	.DEBUG-LINE 20,53,1
?L3:	EQUAL? GL-PRSA,V?READ \?L24
	.DEBUG-LINE 20,54,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,55,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GL-PRSO
	.DEBUG-LINE 20,56,1
	PRINTI " to read "
	.DEBUG-LINE 20,57,1
	ICALL2 RT-SAY-HIM-HER-THEM-IT-MSG,GL-PRSO
	.DEBUG-LINE 20,58,1
	PRINTR "."
	.DEBUG-LINE 20,59,1
?L24:	EQUAL? GL-PRSA,V?LOOK-THRU \?L26
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \?L26
	.DEBUG-LINE 20,61,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,62,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GL-PRSO
	.DEBUG-LINE 20,63,1
	PRINT K-GOOD-LOOK-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 20,64,1
?L26:	EQUAL? GL-PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	.DEBUG-LINE 20,65,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,66,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GL-PRSO
	.DEBUG-LINE 20,67,1
	PRINT K-GOOD-LOOK-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HANDLE-SCRATCH","GEM","CONTEXT"
	.FUNCT RT-HANDLE-SCRATCH,GEM,CONTEXT
	ASSIGNED? 'CONTEXT /?L35
	SET 'CONTEXT,0
	.DEBUG-LINE 20,70,1
?L35:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 20,71,1
	PUTP GEM,P?OBJ-NOUN,0
	.DEBUG-LINE 20,72,1
	ICALL2 DPRINT,GEM
	.DEBUG-LINE 20,73,1
	PUTP GEM,P?OBJ-NOUN,W?SCRATCH
	.DEBUG-LINE 20,74,1
	PRINTI "'s scratch"
	.DEBUG-LINE 20,75,1
	RTRUE
	.DEBUG-LINE 20,76,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN /?L3
	.DEBUG-LINE 20,77,1
?L3:	LOC GEM >STACK
	EQUAL? STACK,CH-PLAYER \?L5
	.DEBUG-LINE 20,78,1
	EQUAL? GL-PRSA,V?EXAMINE \?L7
	.DEBUG-LINE 20,79,1
	PRINTR "It looks like very tiny writing."
	.DEBUG-LINE 20,80,1
?L7:	EQUAL? GL-PRSA,V?READ \?L9
	.DEBUG-LINE 20,81,1
	PRINTR "It is too tiny."
	.DEBUG-LINE 20,82,1
?L9:	EQUAL? GL-PRSA,V?LOOK-THRU \FALSE
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \FALSE
	.DEBUG-LINE 20,84,1
	IN? TH-MAGNIFYING-GLASS,GL-WINNER \?L11
	.DEBUG-LINE 20,85,1
	PRINTI "You see """
	.DEBUG-LINE 20,86,1
	EQUAL? GEM,TH-SAPPHIRE \?L13
	.DEBUG-LINE 20,87,1
	PRINTI "2:00 a.m"
	JUMP ?L19
	.DEBUG-LINE 20,88,1
?L13:	EQUAL? GEM,TH-EMERALD \?L15
	.DEBUG-LINE 20,89,1
	PRINTI "20/6/87"
	JUMP ?L19
	.DEBUG-LINE 20,90,1
?L15:	EQUAL? GEM,TH-OPAL \?L16
	.DEBUG-LINE 20,91,1
	PRINTI "Password: Swordfish"
	JUMP ?L19
	.DEBUG-LINE 20,92,1
?L16:	EQUAL? GEM,TH-RUBY \?L17
	.DEBUG-LINE 20,93,1
	PRINTI "Wear a carnation"
	JUMP ?L19
	.DEBUG-LINE 20,94,1
?L17:	EQUAL? GEM,TH-TOPAZ \?L18
	.DEBUG-LINE 20,95,1
	PRINTI "Bar of Gold"
	JUMP ?L19
	.DEBUG-LINE 20,96,1
?L18:	EQUAL? GEM,TH-GARNET \?L19
	.DEBUG-LINE 20,97,1
	PRINTI "Give me to Akbar"
	.DEBUG-LINE 20,98,1
?L19:	PRINTI "."""
	CRLF
	.DEBUG-LINE 20,99,1
	BAND CH-HOLMES-AUX1,K-HOLMES-GEM? >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 20,101,1
	BOR CH-HOLMES-AUX1,K-HOLMES-GEM? >CH-HOLMES-AUX1
	.DEBUG-LINE 20,104,1
	MOVE TH-RING,CH-PLAYER
	.DEBUG-LINE 20,105,1
	FSET TH-RING,FL-SEEN
	.DEBUG-LINE 20,106,1
	FSET TH-RING,FL-TOUCHED
	.DEBUG-LINE 20,107,1
	FCLEAR TH-RING,FL-NODESC
	.DEBUG-LINE 20,108,1
	CRLF
	.DEBUG-LINE 20,109,1
	PRINTI "Holmes"
	.DEBUG-LINE 20,110,1
	ICALL1 RT-HOLMES-SAYS-AGRA-MSG
	.DEBUG-LINE 20,111,1
	GETP TH-RING,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 20,112,1
	PUTP TH-RING,P?VALUE,0
	RTRUE
	.DEBUG-LINE 20,114,1
?L11:	ICALL RT-YOUD-HAVE-TO-MSG,STR?216,TH-MAGNIFYING-GLASS
	.DEBUG-LINE 20,116,1
	RTRUE
	.DEBUG-LINE 20,118,1
?L5:	EQUAL? GL-PRSA,V?LOOK-THRU \?L30
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS /?L29
?L30:	EQUAL? GL-PRSA,V?EXAMINE,V?READ \FALSE
	.DEBUG-LINE 20,121,1
?L29:	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,122,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?216,GEM
	.DEBUG-LINE 20,123,1
	EQUAL? GL-PRSA,V?READ \?L31
	.DEBUG-LINE 20,124,1
	PRINTR " to read the scratch."
	.DEBUG-LINE 20,126,1
?L31:	PRINT K-GOOD-LOOK-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-HOLE?","OBJ","OFF","CNT","NUM","PLACE"
	.FUNCT RT-HOLE?,OBJ,OFF,CNT,NUM,PLACE
	SET 'CNT,0
	SET 'NUM,0
	.DEBUG-LINE 20,144,1
?L1:	MUL NUM,2 >OFF
	.DEBUG-LINE 20,145,1
	GET GL-HOLES,0 >STACK
	EQUAL? NUM,STACK /?L2
	.DEBUG-LINE 20,147,1
	ADD OFF,1 >STACK
	GET GL-HOLES,STACK >STACK
	EQUAL? OBJ,STACK \?L6
	.DEBUG-LINE 20,148,1
	ADD OFF,2 >STACK
	GET GL-HOLES,STACK >PLACE
	ZERO? PLACE /?L8
	EQUAL? GL-PLACE-CUR,PLACE \?L6
	.DEBUG-LINE 20,150,1
?L8:	INC 'CNT
	.DEBUG-LINE 20,151,1
?L6:	INC 'NUM
	JUMP ?L1
	.DEBUG-LINE 20,152,1
?L2:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WASTE-OF-BULLETS-MSG","WHO"
	.FUNCT RT-WASTE-OF-BULLETS-MSG,WHO
	.DEBUG-LINE 20,155,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,156,1
	EQUAL? WHO,CH-HOLMES \?L1
	.DEBUG-LINE 20,157,1
	PRINTR "Holmes glances at you and says, ""Save your ammunition, Watson. More danger may lie ahead."""
	.DEBUG-LINE 20,160,1
?L1:	EQUAL? WHO,CH-WIGGINS \?L3
	.DEBUG-LINE 20,161,1
	PRINTI "Wiggins looks at you impatiently and says, ""'Ow in the name of Dick Whittington is shooting "
	ICALL1 RT-A-PRINT
	PRINTR " going to help Mr 'Olmes?"""
	.DEBUG-LINE 20,165,1
	.DEBUG-LINE 20,166,1
?L3:	PRINTR "That would be a waste of bullets."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SHOOT-DEAD-MSG","WHO"
	.FUNCT RT-SHOOT-DEAD-MSG,WHO
	.DEBUG-LINE 20,169,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,170,1
	EQUAL? WHO,CH-HOLMES \?L1
	.DEBUG-LINE 20,171,1
	PRINTR "Holmes lifts an eyebrow and says sardonically, ""Is shooting dead people a new trend in medical research, Doctor?"""
	.DEBUG-LINE 20,174,1
?L1:	EQUAL? WHO,CH-WIGGINS \?L3
	.DEBUG-LINE 20,175,1
	PRINTR "Wiggins tugs at your sleeve and whispers nervously, ""Everyone here is already dead... aren't they?"""
	.DEBUG-LINE 20,179,1
?L3:	PRINTR "Have you no decency? Have you no shame? No? Then a bright future awaits you in the legal profession. Apply now to the law school of your choice."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-READ-NEWSPAPER"
	.FUNCT RT-READ-NEWSPAPER
	.DEBUG-LINE 20,184,1
	PRINTR "It's the newspaper that came in your game package."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WAKE-UP-HOLMES"
	.FUNCT RT-WAKE-UP-HOLMES
	.DEBUG-LINE 20,204,1
	FCLEAR CH-HOLMES,FL-ASLEEP
	.DEBUG-LINE 20,205,1
	FSET LG-PARLOUR-DOOR,FL-OPENED
	.DEBUG-LINE 20,206,1
	REMOVE TH-PHIAL
	.DEBUG-LINE 20,207,1
	REMOVE TH-MOROCCO-CASE
	.DEBUG-LINE 20,208,1
	REMOVE TH-SYRINGE
	.DEBUG-LINE 20,209,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PM-HALL,STACK
	.DEBUG-LINE 20,210,1
	ICALL2 RT-ALARM-CLR,RT-I-PM-QUITS
	.DEBUG-LINE 20,211,1
	PRINTI "Holmes "
	.DEBUG-LINE 20,212,1
	EQUAL? TH-NEWSPAPER,GL-PRSO,GL-PRSI \?L1
	.DEBUG-LINE 20,213,1
	PRINTI "glances at the paper and his eye falls on the notice about the Tower of London. He "
	.DEBUG-LINE 20,216,1
?L1:	PRINTI "immediately leaps to his feet and hurls the phial and the case into the fireplace. The phial and the syringe shatter, and the liquid evaporates instantly, but the detective does not even notice. "
	.DEBUG-LINE 20,220,1
	EQUAL? GL-PRSI,CH-PRIME-MINISTER \?L4
	.DEBUG-LINE 20,221,1
	PRINTI """A client?"" he exclaims. ""On government business? Most interesting."""
	JUMP ?L6
	.DEBUG-LINE 20,224,1
?L4:	PRINTI """They've closed the Tower?"" he exclaims. ""Most singular."""
	.DEBUG-LINE 20,226,1
?L6:	CRLF
	.DEBUG-LINE 20,227,1
	ICALL2 RT-UPDATE-SCORE,5
	.DEBUG-LINE 20,228,1
	CRLF
	PRINTI "Holmes strides to the door and calls down to Mrs Hudson to bring up a tray of food. Then he plops back down on the sofa, "
	.DEBUG-LINE 20,231,1
	EQUAL? GL-PRSI,CH-PRIME-MINISTER \?L7
	CALL RT-META-IN?,TH-NEWSPAPER,CH-PLAYER >STACK
	ZERO? STACK \?L7
	CALL2 RT-META-LOC,TH-NEWSPAPER >STACK
	EQUAL? STACK,RM-HOLMES-STUDY \?L7
	.DEBUG-LINE 20,234,1
	PRINTI "glances at the newspaper, and then "
	.DEBUG-LINE 20,235,1
?L7:	PRINTR "makes a steeple of his fingertips and focuses his intense gaze upon you."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PM-HALL"
	.FUNCT RT-I-PM-HALL
	.DEBUG-LINE 20,240,1
	FSET CH-HUDSON,FL-NODESC
	.DEBUG-LINE 20,241,1
	MOVE CH-PRIME-MINISTER,RM-ENTRY-HALL
	.DEBUG-LINE 20,242,1
	MOVE CH-HUDSON,RM-ENTRY-HALL
	.DEBUG-LINE 20,243,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PM-VESTIBULE,STACK
	.DEBUG-LINE 20,244,1
	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \FALSE
	.DEBUG-LINE 20,245,1
	CRLF
	PRINTR "Mrs Hudson and the visitor emerge from the parlour and appear to be on their way upstairs."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PM-VESTIBULE"
	.FUNCT RT-I-PM-VESTIBULE
	.DEBUG-LINE 20,250,1
	MOVE CH-PRIME-MINISTER,RM-VESTIBULE
	.DEBUG-LINE 20,251,1
	MOVE CH-HUDSON,RM-VESTIBULE
	.DEBUG-LINE 20,252,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-HUDSON,STACK
	.DEBUG-LINE 20,253,1
	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \?L1
	EQUAL? GL-PLACE-PRV,RM-ENTRY-HALL /?L1
	.DEBUG-LINE 20,255,1
	CRLF
	PRINTR "Mrs Hudson and the visitor arrive at the top of the stairs on their way into Holmes's study."
	.DEBUG-LINE 20,258,1
?L1:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	EQUAL? GL-PLACE-PRV,RM-VESTIBULE \FALSE
	.DEBUG-LINE 20,260,1
	CRLF
	PRINTR "Mrs Hudson and the visitor passed you on the stairs."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-HUDSON","NUM"
	.FUNCT RT-I-HUDSON,NUM
	.DEBUG-LINE 20,264,1
	MOVE CH-PRIME-MINISTER,RM-HOLMES-STUDY
	.DEBUG-LINE 20,265,1
	REMOVE CH-HUDSON
	.DEBUG-LINE 20,266,1
	FCLEAR CH-HUDSON,FL-NODESC
	.DEBUG-LINE 20,267,1
	SET 'NUM,RM-HOLMES-STUDY-AUX1
	.DEBUG-LINE 20,268,1
	ZERO? NUM \?L5
	.DEBUG-LINE 20,269,1
	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \?L3
	.DEBUG-LINE 20,270,1
	CRLF
	PRINTI "Mrs Hudson ushers the visitor into "
	ICALL2 RT-THEO-PRINT,RM-HOLMES-STUDY
	PRINTI " and goes downstairs."
	CRLF
	JUMP ?L5
	.DEBUG-LINE 20,273,1
?L3:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \?L5
	.DEBUG-LINE 20,274,1
	CRLF
	PRINTI "You see Mrs Hudson come down the stairway."
	CRLF
	.DEBUG-LINE 20,276,1
?L5:	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY /?L10
	EQUAL? RM-HOLMES-STUDY-AUX1,3 \?L8
	.DEBUG-LINE 20,278,1
?L10:	MOVE TH-WESTMINSTER-CLUE,CH-PLAYER
	.DEBUG-LINE 20,279,1
	FSET TH-WESTMINSTER-CLUE,FL-SEEN
	.DEBUG-LINE 20,280,1
	FSET CH-PRIME-MINISTER,FL-SEEN
	.DEBUG-LINE 20,281,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,3,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PM-LEAVE,STACK
	.DEBUG-LINE 20,282,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L13
	ZERO? NUM \?L11
	.DEBUG-LINE 20,284,1
	CRLF
	PRINTI "Mrs Hudson appears at the door, accompanied by a worried-looking gentleman."
	CRLF
	CRLF
	PRINTI "Holmes jumps up and ushers the gentleman to the armchair, dismissing Mrs Hudson at the same time. ""Watson,"" he says, ""I am sure you recognize our distinguished visitor. "
	JUMP ?L14
	.DEBUG-LINE 20,291,1
?L11:	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L13
	EQUAL? NUM,1,2 \?L13
	.DEBUG-LINE 20,293,1
	CRLF
	PRINTI "Holmes has seated his visitor and is exchanging pleasantries with him. As you walk in Holmes looks up and says, ""Ah, here you are Watson. Now we can get down to business."" He turns to the gentleman seated in the armchair and says, """
	JUMP ?L14
	.DEBUG-LINE 20,299,1
?L13:	CRLF
	PRINTI "Holmes appears and says, ""Come with me, Watson. We have an important visitor."" He takes you by the arm and ushers you back to his study. Once inside, he gestures to the guest seated in the armchair and says, """
	.DEBUG-LINE 20,304,1
	MOVE CH-PLAYER,RM-HOLMES-STUDY
	.DEBUG-LINE 20,305,1
	SET 'GL-PLACE-PRV,GL-PLACE-CUR
	.DEBUG-LINE 20,306,1
	SET 'GL-PLACE-CUR,RM-HOLMES-STUDY
	.DEBUG-LINE 20,307,1
?L14:	PRINTI "I presume, sir, that you have come about the Jewels."""
	CRLF
	CRLF
	PRINTI "The visitor half rises from his chair in protest and sputters, ""But...but, how...?"""
	CRLF
	CRLF
	PRINTI "Holmes calms him with a glance. ""Come, sir. What else could it be? The Tower is suddenly closed, and within hours I receive a call from the highest official of Her Majesty's government. A simple deduction. Now then, tell me about the theft."""
	CRLF
	CRLF
	PRINTI "The visitor settles back into his chair and says, ""We know very little. Only that the Crown Jewels were stolen from the Tower sometime Thursday night. The theft was discovered Friday morning, and we immediately closed and searched the Tower. All we found was this verse which was left behind in the empty jewel case."""
	CRLF
	CRLF
	PRINTI "The visitor removes a folded piece of paper from his pocket and gives it to Holmes, who glances at it and passes it on to you."
	CRLF
	.DEBUG-LINE 20,326,1
	ICALL2 RT-THIS-IS-IT,TH-WESTMINSTER-CLUE
	.DEBUG-LINE 20,327,1
	ICALL2 RT-THIS-IS-IT,CH-PRIME-MINISTER
	RTRUE
	.DEBUG-LINE 20,329,1
?L8:	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-HUDSON,STACK
	.DEBUG-LINE 20,330,1
	ADD NUM,1 >RM-HOLMES-STUDY-AUX1
	.DEBUG-LINE 20,331,1
	ZERO? NUM \TRUE
	.DEBUG-LINE 20,332,1
	CRLF
	.DEBUG-LINE 20,334,1
	PRINTR "You hear Holmes call you to come back into his study..."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PM-LEAVE"
	.FUNCT RT-I-PM-LEAVE
	.DEBUG-LINE 20,337,1
	FCLEAR LG-HOLMES-BEDROOM-DOOR,FL-LOCKED
	.DEBUG-LINE 20,338,1
	FSET LG-HOLMES-BEDROOM-DOOR,FL-OPENED
	.DEBUG-LINE 20,339,1
	REMOVE CH-PRIME-MINISTER
	.DEBUG-LINE 20,340,1
	MOVE CH-HOLMES,RM-221B-BAKER-ST
	.DEBUG-LINE 20,341,1
	LOC CH-PLAYER >STACK
	EQUAL? STACK,RM-HOLMES-STUDY \?L1
	.DEBUG-LINE 20,342,1
	CRLF
	PRINTI "The visitor looks at his pocket watch and stands up. ""Thank you, gentlemen. I must go now. Remember, this calamity can only be hidden from the public until Monday morning at nine o'clock. If the Regalia is not at Buckingham Palace in time for the Coronation Day festivities, then all is lost."""
	CRLF
	CRLF
	PRINTI "The gentleman leaves, and Holmes unlocks the door to the bedroom, goes in, and reappears moments later wearing his Inverness cape and deerstalker hat."
	CRLF
	CRLF
	PRINTR """Come when you're ready, Watson. I'll wait for you outside."""
	.DEBUG-LINE 20,354,1
?L1:	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \?L3
	.DEBUG-LINE 20,355,1
	CRLF
	PRINTR "You see Holmes and the visitor emerge from the house. They confer briefly, shake hands, and then the Minister walks off into the fog."
	.DEBUG-LINE 20,359,1
?L3:	CRLF
	.DEBUG-LINE 20,363,1
	PRINTR "Holmes and the visitor brush past you as they leave the house. Holmes says to you, ""Come when you're ready, Watson. I'll wait for you outside."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PM-QUITS"
	.FUNCT RT-I-PM-QUITS
	.DEBUG-LINE 20,366,1
	CRLF
	.DEBUG-LINE 20,367,1
	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \?L1
	.DEBUG-LINE 20,368,1
	PRINTI "You see "
	ICALL2 RT-THEO-PRINT,LG-BAKER-ST-DOOR
	PRINTI " open, and a dejected-looking man comes out. He slowly walks away into the fog."
	CRLF
	CRLF
	JUMP ?L4
	.DEBUG-LINE 20,371,1
?L1:	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY,RM-VESTIBULE \?L3
	.DEBUG-LINE 20,372,1
	PRINTI "From downstairs you hear the sound of a door closing. You go down and open "
	ICALL2 RT-THEO-PRINT,LG-BAKER-ST-DOOR
	PRINTI " in time to see a dejected-looking man disappearing into the fog."
	CRLF
	CRLF
	JUMP ?L4
	.DEBUG-LINE 20,376,1
?L3:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \?L4
	.DEBUG-LINE 20,377,1
	PRINTI "Suddenly "
	ICALL2 RT-THEO-PRINT,LG-PARLOUR-DOOR
	PRINTI " opens and a dejected-looking man appears. ""Thank you for trying, Mrs Hudson, but without Sherlock Holmes, there is no hope."" He opens "
	ICALL2 RT-THEO-PRINT,LG-BAKER-ST-DOOR
	PRINTI " and disappears into the fog."
	CRLF
	CRLF
	.DEBUG-LINE 20,381,1
?L4:	PRINTI "Moments later you see newsboys running through the streets shouting, ""Crown Jewels stolen! Prime Minister resigns in disgrace!"""
	CRLF
	CRLF
	.DEBUG-LINE 20,384,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-GET-PIGEON","OBJ","WHO"
	.FUNCT RT-GET-PIGEON,OBJ,WHO
	.DEBUG-LINE 20,406,1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-TIRED \?L1
	.DEBUG-LINE 20,407,1
	PRINTI """He's too young to fly too often."
	.DEBUG-LINE 20,408,1
	SET 'OBJ,CH-TRAINED-PIGEON-AUX3
	.DEBUG-LINE 20,409,1
	IN? OBJ,CH-SHERMAN \?L3
	.DEBUG-LINE 20,410,1
	PRINTI " He did come back with "
	ICALL2 RT-A-PRINT,OBJ
	PRINTI ", however,"" he says, giving it to you."
	CRLF
	.DEBUG-LINE 20,412,1
	MOVE OBJ,CH-PLAYER
	.DEBUG-LINE 20,413,1
	ICALL2 RT-THIS-IS-IT,OBJ
	.DEBUG-LINE 20,414,1
	FSET OBJ,FL-SEEN
	.DEBUG-LINE 20,415,1
	FSET OBJ,FL-TOUCHED
	.DEBUG-LINE 20,416,1
	FCLEAR OBJ,FL-NODESC
	.DEBUG-LINE 20,417,1
	GETP OBJ,P?VALUE >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 20,418,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,419,1
	EQUAL? WHO,CH-HOLMES \?L7
	.DEBUG-LINE 20,420,1
	CRLF
	PRINT K-BRAVO-MSG
	CRLF
	.DEBUG-LINE 20,421,1
?L7:	GETP OBJ,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 20,422,1
	PUTP OBJ,P?VALUE,0
	RTRUE
	.DEBUG-LINE 20,424,1
?L3:	PRINTR " Come back next week."""
	.DEBUG-LINE 20,425,1
?L1:	IN? CH-TRAINED-PIGEON,CH-SHERMAN \?L12
	.DEBUG-LINE 20,426,1
	PRINTI "Sherman hands you the bird. ""Take good care of him, now. I've grown fond of him."""
	CRLF
	.DEBUG-LINE 20,428,1
	MOVE CH-TRAINED-PIGEON,CH-PLAYER
	.DEBUG-LINE 20,429,1
	FSET CH-TRAINED-PIGEON,FL-SEEN
	.DEBUG-LINE 20,430,1
	FSET CH-TRAINED-PIGEON,FL-TOUCHED
	.DEBUG-LINE 20,431,1
	FCLEAR CH-TRAINED-PIGEON,FL-NODESC
	.DEBUG-LINE 20,432,1
	GETP CH-TRAINED-PIGEON,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 20,433,1
	PUTP CH-TRAINED-PIGEON,P?VALUE,0
	RTRUE
	.DEBUG-LINE 20,435,1
?L12:	PRINTR """I've already given him to you."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PIGEON-INTEREST","ATT-BIT"
	.FUNCT RT-PIGEON-INTEREST,ATT-BIT
	.DEBUG-LINE 20,438,1
	EQUAL? ATT-BIT,K-PIGEON-GET-RUBY \?L1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-SHOWN-RUBY /?L1
	.DEBUG-LINE 20,440,1
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	.DEBUG-LINE 20,443,1
	PRINTR " doesn't seem to see the object to which you are referring."
	.DEBUG-LINE 20,444,1
?L1:	BOR CH-TRAINED-PIGEON-AUX1,ATT-BIT >CH-TRAINED-PIGEON-AUX1
	.DEBUG-LINE 20,445,1
	ICALL2 RT-AC-CH-TRAINED-PIGEON,K-M-DESCFCN
	.DEBUG-LINE 20,446,1
	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-LOSE-INTEREST
	.DEBUG-LINE 20,447,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,3,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PIGEON-LOSE-INTEREST,STACK
	.DEBUG-LINE 20,448,1
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-SHOWN-RUBY \FALSE
	BTST CH-TRAINED-PIGEON-AUX1,K-PIGEON-GET-RUBY \FALSE
	.DEBUG-LINE 20,450,1
	CALL2 RT-ALARM-SET?,RT-I-PIGEON-IMPATIENT >STACK
	ZERO? STACK /?L6
	.DEBUG-LINE 20,451,1
	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-IMPATIENT
	.DEBUG-LINE 20,452,1
?L6:	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-PIGEON-IMPATIENT,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-KILL-PIGEON"
	.FUNCT RT-KILL-PIGEON
	.DEBUG-LINE 20,455,1
	FCLEAR CH-TRAINED-PIGEON,FL-ALIVE
	.DEBUG-LINE 20,456,1
	SET 'CH-TRAINED-PIGEON-AUX2,0
	.DEBUG-LINE 20,457,1
	LOC CH-TRAINED-PIGEON >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 20,458,1
	LOC CH-TRAINED-PIGEON >STACK
	MOVE TH-DEAD-PIGEON,STACK
	.DEBUG-LINE 20,459,1
	REMOVE CH-TRAINED-PIGEON
	.DEBUG-LINE 20,460,1
?L1:	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-LOSE-INTEREST
	.DEBUG-LINE 20,461,1
	ICALL2 RT-ALARM-CLR,RT-I-PIGEON-IMPATIENT
	.DEBUG-LINE 20,462,1
	EQUAL? GL-PLACE-CUR,RM-SHERMANS-HOUSE \?L4
	.DEBUG-LINE 20,463,1
	CALL2 RT-SHERMAN-RAGE,0 >STACK
	RSTACK
	.DEBUG-LINE 20,465,1
?L4:	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,30,0 >STACK
	CALL RT-ALARM-SET-REL,RT-I-SHERMANS-REVENGE,STACK >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PIGEON-OBJ","P-OBJ","WHO"
	.FUNCT RT-PIGEON-OBJ,P-OBJ,WHO
	.DEBUG-LINE 20,468,1
	MOVE P-OBJ,CH-PLAYER
	.DEBUG-LINE 20,469,1
	ICALL2 RT-THIS-IS-IT,P-OBJ
	.DEBUG-LINE 20,470,1
	FSET P-OBJ,FL-SEEN
	.DEBUG-LINE 20,471,1
	FSET P-OBJ,FL-TOUCHED
	.DEBUG-LINE 20,472,1
	FCLEAR P-OBJ,FL-NODESC
	.DEBUG-LINE 20,473,1
	GETP P-OBJ,P?VALUE >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 20,474,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,475,1
	EQUAL? WHO,CH-HOLMES \?L3
	.DEBUG-LINE 20,476,1
	CRLF
	PRINT K-BRAVO-MSG
	CRLF
	.DEBUG-LINE 20,477,1
?L3:	GETP P-OBJ,P?VALUE >STACK
	ICALL2 RT-UPDATE-SCORE,STACK
	.DEBUG-LINE 20,478,1
	PUTP P-OBJ,P?VALUE,0
	.DEBUG-LINE 20,479,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SHERMAN-RAGE","WALK"
	.FUNCT RT-SHERMAN-RAGE,WALK
	.DEBUG-LINE 20,482,1
	CRLF
	.DEBUG-LINE 20,483,1
	ZERO? WALK /?L1
	.DEBUG-LINE 20,484,1
	PRINTI "As you walk into the shop, "
	.DEBUG-LINE 20,485,1
?L1:	PRINTI "Sherman sees you and flies into a rage. ""Animal hater!"" he cries. ""You killed my bird! How could you do such a thing?"""
	CRLF
	CRLF
	PRINTI "With a strength you didn't know he possessed, Sherman wrestles you into one of the larger cages that line the walls of his shop."
	CRLF
	CRLF
	PRINTI "Over the next few days, no customers buy you. But then on Monday morning Inspector Lestrade comes in looking for a pet for his wife. ""Did you you hear about the Crown Jewels?"" he asks. ""I'm looking into it personally and I don't mind telling you I've a few theories of my own. By the way, isn't it a little cramped in there?"""
	CRLF
	CRLF
	PRINTI "Lestrade leaves and you decide that with him handling the case, you'd just as soon stay in the cage."
	CRLF
	CRLF
	.DEBUG-LINE 20,501,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PIGEON-LOSE-INTEREST"
	.FUNCT RT-I-PIGEON-LOSE-INTEREST
	.DEBUG-LINE 20,504,1
	SET 'CH-TRAINED-PIGEON-AUX1,0
	.DEBUG-LINE 20,505,1
	CALL2 RT-VISIBLE?,CH-TRAINED-PIGEON >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 20,506,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTR " seems to lose interest."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PIGEON-IMPATIENT"
	.FUNCT RT-I-PIGEON-IMPATIENT
	.DEBUG-LINE 20,509,1
	CALL2 RT-VISIBLE?,CH-TRAINED-PIGEON >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 20,510,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTR " looks at you as if waiting for you to let him go."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-PIGEON-CIRCLE","CIRCLE","L"
	.FUNCT RT-I-PIGEON-CIRCLE,CIRCLE,L
	.DEBUG-LINE 20,515,1
	SET 'CIRCLE,CH-TRAINED-PIGEON-AUX2
	.DEBUG-LINE 20,516,1
	LOC CH-TRAINED-PIGEON >L
	.DEBUG-LINE 20,517,1
	EQUAL? GL-WINNER,CH-PLAYER \?L4
	EQUAL? GL-PRSA,V?WALK /?L3
?L4:	EQUAL? CIRCLE,3 \?L1
	.DEBUG-LINE 20,520,1
?L3:	MOVE CH-TRAINED-PIGEON,CH-SHERMAN
	.DEBUG-LINE 20,521,1
	SET 'CH-TRAINED-PIGEON-AUX1,K-PIGEON-TIRED
	.DEBUG-LINE 20,522,1
	SET 'CH-TRAINED-PIGEON-AUX2,0
	.DEBUG-LINE 20,523,1
	MOVE CH-TRAINED-PIGEON-AUX3,CH-SHERMAN
	.DEBUG-LINE 20,524,1
	EQUAL? L,GL-PLACE-CUR \FALSE
	EQUAL? GL-WINNER,CH-PLAYER \?L7
	EQUAL? GL-PRSA,V?WALK /FALSE
	.DEBUG-LINE 20,527,1
?L7:	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTR " circles above you for the last time, and flies out of sight."
	.DEBUG-LINE 20,529,1
?L1:	EQUAL? CIRCLE,1,2 \FALSE
	.DEBUG-LINE 20,530,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-PIGEON-CIRCLE,STACK
	.DEBUG-LINE 20,531,1
	ADD CIRCLE,1 >CH-TRAINED-PIGEON-AUX2
	.DEBUG-LINE 20,532,1
	EQUAL? L,GL-PLACE-CUR \FALSE
	.DEBUG-LINE 20,533,1
	CRLF
	ICALL2 RT-CTHEO-PRINT,CH-TRAINED-PIGEON
	PRINTR " circles above you."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-SHERMANS-REVENGE"
	.FUNCT RT-I-SHERMANS-REVENGE
	.DEBUG-LINE 20,536,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L1
	.DEBUG-LINE 20,537,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SHERMANS-REVENGE,STACK
	.DEBUG-LINE 20,538,1
	RFALSE
	.DEBUG-LINE 20,540,1
?L1:	CRLF
	PRINTI "Suddenly, you see Sherman the animal trainer running towards you. He is accompanied by a constable. Sherman is beside himself with rage. ""There they are, constable. They killed my bird. Arrest them."" The constable takes both you and Sherlock into custody, and although everything is eventually straightened out, it takes far too long for you to have enough time left to solve the mystery."
	CRLF
	CRLF
	.DEBUG-LINE 20,547,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-IMPOLITE-MSG","STR1","STR2"
	.FUNCT RT-IMPOLITE-MSG,STR1,STR2
	.DEBUG-LINE 20,550,1
	PRINTI "It isn't polite to "
	PRINT STR1
	PRINTI " without "
	PRINT STR2
	.DEBUG-LINE 20,551,1
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-BIGBEN","HRS","MIN","SEC","YRS","MON","DAY","RET"
	.FUNCT RT-I-BIGBEN,HRS,MIN,SEC,YRS,MON,DAY,RET
	SET 'RET,0
	.DEBUG-LINE 20,564,1
	FSET? CH-PLAYER,FL-ASLEEP /FALSE
	.DEBUG-LINE 20,566,1
	ZERO? GL-WAIT-BELL /?L4
	EQUAL? GL-PRSA,V?WAIT-FOR,V?WAIT \?L6
	.DEBUG-LINE 20,568,1
	SET 'RET,1
	JUMP ?L13
	.DEBUG-LINE 20,569,1
?L4:	EQUAL? GL-PRSA,V?WAIT-FOR,V?WAIT \?L6
	EQUAL? GL-PLACE-CUR,RM-CLOCK-TOWER /?L6
	.DEBUG-LINE 20,571,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,1,0,0
	.DEBUG-LINE 20,572,1
	ICALL1 RT-CLOCK-INC
	.DEBUG-LINE 20,573,1
	GETB GL-TEMP-TIME,K-DAY >STACK
	GETB GL-TEMP-TIME,K-SEC >STACK
	GETB GL-TEMP-TIME,K-MIN >STACK
	GETB GL-TEMP-TIME,K-HRS >STACK
	XCALL RT-CLOCK-CMP,STACK,STACK,STACK,STACK >STACK
	EQUAL? STACK,1 \?L7
	.DEBUG-LINE 20,577,1
	ZERO? GL-WAIT-BELL \?L9
	.DEBUG-LINE 20,578,1
	CRLF
	PRINTI "While you wait, you hear Big Ben strike each hour."
	CRLF
	.DEBUG-LINE 20,579,1
?L9:	SET 'RET,1
	.DEBUG-LINE 20,580,1
?L7:	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,-1,0,0
	.DEBUG-LINE 20,581,1
	ICALL1 RT-CLOCK-INC
	.DEBUG-LINE 20,582,1
	SET 'GL-WAIT-BELL,1
	JUMP ?L13
	.DEBUG-LINE 20,584,1
?L6:	SET 'GL-WAIT-BELL,0
	.DEBUG-LINE 20,585,1
?L13:	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,1,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-BIGBEN,STACK
	.DEBUG-LINE 20,586,1
	ZERO? RET \FALSE
	.DEBUG-LINE 20,588,1
	GETB GL-TIME,K-HRS >HRS
	.DEBUG-LINE 20,589,1
	EQUAL? GL-PLACE-CUR,RM-CLOCK-TOWER /?L17
	.DEBUG-LINE 20,590,1
	CRLF
	PRINTI "In the distance, you hear Big Ben strike the hour."
	CRLF
	.DEBUG-LINE 20,591,1
	ZERO? SOUND-QUEUED? \FALSE
	.DEBUG-LINE 20,592,1
	GRTR? HRS,12 \?L21
	.DEBUG-LINE 20,593,1
	SUB HRS,12 >TH-BELL-AUX1
	JUMP ?L23
	.DEBUG-LINE 20,595,1
?L21:	SET 'TH-BELL-AUX1,HRS
	.DEBUG-LINE 20,596,1
?L23:	XCALL SOUNDS,S-FARBEN,S-START,3,TH-BELL-AUX1 >STACK
	RSTACK
	.DEBUG-LINE 20,598,1
?L17:	GRTR? HRS,12 \?L26
	.DEBUG-LINE 20,599,1
	SUB HRS,12 >TH-BELL-AUX1
	JUMP ?L28
	.DEBUG-LINE 20,601,1
?L26:	SET 'TH-BELL-AUX1,HRS
	.DEBUG-LINE 20,602,1
?L28:	CALL1 RT-I-SWING-BELL >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-SWING-BELL","OBJ","NUM","POS","WHO"
	.FUNCT RT-I-SWING-BELL,OBJ,NUM,POS,WHO
	.DEBUG-LINE 20,607,1
	SET 'NUM,TH-BELL-AUX1
	.DEBUG-LINE 20,608,1
	SET 'POS,TH-BELL-AUX2
	.DEBUG-LINE 20,609,1
	EQUAL? GL-PLACE-CUR,RM-CLOCK-TOWER /?L1
	.DEBUG-LINE 20,610,1
	ICALL1 RT-RELIEF
	.DEBUG-LINE 20,611,1
	SET 'HEARD-SWING?,0
	.DEBUG-LINE 20,612,1
	SET 'TH-BELL-AUX1,0
	.DEBUG-LINE 20,613,1
	SET 'TH-BELL-AUX2,K-BELL-AWAY
	.DEBUG-LINE 20,614,1
	ICALL1 RT-ZERO-SECONDS
	.DEBUG-LINE 20,615,1
	RFALSE
	.DEBUG-LINE 20,616,1
?L1:	GRTR? NUM,0 \?L4
	.DEBUG-LINE 20,617,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,0,0,2
	.DEBUG-LINE 20,618,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,0,2 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-SWING-BELL,STACK
	.DEBUG-LINE 20,619,1
?L4:	ZERO? HEARD-SWING? \?L7
	.DEBUG-LINE 20,620,1
	ICALL SOUNDS,S-CLOCK,S-INIT
	.DEBUG-LINE 20,621,1
?L7:	CRLF
	PRINTI "The bell swings "
	.DEBUG-LINE 20,622,1
	EQUAL? POS,K-BELL-AWAY \?L10
	.DEBUG-LINE 20,623,1
	SET 'TH-BELL-AUX2,K-BELL-TOWARDS
	.DEBUG-LINE 20,624,1
	PRINTI "towards you, "
	.DEBUG-LINE 20,625,1
	FSET? TH-COTTON-BALLS,FL-WORN \?L12
	.DEBUG-LINE 20,626,1
	PRINTI "ringing loudly, but the cotton protects your ears"
	.DEBUG-LINE 20,628,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,629,1
	ZERO? WHO /?L16
	ZERO? HEARD-SWING? \?L16
	.DEBUG-LINE 20,630,1
	PRINTI ". "
	ICALL2 RT-CTHEO-PRINT,WHO
	PRINTI " claps his hands to his ears in an attempt to protect them"
	.DEBUG-LINE 20,632,1
	FIRST? WHO >STACK \?L16
	.DEBUG-LINE 20,633,1
	ICALL RT-MOVE-ALL,WHO,RM-CLOCK-TOWER
	.DEBUG-LINE 20,634,1
	PRINTI ", dropping everything he was carrying in the process"
	.DEBUG-LINE 20,636,1
?L16:	PRINTI ". The clapper swings up within reach."
	CRLF
	.DEBUG-LINE 20,637,1
	ICALL SOUNDS,S-CLOCK,S-START,6
	.DEBUG-LINE 20,638,1
	SET 'HEARD-SWING?,1
	JUMP ?L20
	.DEBUG-LINE 20,640,1
?L12:	PRINTI "ringing unbearably loud. BONG!"
	.DEBUG-LINE 20,641,1
	ICALL2 SOUNDS,S-CLOCK
	.DEBUG-LINE 20,642,1
	ZERO? HEARD-SWING? \?L21
	FSET? TH-HANDS,FL-LOCKED /?L21
	.DEBUG-LINE 20,644,1
	SET 'HEARD-SWING?,1
	.DEBUG-LINE 20,645,1
	CALL1 RT-WHO-SAYS? >WHO
	.DEBUG-LINE 20,646,1
	FSET TH-HANDS,FL-LOCKED
	.DEBUG-LINE 20,647,1
	ICALL RT-MOVE-ALL-BUT-WORN,CH-PLAYER,RM-CLOCK-TOWER
	.DEBUG-LINE 20,648,1
	PRINTI " You "
	.DEBUG-LINE 20,649,1
	ZERO? WHO /?L23
	.DEBUG-LINE 20,650,1
	ICALL RT-MOVE-ALL,WHO,RM-CLOCK-TOWER
	.DEBUG-LINE 20,651,1
	PRINTI "and "
	ICALL2 DPRINT,WHO
	PRINTI " "
	.DEBUG-LINE 20,652,1
?L23:	PRINTI "clap your hands to your ears in an attempt to protect them, dropping everything you are carrying in the process."
	.DEBUG-LINE 20,655,1
?L21:	CRLF
	.DEBUG-LINE 20,656,1
?L20:	SUB NUM,1 >TH-BELL-AUX1
	RETURN TH-BELL-AUX1
	.DEBUG-LINE 20,658,1
?L10:	SET 'TH-BELL-AUX2,K-BELL-AWAY
	.DEBUG-LINE 20,659,1
	PRINTI "away from you"
	.DEBUG-LINE 20,660,1
	ZERO? NUM \?L28
	.DEBUG-LINE 20,661,1
	PRINTI ", finishing the ringing of the hour."
	CRLF
	.DEBUG-LINE 20,662,1
	ICALL1 RT-RELIEF
	.DEBUG-LINE 20,663,1
	CALL1 RT-ZERO-SECONDS >STACK
	RSTACK
	.DEBUG-LINE 20,665,1
?L28:	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-RELIEF"
	.FUNCT RT-RELIEF
	.DEBUG-LINE 20,668,1
	SET 'HEARD-SWING?,0
	.DEBUG-LINE 20,669,1
	FSET? TH-HANDS,FL-LOCKED \FALSE
	.DEBUG-LINE 20,670,1
	FCLEAR TH-HANDS,FL-LOCKED
	.DEBUG-LINE 20,671,1
	PRINTR "You breath a sigh of relief as you take your hands away from your ears."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ZERO-SECONDS","SEC"
	.FUNCT RT-ZERO-SECONDS,SEC
	.DEBUG-LINE 20,675,1
	GETB GL-TIME,K-SEC >SEC
	.DEBUG-LINE 20,676,1
	ZERO? SEC /FALSE
	.DEBUG-LINE 20,677,1
	SUB 60,SEC >STACK
	IXCALL RT-DO-CLOCK-SET,GL-TIME-UPDT-INC,0,0,STACK
	.DEBUG-LINE 20,678,1
	ICALL1 RT-CLOCK-INC
	.DEBUG-LINE 20,679,1
	CALL RT-COPY-TIME,GL-TIME,GL-TEMP-TIME >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-EXHALE"
	.FUNCT RT-I-EXHALE
	.DEBUG-LINE 20,682,1
	FSET? TH-BREATH,FL-LOCKED \FALSE
	.DEBUG-LINE 20,683,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,1,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-INHALE,STACK
	.DEBUG-LINE 20,684,1
	CRLF
	PRINTR "You can't hold your breath much longer..."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-INHALE"
	.FUNCT RT-I-INHALE
	.DEBUG-LINE 20,687,1
	FSET? TH-BREATH,FL-LOCKED \FALSE
	.DEBUG-LINE 20,688,1
	CRLF
	PRINTI "Your lungs scream for air. You take a deep breath."
	CRLF
	.DEBUG-LINE 20,689,1
	FCLEAR TH-BREATH,FL-LOCKED
	.DEBUG-LINE 20,690,1
	SET 'RUN-SMELL-ETHERIUM?,1
	.DEBUG-LINE 20,691,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-TAKE-WATSONS-STUFF"
	.FUNCT RT-I-TAKE-WATSONS-STUFF
	.DEBUG-LINE 20,694,1
	FSET? CH-AKBAR,FL-ASLEEP /FALSE
	.DEBUG-LINE 20,695,1
	CRLF
	PRINTI "Akbar"
	.DEBUG-LINE 20,696,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L3
	.DEBUG-LINE 20,697,1
	PRINTI " apologizes to you,"
	.DEBUG-LINE 20,698,1
?L3:	PRINTI " removes everything from your hands, and then hits you over the head. The last thing you see before losing consciousness is the look of defeat on Holmes's face."
	CRLF
	CRLF
	PRINTI "You awake sometime later to find yourself bound hand and foot. Moriarty is standing over you with a newspaper in his hand."
	CRLF
	CRLF
	PRINT K-FOUGHT-WELL-MSG
	CRLF
	CRLF
	PRINTI "Moriarty takes the Crown Jewels and departs, leaving you to ponder your defeat and the inevitable demise of the British Empire."
	CRLF
	CRLF
	.DEBUG-LINE 20,710,1
	ICALL1 RT-QSR
	.DEBUG-LINE 20,711,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-OUT-OF-TIME"
	.FUNCT RT-I-OUT-OF-TIME
	.DEBUG-LINE 20,714,1
	CRLF
	.DEBUG-LINE 20,715,1
	FSET? GL-PLACE-CUR,FL-INDOORS \?L1
	.DEBUG-LINE 20,716,1
	PRINTI "Outside you hear"
	JUMP ?L3
	.DEBUG-LINE 20,718,1
?L1:	PRINTI "You see"
	.DEBUG-LINE 20,719,1
?L3:	PRINTI " the paper boy run through the streets shouting out, ""Crown Jewels stolen... the end is near."""
	CRLF
	CRLF
	.DEBUG-LINE 20,721,1
	EQUAL? GL-PLACE-CUR,RM-LAIR \?L4
	.DEBUG-LINE 20,722,1
	ICALL2 DPRINT,CH-MORIARTY
	.DEBUG-LINE 20,723,1
	FSET? CH-MORIARTY,FL-ASLEEP \?L6
	.DEBUG-LINE 20,724,1
	FCLEAR CH-MORIARTY,FL-ASLEEP
	.DEBUG-LINE 20,725,1
	PRINTI " awakens from his stupor and"
	.DEBUG-LINE 20,726,1
?L6:	PRINTI " says, "
	PRINT K-FOUGHT-WELL-MSG
	CRLF
	CRLF
	.DEBUG-LINE 20,727,1
?L4:	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ETHERIUM-EFFECT","ASLEEP?","OBJ","TOP","CNT"
	.FUNCT RT-ETHERIUM-EFFECT,ASLEEP?,OBJ,TOP,CNT
	ASSIGNED? 'OBJ /?L27
	SET 'OBJ,0
?L27:	ASSIGNED? 'TOP /?L28
	SET 'TOP,1
?L28:	SET 'CNT,0
	.DEBUG-LINE 20,730,1
	ZERO? OBJ \?L6
	.DEBUG-LINE 20,731,1
	SET 'OBJ,GL-PLACE-CUR
	.DEBUG-LINE 20,733,1
	ZERO? OBJ /?L5
	.DEBUG-LINE 20,735,1
?L6:	FSET? OBJ,FL-ALIVE \?L8
	EQUAL? OBJ,CH-PLAYER \?L9
	FSET? TH-BREATH,FL-LOCKED /?L8
	.DEBUG-LINE 20,738,1
?L9:	ZERO? ASLEEP? /?L10
	.DEBUG-LINE 20,739,1
	EQUAL? OBJ,CH-HOLMES \?L14
	FSET? TH-BREATH,FL-LOCKED /?L20
	.DEBUG-LINE 20,741,1
?L14:	FSET OBJ,FL-ASLEEP
	.DEBUG-LINE 20,742,1
	INC 'CNT
	.DEBUG-LINE 20,743,1
	EQUAL? GL-PUPPY,OBJ \?L20
	.DEBUG-LINE 20,744,1
	SET 'GL-FORMER-PUPPY,OBJ
	.DEBUG-LINE 20,745,1
	SET 'GL-PUPPY,0
	JUMP ?L20
	.DEBUG-LINE 20,751,1
?L10:	FCLEAR OBJ,FL-ASLEEP
	.DEBUG-LINE 20,752,1
	INC 'CNT
	JUMP ?L20
	.DEBUG-LINE 20,753,1
?L8:	FIRST? OBJ >STACK \?L20
	.DEBUG-LINE 20,754,1
	FIRST? OBJ >STACK /?L21
?L21:	CALL RT-ETHERIUM-EFFECT,ASLEEP?,STACK,0 >STACK
	ADD CNT,STACK >CNT
	.DEBUG-LINE 20,756,1
?L20:	ZERO? TOP \?L5
	.DEBUG-LINE 20,757,1
	NEXT? OBJ >OBJ /?L6
	.DEBUG-LINE 20,760,1
?L5:	RETURN CNT
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-WAKE-UP","OBJ"
	.FUNCT RT-I-WAKE-UP,OBJ
	.DEBUG-LINE 20,765,1
	LOC TH-ETHERIUM-GAS >STACK
	ICALL RT-ETHERIUM-EFFECT,0,STACK
	.DEBUG-LINE 20,766,1
	REMOVE TH-ETHERIUM-GAS
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-SMELL-ETHERIUM?"
	.FUNCT RT-SMELL-ETHERIUM?
	.DEBUG-LINE 20,770,1
	LOC TH-ETHERIUM-GAS >STACK
	EQUAL? GL-PLACE-CUR,STACK \FALSE
	.DEBUG-LINE 20,771,1
	FSET? TH-BREATH,FL-LOCKED /?L3
	.DEBUG-LINE 20,772,1
	REMOVE TH-ETHERIUM-GAS
	.DEBUG-LINE 20,773,1
	CRLF
	PRINTI "The etherium knocks you out."
	CRLF
	CRLF
	.DEBUG-LINE 20,774,1
	FSET CH-PLAYER,FL-ASLEEP
	.DEBUG-LINE 20,775,1
	EQUAL? GL-PLACE-CUR,RM-LAIR \?L5
	.DEBUG-LINE 20,776,1
	ICALL2 RT-ALARM-CLR,RT-I-WAKE-UP
	.DEBUG-LINE 20,777,1
	ICALL1 RT-DOES-MORIARTY-WIN
	RTRUE
	.DEBUG-LINE 20,779,1
?L5:	CALL2 RT-ALARM-SET?,RT-I-WAKE-UP >STACK
	ZERO? STACK /?L8
	.DEBUG-LINE 20,780,1
	COPYT GL-TIME-PARM,GL-TIME,K-A-TWDTH
	.DEBUG-LINE 20,781,1
	ICALL2 RT-ALARM-CHK,0
	.DEBUG-LINE 20,782,1
	SET 'GL-CLOCK-WAIT,1
	.DEBUG-LINE 20,783,1
	PRINT K-WAKE-UP-MSG
	CRLF
	JUMP ?L10
	.DEBUG-LINE 20,785,1
?L8:	ICALL RT-CLOCK-JMP,6,0,0
	.DEBUG-LINE 20,786,1
	PRINT K-WAKE-UP-MSG
	CRLF
	.DEBUG-LINE 20,787,1
?L10:	ZERO? GL-FORMER-PUPPY /TRUE
	IN? GL-FORMER-PUPPY,GL-PLACE-CUR \TRUE
	ZERO? GL-PUPPY \TRUE
	.DEBUG-LINE 20,790,1
	FCLEAR GL-FORMER-PUPPY,FL-ASLEEP
	.DEBUG-LINE 20,791,1
	SET 'GL-PUPPY,GL-FORMER-PUPPY
	.DEBUG-LINE 20,792,1
	SET 'GL-FORMER-PUPPY,0
	RTRUE
	.DEBUG-LINE 20,793,1
?L3:	EQUAL? GL-PUPPY,0,CH-HOLMES /TRUE
	CALL RT-ETHERIUM-EFFECT,1,GL-PUPPY >STACK
	ZERO? STACK /TRUE
	.DEBUG-LINE 20,796,1
	ICALL2 RT-CTHEO-PRINT,GL-FORMER-PUPPY
	.DEBUG-LINE 20,797,1
	PRINTR " passes out."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-FIND-FLAME","OBJ","TOP","FST"
	.FUNCT RT-FIND-FLAME,OBJ,TOP,FST
	ASSIGNED? 'OBJ /?L18
	SET 'OBJ,0
?L18:	ASSIGNED? 'TOP /?L19
	SET 'TOP,1
	.DEBUG-LINE 20,801,1
?L19:	ZERO? OBJ \?L6
	.DEBUG-LINE 20,802,1
	SET 'OBJ,GL-PLACE-CUR
	.DEBUG-LINE 20,804,1
	ZERO? OBJ /FALSE
	.DEBUG-LINE 20,806,1
?L6:	FSET? OBJ,FL-BURNABLE \?L8
	FSET? OBJ,FL-LIGHTED /TRUE
	.DEBUG-LINE 20,809,1
?L8:	FIRST? OBJ >FST \?L11
	CALL RT-FIND-FLAME,FST,0 >STACK
	ZERO? STACK \TRUE
	.DEBUG-LINE 20,813,1
?L11:	ZERO? TOP \FALSE
	.DEBUG-LINE 20,814,1
	NEXT? OBJ >OBJ /?L6
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DOES-MORIARTY-WIN"
	.FUNCT RT-DOES-MORIARTY-WIN
	.DEBUG-LINE 20,820,1
	FSET? CH-MORIARTY,FL-LOCKED \?L1
	FSET? CH-AKBAR,FL-LOCKED \?L1
	.DEBUG-LINE 20,822,1
	IXCALL RT-DO-CLOCK-SET,GL-TIME,8,30,0,20
	.DEBUG-LINE 20,823,1
	ICALL2 RT-ALARM-CLR,RT-I-OUT-OF-TIME
	.DEBUG-LINE 20,824,1
	ICALL2 RT-ALARM-CHK,0
	.DEBUG-LINE 20,825,1
	SET 'GL-CLOCK-WAIT,1
	.DEBUG-LINE 20,826,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,9,0,0,20 >STACK
	ICALL RT-ALARM-SET-ABS,RT-I-OUT-OF-TIME,STACK
	.DEBUG-LINE 20,827,1
	PRINTI "You awaken slowly and stumble to your feet. Moriarty and Akbar have already recovered, and they are struggling fiercely to free themselves. It seems as if you were unconscious for quite a while, but it's hard to tell. You probably don't have a lot of time."
	CRLF
	.DEBUG-LINE 20,832,1
	FCLEAR CH-PLAYER,FL-ASLEEP
	.DEBUG-LINE 20,833,1
	FCLEAR CH-HOLMES,FL-ASLEEP
	.DEBUG-LINE 20,834,1
	FCLEAR CH-AKBAR,FL-ASLEEP
	.DEBUG-LINE 20,835,1
	FCLEAR CH-MORIARTY,FL-ASLEEP
	.DEBUG-LINE 20,836,1
	RTRUE
	.DEBUG-LINE 20,838,1
?L1:	PRINTI "Unfortunately, Moriarty and Akbar recovered before you did. You find yourself bound securely to Holmes."
	CRLF
	CRLF
	PRINTI "Moriarty looks at you and says, "
	PRINT K-FOUGHT-WELL-MSG
	CRLF
	CRLF
	.DEBUG-LINE 20,843,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PROCESS-PASSWORD"
	.FUNCT RT-PROCESS-PASSWORD
	.DEBUG-LINE 20,846,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD \?L1
	.DEBUG-LINE 20,847,1
	ICALL2 RT-CTHEO-PRINT,CH-DENKEEPER
	.DEBUG-LINE 20,848,1
	IN? TH-CARNATION,TH-LAPEL \?L3
	FSET? CH-AKBAR,FL-SEEN /?L3
	XCALL RT-CLOCK-CMP,2,0,0,20 >STACK
	EQUAL? STACK,-1,0 \?L3
	.DEBUG-LINE 20,851,1
	FSET CH-AKBAR,FL-SEEN
	.DEBUG-LINE 20,852,1
	MOVE CH-AKBAR,RM-BAR-OF-GOLD
	.DEBUG-LINE 20,853,1
	PRINTI " disappears into a back room and reappears moments later, accompanied by a tall, silent man who has dark skin and wears a white turban."
	CRLF
	CRLF
	PRINTI "The Indian glances at your "
	.DEBUG-LINE 20,857,1
	FSET? TH-WATSONS-HAT,FL-WORN /?L5
	.DEBUG-LINE 20,858,1
	PRINTI "uncovered "
	.DEBUG-LINE 20,859,1
?L5:	PRINTI "head and then intones, ""I am Akbar"
	.DEBUG-LINE 20,860,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L8
	.DEBUG-LINE 20,861,1
	PRINTI ", honourable sir"
	.DEBUG-LINE 20,862,1
?L8:	PRINTR ". What is it that you wish?"""
	.DEBUG-LINE 20,864,1
?L3:	PRINTR " says, ""Not now, mate. Can't you see I'm busy?"""
	.DEBUG-LINE 20,866,1
?L1:	EQUAL? GL-PLACE-CUR,RM-BYWARD-TOWER \?L12
	.DEBUG-LINE 20,867,1
	ICALL2 RT-CTHEO-PRINT,CH-TOWER-GUARD
	PRINTR " pauses and looks at you strangely. Then he says, ""An interesting guess. But wrong."""
	.DEBUG-LINE 20,871,1
	.DEBUG-LINE 20,872,1
?L12:	PRINTR "Thatsa no swordfish. Thatsa duck."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SWORDFISH"
	.FUNCT V-SWORDFISH
	.DEBUG-LINE 20,876,1
	CALL1 RT-PROCESS-PASSWORD >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-ROPE-MSG"
	.FUNCT RT-ROPE-MSG
	.DEBUG-LINE 20,879,1
	PRINTI "As"
	.DEBUG-LINE 20,880,1
	ICALL RT-YOU-MSG,STR?248,STR?247
	.DEBUG-LINE 20,881,1
	PRINTI "for "
	ICALL2 RT-THEO-PRINT,TH-ROPE
	PRINTI ", Akbar"
	.DEBUG-LINE 20,882,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L1
	.DEBUG-LINE 20,883,1
	PRINTI " says, ""Pardon me, honourable sir,"" and"
	.DEBUG-LINE 20,884,1
?L1:	PRINTI " hits you over the head."
	CRLF
	CRLF
	PRINTI "When you regain consciousness, you find that your hands and feet are bound. Outside you hear the paper boy run through the streets shouting out ""Crown Jewels stolen! Prime Minister resigns in disgrace!"""
	CRLF
	.DEBUG-LINE 20,890,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INSCRIPTION-APPEARS-MSG"
	.FUNCT RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,893,1
	PRINTR "After a few moments, the tomb's inscription comes through onto the piece of paper."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PROCESS-TOMB","TOMB-NUMBER"
	.FUNCT RT-PROCESS-TOMB,TOMB-NUMBER
	.DEBUG-LINE 20,897,1
	EQUAL? GL-PRSA,V?READ \?L1
	.DEBUG-LINE 20,898,1
	CALL2 RT-READ-INSCRIPTION,TOMB-NUMBER >STACK
	RSTACK
	.DEBUG-LINE 20,899,1
?L1:	EQUAL? GL-PRSA,V?TRANSLATE \?L3
	.DEBUG-LINE 20,900,1
	PRINTR "Unfortunately, what little Latin you remember from your school days is limited to medical matters."
	.DEBUG-LINE 20,903,1
?L3:	EQUAL? GL-PRSA,V?RUB-WITH \?L4
	.DEBUG-LINE 20,904,1
	PRINTR "Rubbing the paper with the crayon would probably yield better results."
	.DEBUG-LINE 20,906,1
?L4:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L5
	.DEBUG-LINE 20,907,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,908,1
	ICALL RT-WOULD-HAVE-TO-MSG,STR?108,TH-IT
	.DEBUG-LINE 20,909,1
	.DEBUG-LINE 20,910,1
	PRINTR " first."
	.DEBUG-LINE 20,911,1
?L5:	EQUAL? GL-PRSA,V?OPEN \?L6
	.DEBUG-LINE 20,912,1
	PRINTR "Getting just a little bit morbid, aren't we?"
	.DEBUG-LINE 20,913,1
?L6:	EQUAL? GL-PRSA,V?TOUCH \?L7
	.DEBUG-LINE 20,914,1
	EQUAL? TOMB-NUMBER,1,2,3 \?L8
	.DEBUG-LINE 20,915,1
	PRINTR "It feels a little sticky."
	.DEBUG-LINE 20,917,1
?L8:	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 20,918,1
	PRINTI "not feel anything "
	CALL2 RT-PICK-NEXT,GL-BORING-TXT >STACK
	PRINT STACK
	PRINTR "."
	.DEBUG-LINE 20,920,1
?L7:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 20,921,1
	CALL1 RT-SHOOT-DEAD-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-READ-INSCRIPTION","NUM"
	.FUNCT RT-READ-INSCRIPTION,NUM
	.DEBUG-LINE 20,924,1
	PRINTI "The inscription"
	.DEBUG-LINE 20,925,1
	EQUAL? 2,NUM \?L1
	.DEBUG-LINE 20,926,1
	PRINTI " reads, ""ISAACVS NEWTON  Eques Auratus"
	JUMP ?L16
	.DEBUG-LINE 20,927,1
?L1:	EQUAL? 1,NUM \?L3
	.DEBUG-LINE 20,928,1
	PRINTI " reads, ""REGNO CONSORTES & VRNA HIC OBDOR MIMVS ELIZABETHA ET MARIA SORORES IN SPE RESVRRECTIONIS"
	JUMP ?L16
	.DEBUG-LINE 20,930,1
?L3:	EQUAL? 7,NUM \?L4
	.DEBUG-LINE 20,931,1
	PRINTI " is a long one, but in the middle of it you see the name ""GALFRIDVS CHAVCER"
	JUMP ?L16
	.DEBUG-LINE 20,933,1
?L4:	EQUAL? 9,NUM \?L5
	.DEBUG-LINE 20,934,1
	PRINTI "s are written in Latin, but you can make out the names ""Edward V"" and ""Richard, Duke of York"
	JUMP ?L16
	.DEBUG-LINE 20,937,1
?L5:	PRINTI " is written in Latin, but you can make out the name """
	.DEBUG-LINE 20,938,1
	EQUAL? 3,NUM \?L7
	.DEBUG-LINE 20,939,1
	PRINTI "Henry V"
	JUMP ?L16
	.DEBUG-LINE 20,940,1
?L7:	EQUAL? 4,NUM \?L9
	.DEBUG-LINE 20,941,1
	PRINTI "Edward the Confessor"
	JUMP ?L16
	.DEBUG-LINE 20,942,1
?L9:	EQUAL? 5,NUM \?L10
	.DEBUG-LINE 20,943,1
	PRINTI "Alexander Pope"
	JUMP ?L16
	.DEBUG-LINE 20,944,1
?L10:	EQUAL? 6,NUM \?L11
	.DEBUG-LINE 20,945,1
	PRINTI "Charles Dickens"
	JUMP ?L16
	.DEBUG-LINE 20,946,1
?L11:	EQUAL? 8,NUM \?L12
	.DEBUG-LINE 20,947,1
	PRINTI "Anne of Cleves"
	JUMP ?L16
	.DEBUG-LINE 20,948,1
?L12:	EQUAL? 10,NUM \?L13
	.DEBUG-LINE 20,949,1
	PRINTI "Mary, Queen of Scots"
	JUMP ?L16
	.DEBUG-LINE 20,950,1
?L13:	EQUAL? 11,NUM \?L14
	.DEBUG-LINE 20,951,1
	PRINTI "Henry VII"
	JUMP ?L16
	.DEBUG-LINE 20,952,1
?L14:	EQUAL? 12,NUM \?L15
	.DEBUG-LINE 20,953,1
	PRINTI "Pitt"
	JUMP ?L16
	.DEBUG-LINE 20,954,1
?L15:	EQUAL? 13,NUM \?L16
	.DEBUG-LINE 20,955,1
	PRINTI "Francis Vere"
	.DEBUG-LINE 20,956,1
	.DEBUG-LINE 20,957,1
?L16:	PRINTR "."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-READ-PAPER","PAPER-NAME","WRITING","PHEAT"
	.FUNCT RT-READ-PAPER,PAPER-NAME,WRITING,PHEAT
	.DEBUG-LINE 20,960,1
	ZERO? WRITING \?L1
	.DEBUG-LINE 20,961,1
	.DEBUG-LINE 20,962,1
	PRINTR "The paper appears to be blank."
	.DEBUG-LINE 20,964,1
?L1:	GETP PAPER-NAME,P?FLIPPED >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 20,965,1
	ICALL2 RT-READ-INSCRIPTION,WRITING
	.DEBUG-LINE 20,966,1
	RTRUE
	.DEBUG-LINE 20,968,1
?L4:	ZERO? PHEAT \?L7
	.DEBUG-LINE 20,969,1
	PRINTR "This side appears to be blank."
	.DEBUG-LINE 20,970,1
?L7:	EQUAL? 1,PHEAT \?L9
	.DEBUG-LINE 20,971,1
	PRINTR "You see a faint discolouration."
	.DEBUG-LINE 20,972,1
?L9:	EQUAL? 2,PHEAT \TRUE
	.DEBUG-LINE 20,973,1
	EQUAL? 1,WRITING \?L11
	.DEBUG-LINE 20,974,1
	ICALL1 RT-INDENT-PRINT
	PRINTI "Hickory Dickory Dock."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Your enemy is the clock."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "When it strikes nine,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "The victory's mine."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Hickory Dickory Dock."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Here comes a candle to light you to bed."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Here comes a chopper"
	ICALL1 RT-WRAP-PRINT
	PRINTI "to chop off your head."
	CRLF
	.DEBUG-LINE 20,985,1
	FSET PAPER-NAME,FL-LOCKED
	.DEBUG-LINE 20,986,1
	BOR TH-PACKET-OF-PAPER-AUX1,1 >TH-PACKET-OF-PAPER-AUX1
	JUMP ?L14
	.DEBUG-LINE 20,988,1
?L11:	EQUAL? 2,WRITING \?L13
	.DEBUG-LINE 20,989,1
	ICALL1 RT-INDENT-PRINT
	PRINTI "London Bridge is falling down."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "All that's under it will drown."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "With it falls Victoria's reign."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Britannia ne'er to rule again."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "When a number you require,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "And you're banking all thereon."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Subtract the conquest from the fire,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Half a league, half a league."
	ICALL1 RT-WRAP-PRINT
	PRINTI "Half a league on."
	CRLF
	.DEBUG-LINE 20,1001,1
	FSET PAPER-NAME,FL-LOCKED
	.DEBUG-LINE 20,1002,1
	BOR TH-PACKET-OF-PAPER-AUX1,2 >TH-PACKET-OF-PAPER-AUX1
	JUMP ?L14
	.DEBUG-LINE 20,1004,1
?L13:	EQUAL? 3,WRITING \?L14
	.DEBUG-LINE 20,1005,1
	ICALL1 RT-INDENT-PRINT
	PRINT K-TWINKLE-MSG
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Fought at sea, midst masts and spars."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Now above the world so high,"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Looking down with watchful eye."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-TWINKLE-MSG
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "England's hero, prince of tars."
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINT K-ASTERISK-MSG
	CRLF
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Pussycat, pussycat,"
	ICALL1 RT-WRAP-PRINT
	PRINTI "where have you been?"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "I've been to the Tower"
	ICALL1 RT-WRAP-PRINT
	PRINTI "to look at the Queen."
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "Pussycat, pussycat,"
	ICALL1 RT-WRAP-PRINT
	PRINTI "what did you there?"
	CRLF
	ICALL1 RT-INDENT-PRINT
	PRINTI "I left something for you."
	ICALL1 RT-WRAP-PRINT
	PRINTI "Go back, if you dare."
	CRLF
	.DEBUG-LINE 20,1019,1
	FSET PAPER-NAME,FL-LOCKED
	.DEBUG-LINE 20,1020,1
	BOR TH-PACKET-OF-PAPER-AUX1,4 >TH-PACKET-OF-PAPER-AUX1
	.DEBUG-LINE 20,1022,1
?L14:	FSET? TH-PACKET-OF-PAPER,FL-ASLEEP /?L16
	.DEBUG-LINE 20,1023,1
	FSET TH-PACKET-OF-PAPER,FL-ASLEEP
	.DEBUG-LINE 20,1024,1
	ICALL2 RT-UPDATE-SCORE,5
	RTRUE
	.DEBUG-LINE 20,1025,1
?L16:	EQUAL? TH-PACKET-OF-PAPER-AUX1,7 \TRUE
	CALL1 RT-WHO-SAYS? >STACK
	EQUAL? STACK,CH-HOLMES \TRUE
	.DEBUG-LINE 20,1027,1
	SET 'TH-PACKET-OF-PAPER-AUX1,15
	.DEBUG-LINE 20,1028,1
	CRLF
	.DEBUG-LINE 20,1035,1
	PRINTR "Holmes leans forward with an excited expression upon his hawk-like features and says, ""There is only one man in all London clever enough to plan this, Watson - Professor Moriarty. See how boldly he hides clues in public places, knowing all the while that they will remain hidden from the casual eye. Onward, Doctor. Let us solve these riddles and see what the good Professor has in mind for us."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PROCESS-PAPER","PAPER-NAME","WRITING","PHEAT"
	.FUNCT RT-PROCESS-PAPER,PAPER-NAME,WRITING,PHEAT
	.DEBUG-LINE 20,1038,1
	GETP PAPER-NAME,P?INSCRIPTION >WRITING
	.DEBUG-LINE 20,1039,1
	GETP PAPER-NAME,P?HEATED >PHEAT
	.DEBUG-LINE 20,1040,1
	EQUAL? GL-PRSA,V?TAKE \?L1
	.DEBUG-LINE 20,1041,1
	LOC PAPER-NAME >STACK
	EQUAL? STACK,TH-ELIZABETH-TOMB,TH-NEWTON-TOMB,TH-HENRY-V-TOMB \FALSE
	EQUAL? WRITING,1,2,3 \FALSE
	.DEBUG-LINE 20,1043,1
	PRINTI "You pick at the paper for a few seconds, but it seems to be stuck to the inscription. After a few seconds you manage to peel it off."
	CRLF
	.DEBUG-LINE 20,1046,1
	MOVE PAPER-NAME,CH-PLAYER
	.DEBUG-LINE 20,1047,1
	RTRUE
	.DEBUG-LINE 20,1050,1
?L1:	EQUAL? GL-PRSA,V?RAISE \?L8
	EQUAL? GL-PRSO,PAPER-NAME \?L8
	CALL2 RT-VISIBLE?,LG-SHAFT-OF-LIGHT >STACK
	ZERO? STACK \?L10
?L8:	EQUAL? GL-PRSA,V?PUT \?L9
	EQUAL? GL-PRSO,PAPER-NAME \?L9
	EQUAL? GL-PRSI,LG-SHAFT-OF-LIGHT /?L10
?L9:	EQUAL? GL-PRSA,V?TOUCH-TO \?L6
	EQUAL? GL-PRSI,LG-SHAFT-OF-LIGHT /?L10
	EQUAL? GL-PRSI,TH-LAMP \?L6
	FSET? TH-LAMP,FL-LIGHTED \?L6
	.DEBUG-LINE 20,1060,1
?L10:	EQUAL? PHEAT,1 \?L11
	.DEBUG-LINE 20,1061,1
	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 20,1062,1
	PRINTI "a discolouration"
	.DEBUG-LINE 20,1063,1
	GETP PAPER-NAME,P?FLIPPED >STACK
	ZERO? STACK \?L21
	.DEBUG-LINE 20,1064,1
	PRINTI " which appears to be on the back"
	JUMP ?L21
	.DEBUG-LINE 20,1065,1
?L11:	EQUAL? PHEAT,2 \?L16
	.DEBUG-LINE 20,1066,1
	PRINTI "There seems to be some writing"
	.DEBUG-LINE 20,1067,1
	GETP PAPER-NAME,P?FLIPPED >STACK
	ZERO? STACK \?L21
	.DEBUG-LINE 20,1068,1
	PRINTI " on the back"
	JUMP ?L21
	.DEBUG-LINE 20,1069,1
?L16:	EQUAL? WRITING,1,2,3 \?L20
	.DEBUG-LINE 20,1070,1
	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 20,1071,1
	PRINTI "a faint discolouration"
	JUMP ?L21
	.DEBUG-LINE 20,1073,1
?L20:	ICALL RT-CYOU-MSG,STR?145,STR?144
	.DEBUG-LINE 20,1074,1
	PRINTI "a watermark"
	.DEBUG-LINE 20,1075,1
	.DEBUG-LINE 20,1076,1
?L21:	PRINTR "."
	.DEBUG-LINE 20,1077,1
?L6:	EQUAL? GL-PRSA,V?HEAT,V?HOLD-OVER,V?LIGHT-WITH /?L23
	EQUAL? GL-PRSA,V?BURN-WITH,V?TOUCH-TO \?L22
	.DEBUG-LINE 20,1078,1
?L23:	IN? PAPER-NAME,GL-WINNER /?L24
	.DEBUG-LINE 20,1079,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 20,1080,1
	PRINTI "not holding "
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	.DEBUG-LINE 20,1081,1
	PRINTR "."
	.DEBUG-LINE 20,1082,1
?L24:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH,V?TOUCH-TO /?L34
	EQUAL? GL-PRSI,TH-BANK-OF-CANDLES \?L26
	.DEBUG-LINE 20,1084,1
	PRINTI "The paper is heated by the bank of candles"
	.DEBUG-LINE 20,1085,1
	GETP PAPER-NAME,P?HEATED >STACK
	EQUAL? STACK,2 \?L27
	EQUAL? WRITING,1,2,3 \?L29
	.DEBUG-LINE 20,1087,1
	PRINTI ", but nothing more appears"
	JUMP ?L29
	.DEBUG-LINE 20,1088,1
?L27:	EQUAL? WRITING,1,2,3 \?L29
	.DEBUG-LINE 20,1089,1
	PUTP PAPER-NAME,P?HEATED,2
	.DEBUG-LINE 20,1090,1
	PRINTI ". Something seems to be gradually appearing on "
	.DEBUG-LINE 20,1091,1
	GETP PAPER-NAME,P?FLIPPED >STACK
	ZERO? STACK \?L30
	.DEBUG-LINE 20,1092,1
	PRINTI "the back of "
	.DEBUG-LINE 20,1093,1
?L30:	ICALL2 RT-THEO-PRINT,PAPER-NAME
	.DEBUG-LINE 20,1094,1
	.DEBUG-LINE 20,1095,1
?L29:	PRINTR "."
	.DEBUG-LINE 20,1096,1
?L26:	EQUAL? GL-PRSA,V?LIGHT-WITH,V?BURN-WITH,V?TOUCH-TO /?L34
	EQUAL? GL-PRSI,TH-PIPE,TH-TOBACCO,TH-MATCH \?L34
	.DEBUG-LINE 20,1098,1
	EQUAL? GL-PRSI,TH-PIPE,TH-TOBACCO \?L38
	FSET? TH-TOBACCO,FL-LIGHTED /?L37
?L38:	EQUAL? GL-PRSI,TH-MATCH \?L35
	FSET? TH-MATCH,FL-LIGHTED \?L35
	.DEBUG-LINE 20,1102,1
?L37:	PRINTI "The paper is warmed by "
	ICALL1 RT-THEI-PRINT
	PRINTI "."
	CRLF
	.DEBUG-LINE 20,1103,1
	EQUAL? WRITING,1,2,3 \TRUE
	ZERO? PHEAT \TRUE
	.DEBUG-LINE 20,1105,1
	PUTP PAPER-NAME,P?HEATED,1
	RTRUE
	.DEBUG-LINE 20,1107,1
?L35:	ICALL1 RT-CTHEI-PRINT
	.DEBUG-LINE 20,1108,1
	ICALL2 RT-ISNT-ARENT-MSG,GL-PRSI
	.DEBUG-LINE 20,1109,1
	.DEBUG-LINE 20,1110,1
	PRINTR "lit."
	.DEBUG-LINE 20,1111,1
?L34:	FSET? GL-PRSI,FL-BURNABLE \?L45
	FSET? GL-PRSI,FL-LIGHTED /?L44
?L45:	EQUAL? GL-PRSI,TH-PIPE \?L46
	FSET? TH-TOBACCO,FL-LIGHTED /?L44
?L46:	EQUAL? GL-PRSI,PSEUDO-OBJECT \FALSE
	GETP GL-PRSI,P?ACTION >STACK
	EQUAL? STACK,RT-AC-TH-FIREPLACE \FALSE
	.DEBUG-LINE 20,1118,1
?L44:	PRINTI "The paper catches fire quickly."
	.DEBUG-LINE 20,1119,1
	EQUAL? WRITING,1,2,3 \?L47
	FSET? PAPER-NAME,FL-LOCKED /?L47
	.DEBUG-LINE 20,1121,1
	PRINTI " As it burns, you catch a glimpse of writing you could swear hadn't been there before."
	.DEBUG-LINE 20,1123,1
?L47:	CRLF
	CRLF
	ICALL2 RT-CTHEO-PRINT,PAPER-NAME
	PRINTI " vanishes in a poof of smoke."
	CRLF
	.DEBUG-LINE 20,1124,1
	REMOVE PAPER-NAME
	.DEBUG-LINE 20,1125,1
	RTRUE
	.DEBUG-LINE 20,1127,1
?L22:	EQUAL? GL-PRSA,V?READ,V?EXAMINE \?L51
	.DEBUG-LINE 20,1128,1
	IN? PAPER-NAME,TH-PACKET-OF-PAPER \?L52
	.DEBUG-LINE 20,1129,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,1130,1
	.DEBUG-LINE 20,1131,1
	PRINTR "cannot do that while it is in the pacquet of paper."
	.DEBUG-LINE 20,1132,1
?L52:	GET GL-P-OFW,0 >STACK
	EQUAL? STACK,W?BACK \?L55
	.DEBUG-LINE 20,1133,1
	ICALL RT-PERFORM,V?FLIP,GL-PRSO
	.DEBUG-LINE 20,1134,1
	RTRUE
	.DEBUG-LINE 20,1135,1
?L55:	ICALL RT-READ-PAPER,PAPER-NAME,WRITING,PHEAT
	.DEBUG-LINE 20,1136,1
	RTRUE
	.DEBUG-LINE 20,1137,1
?L51:	EQUAL? GL-PRSA,V?FLIP \?L58
	.DEBUG-LINE 20,1138,1
	IN? PAPER-NAME,GL-WINNER /?L59
	.DEBUG-LINE 20,1139,1
	ICALL RT-CYOU-MSG,STR?110,STR?109
	.DEBUG-LINE 20,1140,1
	PRINTI "not holding "
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	.DEBUG-LINE 20,1141,1
	PRINTR "."
	.DEBUG-LINE 20,1142,1
?L59:	ZERO? WRITING \?L61
	.DEBUG-LINE 20,1143,1
	ICALL2 RT-CTHEO-PRINT,PAPER-NAME
	PRINTR " seems to be blank on both sides."
	.DEBUG-LINE 20,1145,1
?L61:	ICALL RT-CYOU-MSG,STR?283,STR?282
	.DEBUG-LINE 20,1146,1
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	PRINTI " over."
	CRLF
	CRLF
	.DEBUG-LINE 20,1147,1
	GETP PAPER-NAME,P?FLIPPED >STACK
	SUB 1,STACK >STACK
	PUTP PAPER-NAME,P?FLIPPED,STACK
	.DEBUG-LINE 20,1148,1
	ICALL RT-READ-PAPER,PAPER-NAME,WRITING,PHEAT
	.DEBUG-LINE 20,1149,1
	RTRUE
	.DEBUG-LINE 20,1150,1
?L58:	EQUAL? GL-PRSA,V?RUB-WITH \?L63
	.DEBUG-LINE 20,1151,1
	EQUAL? GL-PRSO,PAPER-NAME \FALSE
	.DEBUG-LINE 20,1153,1
	EQUAL? GL-PRSI,TH-CRAYON /?L66
	.DEBUG-LINE 20,1154,1
	PRINTI "Rubbing the paper with "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 20,1155,1
	PRINTR " doesn't do anything."
	.DEBUG-LINE 20,1156,1
?L66:	ZERO? WRITING /?L67
	.DEBUG-LINE 20,1157,1
	.DEBUG-LINE 20,1158,1
	PRINTR "You don't really want to do that. You would mess up your inscription."
	.DEBUG-LINE 20,1159,1
?L67:	FIRST? PAPER-NAME >STACK \?L68
	.DEBUG-LINE 20,1160,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,1161,1
	PRINTI "cannot do a rubbing while there is something on "
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	.DEBUG-LINE 20,1163,1
	PRINTR "."
	.DEBUG-LINE 20,1164,1
?L68:	IN? PAPER-NAME,TH-ELIZABETH-TOMB \?L69
	.DEBUG-LINE 20,1165,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1166,1
	PUTP PAPER-NAME,P?INSCRIPTION,1
	.DEBUG-LINE 20,1167,1
	RTRUE
	.DEBUG-LINE 20,1168,1
?L69:	IN? PAPER-NAME,TH-NEWTON-TOMB \?L70
	.DEBUG-LINE 20,1169,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1170,1
	PUTP PAPER-NAME,P?INSCRIPTION,2
	.DEBUG-LINE 20,1171,1
	RTRUE
	.DEBUG-LINE 20,1172,1
?L70:	IN? PAPER-NAME,TH-HENRY-V-TOMB \?L71
	.DEBUG-LINE 20,1173,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1174,1
	PUTP PAPER-NAME,P?INSCRIPTION,3
	.DEBUG-LINE 20,1175,1
	RTRUE
	.DEBUG-LINE 20,1176,1
?L71:	IN? PAPER-NAME,TH-EDWARD-TOMB \?L72
	.DEBUG-LINE 20,1177,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1178,1
	PUTP PAPER-NAME,P?INSCRIPTION,4
	.DEBUG-LINE 20,1179,1
	RTRUE
	.DEBUG-LINE 20,1180,1
?L72:	IN? PAPER-NAME,TH-POPE-TOMB \?L73
	.DEBUG-LINE 20,1181,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1182,1
	PUTP PAPER-NAME,P?INSCRIPTION,5
	.DEBUG-LINE 20,1183,1
	RTRUE
	.DEBUG-LINE 20,1184,1
?L73:	IN? PAPER-NAME,TH-DICKENS-TOMB \?L74
	.DEBUG-LINE 20,1185,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1186,1
	PUTP PAPER-NAME,P?INSCRIPTION,6
	.DEBUG-LINE 20,1187,1
	RTRUE
	.DEBUG-LINE 20,1188,1
?L74:	IN? PAPER-NAME,TH-CHAUCER-TOMB \?L75
	.DEBUG-LINE 20,1189,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1190,1
	PUTP PAPER-NAME,P?INSCRIPTION,7
	.DEBUG-LINE 20,1191,1
	RTRUE
	.DEBUG-LINE 20,1192,1
?L75:	IN? PAPER-NAME,TH-ANNE-OF-CLEVES-TOMB \?L76
	.DEBUG-LINE 20,1193,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1194,1
	PUTP PAPER-NAME,P?INSCRIPTION,8
	.DEBUG-LINE 20,1195,1
	RTRUE
	.DEBUG-LINE 20,1196,1
?L76:	IN? PAPER-NAME,TH-LITTLE-PRINCES-TOMB \?L77
	.DEBUG-LINE 20,1197,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1198,1
	PUTP PAPER-NAME,P?INSCRIPTION,9
	.DEBUG-LINE 20,1199,1
	RTRUE
	.DEBUG-LINE 20,1200,1
?L77:	IN? PAPER-NAME,TH-MARY-QUEEN-OF-SCOTS-TOMB \?L78
	.DEBUG-LINE 20,1201,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1202,1
	PUTP PAPER-NAME,P?INSCRIPTION,10
	.DEBUG-LINE 20,1203,1
	RTRUE
	.DEBUG-LINE 20,1204,1
?L78:	IN? PAPER-NAME,TH-HENRY-VII-TOMB \?L79
	.DEBUG-LINE 20,1205,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1206,1
	PUTP PAPER-NAME,P?INSCRIPTION,11
	.DEBUG-LINE 20,1207,1
	RTRUE
	.DEBUG-LINE 20,1208,1
?L79:	IN? PAPER-NAME,TH-PITT-TOMB \?L80
	.DEBUG-LINE 20,1209,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1210,1
	PUTP PAPER-NAME,P?INSCRIPTION,12
	.DEBUG-LINE 20,1211,1
	RTRUE
	.DEBUG-LINE 20,1212,1
?L80:	IN? PAPER-NAME,TH-VERE-TOMB \?L81
	.DEBUG-LINE 20,1213,1
	ICALL1 RT-INSCRIPTION-APPEARS-MSG
	.DEBUG-LINE 20,1214,1
	PUTP PAPER-NAME,P?INSCRIPTION,13
	.DEBUG-LINE 20,1215,1
	RTRUE
	.DEBUG-LINE 20,1217,1
?L81:	PRINTI "Rubbing "
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	PRINTI " while it is"
	.DEBUG-LINE 20,1218,1
	LOC PAPER-NAME >STACK
	LOC STACK >STACK
	EQUAL? STACK,ROOMS \?L83
	.DEBUG-LINE 20,1219,1
	PRINTI " on "
	.DEBUG-LINE 20,1220,1
	LOC PAPER-NAME >STACK
	FSET? STACK,FL-INDOORS \?L85
	.DEBUG-LINE 20,1221,1
	ICALL1 TELL-THE-FLOOR
	JUMP ?L88
	.DEBUG-LINE 20,1223,1
?L85:	ICALL1 TELL-THE-GROUND
	JUMP ?L88
	.DEBUG-LINE 20,1225,1
?L83:	LOC PAPER-NAME >STACK
	ICALL2 RT-IN-ON-MSG,STACK
	.DEBUG-LINE 20,1226,1
	LOC PAPER-NAME >STACK
	ICALL2 RT-THEO-PRINT,STACK
	.DEBUG-LINE 20,1227,1
?L88:	PRINTI " would"
	.DEBUG-LINE 20,1228,1
	ICALL1 RT-WASTE-OF-TIME-MSG
	.DEBUG-LINE 20,1229,1
	RTRUE
	.DEBUG-LINE 20,1230,1
?L63:	EQUAL? GL-PRSA,V?LOOK-THRU \?L89
	EQUAL? GL-PRSI,TH-MAGNIFYING-GLASS \?L89
	.DEBUG-LINE 20,1232,1
	PRINTI "All"
	.DEBUG-LINE 20,1233,1
	ICALL RT-YOU-MSG,STR?145,STR?144
	.DEBUG-LINE 20,1234,1
	.DEBUG-LINE 20,1235,1
	PRINTR "is a faint watermark."
	.DEBUG-LINE 20,1236,1
?L89:	EQUAL? GL-PRSA,V?TAKE \FALSE
	FIRST? PAPER-NAME >STACK \FALSE
	.DEBUG-LINE 20,1238,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,1239,1
	ICALL2 RT-WOULD-HAVE-TO-MSG,STR?177
	.DEBUG-LINE 20,1240,1
	FIRST? PAPER-NAME >STACK /?L91
?L91:	ICALL2 RT-THEO-PRINT,STACK
	PRINTI " off of "
	ICALL2 RT-THEO-PRINT,PAPER-NAME
	.DEBUG-LINE 20,1242,1
	PRINTR " first."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PAPER-WARMING","PAPER-NAME"
	.FUNCT RT-PAPER-WARMING,PAPER-NAME
	.DEBUG-LINE 20,1246,1
	IN? PAPER-NAME,CH-PLAYER \FALSE
	GETP PAPER-NAME,P?INSCRIPTION >STACK
	EQUAL? STACK,1,2,3 \FALSE
	GETP PAPER-NAME,P?HEATED >STACK
	ZERO? STACK \FALSE
	.DEBUG-LINE 20,1249,1
	PUTP PAPER-NAME,P?HEATED,1
	.DEBUG-LINE 20,1250,1
	RFALSE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-FLASH-WESTMINSTER-LIGHTS"
	.FUNCT RT-I-FLASH-WESTMINSTER-LIGHTS
	.DEBUG-LINE 20,1253,1
	ZERO? PLAYER-IN-ABBEY /FALSE
	.DEBUG-LINE 20,1254,1
	CRLF
	PRINTR "The lights flicker off and on, and you remember that the Abbey closes at six o'clock."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-WESTMINSTER-LIGHTS-ON"
	.FUNCT RT-I-WESTMINSTER-LIGHTS-ON
	.DEBUG-LINE 20,1259,1
	FSET RM-NAVE,FL-LIGHTED
	.DEBUG-LINE 20,1260,1
	FSET RM-SOUTH-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1261,1
	FSET RM-JERICHO-PARLOUR,FL-LIGHTED
	.DEBUG-LINE 20,1262,1
	FSET RM-JERUSALEM-CHAMBER,FL-LIGHTED
	.DEBUG-LINE 20,1263,1
	FSET RM-NORTH-CLOISTER,FL-LIGHTED
	.DEBUG-LINE 20,1264,1
	FSET RM-NORTH-TRANSEPT,FL-LIGHTED
	.DEBUG-LINE 20,1265,1
	FSET RM-SOUTH-TRANSEPT,FL-LIGHTED
	.DEBUG-LINE 20,1266,1
	FSET RM-EVANGELIST-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1267,1
	FSET RM-NORTH-AMBULATORY,FL-LIGHTED
	.DEBUG-LINE 20,1268,1
	FSET RM-SANCTUARY,FL-LIGHTED
	.DEBUG-LINE 20,1269,1
	FSET RM-SOUTH-AMBULATORY,FL-LIGHTED
	.DEBUG-LINE 20,1270,1
	FSET RM-POETS-CORNER,FL-LIGHTED
	.DEBUG-LINE 20,1271,1
	FSET RM-NORTH-CHAPEL-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1272,1
	FSET RM-HENRY-VII-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1273,1
	FSET RM-SOUTH-CHAPEL-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1274,1
	FSET RM-CONFESSOR-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1275,1
	FSET RM-INNOCENTS-CORNER,FL-LIGHTED
	.DEBUG-LINE 20,1276,1
	ZERO? PLAYER-IN-ABBEY /FALSE
	.DEBUG-LINE 20,1277,1
	CRLF
	PRINTR "The lights come on."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-WESTMINSTER-LIGHTS-OFF"
	.FUNCT RT-I-WESTMINSTER-LIGHTS-OFF
	.DEBUG-LINE 20,1280,1
	FCLEAR RM-NAVE,FL-LIGHTED
	.DEBUG-LINE 20,1281,1
	FCLEAR RM-SOUTH-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1282,1
	FCLEAR RM-JERICHO-PARLOUR,FL-LIGHTED
	.DEBUG-LINE 20,1283,1
	FCLEAR RM-JERUSALEM-CHAMBER,FL-LIGHTED
	.DEBUG-LINE 20,1284,1
	FCLEAR RM-NORTH-CLOISTER,FL-LIGHTED
	.DEBUG-LINE 20,1285,1
	FCLEAR RM-NORTH-TRANSEPT,FL-LIGHTED
	.DEBUG-LINE 20,1286,1
	FCLEAR RM-SOUTH-TRANSEPT,FL-LIGHTED
	.DEBUG-LINE 20,1287,1
	FCLEAR RM-EVANGELIST-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1288,1
	FCLEAR RM-NORTH-AMBULATORY,FL-LIGHTED
	.DEBUG-LINE 20,1289,1
	FCLEAR RM-SANCTUARY,FL-LIGHTED
	.DEBUG-LINE 20,1290,1
	FCLEAR RM-SOUTH-AMBULATORY,FL-LIGHTED
	.DEBUG-LINE 20,1291,1
	FCLEAR RM-POETS-CORNER,FL-LIGHTED
	.DEBUG-LINE 20,1292,1
	FCLEAR RM-NORTH-CHAPEL-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1293,1
	FCLEAR RM-HENRY-VII-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1294,1
	FCLEAR RM-SOUTH-CHAPEL-AISLE,FL-LIGHTED
	.DEBUG-LINE 20,1295,1
	FCLEAR RM-CONFESSOR-CHAPEL,FL-LIGHTED
	.DEBUG-LINE 20,1296,1
	FCLEAR RM-INNOCENTS-CORNER,FL-LIGHTED
	.DEBUG-LINE 20,1297,1
	ZERO? PLAYER-IN-ABBEY /FALSE
	.DEBUG-LINE 20,1298,1
	CRLF
	PRINTR "The lights go out."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-LOCKED-IN-END-GAME"
	.FUNCT RT-I-LOCKED-IN-END-GAME
	.DEBUG-LINE 20,1301,1
	ZERO? PLAYER-IN-ABBEY /FALSE
	.DEBUG-LINE 20,1302,1
	CRLF
	PRINTI "In the distance you hear the huge door of the Abbey clang shut. You run to the Nave, only to discover that you have been locked in. After spending a spooky night in the Abbey, you emerge in the morning to discover that the theft of the Crown Jewels has been discovered."
	CRLF
	CRLF
	.DEBUG-LINE 20,1307,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-OPEN-WESTMINSTER-DOOR"
	.FUNCT RT-I-OPEN-WESTMINSTER-DOOR
	.DEBUG-LINE 20,1310,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,11,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-CLOSE-WESTMINSTER-DOOR,STACK
	.DEBUG-LINE 20,1311,1
	FSET LG-WESTMINSTER-DOOR,FL-OPENED
	.DEBUG-LINE 20,1312,1
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \?L1
	.DEBUG-LINE 20,1313,1
	CRLF
	PRINTR "A verger appears, unlocks the huge door, and pushes it open."
	.DEBUG-LINE 20,1315,1
?L1:	EQUAL? GL-PLACE-CUR,RM-NAVE \FALSE
	.DEBUG-LINE 20,1316,1
	CRLF
	PRINTR "Suddenly you hear the west door opening. The sunlight streaming in the door blinds you after your night-long vigil. A verger enters, gives you a strange look, and disappears into the South Aisle."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-CLOSE-WESTMINSTER-DOOR"
	.FUNCT RT-I-CLOSE-WESTMINSTER-DOOR
	.DEBUG-LINE 20,1322,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,13,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-OPEN-WESTMINSTER-DOOR,STACK
	.DEBUG-LINE 20,1323,1
	FCLEAR LG-WESTMINSTER-DOOR,FL-OPENED
	.DEBUG-LINE 20,1324,1
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \?L1
	.DEBUG-LINE 20,1325,1
	CRLF
	PRINTR "The verger says goodnight and closes the door."
	.DEBUG-LINE 20,1327,1
?L1:	EQUAL? GL-PLACE-CUR,RM-NAVE \FALSE
	.DEBUG-LINE 20,1331,1
	SET 'PLAYER-IN-ABBEY,0
	.DEBUG-LINE 20,1332,1
	CRLF
	PRINTI "A verger comes up to you and coughs deferentially. ""I'm sorry sir, but it's six o'clock and I have to close up now."" He escorts you to the door and closes it behind you as you exit."
	CRLF
	CRLF
	.DEBUG-LINE 20,1336,1
	CALL2 RT-GOTO,RM-BROAD-SANCTUARY >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-CF-TH-BOAT","CONTEXT"
	.FUNCT RT-CF-TH-BOAT,CONTEXT
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
	.DEBUG-LINE 20,1340,1
?L6:	EQUAL? GL-PRSA,V?WALK \?L3
	EQUAL? GL-P-WALK-DIR,P?OUT \?L1
	.DEBUG-LINE 20,1342,1
	CALL RT-PERFORM,V?EXIT,TH-BOAT >STACK
	RSTACK
	.DEBUG-LINE 20,1343,1
?L1:	EQUAL? GL-PRSA,V?WALK \?L3
	EQUAL? GL-P-WALK-DIR,P?NORTH \?L3
	EQUAL? GL-PLACE-CUR,RM-THE-EMBANKMENT,RM-OUTSIDE-TRAITORS-GATE \?L3
	.DEBUG-LINE 20,1346,1
	PRINT K-GET-OUT-FIRST-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 20,1347,1
?L3:	EQUAL? GL-PRSA,V?ENTER \FALSE
	EQUAL? GL-PRSO,TH-BOAT /FALSE
	.DEBUG-LINE 20,1349,1
	PRINT K-GET-OUT-FIRST-MSG
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-PROCESS-BOAT-ON-THAMES","UP?","WRD"
	.FUNCT RT-PROCESS-BOAT-ON-THAMES,UP?,WRD
	.DEBUG-LINE 20,1352,1
	IN? TH-ANCHOR,TH-BOAT \?L1
	CALL2 RT-ALARM-SET?,RT-I-MOVE-DOWNSTREAM >STACK
	ZERO? STACK \?L1
	.DEBUG-LINE 20,1354,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,0,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-MOVE-DOWNSTREAM,STACK
	.DEBUG-LINE 20,1355,1
?L1:	EQUAL? GL-PRSA,V?EXIT,V?SWIM \?L7
	EQUAL? GL-PRSO,ROOMS,TH-BOAT /?L6
?L7:	EQUAL? GL-PRSA,V?LEAP,V?CLIMB-DOWN,V?ENTER \?L4
	EQUAL? GL-PRSO,LG-WATER \?L4
	.DEBUG-LINE 20,1357,1
?L6:	ICALL RT-CYOU-MSG,STR?292,STR?291
	.DEBUG-LINE 20,1358,1
	PRINTI "out of the boat, and then suddenly remember that you can't swim. Unable to climb back in, you cling to the boat for hours, until you are rescued by a Scotland Yard launch. Naturally, Lestrade is aboard, and as he bundles you off to the hospital to recover from the dread disease you caught while floating in the river, he tells you that he - personally - will take on the case."
	CRLF
	CRLF
	PRINTI "Somehow this doesn't make you feel any better."
	CRLF
	CRLF
	.DEBUG-LINE 20,1367,1
	CALL1 RT-QSR >STACK
	RSTACK
	.DEBUG-LINE 20,1368,1
?L4:	EQUAL? GL-PRSA,V?ROW,V?PADDLE,V?PADDLE-WITH \?L8
	.DEBUG-LINE 20,1369,1
	EQUAL? GL-PRSO,0,ROOMS,TH-BOAT \?L12
	ZERO? GL-PRSI /?L11
?L12:	EQUAL? GL-PRSA,V?PADDLE-WITH \?L9
	ZERO? GL-PRSI \?L9
	.DEBUG-LINE 20,1373,1
?L11:	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 20,1374,1
	PRINTI "[Please specify a direction to "
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 20,1375,1
	PRINTR ".]"
	.DEBUG-LINE 20,1376,1
?L9:	EQUAL? GL-PRSO,LG-UP-DOWN-STREAM /?L19
	EQUAL? GL-PRSO,TH-INTDIR \?L15
	EQUAL? GL-P-DIRECTION,P?WEST,P?EAST /?L14
?L15:	EQUAL? GL-PRSO,TH-BOAT \?L13
	EQUAL? GL-PRSI,TH-INTDIR \?L13
	.DEBUG-LINE 20,1382,1
?L14:	EQUAL? GL-PRSO,LG-UP-DOWN-STREAM /?L19
	SET 'UP?,0
	JUMP ?L21
?L19:	GETP GL-PRSO,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?UPSTREAM /?L20
	SET 'UP?,0
	JUMP ?L21
?L20:	SET 'UP?,1
?L21:	ZERO? UP? \?L23
	EQUAL? GL-P-DIRECTION,P?WEST /?L22
	SET 'UP?,0
	JUMP ?L23
?L22:	SET 'UP?,1
	.DEBUG-LINE 20,1386,1
?L23:	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 20,1387,1
	IN? TH-ANCHOR,TH-BOAT /?L24
	.DEBUG-LINE 20,1388,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,1389,1
	PRINTI "can "
	PRINTB GL-P-PRSA-WORD
	PRINTR " like blue blazes, but the anchor is restraining the boat."
	.DEBUG-LINE 20,1392,1
?L24:	EQUAL? GL-PRSA,V?ROW \?L26
	IN? TH-OAR-2,TH-OAR-LOCK /?L26
	.DEBUG-LINE 20,1395,1
	IN? TH-OAR-1,TH-BOAT \?L27
	.DEBUG-LINE 20,1396,1
	ICALL RT-CYOU-MSG,STR?294,STR?293
	.DEBUG-LINE 20,1397,1
	PRINTR "hard on the oar. The boat spins round and round. Wheeeee!"
	.DEBUG-LINE 20,1400,1
?L27:	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 20,1401,1
	PRINTR "not have any oars."
	.DEBUG-LINE 20,1402,1
?L26:	EQUAL? GL-PRSA,V?PADDLE-WITH \?L30
	EQUAL? GL-PRSI,TH-PADDLE /?L30
	.DEBUG-LINE 20,1404,1
	EQUAL? GL-PRSI,TH-VIOLIN /FALSE
	.DEBUG-LINE 20,1407,1
	ICALL1 RT-CYOU-MSG
	.DEBUG-LINE 20,1408,1
	PRINTI "can't paddle with "
	ICALL1 RT-THEI-PRINT
	PRINTR "."
	.DEBUG-LINE 20,1410,1
?L30:	EQUAL? GL-PRSA,V?PADDLE,V?PADDLE-WITH \?L34
	IN? TH-PADDLE,GL-WINNER /?L34
	.DEBUG-LINE 20,1412,1
	ICALL RT-CYOU-MSG,STR?135,STR?134
	.DEBUG-LINE 20,1413,1
	PRINTI "not have "
	ICALL2 RT-A-PRINT,TH-PADDLE
	PRINTR "."
	.DEBUG-LINE 20,1414,1
?L34:	ZERO? UP? /?L35
	.DEBUG-LINE 20,1415,1
	ICALL1 RT-MOVE-UPSTREAM
	RTRUE
	.DEBUG-LINE 20,1417,1
?L35:	ICALL1 RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 20,1418,1
	RTRUE
	.DEBUG-LINE 20,1419,1
?L13:	EQUAL? GL-PRSO,TH-INTDIR /?L38
	EQUAL? GL-PRSI,TH-INTDIR \?L37
?L38:	EQUAL? GL-P-DIRECTION,P?NORTH \?L37
	.DEBUG-LINE 20,1422,1
	ICALL1 RT-LAND-BOAT
	.DEBUG-LINE 20,1423,1
	RTRUE
	.DEBUG-LINE 20,1424,1
?L37:	EQUAL? GL-PRSO,TH-INTDIR /?L40
	EQUAL? GL-PRSI,TH-INTDIR \?L39
	.DEBUG-LINE 20,1426,1
?L40:	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 20,1427,1
	.DEBUG-LINE 20,1430,1
	PRINTR "There doesn't seem to be anything in that direction."
	.DEBUG-LINE 20,1432,1
?L39:	ICALL2 RT-ALARM-CLR,RT-I-MOVE-DOWNSTREAM
	.DEBUG-LINE 20,1433,1
	PRINTI "I don't recognize the direction you are asking me to "
	PRINTB GL-P-PRSA-WORD
	.DEBUG-LINE 20,1436,1
	PRINTR "."
	.DEBUG-LINE 20,1437,1
?L8:	EQUAL? GL-PRSA,V?STAND,V?STAND-ON \?L42
	.DEBUG-LINE 20,1438,1
	.DEBUG-LINE 20,1439,1
	PRINTR "It isn't safe to stand in a boat."
	.DEBUG-LINE 20,1440,1
?L42:	EQUAL? GL-PRSA,V?SIT \?L43
	.DEBUG-LINE 20,1441,1
	.DEBUG-LINE 20,1442,1
	PRINTR "You're already seated."
	.DEBUG-LINE 20,1443,1
?L43:	EQUAL? GL-PRSA,V?LEAP \?L44
	.DEBUG-LINE 20,1444,1
	.DEBUG-LINE 20,1445,1
	PRINTR "It isn't safe to jump around in a boat."
	.DEBUG-LINE 20,1446,1
?L44:	EQUAL? TH-FLOOR-ETC,GL-PRSO,GL-PRSI \FALSE
	CALL2 RT-IDENTIFY-FLOOR?,W?FLOOR >STACK
	ZERO? STACK \?L46
	CALL2 RT-IDENTIFY-FLOOR?,W?GROUND >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 20,1449,1
?L46:	PRINTI "There is no "
	ICALL2 DPRINT,TH-FLOOR-ETC
	PRINTR " in the middle of a river."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-MOVE-DOWNSTREAM","?TMP"
	.FUNCT RT-I-MOVE-DOWNSTREAM,?TMP
	.DEBUG-LINE 20,1453,1
	EQUAL? GL-WINNER,CH-PLAYER \?L3
	EQUAL? GL-PRSA,V?ROW \?L1
	.DEBUG-LINE 20,1454,1
	ICALL RT-CYOU-MSG,STR?296,STR?295
	JUMP ?L4
	.DEBUG-LINE 20,1455,1
?L1:	EQUAL? GL-WINNER,CH-PLAYER \?L3
	EQUAL? GL-PRSA,V?PADDLE,V?PADDLE-WITH \?L3
	.DEBUG-LINE 20,1456,1
	ICALL RT-CYOU-MSG,STR?298,STR?297
	JUMP ?L4
	.DEBUG-LINE 20,1458,1
?L3:	CRLF
	PRINTI "The boat drifts "
	.DEBUG-LINE 20,1459,1
?L4:	PRINTI "down the river"
	.DEBUG-LINE 20,1460,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 20,1461,1
	LOC TH-BOAT >?TMP
	EQUAL? ?TMP,RM-THAMES-ONE,RM-THAMES-TWO,RM-THAMES-THREE /?L7
	EQUAL? ?TMP,RM-THAMES-FOUR \?L5
	.DEBUG-LINE 20,1463,1
?L7:	PRINTI ". "
	.DEBUG-LINE 20,1464,1
?L5:	IN? TH-BOAT,RM-THAMES-ONE \?L9
	.DEBUG-LINE 20,1465,1
	MOVE TH-BOAT,RM-THAMES-TWO
	.DEBUG-LINE 20,1466,1
	ZERO? GL-NOW-LIT? /?L26
	.DEBUG-LINE 20,1467,1
	PRINTI "Downstream you see the London Bridge."
	JUMP ?L26
	.DEBUG-LINE 20,1468,1
?L9:	IN? TH-BOAT,RM-THAMES-TWO \?L14
	.DEBUG-LINE 20,1469,1
	MOVE TH-BOAT,RM-THAMES-THREE
	.DEBUG-LINE 20,1470,1
	ZERO? GL-NOW-LIT? /?L26
	.DEBUG-LINE 20,1471,1
	PRINTI "You pass under the London Bridge."
	JUMP ?L26
	.DEBUG-LINE 20,1472,1
?L14:	IN? TH-BOAT,RM-THAMES-THREE \?L18
	.DEBUG-LINE 20,1473,1
	MOVE TH-BOAT,RM-THAMES-FOUR
	.DEBUG-LINE 20,1474,1
	ZERO? GL-NOW-LIT? /?L26
	.DEBUG-LINE 20,1475,1
	PRINTI "To the north you see the Traitors Gate."
	JUMP ?L26
	.DEBUG-LINE 20,1476,1
?L18:	IN? TH-BOAT,RM-THAMES-FOUR \?L22
	.DEBUG-LINE 20,1477,1
	MOVE TH-BOAT,RM-THAMES-FIVE
	.DEBUG-LINE 20,1478,1
	ZERO? GL-NOW-LIT? /?L26
	.DEBUG-LINE 20,1479,1
	PRINTI "Downstream you see the open seas... the strong currents would surely leave you stranded in your small boat if you were to drift further."
	JUMP ?L26
	.DEBUG-LINE 20,1482,1
?L22:	IN? TH-BOAT,RM-THAMES-FIVE \?L26
	.DEBUG-LINE 20,1483,1
	PRINTI ", and you drift out to sea."
	CRLF
	CRLF
	PRINTI "After drifting for several days, a passing ship rescues you. By coincidence, another passenger happens to be Lestrade, who has resigned in the wake of the Crown Jewel scandal and is retiring to the island of Pago Pago. After some reflection, you decide to join him."
	CRLF
	CRLF
	.DEBUG-LINE 20,1491,1
	ICALL1 RT-QSR
	.DEBUG-LINE 20,1492,1
?L26:	LOC TH-BOAT >GL-PLACE-CUR
	.DEBUG-LINE 20,1493,1
	CRLF
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-MOVE-UPSTREAM"
	.FUNCT RT-MOVE-UPSTREAM
	.DEBUG-LINE 20,1496,1
	PRINTI "Fighting against the current, you "
	PRINTB GL-P-PRSA-WORD
	PRINTI " upstream. "
	.DEBUG-LINE 20,1497,1
	CALL1 RT-IS-LIT? >GL-NOW-LIT?
	.DEBUG-LINE 20,1498,1
	IN? TH-BOAT,RM-THAMES-ONE \?L1
	.DEBUG-LINE 20,1499,1
	CRLF
	CRLF
	PRINTI "As you proceed you find yourself among the flotilla of warships that have come for the celebration of the Jubilee. You quickly decide that it's too dangerous here so you turn back and head downstream."
	JUMP ?L12
	.DEBUG-LINE 20,1503,1
?L1:	IN? TH-BOAT,RM-THAMES-TWO \?L3
	.DEBUG-LINE 20,1504,1
	ZERO? GL-NOW-LIT? /?L4
	.DEBUG-LINE 20,1505,1
	PRINTI "To the north you see the Embankment."
	.DEBUG-LINE 20,1506,1
?L4:	MOVE TH-BOAT,RM-THAMES-ONE
	JUMP ?L12
	.DEBUG-LINE 20,1507,1
?L3:	IN? TH-BOAT,RM-THAMES-THREE \?L7
	.DEBUG-LINE 20,1508,1
	MOVE TH-BOAT,RM-THAMES-TWO
	JUMP ?L12
	.DEBUG-LINE 20,1509,1
?L7:	IN? TH-BOAT,RM-THAMES-FOUR \?L8
	.DEBUG-LINE 20,1510,1
	ZERO? GL-NOW-LIT? /?L9
	.DEBUG-LINE 20,1511,1
	PRINTI "You pass under the London Bridge."
	.DEBUG-LINE 20,1512,1
?L9:	MOVE TH-BOAT,RM-THAMES-THREE
	JUMP ?L12
	.DEBUG-LINE 20,1513,1
?L8:	IN? TH-BOAT,RM-THAMES-FIVE \?L12
	.DEBUG-LINE 20,1514,1
	ZERO? GL-NOW-LIT? /?L13
	.DEBUG-LINE 20,1515,1
	PRINTI "Upstream, you see the London Bridge, to the north you see the Traitors Gate."
	.DEBUG-LINE 20,1518,1
?L13:	MOVE TH-BOAT,RM-THAMES-FOUR
	.DEBUG-LINE 20,1519,1
?L12:	CRLF
	.DEBUG-LINE 20,1520,1
	LOC TH-BOAT >GL-PLACE-CUR
	.DEBUG-LINE 20,1521,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-THAMES-TIDE"
	.FUNCT RT-THAMES-TIDE
	.DEBUG-LINE 20,1530,1
	XCALL RT-CLOCK-CMP,8,32,0,18 >STACK
	EQUAL? STACK,1 /TRUE
	.DEBUG-LINE 20,1532,1
	XCALL RT-CLOCK-CMP,8,48,0,18 >STACK
	EQUAL? STACK,1 /FALSE
	.DEBUG-LINE 20,1534,1
	XCALL RT-CLOCK-CMP,14,35,0,18 >STACK
	EQUAL? STACK,1 \?L4
	.DEBUG-LINE 20,1535,1
	RETURN 3
	.DEBUG-LINE 20,1536,1
?L4:	XCALL RT-CLOCK-CMP,14,51,0,18 >STACK
	EQUAL? STACK,1 \?L5
	.DEBUG-LINE 20,1537,1
	RETURN 2
	.DEBUG-LINE 20,1538,1
?L5:	XCALL RT-CLOCK-CMP,20,38,0,18 >STACK
	EQUAL? STACK,1 /TRUE
	.DEBUG-LINE 20,1540,1
	XCALL RT-CLOCK-CMP,20,54,0,18 >STACK
	EQUAL? STACK,1 /FALSE
	.DEBUG-LINE 20,1542,1
	XCALL RT-CLOCK-CMP,2,41,0,19 >STACK
	EQUAL? STACK,1 \?L8
	.DEBUG-LINE 20,1543,1
	RETURN 3
	.DEBUG-LINE 20,1544,1
?L8:	XCALL RT-CLOCK-CMP,2,57,0,19 >STACK
	EQUAL? STACK,1 \?L9
	.DEBUG-LINE 20,1545,1
	RETURN 2
	.DEBUG-LINE 20,1546,1
?L9:	XCALL RT-CLOCK-CMP,8,44,0,19 >STACK
	EQUAL? STACK,1 /TRUE
	.DEBUG-LINE 20,1548,1
	XCALL RT-CLOCK-CMP,9,0,0,19 >STACK
	EQUAL? STACK,1 /FALSE
	.DEBUG-LINE 20,1550,1
	XCALL RT-CLOCK-CMP,14,47,0,19 >STACK
	EQUAL? STACK,1 \?L12
	.DEBUG-LINE 20,1551,1
	RETURN 3
	.DEBUG-LINE 20,1552,1
?L12:	XCALL RT-CLOCK-CMP,15,3,0,19 >STACK
	EQUAL? STACK,1 \?L13
	.DEBUG-LINE 20,1553,1
	RETURN 2
	.DEBUG-LINE 20,1554,1
?L13:	XCALL RT-CLOCK-CMP,20,50,0,19 >STACK
	EQUAL? STACK,1 /TRUE
	.DEBUG-LINE 20,1556,1
	XCALL RT-CLOCK-CMP,21,6,0,19 >STACK
	EQUAL? STACK,1 /FALSE
	.DEBUG-LINE 20,1558,1
	XCALL RT-CLOCK-CMP,2,53,0,20 >STACK
	EQUAL? STACK,1 \?L16
	.DEBUG-LINE 20,1559,1
	RETURN 3
	.DEBUG-LINE 20,1560,1
?L16:	XCALL RT-CLOCK-CMP,3,9,0,20 >STACK
	EQUAL? STACK,1 \?L17
	.DEBUG-LINE 20,1561,1
	RETURN 2
	.DEBUG-LINE 20,1562,1
?L17:	XCALL RT-CLOCK-CMP,8,56,0,20 >STACK
	EQUAL? STACK,1 /TRUE
	.DEBUG-LINE 20,1564,1
	XCALL RT-CLOCK-CMP,9,12,0,20 >STACK
	EQUAL? STACK,1 /FALSE
	.DEBUG-LINE 20,1567,1
	RETURN 3
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-TOWER-PASSWORD","WORD-NUM","PASSWORD"
	.FUNCT RT-TOWER-PASSWORD,WORD-NUM,PASSWORD
	.DEBUG-LINE 20,1570,1
	SET 'PASSWORD,PASSWORD-ID
	.DEBUG-LINE 20,1571,1
	ZERO? PASSWORD /?L3
	EQUAL? GL-PLACE-CUR,RM-BYWARD-TOWER /?L1
	.DEBUG-LINE 20,1573,1
?L3:	PRINTR "Wasn't she one of the six wives of Henry VIII?"
	.DEBUG-LINE 20,1574,1
?L1:	EQUAL? GL-PLACE-PRV,RM-OUTER-WARD \?L4
	.DEBUG-LINE 20,1575,1
	PRINTR """I am sorry, but I have strict orders to allow absolutely no one to leave the Tower, whether or not he knows the password. The Prime Minister himself could not get out of here before Monday morning."
	.DEBUG-LINE 20,1579,1
?L4:	EQUAL? WORD-NUM,PASSWORD /?L5
	.DEBUG-LINE 20,1580,1
	PRINTR """I am sorry but that password is no longer valid."""
	.DEBUG-LINE 20,1582,1
?L5:	PRINTI "The guard steps aside as you walk in."
	CRLF
	CRLF
	.DEBUG-LINE 20,1583,1
	ICALL2 RT-GOTO,RM-OUTER-WARD
	.DEBUG-LINE 20,1584,1
	ICALL2 RT-UPDATE-SCORE,3
	.DEBUG-LINE 20,1585,1
	SET 'PASSWORD-ID,9
	.DEBUG-LINE 20,1586,1
	SET 'ALLOW-IN-TOWER,1
	.DEBUG-LINE 20,1587,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-BOLEYN"
	.FUNCT V-BOLEYN
	.DEBUG-LINE 20,1591,1
	CALL2 RT-TOWER-PASSWORD,1 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-CLEVES"
	.FUNCT V-CLEVES
	.DEBUG-LINE 20,1595,1
	CALL2 RT-TOWER-PASSWORD,2 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-HOWARD"
	.FUNCT V-HOWARD
	.DEBUG-LINE 20,1599,1
	CALL2 RT-TOWER-PASSWORD,3 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-PARR"
	.FUNCT V-PARR
	.DEBUG-LINE 20,1603,1
	CALL2 RT-TOWER-PASSWORD,4 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-ARAGON"
	.FUNCT V-ARAGON
	.DEBUG-LINE 20,1607,1
	CALL2 RT-TOWER-PASSWORD,5 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"V-SEYMOUR"
	.FUNCT V-SEYMOUR
	.DEBUG-LINE 20,1611,1
	CALL2 RT-TOWER-PASSWORD,6 >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-OPEN-MUSEUM-DOOR"
	.FUNCT RT-I-OPEN-MUSEUM-DOOR
	.DEBUG-LINE 20,1614,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,10,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-CLOSE-MUSEUM-DOOR,STACK
	.DEBUG-LINE 20,1615,1
	FSET LG-BRITISH-MUSEUM-DOOR,FL-OPENED
	.DEBUG-LINE 20,1616,1
	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST \FALSE
	.DEBUG-LINE 20,1617,1
	CRLF
	PRINTR "A guard opens the door and then disappears inside the museum."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-I-CLOSE-MUSEUM-DOOR"
	.FUNCT RT-I-CLOSE-MUSEUM-DOOR
	.DEBUG-LINE 20,1621,1
	XCALL RT-DO-CLOCK-SET,GL-TIME-PARM,14,0,0 >STACK
	ICALL RT-ALARM-SET-REL,RT-I-OPEN-MUSEUM-DOOR,STACK
	.DEBUG-LINE 20,1622,1
	FCLEAR LG-BRITISH-MUSEUM-DOOR,FL-OPENED
	.DEBUG-LINE 20,1623,1
	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST \?L1
	.DEBUG-LINE 20,1624,1
	CRLF
	PRINTR "The guard says goodnight and closes the door."
	.DEBUG-LINE 20,1626,1
?L1:	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM \?L3
	IN? CH-LIBRARIAN,RM-MANUSCRIPT-ROOM \?L3
	.DEBUG-LINE 20,1628,1
	CRLF
	PRINTI "The librarian looks at his pocket-watch and exclaims, ""Goodness! It's closing time already! I really have enjoyed this chat, but I'm afraid you'll have to let me go. Why don't I see you out?"""
	CRLF
	CRLF
	PRINTI "He escorts you to the front door, discoursing all the while on the evolution of the use of mud by the Hittites. He waves goodbye as he closes the door behind you."
	CRLF
	CRLF
	.DEBUG-LINE 20,1636,1
	FSET CH-LIBRARIAN,FL-ASLEEP
	.DEBUG-LINE 20,1637,1
	ICALL2 RT-GOTO,RM-GREAT-RUSSELL-ST
	.DEBUG-LINE 20,1638,1
	FCLEAR CH-LIBRARIAN,FL-ASLEEP
	RTRUE
	.DEBUG-LINE 20,1639,1
?L3:	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM,RM-BRITISH-MUSEUM \FALSE
	.DEBUG-LINE 20,1643,1
	CRLF
	PRINTI "A guard comes up to you and says, ""I'm sorry sir, its closing time. I have to lock up now."" He escorts you to the front door, and then closes it behind you as you leave."
	CRLF
	CRLF
	.DEBUG-LINE 20,1647,1
	CALL2 RT-GOTO,RM-GREAT-RUSSELL-ST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-INDENT-PRINT"
	.FUNCT RT-INDENT-PRINT
	.DEBUG-LINE 20,1650,1
	LESS? GL-ALLSCREEN,75 /FALSE
	.DEBUG-LINE 20,1651,1
	PRINTI "     "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-WRAP-PRINT"
	.FUNCT RT-WRAP-PRINT
	.DEBUG-LINE 20,1654,1
	LESS? GL-ALLSCREEN,75 \?L1
	.DEBUG-LINE 20,1655,1
	CRLF
	PRINTI "    "
	RTRUE
	.DEBUG-LINE 20,1657,1
?L1:	PRINTI " "
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-BAKER-ST-DOOR"
	.FUNCT RT-AC-LG-BAKER-ST-DOOR
	.DEBUG-LINE 21,209,1
	EQUAL? GL-PRSA,V?KNOCK \?L1
	.DEBUG-LINE 21,210,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \?L3
	.DEBUG-LINE 21,211,1
	PRINTR "You are already inside."
	.DEBUG-LINE 21,212,1
?L3:	FSET? LG-BAKER-ST-DOOR,FL-OPENED \?L5
	.DEBUG-LINE 21,213,1
	PRINTR "The door is already open."
	.DEBUG-LINE 21,214,1
?L5:	FSET? CH-HUDSON,FL-ASLEEP \?L6
	.DEBUG-LINE 21,215,1
	PRINTR "There is no answer."
	.DEBUG-LINE 21,216,1
?L6:	FSET? LG-BAKER-ST-DOOR,FL-LOCKED /?L7
	.DEBUG-LINE 21,217,1
	FSET LG-BAKER-ST-DOOR,FL-OPENED
	.DEBUG-LINE 21,218,1
	MOVE CH-HUDSON,RM-ENTRY-HALL
	.DEBUG-LINE 21,219,1
	ICALL2 RT-THIS-IS-IT,CH-HUDSON
	.DEBUG-LINE 21,220,1
	PRINTR "Mrs Hudson appears and says, ""Please come in Dr Watson."" She steps back into the hall to allow room for you to pass."
	.DEBUG-LINE 21,224,1
?L7:	FCLEAR LG-BAKER-ST-DOOR,FL-LOCKED
	.DEBUG-LINE 21,225,1
	SET 'GL-PLACE-CUR,RM-ENTRY-HALL
	.DEBUG-LINE 21,226,1
	MOVE CH-HUDSON,GL-PLACE-CUR
	.DEBUG-LINE 21,227,1
	MOVE CH-PLAYER,GL-PLACE-CUR
	.DEBUG-LINE 21,228,1
	ICALL2 RT-THIS-IS-IT,CH-HUDSON
	.DEBUG-LINE 21,229,1
	PRINTI "You hear a bolt sliding back and the door opens to reveal a worried Mrs Hudson."
	CRLF
	CRLF
	PRINTI """Oh Doctor Watson, I'm so glad to see you. It's Mr Holmes, sir. Three days have come and gone since he's been out of his rooms. He won't eat and I know he hasn't slept. Now there's a visitor who says he's here about some important government business. I tried to send him away, but he insisted on waiting in the parlour. That's when I sent for you. Thank God you've come."""
	CRLF
	.DEBUG-LINE 21,239,1
	ICALL RT-EXEC-RM-DESCFCN,RM-ENTRY-HALL,K-M-DESC-1
	.DEBUG-LINE 21,240,1
	CRLF
	RTRUE
	.DEBUG-LINE 21,241,1
?L1:	EQUAL? GL-PRSA,V?KICK,V?HIT,V?MUNG \?L9
	.DEBUG-LINE 21,242,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL /FALSE
	.DEBUG-LINE 21,244,1
	FSET? LG-BAKER-ST-DOOR,FL-OPENED /FALSE
	.DEBUG-LINE 21,245,1
	PRINTR "Mrs Hudson pokes her head out the door and says, ""I'm not opening the door until you knock like a proper gentleman."" She slams the door in your face."
	.DEBUG-LINE 21,249,1
?L9:	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,250,1
	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \?L15
	.DEBUG-LINE 21,251,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-LINE 21,252,1
?L15:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 21,253,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-PARLOUR-DOOR"
	.FUNCT RT-AC-LG-PARLOUR-DOOR
	.DEBUG-LINE 21,257,1
	EQUAL? GL-PRSA,V?OPEN \?L1
	.DEBUG-LINE 21,258,1
	FSET? CH-HOLMES,FL-ASLEEP \FALSE
	.DEBUG-LINE 21,259,1
	ICALL2 RT-CTHEO-PRINT,CH-HUDSON
	PRINT K-HUDSON-WORRIED-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 21,260,1
?L1:	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,261,1
	EQUAL? GL-PLACE-CUR,RM-PARLOUR \?L7
	.DEBUG-LINE 21,262,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-LINE 21,263,1
?L7:	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \FALSE
	.DEBUG-LINE 21,264,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-HOLMES-STUDY-DOOR"
	.FUNCT RT-AC-LG-HOLMES-STUDY-DOOR
	.DEBUG-LINE 21,268,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,269,1
	EQUAL? GL-PLACE-CUR,RM-VESTIBULE \?L3
	.DEBUG-LINE 21,270,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-LINE 21,271,1
?L3:	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 21,272,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-HOLMES-BEDROOM-DOOR"
	.FUNCT RT-AC-LG-HOLMES-BEDROOM-DOOR
	.DEBUG-LINE 21,276,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,277,1
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY \?L3
	.DEBUG-LINE 21,278,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-LINE 21,279,1
?L3:	EQUAL? GL-PLACE-CUR,RM-HOLMES-BEDROOM \FALSE
	.DEBUG-LINE 21,280,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-BAR-OF-GOLD-DOOR"
	.FUNCT RT-AC-LG-BAR-OF-GOLD-DOOR
	.DEBUG-LINE 21,284,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,285,1
	EQUAL? GL-PLACE-CUR,RM-BAR-OF-GOLD \?L3
	.DEBUG-LINE 21,286,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-LINE 21,287,1
?L3:	EQUAL? GL-PLACE-CUR,RM-SWAN-LANE \FALSE
	.DEBUG-LINE 21,288,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-LAIR-DOOR"
	.FUNCT RT-AC-LG-LAIR-DOOR
	.DEBUG-LINE 21,292,1
	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 21,293,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH,V?OPEN /?L5
	EQUAL? GL-PRSA,V?CLOSE,V?UNLOCK,V?LOCK \?L3
?L5:	FSET? CH-AKBAR,FL-LOCKED /?L3
	FSET? CH-AKBAR,FL-ASLEEP /?L3
	.DEBUG-LINE 21,296,1
	PRINTI "Akbar"
	.DEBUG-LINE 21,297,1
	FSET? TH-WATSONS-HAT,FL-WORN \?L6
	.DEBUG-LINE 21,298,1
	PRINTI " says, ""Forgive me, sir,"" and"
	.DEBUG-LINE 21,299,1
?L6:	PRINTR " stops you as you move toward the door."
	.DEBUG-LINE 21,300,1
?L3:	EQUAL? GL-PRSA,V?OPEN \?L9
	FSET? CH-HOLMES,FL-LOCKED \?L9
	.DEBUG-LINE 21,302,1
	PRINTR "Holmes calls out, ""Watson! I'm still tied up!"" You pause and look back, torn by indecision."
	.DEBUG-LINE 21,305,1
?L9:	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \?L10
	.DEBUG-LINE 21,306,1
	EQUAL? GL-PLACE-CUR,RM-LAIR \FALSE
	.DEBUG-LINE 21,307,1
	CALL2 RT-DO-WALK,P?OUT >STACK
	RSTACK
	.DEBUG-LINE 21,308,1
?L10:	EQUAL? GL-PRSA,V?UNLOCK \?L14
	EQUAL? GL-PRSI,TH-LAIR-KEY \?L14
	FSET? LG-LAIR-DOOR,FL-LOCKED \?L14
	.DEBUG-LINE 21,311,1
	FCLEAR LG-LAIR-DOOR,FL-LOCKED
	.DEBUG-LINE 21,312,1
	ICALL RT-CYOU-MSG,STR?300,STR?299
	.DEBUG-LINE 21,313,1
	ICALL2 RT-THEO-PRINT,LG-LAIR-DOOR
	PRINTR "."
	.DEBUG-LINE 21,314,1
?L14:	EQUAL? GL-PRSA,V?LOCK \FALSE
	EQUAL? GL-PRSI,TH-LAIR-KEY \FALSE
	FSET? LG-LAIR-DOOR,FL-OPENED /FALSE
	FSET? LG-LAIR-DOOR,FL-LOCKED /FALSE
	.DEBUG-LINE 21,318,1
	FSET LG-LAIR-DOOR,FL-LOCKED
	.DEBUG-LINE 21,319,1
	ICALL RT-CYOU-MSG,STR?287,STR?286
	.DEBUG-LINE 21,320,1
	ICALL2 RT-THEO-PRINT,LG-LAIR-DOOR
	PRINTR "."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-JERICHO-PARLOUR-DOOR"
	.FUNCT RT-AC-LG-JERICHO-PARLOUR-DOOR
	.DEBUG-LINE 21,324,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,325,1
	EQUAL? GL-PLACE-CUR,RM-SOUTH-AISLE \?L3
	.DEBUG-LINE 21,326,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-LINE 21,327,1
?L3:	EQUAL? GL-PLACE-CUR,RM-JERICHO-PARLOUR \FALSE
	.DEBUG-LINE 21,328,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-SHOPS","CONTEXT"
	.FUNCT RT-AC-LG-SHOPS,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 21,332,1
?L5:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 21,333,1
	PRINTR "The shops are closed for the Jubilee."
	.DEBUG-LINE 21,334,1
?L1:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \FALSE
	.DEBUG-LINE 21,335,1
	PRINTR "The shops are all closed for the Jubilee."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-WATER","CONTEXT","CLASS","CAP?"
	.FUNCT RT-AC-LG-WATER,CONTEXT,CLASS,CAP?
	ASSIGNED? 'CONTEXT /?L33
	SET 'CONTEXT,0
?L33:	ASSIGNED? 'CLASS /?L34
	SET 'CLASS,0
?L34:	ASSIGNED? 'CAP? /?L35
	SET 'CAP?,0
	.DEBUG-LINE 21,339,1
?L35:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 21,341,1
	EQUAL? CLASS,K-DESC-A \?L3
	PUSH 1
	JUMP ?L5
?L3:	PUSH 0
?L5:	IXCALL PRINT-SDESC,STR?301,CLASS,STACK,0
	.DEBUG-LINE 21,344,1
	RTRUE
	.DEBUG-LINE 21,345,1
?L1:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 21,346,1
	ZERO? GL-NOW-PRSI? \?L36
	.DEBUG-LINE 21,347,1
	EQUAL? GL-PRSA,V?ENTER,V?LEAP \?L8
	.DEBUG-LINE 21,348,1
	EQUAL? GL-WINNER,CH-PLAYER \?L10
	.DEBUG-LINE 21,349,1
	PRINTR "You may not remember this, but you can't swim."
	.DEBUG-LINE 21,351,1
?L10:	PRINTR "That's not very polite."
	.DEBUG-LINE 21,352,1
?L8:	EQUAL? GL-PRSA,V?DRINK \?L13
	.DEBUG-LINE 21,353,1
	PRINT K-YUCK-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 21,354,1
?L13:	EQUAL? GL-PRSA,V?EXAMINE \?L14
	.DEBUG-LINE 21,355,1
	PRINTR "The water is black, oily, slimy, dirty, and otherwise unwholesome-looking."
	.DEBUG-LINE 21,357,1
?L14:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH \?L15
	.DEBUG-LINE 21,358,1
	PRINTR "The water is so black and oily that you can't see a thing."
	.DEBUG-LINE 21,360,1
?L15:	EQUAL? GL-PRSA,V?REACH-IN,V?SEARCH \?L16
	.DEBUG-LINE 21,361,1
	PRINTR "Slimy things brush up against your hand, so you quickly pull it back."
	.DEBUG-LINE 21,363,1
?L16:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,364,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,366,1
?L36:	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	.DEBUG-LINE 21,367,1
	FSET? GL-PRSO,FL-BODYPART /?L24
	EQUAL? GL-PRSO,CH-ME,CH-PLAYER \?L22
	.DEBUG-LINE 21,369,1
?L24:	PRINT K-YUCK-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 21,371,1
?L22:	EQUAL? GL-PRSO,TH-ANCHOR,PSEUDO-OBJECT /?L28
	LOC GL-PRSO >STACK
	EQUAL? STACK,GLOBAL-OBJECTS,LOCAL-GLOBALS \?L26
	.DEBUG-LINE 21,375,1
?L28:	ICALL RT-PERFORM,V?DROP,GL-PRSO
	.DEBUG-LINE 21,376,1
	RTRUE
	.DEBUG-LINE 21,377,1
?L26:	EQUAL? GL-PRSO,CH-TRAINED-PIGEON \?L29
	.DEBUG-LINE 21,378,1
	REMOVE GL-PRSO
	.DEBUG-LINE 21,379,1
	ICALL1 RT-KILL-PIGEON
	.DEBUG-LINE 21,380,1
	PRINTI "The pigeon struggles briefly, its feathers too wet to fly, then sinks below the water."
	.DEBUG-LINE 21,382,1
	RTRUE
	.DEBUG-LINE 21,384,1
?L29:	REMOVE GL-PRSO
	.DEBUG-LINE 21,385,1
	FCLEAR GL-PRSO,FL-WORN
	.DEBUG-LINE 21,386,1
	.DEBUG-LINE 21,387,1
	PRINTR "Plop."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-UP-DOWN-STREAM","CONTEXT"
	.FUNCT RT-AC-LG-UP-DOWN-STREAM,CONTEXT
	ASSIGNED? 'CONTEXT /?L5
	SET 'CONTEXT,0
	.DEBUG-LINE 21,391,1
?L5:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 21,392,1
	GETP LG-UP-DOWN-STREAM,P?OBJ-NOUN >STACK
	PRINTB STACK
	RTRUE
	.DEBUG-LINE 21,393,1
?L1:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,394,1
	ICALL1 RT-IMPOSSIBLE-MSG
	.DEBUG-LINE 21,395,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-BRITISH-MUSEUM-DOOR"
	.FUNCT RT-AC-LG-BRITISH-MUSEUM-DOOR
	.DEBUG-LINE 21,399,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,400,1
	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST \?L3
	.DEBUG-LINE 21,401,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-LINE 21,402,1
?L3:	EQUAL? GL-PLACE-CUR,RM-BRITISH-MUSEUM \FALSE
	.DEBUG-LINE 21,403,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-WESTMINSTER-DOOR"
	.FUNCT RT-AC-LG-WESTMINSTER-DOOR
	.DEBUG-LINE 21,407,1
	EQUAL? GL-PRSA,V?ENTER,V?THROUGH \FALSE
	.DEBUG-LINE 21,408,1
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \?L3
	.DEBUG-LINE 21,409,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-LINE 21,410,1
?L3:	EQUAL? GL-PLACE-CUR,RM-NAVE \FALSE
	.DEBUG-LINE 21,411,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-PLAQUES","CONTEXT"
	.FUNCT RT-AC-LG-PLAQUES,CONTEXT
	ASSIGNED? 'CONTEXT /?L24
	SET 'CONTEXT,0
	.DEBUG-LINE 21,415,1
?L24:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 21,416,1
	PRINTR "It looks mighty like a plaque."
	.DEBUG-LINE 21,417,1
?L1:	EQUAL? GL-PRSA,V?TAKE \?L3
	.DEBUG-LINE 21,418,1
	PRINTI "The plaque is firmly attached to the "
	.DEBUG-LINE 21,419,1
	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM \?L4
	.DEBUG-LINE 21,420,1
	PRINTI "desk"
	JUMP ?L6
	.DEBUG-LINE 21,422,1
?L4:	PRINTI "wall"
	.DEBUG-LINE 21,423,1
?L6:	PRINTR ". You can't remove it."
	.DEBUG-LINE 21,424,1
?L3:	EQUAL? GL-PRSA,V?READ,V?EXAMINE \?L7
	.DEBUG-LINE 21,425,1
	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \?L8
	.DEBUG-LINE 21,426,1
	GET GL-QUOTES,K-SIGN-ABBEY >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,427,1
?L8:	EQUAL? GL-PLACE-CUR,RM-MANUSCRIPT-ROOM \?L10
	.DEBUG-LINE 21,428,1
	GET GL-QUOTES,K-SIGN-QUIET >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,429,1
?L10:	EQUAL? GL-PLACE-CUR,RM-MADAME-TUSSAUDS \?L11
	.DEBUG-LINE 21,430,1
	GET GL-QUOTES,K-SIGN-HORRORS >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,431,1
?L11:	EQUAL? GL-PLACE-CUR,RM-GREAT-RUSSELL-ST \?L12
	.DEBUG-LINE 21,432,1
	GET GL-QUOTES,K-SIGN-MUSEUM >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,433,1
?L12:	EQUAL? GL-PLACE-CUR,RM-MONUMENT \?L13
	.DEBUG-LINE 21,434,1
	GET GL-QUOTES,K-SIGN-MONUMENT >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,435,1
?L13:	EQUAL? GL-PLACE-CUR,RM-THE-BLACK-MUSEUM \?L14
	.DEBUG-LINE 21,436,1
	GET GL-QUOTES,K-SIGN-BLIGH >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,437,1
?L14:	EQUAL? GL-PLACE-CUR,RM-THREADNEEDLE-ST \?L15
	.DEBUG-LINE 21,438,1
	GET GL-QUOTES,K-SIGN-BANK >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,439,1
?L15:	EQUAL? GL-PLACE-CUR,RM-TOWER-ENTRANCE \?L16
	.DEBUG-LINE 21,440,1
	GET GL-QUOTES,K-SIGN-TOWER >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,441,1
?L16:	EQUAL? GL-PLACE-CUR,RM-TRAFALGAR-SQUARE \?L17
	.DEBUG-LINE 21,442,1
	GET GL-QUOTES,K-SIGN-NELSON >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,443,1
?L17:	EQUAL? GL-PLACE-CUR,RM-VICTORIA-STREET \?L18
	.DEBUG-LINE 21,444,1
	GET GL-QUOTES,K-SIGN-LOITER >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,445,1
?L18:	EQUAL? GL-PLACE-CUR,RM-SWAN-LANE \?L19
	.DEBUG-LINE 21,446,1
	GET GL-QUOTES,K-SIGN-GOLDBAR >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,447,1
?L19:	EQUAL? GL-PLACE-CUR,RM-JERUSALEM-CHAMBER \?L20
	.DEBUG-LINE 21,448,1
	GET GL-QUOTES,K-SIGN-HENRY >GL-WINDOW
	JUMP ?L21
	.DEBUG-LINE 21,452,1
?L20:	GET GL-QUOTES,K-SIGN-BLANK >GL-WINDOW
	.DEBUG-LINE 21,453,1
?L21:	ICALL2 RT-WINDOW,GL-WINDOW
	.DEBUG-LINE 21,454,1
	SET 'GL-WINDOW,0
	.DEBUG-LINE 21,455,1
	RTRUE
	.DEBUG-LINE 21,456,1
?L7:	EQUAL? GL-PRSA,V?PUT,V?PUT-ON \FALSE
	ZERO? GL-NOW-PRSI? /FALSE
	.DEBUG-LINE 21,458,1
	PRINTI "Putting anything on "
	ICALL2 RT-THEO-PRINT,LG-PLAQUES
	PRINTI " would"
	.DEBUG-LINE 21,459,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-LG-WAX-STATUES","CONTEXT","CLASS"
	.FUNCT RT-DF-LG-WAX-STATUES,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L9
	SET 'CONTEXT,0
?L9:	ASSIGNED? 'CLASS /?L10
	SET 'CLASS,0
	.DEBUG-LINE 21,463,1
?L10:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 21,464,1
	IXCALL PRINT-SDESC,STR?302,CLASS,0,1
	.DEBUG-LINE 21,465,1
	RTRUE
	.DEBUG-LINE 21,466,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 21,467,1
	EQUAL? GL-PLACE-CUR,RM-MADAME-TUSSAUDS \?L4
	.DEBUG-LINE 21,468,1
	PRINTR "The statues are of King John, Sir Francis Drake, Sir Walter Raleigh, and William the Conqueror."
	.DEBUG-LINE 21,470,1
?L4:	EQUAL? GL-PLACE-CUR,RM-CHAMBER-OF-HORRORS \FALSE
	.DEBUG-LINE 21,471,1
	PRINTR "The statues are of Guy Fawkes, Charles I, and Saint Thomas Becket."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-WINDOW","CONTEXT"
	.FUNCT RT-AC-LG-WINDOW,CONTEXT
	ASSIGNED? 'CONTEXT /?L33
	SET 'CONTEXT,0
	.DEBUG-LINE 21,476,1
?L33:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 21,477,1
	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \?L3
	.DEBUG-LINE 21,478,1
	PRINTR "It is a bow window, far above your head."
	.DEBUG-LINE 21,479,1
?L3:	EQUAL? GL-PLACE-CUR,RM-SOUTH-TRANSEPT \?L5
	.DEBUG-LINE 21,480,1
	PRINTI "It is the largest rose window in all England"
	.DEBUG-LINE 21,481,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L6
	.DEBUG-LINE 21,482,1
	PRINT K-BRIGHTENS-UP-MSG
	.DEBUG-LINE 21,483,1
?L6:	PRINTR "."
	.DEBUG-LINE 21,484,1
?L5:	EQUAL? GL-PLACE-CUR,RM-NORTH-TRANSEPT \FALSE
	.DEBUG-LINE 21,485,1
	PRINTI "It is set high in the north wall of the Abbey"
	.DEBUG-LINE 21,486,1
	CALL1 RT-TIME-OF-DAY >STACK
	EQUAL? STACK,1,2,3 \?L10
	.DEBUG-LINE 21,487,1
	PRINT K-BRIGHTENS-UP-MSG
	.DEBUG-LINE 21,488,1
?L10:	PRINTR "."
	.DEBUG-LINE 21,489,1
?L1:	EQUAL? GL-PRSA,V?SHOOT \?L14
	ZERO? GL-NOW-PRSI? \?L14
	.DEBUG-LINE 21,491,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,492,1
?L14:	IN? GL-WINNER,RM-SOUTH-TRANSEPT /?L16
	IN? GL-WINNER,RM-NORTH-TRANSEPT \?L15
	.DEBUG-LINE 21,494,1
?L16:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?SEARCH,V?LOOK-OUTSIDE \?L17
	.DEBUG-LINE 21,495,1
	PRINTR "You cannot see through the stained-glass window."
	.DEBUG-LINE 21,496,1
?L17:	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /FALSE
	.DEBUG-LINE 21,497,1
	ICALL2 RT-CTHEO-PRINT,LG-WINDOW
	PRINTR " is too high."
	.DEBUG-LINE 21,498,1
?L15:	IN? GL-WINNER,RM-221B-BAKER-ST \?L21
	.DEBUG-LINE 21,499,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L22
	.DEBUG-LINE 21,500,1
	ICALL2 RT-CTHEO-PRINT,LG-WINDOW
	PRINTR " is too high."
	.DEBUG-LINE 21,501,1
?L22:	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?LOOK-OUTSIDE,V?SEARCH \FALSE
	.DEBUG-LINE 21,502,1
	ICALL2 RT-CTHEO-PRINT,LG-WINDOW
	PRINTR " is too high to see in."
	.DEBUG-LINE 21,503,1
?L21:	IN? GL-WINNER,RM-HOLMES-STUDY \FALSE
	.DEBUG-LINE 21,504,1
	EQUAL? GL-PRSA,V?LOOK-INSIDE,V?LOOK-OUTSIDE,V?SEARCH \?L27
	.DEBUG-LINE 21,505,1
	PRINTI "You look down into Baker Street."
	CRLF
	.DEBUG-LINE 21,506,1
	CALL2 RT-DESCRIBE-PLACE-CONTENTS,RM-221B-BAKER-ST >STACK
	RSTACK
	.DEBUG-LINE 21,507,1
?L27:	EQUAL? GL-PRSA,V?MUNG \?L29
	.DEBUG-LINE 21,508,1
	ICALL2 RT-CTHEO-PRINT,LG-WINDOW
	PRINTR " is made of reinforced glass. It can't be broken."
	.DEBUG-LINE 21,510,1
?L29:	EQUAL? GL-PRSA,V?OPEN \FALSE
	.DEBUG-LINE 21,511,1
	ICALL2 RT-CTHEO-PRINT,LG-WINDOW
	PRINTR " is jammed shut. It can't be opened."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-TOMBS-ABBEY","CONTEXT"
	.FUNCT RT-AC-LG-TOMBS-ABBEY,CONTEXT
	ASSIGNED? 'CONTEXT /?L32
	SET 'CONTEXT,0
	.DEBUG-LINE 21,515,1
?L32:	GETP LG-TOMBS-ABBEY,P?OBJ-NOUN >STACK
	EQUAL? STACK,W?ABBEY \?L1
	.DEBUG-LINE 21,516,1
	EQUAL? CONTEXT,K-M-SDESC \?L3
	.DEBUG-LINE 21,517,1
	PRINTI "Abbey"
	RTRUE
	.DEBUG-LINE 21,518,1
?L3:	ZERO? CONTEXT \FALSE
	.DEBUG-LINE 21,519,1
	EQUAL? GL-PRSA,V?ENTER \?L6
	.DEBUG-LINE 21,520,1
	EQUAL? GL-PLACE-CUR,RM-NAVE \?L7
	.DEBUG-LINE 21,521,1
	CALL1 RT-ALREADY-IN-ROOM-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,522,1
?L7:	EQUAL? GL-PLACE-CUR,RM-BROAD-SANCTUARY \FALSE
	.DEBUG-LINE 21,523,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-LINE 21,524,1
?L6:	EQUAL? GL-PRSA,V?EXIT \?L11
	.DEBUG-LINE 21,525,1
	EQUAL? GL-PLACE-CUR,RM-NAVE \?L12
	.DEBUG-LINE 21,526,1
	CALL2 RT-DO-WALK,P?WEST >STACK
	RSTACK
	.DEBUG-LINE 21,528,1
?L12:	CALL1 RT-NOT-IN-ROOM-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,529,1
?L11:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,530,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,532,1
?L1:	EQUAL? CONTEXT,K-M-SDESC \?L18
	.DEBUG-LINE 21,533,1
	PRINTI "tombs"
	RTRUE
	.DEBUG-LINE 21,534,1
?L18:	FSET? GL-PLACE-CUR,FL-INDOORS \?L21
	EQUAL? GL-PLACE-CUR,RM-JERICHO-PARLOUR,RM-JERUSALEM-CHAMBER,RM-NORTH-CLOISTER \?L20
	.DEBUG-LINE 21,538,1
?L21:	ICALL2 RT-CANT-SEE-ANY-MSG,LG-TOMBS-ABBEY
	.DEBUG-LINE 21,539,1
	RTRUE
	.DEBUG-LINE 21,540,1
?L20:	EQUAL? CONTEXT,K-M-DESCFCN \?L22
	.DEBUG-LINE 21,542,1
	EQUAL? GL-PLACE-CUR,RM-SOUTH-AMBULATORY,RM-NORTH-AMBULATORY \?L23
	.DEBUG-LINE 21,544,1
	PRINTR "There are so many of them! None stands out in particular."
	.DEBUG-LINE 21,546,1
?L23:	EQUAL? GL-PLACE-CUR,RM-CONFESSOR-CHAPEL \?L25
	.DEBUG-LINE 21,547,1
	PRINTR "Two of them are especially interesting. One is the tomb of Edward the Confessor. The other is of Henry V."
	.DEBUG-LINE 21,551,1
?L25:	PRINTR "One tomb in particular catches your eye."
	.DEBUG-LINE 21,552,1
?L22:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 21,553,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,554,1
	CALL1 RT-SHOOT-DEAD-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-STREETLIGHT"
	.FUNCT RT-AC-LG-STREETLIGHT
	.DEBUG-LINE 21,558,1
	CALL1 RT-TOUCH-VERB? >STACK
	ZERO? STACK /?L1
	.DEBUG-LINE 21,559,1
	ICALL2 RT-CTHEO-PRINT,LG-STREETLIGHT
	PRINTR " is too high."
	.DEBUG-LINE 21,560,1
?L1:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 21,561,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,562,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-STAIRWAY"
	.FUNCT RT-AC-LG-STAIRWAY
	.DEBUG-LINE 21,566,1
	EQUAL? GL-PRSA,V?CLIMB-UP \?L1
	.DEBUG-LINE 21,567,1
	CALL2 RT-DO-WALK,P?UP >STACK
	RSTACK
	.DEBUG-LINE 21,568,1
?L1:	EQUAL? GL-PRSA,V?CLIMB-DOWN \FALSE
	.DEBUG-LINE 21,569,1
	CALL2 RT-DO-WALK,P?DOWN >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-SHAFT-OF-LIGHT","CONTEXT"
	.FUNCT RT-AC-LG-SHAFT-OF-LIGHT,CONTEXT
	ASSIGNED? 'CONTEXT /?L20
	SET 'CONTEXT,0
	.DEBUG-LINE 21,573,1
?L20:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 21,574,1
	PRINTR "Well, it's not really a shaft of light. It's more like a diffused murkiness. But any light that penetrates an English church from the outside counts as a shaft."
	.DEBUG-LINE 21,578,1
?L1:	ZERO? GL-NOW-PRSI? \?L21
	.DEBUG-LINE 21,579,1
	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,580,1
	CALL1 RT-WASTE-OF-BULLETS-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,582,1
?L21:	EQUAL? GL-PRSA,V?PUT \FALSE
	.DEBUG-LINE 21,583,1
	EQUAL? GL-PRSO,TH-MAGNIFYING-GLASS \?L10
	.DEBUG-LINE 21,584,1
	CALL1 RT-WHO-SAYS? >STACK
	EQUAL? STACK,CH-HOLMES \?L12
	.DEBUG-LINE 21,585,1
	PRINTI """Your Afghan experience is showing, Watson. The hot sun there would surely produce rays capable, when focused, of producing a flame. Alas, our English sun is too weak to produce such an effect."""
	JUMP ?L14
	.DEBUG-LINE 21,590,1
?L12:	PRINTI "The rays from England's sun are too weak to focus."
	.DEBUG-LINE 21,592,1
?L14:	CRLF
	RTRUE
	.DEBUG-LINE 21,593,1
?L10:	EQUAL? GL-PRSO,TH-GREEN-PAPER,TH-WHITE-PAPER,TH-BLUE-PAPER /FALSE
	EQUAL? GL-PRSO,TH-ORANGE-PAPER,TH-YELLOW-PAPER,TH-BROWN-PAPER /FALSE
	.DEBUG-LINE 21,601,1
	PRINTI "Putting "
	ICALL1 RT-THEO-PRINT
	PRINTI " in "
	ICALL1 RT-THEI-PRINT
	.DEBUG-LINE 21,602,1
	CALL1 RT-WASTE-OF-TIME-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-RAVENS","CONTEXT"
	.FUNCT RT-AC-LG-RAVENS,CONTEXT
	ASSIGNED? 'CONTEXT /?L11
	SET 'CONTEXT,0
	.DEBUG-LINE 21,606,1
?L11:	EQUAL? CONTEXT,K-M-DESCFCN \?L1
	.DEBUG-LINE 21,607,1
	PRINTR "The ravens stare at you with baleful eyes."
	.DEBUG-LINE 21,608,1
?L1:	EQUAL? CONTEXT,K-M-WINNER \?L3
	.DEBUG-LINE 21,609,1
	ICALL2 RT-CTHEO-PRINT,LG-RAVENS
	PRINTR " caw raucously in response."
	.DEBUG-LINE 21,610,1
?L3:	ZERO? GL-NOW-PRSI? \FALSE
	.DEBUG-LINE 21,611,1
	EQUAL? GL-PRSA,V?TAKE \?L5
	.DEBUG-LINE 21,612,1
	ICALL2 RT-CTHEO-PRINT,LG-RAVENS
	PRINTR " fly out of reach."
	.DEBUG-LINE 21,613,1
?L5:	EQUAL? GL-PRSA,V?SHOOT \?L7
	.DEBUG-LINE 21,614,1
	ICALL RT-SHOOT-BIRDS,LG-RAVENS,STR?303
	.DEBUG-LINE 21,615,1
	RTRUE
	.DEBUG-LINE 21,616,1
?L7:	EQUAL? GL-PRSA,V?LISTEN \FALSE
	.DEBUG-LINE 21,617,1
	PRINTR "None of the ravens is quothing ""Nevermore."""
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-DF-LG-BOATS","CONTEXT"
	.FUNCT RT-DF-LG-BOATS,CONTEXT
	ASSIGNED? 'CONTEXT /?L7
	SET 'CONTEXT,0
	.DEBUG-LINE 21,621,1
?L7:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 21,622,1
	CALL1 RT-TIME-OF-DAY >STACK
	ZERO? STACK \?L4
	.DEBUG-LINE 21,623,1
	ICALL2 RT-CTHEO-PRINT,LG-BOATS
	.DEBUG-LINE 21,624,1
	PRINTR " are shrouded in fog."
	.DEBUG-LINE 21,626,1
?L4:	ICALL2 RT-CTHEO-PRINT,LG-BOATS
	PRINTR " bob merrily on the river."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-HOLMES-HOUSE"
	.FUNCT RT-AC-LG-HOLMES-HOUSE
	.DEBUG-LINE 21,630,1
	EQUAL? GL-PRSA,V?ENTER \?L1
	.DEBUG-LINE 21,631,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL,RM-PARLOUR,RM-VESTIBULE /?L5
	EQUAL? GL-PLACE-CUR,RM-HOLMES-STUDY,RM-HOLMES-BEDROOM \?L3
	.DEBUG-LINE 21,634,1
?L5:	ICALL1 RT-ALREADY-IN-ROOM-MSG
	.DEBUG-LINE 21,635,1
	RTRUE
	.DEBUG-LINE 21,636,1
?L3:	EQUAL? GL-PLACE-CUR,RM-221B-BAKER-ST \FALSE
	.DEBUG-LINE 21,637,1
	ICALL2 RT-DO-WALK,P?WEST
	.DEBUG-LINE 21,638,1
	RTRUE
	.DEBUG-LINE 21,639,1
?L1:	EQUAL? GL-PRSA,V?EXIT \FALSE
	.DEBUG-LINE 21,640,1
	EQUAL? GL-PLACE-CUR,RM-ENTRY-HALL \?L9
	.DEBUG-LINE 21,641,1
	ICALL2 RT-DO-WALK,P?EAST
	.DEBUG-LINE 21,642,1
	RTRUE
	.DEBUG-LINE 21,643,1
?L9:	EQUAL? GL-PLACE-CUR,RM-PARLOUR,RM-VESTIBULE,RM-HOLMES-STUDY /?L12
	EQUAL? GL-PLACE-CUR,RM-HOLMES-BEDROOM \?L11
	.DEBUG-LINE 21,645,1
?L12:	PRINT K-SPECIFY-DIR-MSG
	.DEBUG-LINE 21,646,1
	CRLF
	RTRUE
	.DEBUG-LINE 21,648,1
?L11:	ICALL1 RT-NOT-IN-ROOM-MSG
	.DEBUG-LINE 21,649,1
	RTRUE
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-PEDESTAL","CONTEXT","CLASS"
	.FUNCT RT-AC-LG-PEDESTAL,CONTEXT,CLASS
	ASSIGNED? 'CONTEXT /?L6
	SET 'CONTEXT,0
?L6:	ASSIGNED? 'CLASS /?L7
	SET 'CLASS,0
	.DEBUG-LINE 21,652,1
?L7:	EQUAL? CONTEXT,K-M-SDESC \?L1
	.DEBUG-LINE 21,653,1
	IXCALL PRINT-SDESC,STR?304,CLASS,0,0
	.DEBUG-LINE 21,654,1
	RTRUE
	.DEBUG-LINE 21,655,1
?L1:	EQUAL? CONTEXT,K-M-DESCFCN \FALSE
	.DEBUG-LINE 21,656,1
	EQUAL? GL-PLACE-CUR,RM-TRAFALGAR-SQUARE \FALSE
	.DEBUG-LINE 21,657,1
	PRINTR "On the pedestal you see a bronze relief."
	.DEBUG-ROUTINE-END 0,0,0

	.DEBUG-ROUTINE 0,0,0,"RT-AC-LG-TOWER"
	.FUNCT RT-AC-LG-TOWER
	.DEBUG-LINE 21,661,1
	EQUAL? GL-PRSA,V?ENTER \?L1
	.DEBUG-LINE 21,662,1
	EQUAL? GL-PLACE-CUR,RM-BYWARD-TOWER,RM-BLOODY-TOWER,RM-WAKEFIELD-TOWER /?L5
	EQUAL? GL-PLACE-CUR,RM-JEWEL-ROOM,RM-DUNGEON,RM-TORTURE-ROOM /?L5
	EQUAL? GL-PLACE-CUR,RM-WHITE-TOWER,RM-BOWYER-TOWER \?L3
	.DEBUG-LINE 21,666,1
?L5:	CALL1 RT-ALREADY-IN-ROOM-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,667,1
?L3:	EQUAL? GL-PLACE-CUR,RM-OUTER-WARD,RM-TOWER-GREEN \?L6
	.DEBUG-LINE 21,668,1
	PRINT K-SPECIFY-DIR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 21,669,1
?L6:	EQUAL? GL-PLACE-CUR,RM-OUTSIDE-TRAITORS-GATE \?L7
	.DEBUG-LINE 21,670,1
	CALL2 RT-DO-WALK,P?NORTH >STACK
	RSTACK
	.DEBUG-LINE 21,671,1
?L7:	EQUAL? GL-PLACE-CUR,RM-DRAWBRIDGE,RM-TOWER-ENTRANCE \FALSE
	.DEBUG-LINE 21,672,1
	CALL2 RT-DO-WALK,P?EAST >STACK
	RSTACK
	.DEBUG-LINE 21,673,1
?L1:	EQUAL? GL-PRSA,V?EXIT \?L10
	.DEBUG-LINE 21,674,1
	EQUAL? GL-PLACE-CUR,RM-BLOODY-TOWER,RM-WAKEFIELD-TOWER,RM-WHITE-TOWER /?L13
	EQUAL? GL-PLACE-CUR,RM-BOWYER-TOWER,RM-BYWARD-TOWER \?L11
	.DEBUG-LINE 21,677,1
?L13:	CALL2 RT-DO-WALK,P?OUT >STACK
	RSTACK
	.DEBUG-LINE 21,678,1
?L11:	EQUAL? GL-PLACE-CUR,RM-DUNGEON,RM-TORTURE-ROOM \?L14
	.DEBUG-LINE 21,679,1
	CALL2 RT-DO-WALK,P?UP >STACK
	RSTACK
	.DEBUG-LINE 21,680,1
?L14:	EQUAL? GL-PLACE-CUR,RM-JEWEL-ROOM \?L15
	.DEBUG-LINE 21,681,1
	CALL2 RT-DO-WALK,P?DOWN >STACK
	RSTACK
	.DEBUG-LINE 21,682,1
?L15:	EQUAL? GL-PLACE-CUR,RM-INSIDE-TRAITORS-GATE \?L16
	.DEBUG-LINE 21,683,1
	CALL2 RT-DO-WALK,P?SOUTH >STACK
	RSTACK
	.DEBUG-LINE 21,684,1
?L16:	EQUAL? GL-PLACE-CUR,RM-OUTER-WARD,RM-TOWER-GREEN \?L17
	.DEBUG-LINE 21,685,1
	PRINT K-SPECIFY-DIR-MSG
	CRLF
	RTRUE
	.DEBUG-LINE 21,687,1
?L17:	CALL1 RT-NOT-IN-ROOM-MSG >STACK
	RSTACK
	.DEBUG-LINE 21,688,1
?L10:	EQUAL? GL-PRSA,V?SHOOT \FALSE
	.DEBUG-LINE 21,689,1
	CALL1 RT-IMPOSSIBLE-MSG >STACK
	RSTACK
	.DEBUG-ROUTINE-END 0,0,0

	.INSERT "gamesound_str"
	.END
